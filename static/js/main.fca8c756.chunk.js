(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,r){e.exports=r.p+"static/media/ISO.293088e2.png"},165:function(e,t,r){},354:function(e,t,r){e.exports=r(521)},361:function(e,t,r){},368:function(e,t,r){},410:function(e,t){},521:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(274),i=r.n(o),c=(r(361),r(362),r(3)),l=r(1),u=r(2),s=r(9),f=r(21),h=r(49),p=r(606),m=r(629),d=r(644),y=r(607),v=r(641),g=r(646),b=r(647),E=r(127),w=r(630),x=r(648),O=r(287),_=r.n(O),j=r(331),L=r(11),S=r(43),k=r(284),P=r.n(k),C=r(183),T=r.n(C),N=r(286),D=r.n(N),A=r(76),I=r.n(A),F=function(e){return{type:"PROFILE_USER",payload:e}},G=function(e){return{type:"SELLER_ACCOUNT",payload:e}},W=function(e){return{type:"COMPANY_NAME",payload:e}},z=function(e){return{type:"BRAND",payload:e}},R=function(e){return{type:"COLOUR",payload:e}},B=function(e){return{type:"UNIT",payload:e}},M=function(e){return{type:"PRODUCT_CODE",payload:e}},q=function(e){return{type:"VENDOR_NAME",payload:e}},U=function(e){return{type:"FINISHGOODS_PRODUCT",payload:e}},Y=(r(368),r(4)),V=r(627),Q=r(580),H=r(581),J=r(640),K=r(583),Z=r(584),X=r(585),$=r(586),ee=r(587),te=r(588),re=r(589),ne=r(590),ae=r(591),oe=r(592),ie=r(593),ce=r(594),le=r(595),ue=r(596),se=r(597),fe=r(598),he=r(599),pe=r(600),me=r(601),de=function(e){var t=e.setOpen,r=Object(s.c)(function(e){return e.auth}).profile,o=Object(f.l)(),i=function(e){return o.pathname===e},c=Object(n.useState)({master:!1,invoice:!1,accounts:!1,inventory:!1,production:!1,customer_complaint:!1,sales:!1,purchase:!1}),u=Object(l.a)(c,2),p=u[0],m=u[1];if(!r||!r.groups)return a.a.createElement("div",null,"Loading...");var d=function(e,r,n){return a.a.createElement(V.a,{button:!0,component:h.b,to:e,style:{width:300},onClick:function(){return t(!1)},selected:i(e)},a.a.createElement(Q.a,null,r),a.a.createElement(H.a,{primary:n}))},y=function(e,r,n,o){return a.a.createElement(a.a.Fragment,null,a.a.createElement(V.a,{button:!0,onClick:function(){return t=e,m(function(e){return Object(Y.a)({},t,!e[t])});var t}},a.a.createElement(Q.a,null,r),a.a.createElement(H.a,{primary:n}),p[e]?a.a.createElement(K.a,null):a.a.createElement(Z.a,null)),a.a.createElement(J.a,{in:p[e],timeout:"auto",unmountOnExit:!0},a.a.createElement(v.a,{component:"div",disablePadding:!0},o.map(function(e,r){var n=e.to,o=e.text;return a.a.createElement(V.a,{button:!0,component:h.b,to:n,onClick:function(){return t(!1)},selected:i(n),activeClassName:"Mui-selected",sx:{pl:8},key:r},a.a.createElement(H.a,{primary:o}))}))))},g=[{condition:r.groups.includes("Director"),items:[d("/user/report",a.a.createElement(X.a,null),"Report"),d("/user/analytics",a.a.createElement($.a,null),"Analytics"),y("master",a.a.createElement(ee.a,null),"Master",[{to:"/products/all-product",text:"Inventory Master"},{to:"/invoice/seller-account",text:"Company Master"},{to:"/inventory/view-currency",text:"Currency Master"},{to:"/user/profile-tab",text:"Employees Master"},{to:"/hr-model/hr-master",text:"HR Master"},{to:"/customer/complaints/ccp-capa/master",text:"CCF Complaint Master"},{to:"/county-state-city/master-tab",text:"Country Master"},{to:"/master/activity-list",text:"Master Activity"}]),y("invoice",a.a.createElement(te.a,null),"Invoice",[{to:"/invoice/performa-invoice-tab",text:"Performa Invoice"},{to:"/invoice/sales-invoice",text:"Sales Invoice"}]),y("accounts",a.a.createElement(re.a,null),"Accounts",[{to:"/invoice/credit-debit-note",text:"Debit-Credit"},{to:"/products/view-price-list",text:"Price List"}]),y("inventory",a.a.createElement(ne.a,null),"Inventory",[{to:"/inventory/view-inventory",text:"Inventory"},{to:"/inventory/physical",text:"Physical Inventory"}]),y("production",a.a.createElement(ae.a,null),"Production",[{to:"/inventory/view-production",text:"Production"}]),y("customer_complaint",a.a.createElement(oe.a,null),"Customer Complaint",[{to:"/customer/complaints/ccp-capa",text:"CCF-CAPA"}]),y("sales",a.a.createElement(ie.a,null),"Sales",[{to:"/leads/all-lead",text:"Leads"},{to:"/customers/all-customer",text:"Customer"},{to:"/followp/view-followup",text:"Followup"},{to:"/forecast/view-product-forecast",text:"Forecast"},{to:"/market-analysis/competitor",text:"Market Analysis"}]),y("purchase",a.a.createElement(ce.a,null),"Purchase",[{to:"/inventory/view-vendor",text:"Vendor"},{to:"/inventory/view-purchase",text:"Purchase"}]),d("/invoice/orderbook-tab",a.a.createElement(le.a,null),"Order Book"),d("/dispatch/tab-view",a.a.createElement(ue.a,null),"Dispatch"),d("/inventory/sales-return",a.a.createElement(se.a,null),"Sales Return"),d("/task/view-task",a.a.createElement(fe.a,null),"Task"),d("/user/faq",a.a.createElement(he.a,null),"Script"),d("/customers/whatsapp-tabs",a.a.createElement(pe.a,null),"Whatsapp"),d("/hr-model",a.a.createElement(me.a,null),"Recruitment")]},{condition:r.groups.includes("HR"),items:[y("master",a.a.createElement(ee.a,null),"Master",[{to:"/user/profile-tab",text:"Employees Master"},{to:"/hr-model/hr-master",text:"HR Master"}]),d("/hr-model",a.a.createElement(me.a,null),"Recruitment")]},{condition:r.groups.includes("HR Recruiter"),items:[y("master",a.a.createElement(ee.a,null),"Master",[{to:"/hr-model/hr-master",text:"HR Master"}]),d("/hr-model",a.a.createElement(me.a,null),"Recruitment")]},{condition:r.groups.includes("Stores")||r.groups.includes("Production")||r.groups.includes("Stores Delhi")||r.groups.includes("Production Delhi"),items:[y("inventory",a.a.createElement(ne.a,null),"Inventory",[{to:"/inventory/view-inventory",text:"Inventory"}]),y("production",a.a.createElement(ae.a,null),"Production",[{to:"/inventory/view-production",text:"Production"}]),d("/invoice/orderbook-tab",a.a.createElement(le.a,null),"Order Book"),d("/inventory/sales-return",a.a.createElement(se.a,null),"Sales Return")]},{condition:r.groups.includes("Factory-Delhi-OrderBook")||r.groups.includes("Factory-Mumbai-OrderBook"),items:[d("/invoice/orderbook-tab",a.a.createElement(le.a,null),"Order Book")]},{condition:r.groups.includes("Factory-Mumbai-Dispatch")||r.groups.includes("Factory-Delhi-Dispatch"),items:[d("/dispatch/tab-view",a.a.createElement(ue.a,null),"Dispatch"),d("/invoice/orderbook-tab",a.a.createElement(le.a,null),"Order Book")]},{condition:r.groups.includes("Customer Service"),items:[y("master",a.a.createElement(ee.a,null),"Master",[{to:"/customer/complaints/ccp-capa/master",text:"CCF Complaint Master"}]),y("invoice",a.a.createElement(te.a,null),"Invoice",[{to:"/invoice/performa-invoice-tab",text:"Performa Invoice"}]),y("sales",a.a.createElement(ie.a,null),"Sales",[{to:"/leads/all-lead",text:"Leads"},{to:"/customers/all-customer",text:"Customer"},{to:"/followp/view-followup",text:"Followup"},{to:"/forecast/view-product-forecast",text:"Forecast"}]),y("customer_complaint",a.a.createElement(oe.a,null),"Customer Complaint",[{to:"/customer/complaints/ccp-capa",text:"CCF-CAPA"}]),d("/invoice/orderbook-tab",a.a.createElement(le.a,null),"Order Book"),d("/dispatch/tab-view",a.a.createElement(ue.a,null),"Dispatch"),d("/task/view-task",a.a.createElement(fe.a,null),"Task"),d("/user/faq",a.a.createElement(he.a,null),"Script"),d("/customers/whatsapp-tabs",a.a.createElement(pe.a,null),"Whatsapp")]},{condition:r.groups.includes("Purchase"),items:[y("inventory",a.a.createElement(ne.a,null),"Inventory",[{to:"/inventory/view-inventory",text:"Inventory"},{to:"/inventory/physical",text:"Physical Inventory"}]),y("production",a.a.createElement(ae.a,null),"Production",[{to:"/inventory/view-production",text:"Production"}]),y("sales",a.a.createElement(ie.a,null),"Sales",[{to:"/forecast/view-product-forecast",text:"Forecast"}]),y("purchase",a.a.createElement(ce.a,null),"Purchase",[{to:"/inventory/view-vendor",text:"Vendor"},{to:"/inventory/view-purchase",text:"Purchase"}]),d("/inventory/view-currency",a.a.createElement(re.a,null),"Currency"),d("/task/view-task",a.a.createElement(fe.a,null),"Task")]},{condition:r.groups.includes("Accounts"),items:[d("/user/report",a.a.createElement(X.a,null),"Report"),d("/user/analytics",a.a.createElement($.a,null),"Analytics"),y("master",a.a.createElement(ee.a,null),"Master",[{to:"/products/all-product",text:"Inventory Master"},{to:"/invoice/seller-account",text:"Company Master"},{to:"/inventory/view-currency",text:"Currency Master"},{to:"/customer/complaints/ccp-capa/master",text:"CCF Complaint Master"},{to:"/county-state-city/master-tab",text:"Country Master"}]),y("invoice",a.a.createElement(te.a,null),"Invoice",[{to:"/invoice/performa-invoice-tab",text:"Performa Invoice"},{to:"/invoice/sales-invoice",text:"Sales Invoice"}]),y("accounts",a.a.createElement(re.a,null),"Accounts",[{to:"/invoice/credit-debit-note",text:"Debit-Credit"},{to:"/products/view-price-list",text:"Price List"}]),y("inventory",a.a.createElement(ne.a,null),"Inventory",[{to:"/inventory/view-inventory",text:"Inventory"},{to:"/inventory/physical",text:"Physical Inventory"}]),y("customer_complaint",a.a.createElement(oe.a,null),"Customer Complaint",[{to:"/customer/complaints/ccp-capa",text:"CCF-CAPA"}]),y("production",a.a.createElement(ae.a,null),"Production",[{to:"/inventory/view-production",text:"Production"}]),y("sales",a.a.createElement(ie.a,null),"Sales",[{to:"/customers/all-customer",text:"Customer"},{to:"/forecast/view-product-forecast",text:"Forecast"}]),y("purchase",a.a.createElement(ce.a,null),"Purchase",[{to:"/inventory/view-vendor",text:"Vendor"},{to:"/inventory/view-purchase",text:"Purchase"}]),d("/invoice/orderbook-tab",a.a.createElement(le.a,null),"Order Book"),d("/dispatch/tab-view",a.a.createElement(ue.a,null),"Dispatch"),d("/inventory/sales-return",a.a.createElement(se.a,null),"Sales Return"),d("/task/view-task",a.a.createElement(fe.a,null),"Task")]},{condition:r.groups.includes("Accounts Executive"),items:[d("/user/report",a.a.createElement(X.a,null),"Report"),d("/user/analytics",a.a.createElement($.a,null),"Analytics"),y("master",a.a.createElement(ee.a,null),"Master",[{to:"/products/all-product",text:"Inventory Master"},{to:"/invoice/seller-account",text:"Company Master"}]),y("invoice",a.a.createElement(te.a,null),"Invoice",[{to:"/invoice/performa-invoice-tab",text:"Performa Invoice"},{to:"/invoice/sales-invoice",text:"Sales Invoice"}]),y("accounts",a.a.createElement(re.a,null),"Accounts",[{to:"/invoice/credit-debit-note",text:"Debit-Credit"}]),y("inventory",a.a.createElement(ne.a,null),"Inventory",[{to:"/inventory/view-inventory",text:"Inventory"}]),y("customer_complaint",a.a.createElement(oe.a,null),"Customer Complaint",[{to:"/customer/complaints/ccp-capa",text:"CCF-CAPA"}]),y("production",a.a.createElement(ae.a,null),"Production",[{to:"/inventory/view-production",text:"Production"}]),y("sales",a.a.createElement(ie.a,null),"Sales",[{to:"/customers/all-customer",text:"Customer"},{to:"/forecast/view-product-forecast",text:"Forecast"}]),y("purchase",a.a.createElement(ce.a,null),"Purchase",[{to:"/inventory/view-vendor",text:"Vendor"},{to:"/inventory/view-purchase",text:"Purchase"}]),d("/invoice/orderbook-tab",a.a.createElement(le.a,null),"Order Book"),d("/dispatch/tab-view",a.a.createElement(ue.a,null),"Dispatch"),d("/inventory/sales-return",a.a.createElement(se.a,null),"Sales Return"),d("/task/view-task",a.a.createElement(fe.a,null),"Task")]},{condition:r.groups.includes("Accounts Billing Department"),items:[d("/user/report",a.a.createElement(X.a,null),"Report"),d("/user/analytics",a.a.createElement($.a,null),"Analytics"),y("invoice",a.a.createElement(te.a,null),"Invoice",[{to:"/invoice/performa-invoice-tab",text:"Performa Invoice"},{to:"/invoice/sales-invoice",text:"Sales Invoice"}]),y("inventory",a.a.createElement(ne.a,null),"Inventory",[{to:"/inventory/view-inventory",text:"Inventory"}]),y("production",a.a.createElement(ae.a,null),"Production",[{to:"/inventory/view-production",text:"Production"}]),y("sales",a.a.createElement(ie.a,null),"Sales",[{to:"/customers/all-customer",text:"Customer"}]),d("/invoice/orderbook-tab",a.a.createElement(le.a,null),"Order Book"),d("/dispatch/tab-view",a.a.createElement(ue.a,null),"Dispatch"),d("/inventory/sales-return",a.a.createElement(se.a,null),"Sales Return"),d("/task/view-task",a.a.createElement(fe.a,null),"Task")]},{condition:r.groups.includes("Sales Manager"),items:[d("/user/report",a.a.createElement(X.a,null),"Report"),d("/user/analytics",a.a.createElement($.a,null),"Analytics"),y("invoice",a.a.createElement(te.a,null),"Invoice",[{to:"/invoice/performa-invoice-tab",text:"Performa Invoice"}]),y("sales",a.a.createElement(ie.a,null),"Sales",[{to:"/leads/all-lead",text:"Leads"},{to:"/customers/all-customer",text:"Customer"},{to:"/followp/view-followup",text:"Followup"},{to:"/forecast/view-product-forecast",text:"Forecast"}]),d("/invoice/orderbook-tab",a.a.createElement(le.a,null),"Order Book"),d("/dispatch/tab-view",a.a.createElement(ue.a,null),"Dispatch"),d("/task/view-task",a.a.createElement(fe.a,null),"Task"),d("/user/faq",a.a.createElement(he.a,null),"Script"),d("/hr-model",a.a.createElement(me.a,null),"Recruitment")]},{condition:r.groups.includes("Business Development Manager")||r.groups.includes("Business Development Executive"),items:[d("/user/analytics",a.a.createElement($.a,null),"Analytics"),y("invoice",a.a.createElement(te.a,null),"Invoice",[{to:"/invoice/performa-invoice-tab",text:"Performa Invoice"}]),y("sales",a.a.createElement(ie.a,null),"Sales",[{to:"/leads/all-lead",text:"Leads"},{to:"/customers/all-customer",text:"Customer"},{to:"/followp/view-followup",text:"Followup"},{to:"/forecast/view-product-forecast",text:"Forecast"}]),d("/invoice/orderbook-tab",a.a.createElement(le.a,null),"Order Book"),d("/dispatch/tab-view",a.a.createElement(ue.a,null),"Dispatch"),d("/task/view-task",a.a.createElement(fe.a,null),"Task"),d("/user/faq",a.a.createElement(he.a,null),"Script")]},{condition:r.groups.includes("Customer Relationship Manager"),items:[d("/user/analytics",a.a.createElement($.a,null),"Analytics"),y("invoice",a.a.createElement(te.a,null),"Invoice",[{to:"/invoice/performa-invoice-tab",text:"Performa Invoice"}]),y("sales",a.a.createElement(ie.a,null),"Sales",[{to:"/customers/all-customer",text:"Customer"},{to:"/followp/view-followup",text:"Followup"},{to:"/forecast/view-product-forecast",text:"Forecast"}]),d("/invoice/orderbook-tab",a.a.createElement(le.a,null),"Order Book"),d("/dispatch/tab-view",a.a.createElement(ue.a,null),"Dispatch"),d("/task/view-task",a.a.createElement(fe.a,null),"Task"),d("/user/faq",a.a.createElement(he.a,null),"Script")]},{condition:r.groups.includes("Customer Relationship Executive"),items:[d("/user/analytics",a.a.createElement($.a,null),"Analytics"),y("invoice",a.a.createElement(te.a,null),"Invoice",[{to:"/invoice/performa-invoice-tab",text:"Performa Invoice"}]),y("sales",a.a.createElement(ie.a,null),"Sales",[{to:"/customers/all-customer",text:"Customer"},{to:"/followp/view-followup",text:"Followup"},{to:"/forecast/view-product-forecast",text:"Forecast"}]),d("/invoice/orderbook-tab",a.a.createElement(le.a,null),"Order Book"),d("/dispatch/tab-view",a.a.createElement(ue.a,null),"Dispatch"),d("/task/view-task",a.a.createElement(fe.a,null),"Task"),d("/user/faq",a.a.createElement(he.a,null),"Script")]},{condition:r.groups.includes("Sales Deputy Manager"),items:[d("/user/report",a.a.createElement(X.a,null),"Report"),d("/user/analytics",a.a.createElement($.a,null),"Analytics"),y("invoice",a.a.createElement(te.a,null),"Invoice",[{to:"/invoice/performa-invoice-tab",text:"Performa Invoice"}]),y("sales",a.a.createElement(ie.a,null),"Sales",[{to:"/leads/all-lead",text:"Leads"},{to:"/customers/all-customer",text:"Customer"},{to:"/followp/view-followup",text:"Followup"},{to:"/forecast/view-product-forecast",text:"Forecast"}]),d("/invoice/orderbook-tab",a.a.createElement(le.a,null),"Order Book"),d("/dispatch/tab-view",a.a.createElement(ue.a,null),"Dispatch"),d("/task/view-task",a.a.createElement(fe.a,null),"Task"),d("/user/faq",a.a.createElement(he.a,null),"Script")]},{condition:r.groups.includes("Sales Manager withouth Leads"),items:[d("/user/report",a.a.createElement(X.a,null),"Report"),d("/user/analytics",a.a.createElement($.a,null),"Analytics"),y("master",a.a.createElement(ee.a,null),"Master",[{to:"/products/all-product",text:"Inventory Master"},{to:"/invoice/seller-account",text:"Company Master"}]),y("invoice",a.a.createElement(te.a,null),"Invoice",[{to:"/invoice/performa-invoice-tab",text:"Performa Invoice"},{to:"/invoice/sales-invoice",text:"Sales Invoice"}]),y("accounts",a.a.createElement(re.a,null),"Accounts",[{to:"/invoice/credit-debit-note",text:"Debit-Credit"}]),y("inventory",a.a.createElement(ne.a,null),"Inventory",[{to:"/inventory/view-inventory",text:"Inventory"}]),y("customer_complaint",a.a.createElement(oe.a,null),"Customer Complaint",[{to:"/customer/complaints/ccp-capa",text:"CCF-CAPA"}]),y("production",a.a.createElement(ae.a,null),"Production",[{to:"/inventory/view-production",text:"Production"}]),y("sales",a.a.createElement(ie.a,null),"Sales",[{to:"/customers/all-customer",text:"Customer"},{to:"/forecast/view-product-forecast",text:"Forecast"}]),y("purchase",a.a.createElement(ce.a,null),"Purchase",[{to:"/inventory/view-vendor",text:"Vendor"},{to:"/inventory/view-purchase",text:"Purchase"}]),d("/invoice/orderbook-tab",a.a.createElement(le.a,null),"Order Book"),d("/dispatch/tab-view",a.a.createElement(ue.a,null),"Dispatch"),d("/inventory/sales-return",a.a.createElement(se.a,null),"Sales Return"),d("/task/view-task",a.a.createElement(fe.a,null),"Task")]},{condition:r.groups.includes("Sales Executive"),items:[d("/user/report",a.a.createElement(X.a,null),"Report"),d("/user/analytics",a.a.createElement($.a,null),"Analytics"),y("invoice",a.a.createElement(te.a,null),"Invoice",[{to:"/invoice/performa-invoice-tab",text:"Performa Invoice"}]),y("sales",a.a.createElement(ie.a,null),"Sales",[{to:"/leads/all-lead",text:"Leads"},{to:"/customers/all-customer",text:"Customer"},{to:"/followp/view-followup",text:"Followup"},{to:"/forecast/view-product-forecast",text:"Forecast"}]),d("/invoice/orderbook-tab",a.a.createElement(le.a,null),"Order Book"),d("/dispatch/tab-view",a.a.createElement(ue.a,null),"Dispatch"),d("/task/view-task",a.a.createElement(fe.a,null),"Task"),d("/user/faq",a.a.createElement(he.a,null),"Script")]},{condition:r.groups.includes("Digital Marketing"),items:[y("sales",a.a.createElement(ie.a,null),"Sales",[{to:"/leads/all-lead",text:"Leads"}])]}];return a.a.createElement("div",null,g.map(function(e,t){return e.condition&&a.a.createElement(a.a.Fragment,{key:t},e.items)}))},ye=r(46),ve=r.n(ye),ge=ve.a.create({baseURL:"https://crmbackend-glutape.herokuapp.com"}),be={getAllTaskData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("assigned_to__email",t),r&&n.append("search",r),ge.get("api/task/list-tasks/?".concat(n.toString()))},createTask:function(e){return ge.post("/api/task/list-tasks/",e)},updateTask:function(e,t){return ge.patch("/api/task/list-tasks/".concat(e),t)},createActivityTask:function(e){return ge.post("/api/task/list-tasks-activity/",e)},getAllUsers:function(e){return ge.get("/api/user/users/?is_active=".concat(e))},createUsers:function(e,t){return ge.patch("/api/user/users/".concat(e,"/"),t)},getAllGroupsUser:function(){return ge.get("/api/user/user-group/")}},Ee=r(281),we=r.n(Ee);var xe=function(e){var t=e.tasks,r=e.closePopup,o=Object(f.n)(),i=Object(n.useState)(null),c=Object(l.a)(i,2),u=c[0],s=c[1],h={taskInfo:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},taskName:{flex:1,marginRight:"10px"},list:{listStyleType:"none",padding:0},listItem:function(e){return{display:"flex",alignItems:"center",padding:"10px",borderBottom:"1px solid #e0e0e0",backgroundColor:e?"#f5f5f5":"transparent",cursor:"pointer",transition:"background-color 0.3s"}},avatar:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#3f51b5",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px"},text:{flex:1},description:{color:"#555"},dueDate:{color:"#888",fontSize:"0.9em"}};return a.a.createElement("ul",{style:h.list},t.map(function(e,t){return a.a.createElement("li",{key:e.id,style:h.listItem(e.id===u),onMouseEnter:function(){return s(e.id)},onMouseLeave:function(){return s(null)}},a.a.createElement("div",{style:h.avatar},a.a.createElement(we.a,null)),a.a.createElement("div",{style:h.text,onClick:function(){return o("/task/view-task"),void r()}},a.a.createElement("div",{style:h.taskInfo},a.a.createElement("span",{style:h.taskName},e.name),a.a.createElement("span",{style:h.dueDate},"Due: ".concat(e.due_date))),a.a.createElement("div",{style:h.description},e.description)))}))},Oe=r(75),_e=r.n(Oe),je=r(642),Le=r(605),Se=r(645),ke=Object(L.a)(je.a)(function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}});function Pe(e){var t=e.children,r=e.onClose;return a.a.createElement(Le.a,{sx:{m:0,p:2}},t,r?a.a.createElement(d.a,{"aria-label":"close",onClick:r,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}}},a.a.createElement(_e.a,null)):null)}var Ce=function(e){var t=e.title,r=e.children,n=e.openPopup,o=e.setOpenPopup,i=e.maxWidth,c=e.others,l=e.fullScreen;return a.a.createElement(ke,Object.assign({fullScreen:l},c,{maxWidth:i,onClose:function(){o(!1)},"aria-labelledby":"customized-dialog-title",open:n}),a.a.createElement(Pe,{id:"customized-dialog-title",onClose:function(){o(!1)}},t),a.a.createElement(Se.a,{dividers:!0},r))};function Te(){Te=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ne=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({display:"flex",alignItems:"center",padding:t.spacing(0,1)},t.mixins.toolbar,{justifyContent:"flex-end"})}),De=function(){var e=Object(s.b)(),t=Object(f.n)(),r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],O=Object(S.a)(),L=Object(s.c)(function(e){return e.auth}),k=Object(n.useState)(null),C=Object(l.a)(k,2),N=C[0],A=C[1],F=Object(n.useState)([]),G=Object(l.a)(F,2),W=G[0],z=G[1],R=L.profile?L.profile:[],B=Object(n.useState)(!1),M=Object(l.a)(B,2),q=M[0],U=M[1],Y=function(){A(null)};Object(n.useEffect)(function(){L.user&&V()},[L.user]);var V=function(){var e=Object(c.a)(Te().mark(function e(){var t;return Te().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,be.getAllTaskData("all");case 4:t=e.sent,z(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(p.a,null),a.a.createElement(m.a,{open:i,onClose:function(){return u(!1)}},a.a.createElement(Ne,null,a.a.createElement(d.a,{onClick:function(){u(!1)}},"ltr"===O.direction?a.a.createElement(P.a,null):a.a.createElement(T.a,null))),a.a.createElement(y.a,null),a.a.createElement(v.a,{component:"nav",style:{width:"100%",marginBottom:"2em"},disablePadding:!0},a.a.createElement(de,{setOpen:u}))),L.user&&a.a.createElement(g.a,{position:"fixed",sx:{backgroundColor:"#006ba1",height:{xs:"40px",sm:"54px"}},className:"not-scrolled"},a.a.createElement(b.a,{sx:{minHeight:{xs:"40px",sm:"54px"}}},a.a.createElement(d.a,{edge:"start",sx:{color:"inherit",marginLeft:{xs:"0px",sm:"38px"},"& .MuiSvgIcon-root":{fontSize:{xs:"1.2rem",sm:"1.5rem"}}},onClick:function(){return u(!0)}},a.a.createElement(D.a,null)),a.a.createElement(E.a,{variant:"h6",sx:{marginRight:"auto",fontSize:{xs:"0.75rem",sm:"1rem"}}},"BOLD ERP"),a.a.createElement(a.a.Fragment,null,a.a.createElement(d.a,{color:"inherit",onClick:function(){U(!0)}},a.a.createElement(w.a,{badgeContent:W.length,color:"error"},a.a.createElement(_.a,null))),a.a.createElement(d.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"false",onClick:function(e){A(e.currentTarget)},color:"inherit",sx:{"& span":{marginRight:"auto",fontSize:{xs:"0.75rem",sm:"1rem"}}}},a.a.createElement("span",null,R.first_name," ",R.last_name),a.a.createElement(I.a,null)),a.a.createElement(j.a,{id:"menu-appbar",anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:N,onClose:Y},a.a.createElement(x.a,{component:h.b,to:"/user/profile",onClick:Y},"Profile"),a.a.createElement(x.a,{component:h.b,to:"/",onClick:function(){e({type:"LOGOUT_USER"}),localStorage.removeItem("user"),t("/")}},"Logout"))))),a.a.createElement(Ce,{openPopup:q,setOpenPopup:U,title:"Notifications",maxWidth:"md"},a.a.createElement(xe,{tasks:W,closePopup:function(){U(!1)}})))},Ae=(r(165),r(655)),Ie=r(631),Fe=r(632),Ge=r(656),We=r(633),ze=r(186),Re=r.n(ze),Be=r(188),Me=r.n(Be),qe=r(187),Ue=r.n(qe),Ye=r(649),Ve=function(e){return a.a.createElement(Ye.a,e)},Qe=r(643),He=r(654),Je=Object(n.memo)(function(e){var t=e.open;return a.a.createElement("div",null,a.a.createElement(Qe.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:t},a.a.createElement(He.a,{color:"inherit"})))}),Ke={login:function(e){return ge.post("api/user/app-login/",e)},getProfile:function(){return ge.get("/api/user/profile/")},register:function(e){return ge.post("api/user/users/",e)},sendResetPasswordEmail:function(e){return ge.post("api/user/send-reset-password-email/",e)},ChangePassword:function(e,t,r){return ge.post("api/user/reset-password/".concat(e,"/").concat(t,"/"),r)},getAllUserProfileData:function(){return ge.get("/api/user/user-personal-details/")},createUserProfileData:function(e){return ge.post("/api/user/user-personal-details/",e)},updateUserProfileData:function(e,t){return ge.patch("/api/user/user-personal-details/".concat(e,"/"),t)},getUserProfileDataById:function(e){return console.log("id",e),ge.get("/api/user/user-personal-details/".concat(e))},getAllScriptData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/user/script/?".concat(r.toString()))},createScriptData:function(e){return ge.post("/api/user/script/",e)},updateScriptData:function(e,t){return ge.patch("/api/user/script/".concat(e,"/"),t)},getAllObjectionData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/user/objection-bank/?".concat(r.toString()))},createObjectionData:function(e){return ge.post("/api/user/objection-bank/",e)},updateObjectionData:function(e,t){return ge.patch("/api/user/objection-bank/".concat(e,"/"),t)},getAllProductObjectionData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/user/product-objection/?".concat(r.toString()))},createProductObjectionData:function(e){return ge.post("/api/user/product-objection/",e)},updateProductObjectionData:function(e,t){return ge.patch("/api/user/product-objection/".concat(e,"/"),t)},getDailySaleReviewData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("year_month",e),t&&n.append("sales_person__email",t),r&&n.append("search",r),ge.get("api/user/daily-sales-review/?".concat(n.toString()))},getDailySaleReviewById:function(e){return ge.get("api/user/daily-sales-review/".concat(e))},createDailySaleReviewData:function(e){return ge.post("api/user/daily-sales-review/",e)},updateDailySaleReviewData:function(e,t){return ge.patch("api/user/daily-sales-review/".concat(e,"/"),t)},resetPasswordByUser:function(e){return ge.post("api/user/change-password/",e)},resetPassword:function(e){return ge.post("api/user/users/".concat(e,"/change_password/"))}},Ze=r(619),Xe=r(620),$e=function(e){var t=e.open,r=e.message,n=e.severity,o=e.onClose;return a.a.createElement(Ze.a,{open:t,autoHideDuration:3e3,onClose:o,anchorOrigin:{vertical:"top",horizontal:"right"}},a.a.createElement(Xe.a,{onClose:o,severity:n,sx:{width:"100%"}},r))};function et(){et=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var tt=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),y=m[0],v=m[1],g=Object(f.n)(),b=Object(n.useState)({message:"",severity:"",open:!1}),E=Object(l.a)(b,2),w=E[0],x=E[1],O=function(){var e=Object(c.a)(et().mark(function e(t){var n,a;return et().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,v(!0),n={password:r},e.next=6,Ke.resetPasswordByUser(n);case 6:200===(a=e.sent).status&&(x({message:a.data.message||"Password changed successfully",severity:"success",open:!0}),setTimeout(function(){g("/user/analytics")},1e3)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),x({message:e.t0.response.data.error||"An error occurred. Try again.",severity:"error",open:!0});case 13:return e.prev=13,v(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:y}),a.a.createElement($e,{open:w.open,message:w.message,severity:w.severity,onClose:function(){x({open:!1})}}),a.a.createElement(Ae.a,{className:"Auth-form",sx:{display:"flex",flexDirection:"column",alignItems:"center",width:"40%",margin:"auto",marginTop:"5%"}},a.a.createElement(Ie.a,{sx:{m:1,bgcolor:"secondary.main"}},a.a.createElement(Re.a,null)),a.a.createElement(Ae.a,{className:"Auth-form-content",onSubmit:O,component:"form",noValidate:!0,sx:{mt:1}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Password",variant:"outlined",name:"password",type:s?"text":"password",onChange:function(e){return o(e.target.value)},value:r,InputProps:{endAdornment:a.a.createElement(Ge.a,{position:"end"},a.a.createElement(d.a,{onClick:function(){h(function(e){return!e})},edge:"end"},s?a.a.createElement(Ue.a,null):a.a.createElement(Me.a,null)))}}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit"))))},rt=r(330),nt=r(637),at=r(634),ot=r(288),it=r.n(ot);function ct(){ct=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var lt=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(rt.a)(),u=Object(n.useState)(!1),s=Object(l.a)(u,2),f=s[0],p=s[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(""),b=Object(l.a)(g,2),E=b[0],w=b[1],x=function(){var e=Object(c.a)(ct().mark(function e(t){var n,a;return ct().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,p(!0),!r){e.next=11;break}return n={email:r},e.next=7,Ke.sendResetPasswordEmail(n);case 7:a=e.sent,w(a.data.message),v(!0),o("");case 11:p(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("err :>> ",e.t0),p(!1);case 18:case"end":return e.stop()}},e,null,[[1,14]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(nt.a,{className:"main",theme:i},a.a.createElement(Je,{open:f}),a.a.createElement(Ce,{openPopup:y,setOpenPopup:v,title:"Verify Your Email",maxWidth:"md"},E),a.a.createElement(at.a,{className:"Auth-form-container",component:"main",maxWidth:"xs"},a.a.createElement(Ae.a,{className:"Auth-form",sx:{}},a.a.createElement(Ae.a,{sx:{ml:8},display:"flex",justifyContent:"flex-start"},a.a.createElement(h.b,{to:"/"},a.a.createElement(it.a,null),"Back To Login")),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center"},a.a.createElement(Ie.a,{sx:{m:1,bgcolor:"secondary.main"}},a.a.createElement(Re.a,null))),a.a.createElement("h3",{className:"Auth-form-title"},"Forgot Password"),a.a.createElement(Ae.a,{className:"Auth-form-content",onSubmit:function(e){return x(e)},component:"form",noValidate:!0,sx:{mt:1}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Email",variant:"outlined",name:"email",onChange:function(e){return o(e.target.value)},value:r}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))))},ut=r(628),st={getAllSellerAccountData:function(){return ge.get("/api/invoice/list-seller-account")},getfilterSellerAccountData:function(e){return ge.get("/api/invoice/list-seller-account/?state=".concat(e))},getAllPaginateSellerAccountData:function(e){return ge.get("/api/invoice/list-seller-account/?page=".concat(e))},getAllSearchSellerAccountData:function(e){return ge.get("/api/invoice/list-seller-account/?search=".concat(e))},getAllSellerAccountDataPaginate:function(e,t){return ge.get("/api/ invoice/list-seller-account/?page=".concat(e,"&search=").concat(t))},createSellerAccountData:function(e){return ge.post("/api/invoice/list-seller-account/",e)},updateOrderBookData:function(e,t){return ge.patch("/api/invoice/list-order-book/".concat(e),t)},getOrderBookDataByID:function(e){return ge.get("/api/invoice/list-order-book/".concat(e))},getSellerAccountDataById:function(e){return ge.get("/api/invoice/list-seller-account/".concat(e))},updateSellerAccountData:function(e,t){return ge.patch("/api/invoice/list-seller-account/".concat(e),t)},getAllPIWithDateRange:function(e,t,r,n,a,o,i){var c=new URLSearchParams;return e&&c.append("date_range_after",e),t&&c.append("date_range_before",t),r&&c.append("pi",r),n&&c.append("page",n),a&&o&&c.append(a,o),i&&c.append("search",i),ge.get("api/invoice/list-proforma-invoice/?".concat(c.toString()))},getAllPIData:function(e,t,r,n,a){var o=new URLSearchParams;return e&&o.append("pi",e),t&&o.append("page",t),r&&n&&o.append(r,n),a&&o.append("search",a),ge.get("api/invoice/list-proforma-invoice/?".concat(o.toString()))},getCompanyPerformaInvoiceByIDData:function(e){return ge.get("/api/invoice/list-company-pi/".concat(e))},getLeadsPerformaInvoiceByIDData:function(e){return ge.get("/api/invoice/list-lead-pi/".concat(e))},sendForApprovalCompanyData:function(e,t){return ge.patch("/api/invoice/list-company-pi/".concat(e),t)},sendForApprovalLeadsData:function(e,t){return ge.patch("/api/invoice/list-lead-pi/".concat(e),t)},sendForApprovalData:function(e){return ge.post("/api/invoice/list-approval/",e)},createLeadsProformaInvoiceData:function(e){return ge.post("/api/invoice/list-lead-pi/",e)},getLeadsProformaInvoiceDataByID:function(e){return ge.get("/api/invoice/list-lead-pi/".concat(e))},updateLeadsProformaInvoiceData:function(e,t){return ge.patch("/api/invoice/list-lead-pi/".concat(e),t)},createCustomerProformaInvoiceData:function(e){return ge.post("/api/invoice/list-company-pi/",e)},getCustomerProformaInvoiceDataByID:function(e){return ge.get("/api/invoice/list-company-pi/".concat(e))},updateCustomerProformaInvoiceData:function(e,t){return ge.patch("/api/invoice/list-company-pi/".concat(e),t)},getOrderBookData:function(e,t,r,n,a,o){var i=new URLSearchParams;return e&&i.append("ordering",e),t&&i.append("page",t),r&&i.append("orderbook__proforma_invoice__seller_account__state",r),n&&i.append("orderbook__proforma_invoice__raised_by__email",n),a&&i.append("search",a),o&&i.append("is_ready",o),ge.get("api/invoice/list-order-book/?".concat(i.toString()))},getTotalPendingQuantity:function(){return ge.get("/api/invoice/pending-order-total")},getAllOrderBookDataWithSearch:function(e,t,r){return ge.get("/api/invoice/list-order-book-company/?page=".concat(e,"&ordering=").concat(t,"&search=").concat(r))},getSalesInvoiceData:function(e,t,r,n,a,o){var i=new URLSearchParams;return e&&i.append("invoice_type",e),t&&i.append("start_date",t),r&&i.append("end_date",r),n&&i.append("page",n),a&&i.append("order_book__proforma_invoice__seller_account__unit",a),o&&i.append("search",o),ge.get("api/invoice/list-sales-invoice/?".concat(i.toString()))},getTallyInvoiceData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("start_date",e),t&&n.append("end_date",t),r&&n.append("sales_invoice__order_book__proforma_invoice__seller_account__unit",r),ge.get("/api/invoice/tally-invoice/?".concat(n.toString()))},createBranchinvoiceData:function(e){return ge.post("/api/invoice/branch-invoice/",e)},cancelSalesInvoice:function(e,t){return ge.patch("/api/invoice/list-sales-invoice/".concat(e),t)},getSalesnvoiceDataById:function(e){return ge.get("api/invoice/list-sales-invoice/".concat(e))},getAllSaleRegisterData:function(e,t,r,n,a){var o=new URLSearchParams;return e&&o.append("date_range_after",e),t&&o.append("date_range_before",t),r&&o.append("page",r),n&&o.append("search",n),a&&o.append("sales_invoice__order_book__proforma_invoice__raised_by__email",a),ge.get("api/invoice/list-sales-register/?".concat(o.toString()))},getDispatchData:function(e,t,r,n,a){var o=new URLSearchParams;return e&&o.append("dispatched",e),t&&o.append("page",t),r&&o.append("search",r),n&&o.append("sales_invoice__order_book__proforma_invoice__raised_by__email",n),a&&o.append("dispatch_type",a),ge.get("api/invoice/list-dispatch-book/?".concat(o.toString()))},updateDispatched:function(e,t){return ge.patch("/api/invoice/list-dispatch-book/".concat(e),t)},getAllDashboardData:function(){return ge.get("/api/invoice/list-dashboard")},getFilterDashboardData:function(e,t){return ge.get("/api/invoice/list-dashboard/?start_date=".concat(e,"&end_date=").concat(t))},getDispatchDashboardData:function(){return ge.get("/api/invoice/list-dashboard-dispatch")},getLRCopyDashboardData:function(e,t,r,n){return ge.get("/api/invoice/list-dispatch-book/?page=".concat(e,"&dispatched=").concat(t,"&lr_copy__isnull=").concat(r,"&sales_invoice__order_book__proforma_invoice__seller_account__unit=").concat(n))},getPODCopyDashboardData:function(e,t,r,n){return ge.get("/api/invoice/list-dispatch-book/?page=".concat(e,"&dispatched=").concat(t,"&pod_copy__isnull=").concat(r,"&sales_invoice__order_book__proforma_invoice__seller_account__unit=").concat(n))},checkPrice:function(e){return ge.get("/api/invoice/check-price-list/?pi_number=".concat(e))},getSalesReturnBySearchCompany:function(e,t){var r=new URLSearchParams;return e&&r.append("seller_unit",e),t&&r.append("company",t),ge.get("api/invoice/company-sales-invoice/?".concat(r.toString()))},getCustomersList:function(){return ge.get("/api/customer/customer/")},getDebitCreditnotes:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/invoice/credit-debit-note/?".concat(r.toString()))},CreateDebitCreditNote:function(e){return ge.post("/api/invoice/credit-debit-note/",e)},getDebitCreditNoteById:function(e){return ge.get("/api/invoice/credit-debit-note/".concat(e,"/"))},getInvoiceByCustomerAndSellerUnit:function(e,t){var r=new URLSearchParams;return e&&r.append("customer",e),t&&r.append("unit",t),ge.get("/api/invoice/six-month-invoice/?".concat(r.toString()))},getBillingAddressbyCustomer:function(e){return ge.get("api/customer/warehouse/?customer=".concat(e))},uploadSalesinvoice:function(e){return ge.post("/api/invoice/invoice-upload/",e)},createSalesinvoiceData:function(e){return ge.post("/api/invoice/list-sales-invoice/",e)}};function ft(){ft=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ht=function(e){var t=e.setOpenPopup,r=e.getAllSellerAccountsDetails,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=function(e){var t=e.target,r=t.name,n=t.value;d(Object(u.a)({},m,Object(Y.a)({},r,n)))},j=function(){var e=Object(c.a)(ft().mark(function e(){var t,r;return ft().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),t=m.ifsc_code,e.next=5,ve.a.get("https://ifsc.razorpay.com/".concat(t));case 5:r=e.sent,b(r.data),O(""),f(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0),f(!1),404===e.t0.response.status&&O("please enter valid ifsc code.");case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(c.a)(ft().mark(function e(n){var a;return ft().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),f(!0),a={name:m.name,current_account_no:m.current_account_no,address:m.address,unit:m.unit,gst_number:m.gst_number,grn_prefix:m.grn_prefix,pincode:m.pincode,state:m.state,city:m.city,state_code:m.state_code,cin_number:m.cin_number,email:m.email,pan_number:m.pan_number,prefix:m.prefix,suffix:m.suffix,contact:"+91".concat(m.contact),ifsc_code:m.ifsc_code,bank_name:g.BANK,branch:g.BRANCH},e.next=6,st.createSellerAccountData(a);case 6:t(!1),f(!1),r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),f(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:s}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return L(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,size:"small",name:"name",label:"Company Name",variant:"outlined",value:m.name,onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"current_account_no",label:"Account No",variant:"outlined",value:m.account_no,onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"gst_number",size:"small",label:"Gst Number",variant:"outlined",value:m.gst_number?m.gst_number:"",onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"grn_prefix",size:"small",label:"GRN Prefix",variant:"outlined",value:m.grn_prefix?m.grn_prefix:"",onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:m.address?m.address:"",onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"unit",size:"small",label:"Unit",variant:"outlined",value:m.unit?m.unit:"",onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"pincode",size:"small",label:"Pin Code",variant:"outlined",value:m.pincode?m.pincode:"",onChange:_}))," ",a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"state",size:"small",label:"State",variant:"outlined",value:m.state?m.state:"",onChange:_}))," ",a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"city",size:"small",label:"City",variant:"outlined",value:m.city?m.city:"",onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"state_code",size:"small",label:"State Code",variant:"outlined",value:m.state_code?m.state_code:"",onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"cin_number",size:"small",label:"CIN Number",variant:"outlined",value:m.cin_number?m.cin_number:"",onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"email",size:"small",label:"Email",variant:"outlined",value:m.email?m.email:"",onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"pan_number",size:"small",label:"Pan Number",variant:"outlined",value:m.pan_number?m.pan_number:"",onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"prefix",size:"small",label:"Prefix",variant:"outlined",value:m.prefix?m.prefix:"",onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"suffix",size:"small",label:"Suffix",variant:"outlined",value:m.suffix?m.suffix:"",onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{type:"number",fullWidth:!0,name:"contact",size:"small",label:"Contact",variant:"outlined",value:m.contact,onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{sx:{minWidth:"200px"},name:"ifsc_code",size:"small",label:"IFSC Code",variant:"outlined",value:m.ifsc_code,onChange:_,error:x&&x,helperText:x&&x}),a.a.createElement(We.a,{onClick:function(){return j()},variant:"contained",sx:{marginLeft:"1rem"}},"Validate")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"bank_name",label:"Bank Name",variant:"outlined",value:g.BANK?g.BANK:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"branch",label:"Branch",variant:"outlined",value:g.BRANCH?g.BRANCH:""}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function pt(){pt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var mt=function(e){var t=e.setOpenPopup,r=e.getAllSellerAccountsDetails,o=e.idForEdit,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),y=m[0],v=m[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),w=b[0],x=b[1],O=Object(n.useState)(""),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(null),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)({message:"",severity:"",open:!1}),N=Object(l.a)(T,2),D=N[0],A=N[1],I=function(e){var t=e.target,r=t.name,n=t.value;v(Object(u.a)({},y,Object(Y.a)({},r,n)))};Object(n.useEffect)(function(){F()},[o]);var F=function(){var e=Object(c.a)(pt().mark(function e(){var t;return pt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,st.getSellerAccountDataById(o);case 4:t=e.sent,console.log("response",t),v(t.data),h(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),h(!1),console.log("company data by id error",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(c.a)(pt().mark(function e(){var t,r;return pt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),t=y.ifsc_code,e.next=5,ve.a.get("https://ifsc.razorpay.com/".concat(t));case 5:r=e.sent,x(r.data),L(""),h(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0),h(!1),404===e.t0.response.status&&L("please enter valid ifsc code.");case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(pt().mark(function e(n){var a;return pt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),h(!0),a=new FormData,Object.keys(y).forEach(function(e){if(y[e]){if("company_profile"===e&&!(y[e]instanceof File))return;a.append(e,y[e])}}),e.next=7,st.updateSellerAccountData(o,a);case 7:A({message:"Company details updated successfully",severity:"success",open:!0}),r(),t(!1),h(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("updating company detail error",e.t0),A({open:!0,message:e.t0.response.data.errors.company_profile[0]||"Failed to update company details",severity:"error"}),h(!1);case 18:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:f}),a.a.createElement($e,{open:D.open,message:D.message,severity:D.severity,onClose:function(){A({open:!1})}}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return W(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,size:"small",name:"name",label:"Company Name",variant:"outlined",value:y.name?y.name:"",onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"current_account_no",label:"Account No",variant:"outlined",value:y.current_account_no?y.current_account_no:"",onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"gst_number",size:"small",label:"Gst Number",variant:"outlined",value:y.gst_number?y.gst_number:"",onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"grn_prefix",size:"small",label:"GRN Prefix",variant:"outlined",value:y.grn_prefix?y.grn_prefix:"",onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:y.address?y.address:"",onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"unit",size:"small",label:"Unit",variant:"outlined",value:y.unit?y.unit:"",onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"pincode",size:"small",label:"Pin Code",variant:"outlined",value:y.pincode?y.pincode:"",onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"state",size:"small",label:"State",variant:"outlined",value:y.state?y.state:"",onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"city",size:"small",label:"City",variant:"outlined",value:y.city?y.city:"",onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"state_code",size:"small",label:"State Code",variant:"outlined",value:y.state_code?y.state_code:"",onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"cin_number",size:"small",label:"CIN Number",variant:"outlined",value:y.cin_number?y.cin_number:"",onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"email",size:"small",label:"Email",variant:"outlined",value:y.email?y.email:"",onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"pan_number",size:"small",label:"Pan Number",variant:"outlined",value:y.pan_number?y.pan_number:"",onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"prefix",size:"small",label:"Prefix",variant:"outlined",value:y.prefix?y.prefix:"",onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"suffix",size:"small",label:"Suffix",variant:"outlined",value:y.suffix?y.suffix:"",onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"contact",size:"small",label:"Contact",variant:"outlined",value:y.contact?y.contact:"",onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{sx:{minWidth:"200px"},name:"ifsc_code",size:"small",label:"IFSC Code",variant:"outlined",value:y.ifsc_code?y.ifsc_code:"",onChange:I,error:j&&j,helperText:j&&j}),a.a.createElement(We.a,{onClick:function(){return G()},variant:"contained",sx:{marginLeft:"1rem"}},"Validate")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"bank_name",label:"Bank Name",variant:"outlined",value:w.BANK?w.BANK:y.bank_name,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"branch",label:"Branch",variant:"outlined",value:w.BRANCH?w.BRANCH:y.branch,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(We.a,{variant:"contained",color:"secondary",component:"label",fullWidth:!0},"Choose file for company profile",a.a.createElement("input",{type:"file",hidden:!0,accept:".pdf,.doc,.docx",onChange:function(e){var t=e.target.files[0];if(t&&["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(t.type))if(v(function(e){return Object(u.a)({},e,{company_profile:t})}),"application/pdf"===t.type){var r=URL.createObjectURL(t);C(r)}else C(null);else A({open:!0,message:"Invalid file type. Please upload a PDF or DOC file",severity:"error"}),e.target.value=null}})),P&&a.a.createElement(Ae.a,{mt:2,position:"relative"},a.a.createElement(E.a,{variant:"body1"},"Preview:"),a.a.createElement(d.a,{"aria-label":"close",size:"small",onClick:function(){v(function(e){return Object(u.a)({},e,{company_profile:null})}),C(null)},style:{position:"absolute",right:0,top:0}},a.a.createElement(_e.a,null)),a.a.createElement("embed",{src:P,width:"100%",height:"150px",type:"application/pdf"})))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},dt=function(e){var t=e.headers,r=e.data,n=e.PriorityColor,o=e.openInPopup,i=e.ScheduleInterviewPopup,c=e.openDeletePopup,l=e.openInPopup7,s=e.hideViewForStatus,f=void 0===s?[]:s,h=e.ButtonText,p=e.ButtonText1,m=e.ButtonText2,d=e.openInPopup2,y=e.openInPopup3,v=e.openInPopup4,g=e.isLastRow,b=e.Styles,E=e.handleClickLRCOPY;return a.a.createElement("div",{style:{maxHeight:440,overflowY:"scroll","&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement("div",{style:{display:"table",minWidth:700,backgroundColor:"#006BA1",width:"100%"}},a.a.createElement("div",{style:{display:"table-header-group",position:"sticky",top:0,zIndex:1,backgroundColor:"#006BA1"}},a.a.createElement("div",{style:{display:"table-row"}},t.map(function(e,t){return a.a.createElement("div",{style:{display:"table-cell",textAlign:"center",fontWeight:"bold",textTransform:"uppercase",paddingTop:10,paddingBottom:10,color:"white",fontFamily:" Arial, Helvetica, sans-serif !important",borderBottom:"1px solid rgba(224, 224, 224, 1)",fontSize:"12px"},key:t},e)}))),a.a.createElement("div",{style:{display:"table-row-group",color:"#000000"}},r.map(function(e,t){return a.a.createElement("div",{style:{display:"table-row",backgroundColor:n&&n[t].priority?n[t].priority:t%2===0?"#ffffff":"#f2f2f2",borderBottom:"1px solid rgba(224, 224, 224, 1)",position:g?"sticky":"static",bottom:g?0:"auto",zIndex:g?0:"auto"},key:t},Object.values(e).map(function(e,t){return a.a.createElement("div",{style:Object(u.a)({},b,{display:"table-cell",textAlign:"center",borderBottom:"1px solid rgba(224, 224, 224, 1)",fontSize:13,fontFamily:" Arial, Helvetica, sans-serif !important",padding:10}),key:t},"boolean"===typeof e?a.a.createElement("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"40px",height:"20px",borderRadius:"10px",background:e?"#1976d2":"#ccc",position:"relative"}},a.a.createElement("div",{style:{width:"18px",height:"18px",borderRadius:"50%",background:"#fff",position:"absolute",left:e?"calc(100% - 18px)":"2px",transition:"left 0.3s ease-in-out",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.24)"}})):Array.isArray(e)?e.map(function(e,t){return a.a.createElement("div",{key:t,style:{border:"1px solid #4caf50",borderRadius:"20px",color:"#4caf50"}},e)}):"object"===typeof e&&null!==e?a.a.createElement(We.a,{color:"success",variant:"outlined",onClick:function(){return E(e)}},"Download"):a.a.createElement("span",null,e))}),a.a.createElement("div",{style:{display:"table-cell",textAlign:"center",borderBottom:"1px solid rgba(224, 224, 224, 1)",zIndex:0}},o&&"Selected"===e.status&&"Round1"===e.stage?"":a.a.createElement("div",{style:{display:"inline-block",color:"#1976d2",cursor:"pointer",marginRight:"8px"},onClick:function(){return o(e)}},"View"),i&&"Selected"===e.status&&"Round1"===e.stage&&a.a.createElement("div",{style:{display:"inline-block",color:"#1976d2",cursor:"pointer",marginRight:"8px"},onClick:function(){return i(e)}},"Schedule Interview"),c&&!f.includes(e.status)&&a.a.createElement("div",{style:{display:"inline-block",color:"#1976d2",cursor:"pointer",marginRight:"8px"},onClick:function(){return c(e)}},"Delete"),l&&!f.includes(e.status)&&a.a.createElement("div",{style:{display:"inline-block",color:"#1976d2",cursor:"pointer",marginRight:"8px"},onClick:function(){return l(e)}},"Add Applicant"),d&&a.a.createElement("div",{style:{display:"inline-block",color:"#28a745",cursor:"pointer",marginRight:"8px"},onClick:function(){return d(e)}},h),y&&("Job Worker"===e.vendor_source||"Vendor/Job Worker"===e.vendor_source)&&a.a.createElement("div",{style:{display:"inline-block",color:"#5e35b1",cursor:"pointer",marginRight:"8px"},onClick:function(){return y(e)}},p),v&&a.a.createElement("div",{style:{display:"inline-block",color:"#eb5042",cursor:"pointer"},onClick:function(){return v(e)}},m)))}))))},yt=function(e){var t=e.open,r=e.onClose,n=e.severity,o=e.message;return a.a.createElement(Ze.a,{open:t,autoHideDuration:8e3,onClose:r,anchorOrigin:{vertical:"top",horizontal:"right"}},a.a.createElement(Xe.a,{onClose:r,severity:n,sx:{width:"100%"}},o))},vt=r(134),gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(n.useState)(e),r=Object(l.a)(t,2),a=r[0],o=r[1],i=Object(n.useState)({open:!1,message:e[0]||"",severity:"info"}),c=Object(l.a)(i,2),s=c[0],f=c[1],h=Object(n.useCallback)(function(e,t){f({open:!0,message:e[0]||"An unexpected error occurred",severity:t}),o(e)},[]);return{alertInfo:s,handleSuccess:Object(n.useCallback)(function(e){h([e],"success")},[h]),handleError:Object(n.useCallback)(function(e){var t=e.response&&e.response.data,r=[];t&&t.detail?r=[t.detail]:t&&t.errors&&(r=Object.entries(t.errors).flatMap(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return Array.isArray(n)?n.map(function(e){return"".concat(r,": ").concat(e)}):"".concat(r,": ").concat(n)})),0===r.length&&(r=["An unexpected error occurred"]),h(r,"error")},[h]),handleCloseSnackbar:Object(n.useCallback)(function(){if(a.length>1){var e=Object(vt.a)(a),t=e[0],r=e.slice(1);o(r),f(function(e){return Object(u.a)({},e,{message:t})})}else f(function(e){return Object(u.a)({},e,{open:!1})})},[a])}};function bt(){bt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Et=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=gt(),j=_.handleError,L=_.handleCloseSnackbar,S=_.alertInfo,k=function(){var e=Object(c.a)(bt().mark(function e(){var t;return bt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,st.getAllSellerAccountData();case 4:t=e.sent,O(t.data.results),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),j(e.t0);case 11:return e.prev=11,b(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){k()},[]);var P=x.map(function(e){return{id:e.id,unit:e.unit,company:e.name,bank:e.bank_name,current_account_no:e.current_account_no,ifsc_code:e.ifsc_code,branch:e.branch,gst_number:e.gst_number}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:S.open,onClose:L,severity:S.severity,message:S.message}),a.a.createElement(Je,{open:g}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:2}),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Seller Accounts Details")),a.a.createElement(Ae.a,{flexGrow:.5,align:"right"},a.a.createElement(We.a,{onClick:function(){return f(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(dt,{headers:["ID","UNIT","COMPANY","BANK","ACCOUNT NO.","IFSC CODE","BRANCH","GST","ACTION"],data:P,openInPopup:function(e){d(e.id),o(!0)}}))),a.a.createElement(Ce,{maxWidth:"xl",title:"Create Seller Accounts Details",openPopup:s,setOpenPopup:f},a.a.createElement(ht,{setOpenPopup:f,getAllSellerAccountsDetails:k})),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Seller Accounts Details",openPopup:r,setOpenPopup:o},a.a.createElement(mt,{setOpenPopup:o,getAllSellerAccountsDetails:k,idForEdit:m})))},wt=r(651),xt=r(652),Ot=r(650),_t=function(){var e=JSON.parse(localStorage.getItem("user"));return e||null},jt=function(e){localStorage.setItem("user",JSON.stringify(e))},Lt=function(e){var t=e.type,r=e.fullWidth,n=e.variant,o=e.text,i=e.others,c=e.sx,l=e.startIcon;return a.a.createElement(We.a,Object.assign({startIcon:l,type:t,fullWidth:r,variant:n,sx:Object(u.a)({},c,{backgroundColor:"#006ba1"})},i),o)},St=r(289),kt=r.n(St);function Pt(){Pt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ct,Tt,Nt,Dt,At,It,Ft,Gt,Wt,zt,Rt,Bt,Mt,qt,Ut,Yt,Vt={backgroundColor:"#1bbd7e"},Qt=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(rt.a)(),h=Object(f.n)(),p=Object(s.b)(),m=Object(n.useRef)(),y=Object(n.useRef)(),v=Object(n.useState)({employee_id:"",password:"",showPassword:!1}),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1];Object(n.useEffect)(function(){m.current.focus()},[]),Object(n.useEffect)(function(){_("")},[b]);var j=function(e){return function(t){E(Object(u.a)({},b,Object(Y.a)({},e,t.target.value)))}},L=function(){var e=Object(c.a)(Pt().mark(function e(t){var r,n;return Pt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,o(!0),p({type:"LOGIN_START"}),r={employee_id:b.employee_id.toUpperCase(),password:b.password},e.next=7,Ke.login(r);case 7:(n=e.sent).data.token&&(jt(n.data.token),p({type:"LOGIN_SUCCESS",payload:n.data}),p(F(n.data)),S()),h("/user/analytics"),E(""),o(!1),e.next=20;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("err :>> ",e.t0),o(!1),e.t0.response?400===e.t0.response.status?_("Missing Username or Password"):401===e.t0.response.status?_("Unauthorized"):404===e.t0.response.status?_(e.t0.response.data.errors.non_field_errors):_("Login Failed"):_("please verify your email"),y.current.focus();case 20:case"end":return e.stop()}},e,null,[[1,14]])}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(c.a)(Pt().mark(function e(){var t;return Pt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Ke.getProfile();case 4:t=e.sent,p(F(t.data)),o(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(nt.a,{theme:i},a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,null,a.a.createElement(Fe.a,{align:"center"},a.a.createElement(Ie.a,{style:Vt},a.a.createElement(kt.a,null)),a.a.createElement("h2",null,"Sign In")),a.a.createElement(Ae.a,{onSubmit:L,component:"form",noValidate:!0},a.a.createElement("div",{style:{width:"100%",padding:10,marginBottom:10,borderRadius:4,backgroundColor:O?"red":"offscreen",textAlign:"center",color:"white",textTransform:"capitalize"},ref:y,className:O?"errmsg":"offscreen","aria-live":"assertive"},O),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,name:"employee_id ",size:"small",label:"Employee ID",variant:"outlined",autoComplete:"off",ref:m,onChange:j("employee_id"),value:b.employee_id,required:!0})),a.a.createElement(Fe.a,{rowSpacing:.5,item:!0,xs:12},a.a.createElement(wt.a,{variant:"outlined",size:"small",fullWidth:!0},a.a.createElement(xt.a,{htmlFor:"outlined-adornment-password"},"Password"),a.a.createElement(Ot.a,{id:"outlined-adornment-password",type:b.showPassword?"text":"password",value:b.password,onChange:j("password"),endAdornment:a.a.createElement(Ge.a,{position:"end"},a.a.createElement(d.a,{"aria-label":"toggle password visibility",onClick:function(){E(Object(u.a)({},b,{showPassword:!b.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end"},b.showPassword?a.a.createElement(Ue.a,null):a.a.createElement(Me.a,null))),label:"Password"})))),a.a.createElement(Lt,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},text:"Sign In"}))))},Ht=r(27),Jt=r(36),Kt=Jt.a.div(Ct||(Ct=Object(Ht.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  height: 100vh;\n"]))),Zt=Jt.a.div(Tt||(Tt=Object(Ht.a)(["\n  background-color: #fff;\n  border-radius: 10px;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n  position: relative;\n  overflow: hidden;\n  width: 800px;\n  max-width: 100%;\n  min-height: 500px;\n"]))),Xt=(Jt.a.div(Nt||(Nt=Object(Ht.a)(["\n  position: absolute;\n  top: 0;\n  height: 100%;\n  transition: all 0.6s ease-in-out;\n  left: 0;\n  width: 50%;\n  opacity: 0;\n  z-index: 1;\n  ","\n"])),function(e){return!0!==e.signinIn?"\n transform: translateX(100%);\nopacity: 1;\nz-index: 5;\n":null}),Jt.a.div(Dt||(Dt=Object(Ht.a)(["\n  position: absolute;\n  top: 0;\n  height: 100%;\n  transition: all 0.6s ease-in-out;\n  left: 0;\n  width: 50%;\n  z-index: 2;\n  ","\n"])),function(e){return!0!==e.signinIn?"transform: translateX(100%);":null})),$t=Jt.a.div(At||(At=Object(Ht.a)(["\n  background-color: #ffffff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: 0 50px;\n  height: 100%;\n  text-align: center;\n"]))),er=Jt.a.h1(It||(It=Object(Ht.a)(["\n  font-weight: bold;\n  margin: 0;\n"]))),tr=(Jt.a.input(Ft||(Ft=Object(Ht.a)(["\n  background-color: #eee;\n  border: none;\n  padding: 12px 15px;\n  margin: 8px 0;\n  width: 100%;\n"]))),Jt.a.button(Gt||(Gt=Object(Ht.a)(["\n  border-radius: 20px;\n  border: 1px solid #ff4b2b;\n  background-color: #ff4b2b;\n  color: #ffffff;\n  font-size: 12px;\n  font-weight: bold;\n  padding: 12px 45px;\n  letter-spacing: 1px;\n  text-transform: uppercase;\n  transition: transform 80ms ease-in;\n\n  &:active {\n    transform: scale(0.95);\n  }\n\n  &:focus {\n    outline: none;\n  }\n"])))),rr=(Object(Jt.a)(tr)(Wt||(Wt=Object(Ht.a)(["\n  background-color: transparent;\n  border-color: #ffffff;\n"]))),Jt.a.a(zt||(zt=Object(Ht.a)(["\n  color: #333;\n  font-size: 14px;\n  text-decoration: none;\n  margin: 15px 0;\n"]))),Jt.a.div(Rt||(Rt=Object(Ht.a)(["\n  position: absolute;\n  top: 0;\n  left: 50%;\n  width: 50%;\n  height: 100%;\n  overflow: hidden;\n  transition: transform 0.6s ease-in-out;\n  z-index: 100;\n  ","\n"])),function(e){return!0!==e.signinIn?"transform: translateX(-100%);\n":null})),nr=Jt.a.div(Bt||(Bt=Object(Ht.a)(["\n  background: #006ba1; /* Add the desired color */\n  //   background: -webkit-linear-gradient(to right, #006ba1, #ff4b2b, #ff416c);\n  //   background: linear-gradient(to right, #006ba1, #ff4b2b, #ff416c);\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: 0 0;\n  color: #ffffff;\n  position: relative;\n  left: -100%;\n  height: 100%;\n  width: 200%;\n  transform: translateX(0);\n  transition: transform 0.6s ease-in-out;\n  ","\n"])),function(e){return!0!==e.signinIn?"transform: translateX(50%);":null}),ar=Jt.a.div(Mt||(Mt=Object(Ht.a)(["\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: 0 40px;\n  text-align: center;\n  top: 0;\n  height: 100%;\n  width: 50%;\n  transform: translateX(0);\n  transition: transform 0.6s ease-in-out;\n"]))),or=(Object(Jt.a)(ar)(qt||(qt=Object(Ht.a)(["\n  transform: translateX(-20%);\n  ","\n"])),function(e){return!0!==e.signinIn?"transform: translateX(0);":null}),Object(Jt.a)(ar)(Ut||(Ut=Object(Ht.a)(["\n  right: 0;\n  transform: translateX(0);\n  ","\n"])),function(e){return!0!==e.signinIn?"transform: translateX(20%);":null})),ir=Jt.a.p(Yt||(Yt=Object(Ht.a)(["\n  font-size: 14px;\n  font-weight: 100;\n  line-height: 20px;\n  letter-spacing: 0.5px;\n  margin: 20px 0 30px;\n"]))),cr=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,1)[0];return a.a.createElement(Kt,null,a.a.createElement(Zt,null,a.a.createElement(Xt,{signinIn:t},a.a.createElement($t,null,a.a.createElement(Qt,null))),a.a.createElement(rr,{signinIn:t},a.a.createElement(nr,{signinIn:t},a.a.createElement(or,{signinIn:t},a.a.createElement(er,null,"Hello, Team!"),a.a.createElement(ir,null,"To keep connected with us please login with your personal info"))))))},lr=r(635),ur=r(624),sr=function(e){var t=e.size,r=e.fullWidth,n=e.id,o=e.value,i=e.onChange,c=e.options,l=e.groupBy,u=e.getOptionLabel,s=e.label,f=e.sx,h=e.renderInput,p=e.multiple,m=e.limitTags,d=e.freeSolo,y=e.renderTags;return a.a.createElement(ur.a,Object.assign({size:t||"small",fullWidth:r,id:n,value:o,onChange:i,options:c,groupBy:l,getOptionLabel:u||function(e){return e},renderInput:h||function(e){return a.a.createElement(Ve,Object.assign({},e,{label:s}))},sx:f,multiple:p,limitTags:m,freeSolo:d,renderTags:y||function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})}},p?{ChipComponent:lr.a}:{}))},fr=[{type:"text",label:"First Name",name:"first_name"},{type:"text",label:"Middle Name",name:"middle_name"},{type:"text",label:"Last Name",name:"last_name"},{type:"email",label:"Email",name:"email"},{type:"tel",label:"Contact",name:"contact"},{type:"autocomplete",label:"Gender",name:"gender",options:["Male","Female","Others"]},{type:"date",label:"Date of Birth",name:"date_of_birth"},{type:"text",label:"Place of Birth",name:"place_of_birth"},{type:"autocomplete",label:"Nationality",name:"nationality",options:["Indian","Canadian","British","Chineese","Japaneese","Pakistani","Arabic","Others"]},{type:"autocomplete",label:"Religion",name:"religion",options:["Christianity","Islam","Hinduism","Buddhism","Sikhism","Judaism","No religion","Others"]},{type:"autocomplete",label:"Marital Status",name:"marital_status",options:["Married","Unmarried"]},{type:"conditionalDate",label:"Marriage Date",name:"marriage_date",condition:"Married"},{type:"date",label:"Date of Joining",name:"date_of_joining"},{type:"autocomplete",label:"Blood Group",name:"blood_group",options:["A+","A-","B+","B-","AB+","AB-","O+","O-"]}],hr=function(e){var t=e.formData,r=e.setFormData,n=e.error,o=n&&n.personal,i=function(e){var t=e.target,n=t.name,a=t.value,o=n.split(".")[1];r(function(e){return Object(u.a)({},e,{personal:Object(u.a)({},e.personal,Object(Y.a)({},o,a))})})};return a.a.createElement(a.a.Fragment,null,fr.map(function(e,r){var n=t.personal[e.name]||"";switch(e.type){case"autocomplete":return a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,key:r},a.a.createElement(sr,{options:e.options,fullWidth:!0,size:"small",value:n,onChange:function(t,r){i({target:{name:"personal.".concat(e.name),value:r||""}})},renderInput:function(t){return a.a.createElement(Ve,Object.assign({},t,{label:e.label,required:!0,error:o&&!!o[e.name],helperText:o&&o[e.name]||""}))}}));case"conditionalDate":if(t.personal.marital_status===e.condition)return a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,key:r},a.a.createElement(Ve,{fullWidth:!0,required:!0,type:"date",size:"small",label:e.label,name:"personal.".concat(e.name),value:n,onChange:i,InputLabelProps:{shrink:!0},error:o&&!!o[e.name],helperText:o&&o[e.name]||""}));break;default:return a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,key:r},a.a.createElement(Ve,{fullWidth:!0,type:e.type,size:"small",required:!0,label:e.label,name:"personal.".concat(e.name),value:n,onChange:i,error:o&&!!o[e.name],helperText:o&&o[e.name]||"",disabled:e.disabled,InputLabelProps:"date"===e.type?{shrink:!0}:{}}))}return null}))},pr=r(657),mr=r(625);function dr(){dr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var yr=function(e){var t=e.type,r=e.formData,n=e.setFormData,o=e.error,i=a.a.useState(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},m=o&&o.address&&o.address[t],d=function(e){var t=e.target,a=t.name,o=t.value,i=Object(u.a)({},r.address),c=a.split("_"),s=Object(l.a)(c,2),f=s[0],h=s[1];i[f][h]=o,n(function(e){return Object(u.a)({},e,{address:i})})},y=function(){var e=Object(c.a)(dr().mark(function e(t){var r;return dr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.target.value,d(t),6===r.length&&v(t);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(dr().mark(function e(a){var o,i,c;return dr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.target.value,e.prev=1,h(!0),e.next=5,ve.a.get("https://api.postalpincode.in/pincode/".concat(o));case 5:"Success"===(i=e.sent).data[0].Status?((c=Object(u.a)({},r.address))[t].city=i.data[0].PostOffice[0].District,c[t].state=i.data[0].PostOffice[0].State,n(function(e){return Object(u.a)({},e,{address:c})})):console.log("Pincode not valid or data not found."),h(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("Error validating pincode",e.t0),h(!1);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),g=function(e){return"".concat(t,"_").concat(e)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:f}),"permanent"===t&&a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(pr.a,{control:a.a.createElement(mr.a,{checked:r.address.permanent.is_permanent_same_as_current||!1,onChange:function(e){var t=e.target.checked,a=Object(u.a)({},r.address);t?(a.permanent=Object(u.a)({},a.current),a.permanent.is_permanent_same_as_current=!0):a.permanent={address:"",city:"",state:"",pin:"",is_permanent_same_as_current:!1},n(function(e){return Object(u.a)({},e,{address:a})})},name:"is_permanent_same_as_current",color:"primary"}),label:"Same as Current Address"})),["address","pin","city","state"].map(function(e,n){return a.a.createElement(Fe.a,{item:!0,xs:12,sm:n>0?4:12,key:e},a.a.createElement(Ve,{fullWidth:!0,size:"small",required:!0,disabled:["city","state"].includes(e),label:"".concat(p(t)," ").concat(p(e)),name:g(e),error:m&&!!m[e],helperText:m&&m[e]||"",value:r.address[t][e]||"",onChange:"pin"===e?y:d,InputLabelProps:{shrink:Boolean(r.address[t][e])}}))}))},vr=r(10),gr=function(e){var t=e.formData,r=e.setFormData,n=e.error,o=["Father","Mother","Brother","Sister","Spouse","Son","Daughter","Uncle","Aunt","Friend","Neighbour"],i=n&&n.emergency_contacts?n.emergency_contacts:[],c=function(e,t){var n=e.target,a=n.name,o=n.value;r(function(e){var r=Object(vr.a)(e.emergency_contacts);return r[t][a]=o,Object(u.a)({},e,{emergency_contacts:r})})};return a.a.createElement(a.a.Fragment,null,t.emergency_contacts.map(function(e,n){return a.a.createElement(a.a.Fragment,{key:n},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",required:!0,label:"Emergency Contact Person Name",name:"name",value:e.name||"",error:!(!i[n]||!i[n].name),helperText:i[n]&&i[n].name?i[n].name:"",onChange:function(e){return c(e,n)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{options:o,fullWidth:!0,size:"small",value:e.relationship||"",onChange:function(e,t){c({target:{name:"relationship",value:t||""}},n)},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Emergency Contact Relationship",required:!0,error:!(!i[n]||!i[n].relationship),helperText:i[n]&&i[n].relationship?i[n].relationship:""}))}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",required:!0,label:"Emergency Contact Number",type:"tel",name:"number",error:!(!i[n]||!i[n].number),helperText:i[n]&&i[n].number?i[n].number:"",value:e.number||"",onChange:function(e){return c(e,n)}})),t.emergency_contacts.length>1&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"error",onClick:function(){return function(e){r(function(t){var r=Object(vr.a)(t.emergency_contacts);return r.splice(e,1),Object(u.a)({},t,{emergency_contacts:r})})}(n)}},"Remove Contact")))}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{variant:"contained",onClick:function(){r(function(e){return Object(u.a)({},e,{emergency_contacts:[].concat(Object(vr.a)(e.emergency_contacts),[{name:"",relationship:"",number:""}])})})}},"Add Emergency Contact")))},br=function(e){var t=e.formData,r=e.setFormData,n=function(e,t){var n=e.split(".");if(2===n.length){var a=n[1];r(function(e){return Object(u.a)({},e,{pf_esi_details:Object(u.a)({},e.pf_esi_details,Object(Y.a)({},a,t))})})}else r(function(r){return Object(u.a)({},r,Object(Y.a)({},e,t))})};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{options:["Yes","No"],fullWidth:!0,size:"small",value:t.pf_esi_details.has_pf_esi_account||"",onChange:function(e,t){return n("pf_esi_details.has_pf_esi_account",t||"")},label:"Do you have PF & ESI Account"})),"Yes"===t.pf_esi_details.has_pf_esi_account&&a.a.createElement(a.a.Fragment,null,["UAN No.","PF No.","ESI No."].map(function(e,r){var o=["uan_number","pf_number","esi_number"];return a.a.createElement(Fe.a,{key:e,item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:e,name:"pf_esi_details.".concat(o[r]),value:t.pf_esi_details[o[r]],onChange:function(e){return n(e.target.name,e.target.value)}}))})))},Er=["Yes","No"],wr=[{label:"Known Allergies",name:"known_allergies",options:null},{label:"Previous Surgeries",name:"previous_surgeries",options:null},{label:"Surgery Type",name:"surgery_type",options:null},{label:"Diabetic",name:"diabetic",options:Er},{label:"Asthma or Respiratory Issues",name:"asthama_respiratory",options:Er},{label:"Vision Impairments",name:"vision",options:Er},{label:"Hearing Impairments",name:"hearing",options:Er},{label:"Hyper Tension",name:"hyper_tension",options:Er},{label:"Heart Issues",name:"heart_issues",options:Er},{label:"Cancer",name:"cancer",options:Er},{label:"High Blood Pressure",name:"high_blood_pressure",options:Er},{label:"Low Blood Pressure",name:"low_blood_pressure",options:Er},{label:"Pregnancy",name:"pregnancy",options:[].concat(Er,["Not Applicable"])}],xr=function(e){var t=e.label,r=e.name,n=e.value,o=e.options,i=e.handleChange,c=e.error;return a.a.createElement(sr,{options:o||[],fullWidth:!0,size:"small",value:n,onChange:function(e,t){return i(r,t)},renderInput:function(e){return a.a.createElement(Ve,Object.assign({label:t},e,{error:c&&c[r],helperText:c&&c[r]||""}))}})},Or=function(e){var t=e.formData,r=e.setFormData,n=e.error,o=n&&n.medical?n.medical:{},i=function(e,t){r(function(r){return Object(u.a)({},r,{medical:Object(u.a)({},r.medical,Object(Y.a)({},e,t))})})},c=function(e){return t.medical&&t.medical[e]};return a.a.createElement(Fe.a,{container:!0,spacing:2},wr.map(function(e){var t=e.label,r=e.name,n=e.options;return a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,key:r},n?a.a.createElement(xr,{label:t,name:r,value:c(r)||"",options:n,handleChange:i,error:o}):a.a.createElement(Ve,{fullWidth:!0,size:"small",label:t,name:"medical.".concat(r),error:o&&o[r],helperText:o&&o[r]||"",value:c(r)||"",onChange:function(e){return i(r,e.target.value)}}))}))},_r=function(e){var t=e.formData,r=e.setFormData,n=function(e){var t=e.target,n=t.name,a=t.value,o=n.split(".")[1];r(function(e){return Object(u.a)({},e,{doctor:Object(u.a)({},e.doctor,Object(Y.a)({},o,a))})})};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Doctor's Name",name:"doctor.name",value:t.doctor.name||"",onChange:function(e){return n(e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Doctor's Phone Number",name:"doctor.phone_number",value:t.doctor.phone_number||"",onChange:function(e){return n(e)}})))},jr=["Yes","No"],Lr=function(e){var t=e.formData,r=e.setFormData,n=e.error,o=n&&n.addiction?n.addiction:{},i=function(e){var t=e.target,n=t.name,a=t.value,o=n.split(".")[1];r(function(e){return Object(u.a)({},e,{addiction:Object(u.a)({},e.addiction,Object(Y.a)({},o,a))})})};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{options:jr,fullWidth:!0,size:"small",value:t.addiction.tobacco,onChange:function(e,t){i({target:{name:"addiction.tobacco",value:t||""}})},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Tobacco",required:!0,error:o.tobacco,helperText:o.tobacco||""}))}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{options:jr,fullWidth:!0,size:"small",value:t.addiction.cigarettes,onChange:function(e,t){i({target:{name:"addiction.cigarettes",value:t||""}})},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Cigarettes",required:!0,error:o.tobacco,helperText:o.tobacco||""}))}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{options:jr,fullWidth:!0,size:"small",value:t.addiction.alcohol,onChange:function(e,t){i({target:{name:"addiction.alcohol",value:t||""}})},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Alcohol",required:!0,error:o&&o.alcohol,helperText:o&&o.alcohol||""}))}})))},Sr=[{section:"school",type:"text",label:"10th School Name",name:"name"},{section:"school",type:"text",label:"Board",name:"board"},{section:"school",type:"number",label:"Passout Year",name:"passout"},{section:"college",type:"text",label:"12th School/College Name",name:"name"},{section:"college",type:"text",label:"Board",name:"board"},{section:"college",type:"number",label:"Passout Year",name:"passout"},{section:"diploma",type:"text",label:"Diploma Type",name:"type"},{section:"diploma",type:"text",label:"Diploma University Name",name:"uni_name"},{section:"diploma",type:"number",label:"Passout Year",name:"passout"},{section:"graduation",type:"text",label:"Graduation Type",name:"type"},{section:"graduation",type:"text",label:"Graduation University Name",name:"university"},{section:"graduation",type:"number",label:"Passout Year",name:"passout"},{section:"pg",type:"text",label:"Post Graduation / Masters",name:"masters"},{section:"pg",type:"number",label:"Passout Year",name:"passout"}],kr=function(e){var t=e.formData,r=e.setFormData;return a.a.createElement(a.a.Fragment,null,Sr.map(function(e,n){var o=function(e){return t&&t.education?"education"===e.section?t.education[e.name]||"":t.education[e.section]&&t.education[e.section][e.name]||"":""}(e);return a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,key:n},a.a.createElement(Ve,{fullWidth:!0,type:e.type,size:"small",label:e.label,name:e.name,value:o,onChange:function(n){return function(e,n){var a=e.target,o=a.name,i=a.value,c=Object(u.a)({},t.education);"education"===n?c[o]=i:(c[n]||(c[n]={}),c[n][o]=i),r(function(e){return Object(u.a)({},e,{education:c})})}(n,e.section)},InputLabelProps:"date"===e.type?{shrink:!0}:{}}))}))},Pr=function(e){var t=e.formData,r=e.setFormData,n=function(e,n){var a=e.target,o=a.name,i=a.value,c=Object(vr.a)(t.employment_history);c[n][o]=i,r(Object(u.a)({},t,{employment_history:c}))};return a.a.createElement(a.a.Fragment,null,t.employment_history.map(function(e,o){return a.a.createElement(a.a.Fragment,{key:o},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Company Name",name:"company_name",required:!0,value:e.company_name||"",onChange:function(e){return n(e,o)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,required:!0,size:"small",label:"Designation",name:"post_held",value:e.post_held||"",onChange:function(e){return n(e,o)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,required:!0,size:"small",label:"Worked From",type:"date",name:"workedFrom",value:e.workedFrom,onChange:function(e){return n(e,o)},InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,required:!0,size:"small",label:"Worked Till",type:"date",name:"workedTill",value:e.workedTill,onChange:function(e){return n(e,o)},InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},t.employment_history.length>1&&a.a.createElement(We.a,{variant:"contained",color:"error",onClick:function(){return function(e){var n=Object(vr.a)(t.employment_history);n.splice(e,1),r(Object(u.a)({},t,{employment_history:n}))}(o)}},"Remove")))}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{variant:"contained",onClick:function(){var e=t.employment_history.map(function(e){return e.company_name});if(new Set(e).size!==e.length)alert("Please ensure that the employer names are unique.");else{var n=[].concat(Object(vr.a)(t.employment_history),[{company_name:"",post_held:"",workedFrom:"",workedTill:""}]);r(Object(u.a)({},t,{employment_history:n}))}}},"Add More")))},Cr=function(e){var t=e.formData,r=e.setFormData,n=e.error,o=["Father","Mother","Brother","Sister","Spouse","Son","Daughter","Uncle","Aunt","Friend","Neighbour"],i=["A+","A-","B+","B-","AB+","AB-","O+","O-"],c=n&&n.family_details?n.family_details:[],l=function(e,t){var n=e.target,a=n.name,o=n.value;r(function(e){var r=Object(vr.a)(e.family_details);return r[t][a]=o,Object(u.a)({},e,{family_details:r})})};return a.a.createElement(a.a.Fragment,null,t.family_details.map(function(e,n){return a.a.createElement(a.a.Fragment,{key:n},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Name",name:"name",value:e.name||"",error:!(!c[n]||!c[n].name),helperText:c[n]&&c[n].name?c[n].name:"",onChange:function(e){return l(e,n)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{options:o,fullWidth:!0,size:"small",value:e.relationship||"",onChange:function(e,t){l({target:{name:"relationship",value:t||""}},n)},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Relation",required:!0,error:!(!c[n]||!c[n].relationship),helperText:c[n]&&c[n].relationship?c[n].relationship:""}))}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(sr,{fullWidth:!0,size:"small",options:i,getOptionLabel:function(e){return e},value:e.blood_group||"",onChange:function(e,t){l({target:{name:"blood_group",value:t||""}},n)},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Blood Group",required:!0,error:!(!c[n]||!c[n].blood_group),helperText:c[n]&&c[n].blood_group?c[n].blood_group:""}))}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Contact Number",name:"contact_number",value:e.contact_number||"",error:!(!c[n]||!c[n].contact_number),helperText:c[n]&&c[n].contact_number?c[n].contact_number:"",onChange:function(e){return l(e,n)}})),t.family_details.length>1&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"error",onClick:function(){return function(e){r(function(t){var r=Object(vr.a)(t.family_details);return r.splice(e,1),Object(u.a)({},t,{family_details:r})})}(n)}},"Remove")))}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{variant:"contained",onClick:function(){r(function(e){return Object(u.a)({},e,{family_details:[].concat(Object(vr.a)(e.family_details),[{name:"",relationship:"",blood_group:"",contact_number:""}])})})}},"Add Family Member")))};function Tr(){Tr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Nr=function(e){var t=e.formData,r=e.setFormData,o=e.error,i=o&&o.kyc,s=Object(n.useState)(!1),f=Object(l.a)(s,2),h=f[0],p=f[1],m=function(e){var t=e.target,r=t.name,n=t.value;"ifsc_code"===r&&11===n.length?y(n):d(r,n)},d=function(e,t){r(function(r){return Object(u.a)({},r,{kyc:Object(u.a)({},r.kyc,Object(Y.a)({},e,t))})})},y=function(){var e=Object(c.a)(Tr().mark(function e(t){var n,a,o,i,c,l,s;return Tr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,ve.a.get("https://ifsc.razorpay.com/".concat(t));case 4:n=e.sent,a=n.data,o=a.BANK,i=a.BRANCH,c=a.CITY,l=a.STATE,s=a.ADDRESS,r(function(e){return Object(u.a)({},e,{kyc:Object(u.a)({},e.kyc,{ifsc_code:t,name:o,branch:i,city:c,state:l,address:s})})}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.prev=13,p(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:h}),[{label:"Account No",name:"account_number"},{label:"IFSC Code",name:"ifsc_code"},{label:"Bank Name",name:"name",disabled:!0},{label:"Branch",name:"branch",disabled:!0},{label:"Bank City",name:"city",disabled:!0},{label:"Bank State",name:"state",disabled:!0},{label:"Bank Address",name:"address",disabled:!0,multiline:!0},{label:"PAN Card No",name:"pan_card_number"},{label:"Aadhar Card No",name:"aadhar_card_number"},{label:"Passport Number",name:"passport_number"},{label:"Driving License Number",name:"dl_number"}].map(function(e,r){return a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,key:r},a.a.createElement(Ve,Object.assign({fullWidth:!0,size:"small",onChange:m,value:t.kyc[e.name],error:i&&!!i[e.name],helperText:i&&i[e.name]||"",InputLabelProps:Object(u.a)({shrink:!!t.kyc[e.name]||void 0},e.InputLabelProps)},e)))}))};function Dr(){Dr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ar=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),Ir=function(e){var t=e.setOpenPopup,r=e.getUsers,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],f=i[1],h=Object(n.useState)(null),p=Object(l.a)(h,2),m=p[0],d=p[1],v=Object(n.useState)(null),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(s.c)(function(e){return e.auth}),x=w.profile?w.profile:[],O=Object(n.useState)({user:x.emp_id,personal:{first_name:null,middle_name:null,last_name:null,email:null,gender:null,contact:null,religion:null,date_of_birth:null,place_of_birth:null,nationality:null,marital_status:null,marriage_date:null,date_of_joining:null,blood_group:null},address:{current:{address:null,city:null,state:null,pin:null,is_permanent_same_as_current:!1},permanent:{address:null,city:null,state:null,pin:null}},kyc:{name:null,account_number:null,ifsc_code:null,branch:null,city:null,state:null,address:null,pan_card_number:null,aadhar_card_number:null,passport_number:null,dl_number:null},emergency_contacts:[{name:null,relationship:null,number:null}],pf_esi_details:{has_pf_esi_account:null,uan_number:null,pf_number:null,esi_number:null},employment_history:[{company_name:null,post_held:null,workedFrom:null,workedTill:null}],education:{school:{name:null,board:null,passout:null},college:{name:null,board:null,passout:null},diploma:{type:null,uni_name:null,passout:null},graduation:{type:null,university:null,passout:null},pg:{masters:null,passout:null},additional_qualifiction:null},medical:{surgery_type:null,pregnancy:null,previous_surgeries:null,known_allergies:null,diabetic:null,hyper_tension:null,heart_issues:null,cancer:null,high_blood_pressure:null,low_blood_pressure:null,asthama_respiratory:null,vision:null,hearing:null},addiction:{tobacco:null,cigarettes:null,alcohol:null},doctor:{name:null,phone_number:null},family_details:[{name:null,relationship:null,blood_group:null,contact_number:null}]}),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)({message:"",severity:"",open:!1}),k=Object(l.a)(S,2),P=k[0],C=k[1],T=function(e){var t={},r=function(e){return null===e||""===e||void 0===e};t.personal={},["first_name","middle_name","last_name","email","contact","date_of_birth","date_of_birth","place_of_birth","nationality","marital_status","date_of_joining","blood_group","gender","religion"].forEach(function(n){r(e.personal[n])&&(t.personal[n]="".concat(n.replace(/_/g," ")," is required."))}),t.address={current:{},permanent:{}};["address","pin"].forEach(function(n){r(e.address.current[n])&&(t.address.current[n]="Current ".concat(n," is required.")),!e.address.current.is_permanent_same_as_current&&r(e.address.permanent[n])&&(t.address.permanent[n]="Permanent ".concat(n," is required."))});return t.kyc={},["ifsc_code","account_number","pan_card_number","aadhar_card_number"].forEach(function(n){r(e.kyc[n])&&(t.kyc[n]="".concat(n.replace(/_/g," ")," is required."))}),t.emergency_contacts=[],e.emergency_contacts.forEach(function(e,n){var a={};["name","relationship","number"].forEach(function(t){r(e[t])&&(a[t]="".concat(t.replace(/_/g," ")," is required."))}),Object.keys(a).length>0&&(t.emergency_contacts[n]=a)}),t.family_details=[],e.family_details.forEach(function(e,n){var a={};["name","relationship","blood_group","contact_number"].forEach(function(t){r(e[t])&&(a[t]="".concat(t.replace(/_/g," ")," is required."))}),Object.keys(a).length>0&&(t.family_details[n]=a)}),t.medical={},["known_allergies","diabetic","vision","surgery_type","pregnancy","previous_surgeries","known_allergies","diabetic","hyper_tension","heart_issues","cancer","high_blood_pressure","low_blood_pressure","asthama_respiratory","vision","hearing"].forEach(function(n){r(e.medical[n])&&(t.medical[n]="".concat(n.replace(/_/g," ")," is required."))}),t.addiction={},["tobacco","cigarettes","alcohol"].forEach(function(n){r(e.addiction[n])&&(t.addiction[n]="".concat(n.replace(/_/g," ")," is required."))}),t},N=function e(t){return!!t&&(Array.isArray(t)?t.some(function(t){return e(t)}):"object"===typeof t&&Object.values(t).some(function(t){return"object"===typeof t?e(t):""!==t}))},D=function(){var e=Object(c.a)(Dr().mark(function e(n){var a;return Dr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=T(j),!N(a)){e.next=5;break}return E(a),e.abrupt("return");case 5:return e.prev=5,f(!0),e.next=9,Ke.createUserProfileData(j);case 9:201===e.sent.status&&(C({message:"User profile created successfully",severity:"success",open:!0}),setTimeout(function(){t(!1),r()},500)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.error("Error creating user profile:",e.t0),C({message:"Error creating user profile",severity:"error",open:!0});case 17:return e.prev=17,f(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[5,13,17,20]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(at.a,null,a.a.createElement($e,{open:P.open,message:P.message,severity:P.severity,onClose:function(){C({open:!1})}}),a.a.createElement(Je,{open:u}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:D},a.a.createElement(Fe.a,{item:!0,xs:12,sx:{marginTop:"20px",marginBottom:"20px"}},a.a.createElement(Ar,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Upload Profile Picture"})),a.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];t&&t.size<=102400?d(t):alert("Please select an image of size less than 100KB")}}),m&&a.a.createElement("img",{src:URL.createObjectURL(m),alt:"Profile",width:"100"})," ")),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sx:{marginTop:"20px",marginBottom:"20px"}},a.a.createElement(Ar,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Personal Details"})))),a.a.createElement(hr,{formData:j,setFormData:L,error:b}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ar,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Current Address Details"})))),a.a.createElement(yr,{type:"current",formData:j,setFormData:L,error:b}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ar,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Permanent Address Details"})))),a.a.createElement(yr,{type:"permanent",formData:j,setFormData:L,error:b}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ar,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"KYC Details"})))),a.a.createElement(Nr,{formData:j,setFormData:L,error:b}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ar,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Emergency Contact Details"})))),a.a.createElement(gr,{formData:j,setFormData:L,error:b}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ar,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PF & ESI Details"})))),a.a.createElement(br,{formData:j,setFormData:L}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ar,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Educational Details"})))),a.a.createElement(kr,{formData:j,setFormData:L}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ar,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Employment Details"})))),a.a.createElement(Pr,{formData:j,setFormData:L}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ar,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Family Details"})))),a.a.createElement(Cr,{formData:j,setFormData:L,error:b}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ar,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Known Health Issues"})))),a.a.createElement(Or,{formData:j,setFormData:L,error:b}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ar,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Addiction Details"})))),a.a.createElement(Lr,{formData:j,setFormData:L,error:b}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ar,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Family Doctor Details"})))),a.a.createElement(_r,{formData:j,setFormData:L}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",sx:{marginBottom:"20px"}},"Submit")))))};function Fr(){Fr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Gr=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),d=m[0],v=m[1];Object(n.useEffect)(function(){g()},[]);var g=function(){var e=Object(c.a)(Fr().mark(function e(){var t;return Fr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Ke.getProfile();case 4:t=e.sent,v(t.data),o(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(Fe.a,{container:!0,justifyContent:"center",sx:{marginTop:"2em"}},a.a.createElement(Je,{open:r}),a.a.createElement(ut.a,{style:Wr,elevation:4},a.a.createElement(Ae.a,{align:"center",sx:{paddingBottom:"1em"}},a.a.createElement(Ie.a,{style:zr},d.first_name&&d.first_name.charAt(0)||"U"),a.a.createElement(E.a,{variant:"h5",sx:{marginTop:"0.3em"}},d.first_name?"".concat(d.first_name," ").concat(d.last_name):"User Profile")),a.a.createElement(y.a,null),a.a.createElement(Fe.a,{container:!0,spacing:2,sx:{marginTop:".3em"}},a.a.createElement(Fe.a,{item:!0,xs:12,sx:{backgroundColor:"#f9f9f9",padding:2,borderRadius:2,gap:1,marginX:2,marginTop:2,boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"}},a.a.createElement(E.a,{sx:{fontSize:"1rem",marginBottom:"0.8rem",color:"#555"}},a.a.createElement("strong",null,"Employee ID:")," ",a.a.createElement("span",{style:{fontWeight:"300"}},d.employee_id||"N/A")),a.a.createElement(E.a,{sx:{fontSize:"1rem",marginBottom:"0.8rem",color:"#555"}},a.a.createElement("strong",null,"Email:")," ",a.a.createElement("span",{style:{fontWeight:"300"}},d.email||"N/A")),a.a.createElement(E.a,{sx:{fontSize:"1rem",marginBottom:"0.8rem",color:"#555",display:"flex",alignItems:"center",gap:1}},a.a.createElement("strong",null,"Staff:"),a.a.createElement("span",{style:{fontWeight:"500",color:"white",border:"1px solid #2e7d32",padding:"4px 12px",borderRadius:"8px",backgroundColor:"#1bbd7e",fontSize:"0.9rem",display:"inline-block"}},d.groups||"N/A"))),a.a.createElement(Fe.a,{item:!0,xs:12,align:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",sx:{backgroundColor:"#f2f3fa",padding:2,borderRadius:2,gap:1,marginX:2,marginTop:2,boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"}},!d.is_created&&a.a.createElement(We.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return f(!0)},sx:{backgroundColor:"#1976d2","&:hover":{backgroundColor:"#115293"},width:"80%"}},"Complete Profile"),a.a.createElement(h.b,{to:"/reset-password",style:{textDecoration:"none",width:"80%"}},a.a.createElement(We.a,{variant:"outlined",size:"small",sx:{borderColor:"#269435",backgroundColor:"#269435",color:"white","&:hover":{borderColor:"#388e3c",backgroundColor:"#114217",color:"white"},width:"100%"}},"Reset Password"))))),a.a.createElement(Ce,{fullScreen:!0,title:"Create User Profile",openPopup:s,setOpenPopup:f},a.a.createElement(Ir,{setOpenPopup:f,getUsers:g})))},Wr={padding:20,width:350,borderRadius:15,backgroundColor:"#f9f9f9"},zr={backgroundColor:"#1bbd7e",width:60,height:60,fontSize:"1.7rem"},Rr=r(293),Br=r.n(Rr),Mr=r(136),qr=r.n(Mr),Ur=function(e){var t=e.onSearch,r=e.onReset,o=Object(n.useState)(""),i=Object(l.a)(o,2),c=i[0],u=i[1];return a.a.createElement(Ae.a,{sx:{width:"100%"}}," ",a.a.createElement(Ye.a,{size:"small",label:"Search",variant:"outlined",value:c,onChange:function(e){u(e.target.value)},fullWidth:!0,InputProps:{endAdornment:a.a.createElement(Ge.a,{position:"end"},a.a.createElement(d.a,{"aria-label":"search",onClick:function(){t(c)}},a.a.createElement(Br.a,null)),c&&a.a.createElement(d.a,{"aria-label":"reset",onClick:function(){u(""),r()}},a.a.createElement(qr.a,null)))}}))},Yr=r(617),Vr=function(e){var t=e.totalPages,r=e.currentPage,n=e.handlePageChange;return a.a.createElement(Ae.a,{sx:{display:"flex",justifyContent:"center",marginTop:"2em"}},a.a.createElement(Yr.a,{count:t,page:r,onChange:n,color:"primary",variant:"outlined",shape:"rounded"}))},Qr=r(612),Hr=r(636),Jr=r(621),Kr={getAllVendorData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("search",t),r&&n.append("vendor_source",r),ge.get("api/inventory/list-vendor/?".concat(n.toString()))},createVendorData:function(e){return ge.post("/api/inventory/list-vendor/",e)},getVendorDataById:function(e){return ge.get("/api/inventory/list-vendor/".concat(e))},updateVendorData:function(e,t){return ge.patch("/api/inventory/list-vendor/".concat(e),t)},createBankInventoryData:function(e){return ge.post("/api/inventory/list-bank/",e)},updateBankInventoryData:function(e,t){return ge.patch("/api/inventory/list-bank/".concat(e),t)},createContactInventoryData:function(e){return ge.post("/api/inventory/list-contact/",e)},updateContactInventoryData:function(e,t){return ge.patch("/api/inventory/list-contact/".concat(e),t)},createWareHouseInventoryData:function(e){return ge.post("/api/inventory/list-warehouse/",e)},updatetWareHouseInventoryData:function(e,t){return ge.patch("/api/inventory/list-warehouse/".concat(e),t)},getAllPurchaseOrderData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),void 0!==t&&n.append("close_short",t),r&&n.append("search",r),ge.get("/api/inventory/purchase-order/?".concat(n.toString()))},createPurchaseOrderData:function(e){return ge.post("/api/inventory/purchase-order/",e)},updatePurchaseOrderData:function(e,t){return ge.patch("/api/inventory/purchase-order/".concat(e,"/"),t)},getAllPackingListData:function(e,t,r){console.log(e,t,r);var n=new URLSearchParams;return e&&n.append("page",e),void 0!==t&&n.append("accepted",t),r&&n.append("search",r),ge.get("/api/inventory/list-packing-list/?".concat(n.toString()))},createPackingListData:function(e){return ge.post("/api/inventory/list-packing-list/",e)},updatePackingListData:function(e,t){return ge.patch("/api/inventory/list-packing-list/".concat(e,"/"),t)},getAllGRNData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),void 0!==t&&n.append("accepted",t),r&&n.append("search",r),ge.get("api/inventory/list-grn/?".concat(n.toString()))},createGRNData:function(e){return ge.post("/api/inventory/list-grn/",e)},getGRNDataById:function(e){return ge.get("/api/inventory/list-grn/".concat(e))},updateGRNData:function(e,t){return ge.patch("/api/inventory/list-grn/".concat(e),t)},getAllGRNRegisterDetails:function(e,t,r){var n=new URLSearchParams;return e&&n.append("year_month",e),t&&n.append("page",t),r&&n.append("search",r),ge.get("api/inventory/grn-register/?".concat(n.toString()))},getAllPurchaseInvoiceData:function(e,t,r){var n=new URLSearchParams;return n.append("invoice_type","Purchase"),e&&n.append("year_month",e),t&&n.append("page",t),r&&n.append("search",r),ge.get("api/inventory/list-purchase-invoice/?".concat(n.toString()))},createPurchaseInvoiceData:function(e){return ge.post("/api/inventory/list-purchase-invoice/",e)},getPurchaseInvoiceDataById:function(e){return ge.get("/api/inventory/list-purchase-invoice/".concat(e))},createStoresInventoryData:function(e){return ge.post("/api/inventory/list-stores-inventory/",e)},getAllConsStoresInventoryData:function(){return ge.get("/api/inventory/list-con-stores-inventory/")},getDescriptionStoresInventoryDetails:function(e,t){var r=new URLSearchParams;return e&&r.append("unit",e),t&&r.append("search",t),ge.get("api/inventory/description-stores-inventory/?".concat(r.toString()))},getJobWorkerInventoryData:function(){return ge.get("api/inventory/job-worker-inventory/")},getProductCodeStoresInventoryDetails:function(e){return ge.post("api/inventory/description-stores-inventory/cons_store_product/",e)},getAllProductStoresInventoryDetails:function(e){return ge.post("api/inventory/description-stores-inventory/store_product/",e)},getAllMaterialRequisitionFormData:function(e,t,r,n,a,o){var i=new URLSearchParams;return e&&i.append("page",e),t&&i.append("search",t),r&&i.append("seller_account__unit",r),n&&i.append("date",n),a&&i.append("start_date",a),o&&i.append("end_date",o),ge.get("api/inventory/list-material-requisition-form/?".concat(i.toString()))},createMaterialRequisitionFormData:function(e){return ge.post("/api/inventory/list-material-requisition-form/",e)},updateMaterialRequisitionFormData:function(e,t){return ge.patch("/api/inventory/list-material-requisition-form/".concat(e),t)},getAllBillofMaterialsData:function(e,t,r,n){var a=new URLSearchParams;return e&&a.append("page",e),void 0!==t&&a.append("approved",t),void 0!==r&&a.append("is_deactivated",r),n&&a.append("search",n),ge.get("api/inventory/list-bill-of-materials/?".concat(a.toString()))},createBillofMaterialsData:function(e){return ge.post("/api/inventory/list-bill-of-materials/",e)},updateBillofMaterialsData:function(e,t){return ge.patch("/api/inventory/list-bill-of-materials/".concat(e),t)},getAllProductionEntryData:function(e,t,r,n,a){var o=new URLSearchParams;return e&&o.append("page",e),t&&o.append("search",t),r&&o.append("start_date",r),n&&o.append("end_date",n),a&&o.append("date",a),ge.get("api/inventory/list-production-entry/?".concat(o.toString()))},createProductionEntryData:function(e){return ge.post("/api/inventory/list-production-entry/",e)},getAllMaterialTransferNoteData:function(e,t,r,n,a,o){var i=new URLSearchParams;return e&&i.append("page",e),t&&i.append("accepted",t),r&&i.append("search",r),n&&i.append("date",n),a&&i.append("start_date",a),o&&i.append("end_date",o),ge.get("/api/inventory/list-material-transfer-note/?".concat(i.toString()))},getAllMrfProducts:function(e,t,r){var n=new URLSearchParams;return e&&n.append("date",e),t&&n.append("start_date",t),r&&n.append("end_date",r),ge.get("api/inventory/mrf-product/?".concat(n.toString()))},createMaterialTransferNoteData:function(e){return ge.post("/api/inventory/list-material-transfer-note/",e)},updateMaterialTransferNoteData:function(e,t){return ge.patch("/api/inventory/list-material-transfer-note/".concat(e),t)},getProductionInventoryData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/inventory/list-production-inventory/?".concat(r.toString()))},getAllConsProductionInventoryData:function(){return ge.get("/api/inventory/list-con-production-inventory/")},getAllProductionGAndLInventoryData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("api/inventory/list-production-gnl/?".concat(r.toString()))},getAllProductionShortFallData:function(){return ge.get("/api/inventory/list-production-shortfall/")},getAllDailyProductionReport:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=new URLSearchParams;return e&&a.append("date_range_after",e),t&&a.append("date_range_before",t),a.append("page",r),n&&a.append("search",n),ge.get("api/inventory/list-daily-production-report/?".concat(a.toString()))},getWeeklyProductionReportFilterData:function(e,t){return ge.get("/api/inventory/list-weekly-product-quantity/?month=".concat(e,"&year=").concat(t))},getCurrencyData:function(){return ge.get("/api/inventory/currency")},createCurrencyData:function(e){return ge.post("/api/inventory/currency/",e)},updateCurrencyData:function(e,t){return ge.patch("/api/inventory/currency/".concat(e,"/"),t)},getAllStoresInventoryDetails:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("api/inventory/list-stores-inventory/?".concat(r.toString()))},getAllSafetyStockData:function(){return ge.get("/api/inventory/safety-stock/")},createSafetyStockData:function(e){return ge.post("/api/inventory/safety-stock/",e)},updateSafetyStockData:function(e,t){return ge.patch("/api/inventory/safety-stock/".concat(e,"/"),t)},getChalan:function(e){var t=new URLSearchParams;return e&&t.append("page",e),ge.get("/api/inventory/challan/?".concat(t.toString()))},createChalan:function(e){return ge.post("/api/inventory/challan/",e)},updateChalan:function(e,t){return ge.patch("/api/inventory/challan/".concat(e,"/"),t)},getChallanInvoice:function(e){var t=new URLSearchParams;return e&&t.append("page",e),ge.get("/api/inventory/challan-invoice/?".concat(t.toString()))},createChalanInvoice:function(e){return ge.post("/api/inventory/challan-invoice/",e)},getPhysical:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/inventory/physical-inventory/?".concat(r.toString()))},createPhysical:function(e){return ge.post("/api/inventory/physical-inventory/",e)},updatePhysical:function(e,t){return ge.patch("/api/inventory/physical-inventory/".concat(e,"/"),t)},getSalesReturnData:function(e,t){var r=new URLSearchParams;return r.append("invoice_type","Sales Return"),e&&r.append("page",e),t&&r.append("search",t),ge.get("api/inventory/list-purchase-invoice/?".concat(r.toString()))},getSalesReturnByIDData:function(e){return ge.get("api/invoice/list-sales-invoice/".concat(e))},createSalesReturn:function(e){return ge.post("/api/inventory/list-purchase-invoice/",e)},getSalesReturnInventoryData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("api/inventory/sales-return-inventory/?".concat(r.toString()))},updateSalesReturnInventoryData:function(e,t){return ge.patch("api/inventory/sales-return-inventory/".concat(e,"/"),t)},createReworkinvoiceData:function(e){return ge.post("api/inventory/rework-entry/",e)},getReworkinvoiceData:function(e,t){var r=new URLSearchParams;return r.append("invoice_type","Sales Return"),e&&r.append("page",e),t&&r.append("search",t),ge.get("api/inventory/rework-entry/?".concat(r.toString()))},updateReworkInvoiceData:function(e,t){return ge.patch("api/inventory/rework-entry/".concat(e,"/"),t)}},Zr=Object(L.a)("div")({display:"flex",flexDirection:"row",flexWrap:"nowrap",overflowX:"auto",gap:"8px",alignItems:"center",backgroundColor:"#f5f5f5",padding:"8px",borderRadius:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",cursor:"pointer","&::-webkit-scrollbar":{height:"10px"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 5px grey",borderRadius:"10px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#006ba1",borderRadius:"10px","&:hover":{backgroundColor:"#00507d"}}}),Xr=function(e){var t=e.tabs,r=e.activeTab,n=e.onTabChange;return a.a.createElement(Zr,null,t.map(function(e,t){return a.a.createElement(We.a,{key:t,variant:r===t?"contained":"outlined",onClick:function(){return n(t)},sx:{minWidth:"160px",margin:"0 4px",textTransform:"none",fontWeight:r===t?600:400,fontSize:"12px",color:r===t?"#fff":"#006ba1",backgroundColor:r===t?"#006ba1":"transparent","&:hover":{backgroundColor:r===t?"#00507d":"#e0e0e0"},borderRadius:"4px",padding:"10px 15px"}},e.label)}))},$r=r(68),en=r.n($r);function tn(){tn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var rn=function(e){var t=e.setOpenPopup,r=e.getAllVendorDetailsByID,o=e.vendorData,i=Object(n.useState)(!1),f=Object(l.a)(i,2),h=f[0],p=f[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(null),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(""),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(s.c)(function(e){return e.auth}),S=Object(n.useRef)(null),k=function(e){var t=e.target,r=t.name,n=t.value;v(Object(u.a)({},y,Object(Y.a)({},r,n))),"Domestic"===o.type&&"ifsc_code"===r?(S.current&&clearTimeout(S.current),S.current=setTimeout(function(){P(n)},500)):v(Object(u.a)({},y,Object(Y.a)({},r,n)))},P=function(){var e=Object(c.a)(tn().mark(function e(t){var r;return tn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.a.get("https://ifsc.razorpay.com/".concat(t));case 3:r=e.sent,w(r.data),j(""),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0),404===e.t0.response.status&&j("please enter valid ifsc code.");case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(c.a)(tn().mark(function e(n){var a;return tn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),p(!0),a={vendor:L?L.vendorName:"",current_account_no:y.current_account_no,ifsc_code:y.ifsc_code,bank_name:"Domestic"===o.type?E.BANK?E.BANK:"":y.bank_name,address:"Domestic"===o.type?E.ADDRESS?E.ADDRESS:"":y.address,state:"Domestic"===o.type?E.STATE?E.STATE:"":y.state,district:"Domestic"===o.type?E.DISTRICT?E.DISTRICT:"":y.district,city:"Domestic"===o.type?E.CITY?E.CITY:"":y.city,branch:"Domestic"===o.type?E.BRANCH?E.BRANCH:"":y.branch},e.next=6,Kr.createBankInventoryData(a);case 6:t(!1),r(),p(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),p(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:h}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return C(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},"Domestic"===o.type?a.a.createElement(Ve,{fullWidth:!0,name:"ifsc_code",size:"small",label:"IFSC Code",variant:"outlined",value:y.ifsc_code,onChange:k,onBlur:k,error:_&&_,helperText:_&&_}):a.a.createElement(Ve,{fullWidth:!0,name:"ifsc_code",size:"small",label:"Swift Code",variant:"outlined",value:y.ifsc_code,onChange:k})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"current_account_no",label:"Account No",variant:"outlined",value:y.account_no,onChange:k})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"bank_name",label:"Bank Name",variant:"outlined",value:"Domestic"===o.type&&E?E.BANK||"":y.bank_name,onChange:k})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"branch",label:"Branch",variant:"outlined",value:"Domestic"===o.type&&E?E.BRANCH||"":y.branch,onChange:k})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"district",label:"District",variant:"outlined",value:"Domestic"===o.type&&E?E.DISTRICT||"":y.district,onChange:k})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"city",label:"City",variant:"outlined",value:"Domestic"===o.type&&E?E.CITY||"":y.city,onChange:k})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:"Domestic"===o.type&&E?E.STATE||"":y.state,onChange:k})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:"Domestic"===o.type&&E?E.ADDRESS||"":y.address,onChange:k}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function nn(){nn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var an=function(e){var t=e.setOpenPopup,r=e.getAllVendorDetailsByID,o=e.idForEdit,i=e.vendorData,f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(o),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(""),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(s.c)(function(e){return e.auth}),k=Object(n.useRef)(null),P=function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},v,Object(Y.a)({},r,n))),"ifsc_code"===r&&(k.current&&clearTimeout(k.current),k.current=setTimeout(function(){C(n)},500))},C=function(){var e=Object(c.a)(nn().mark(function e(t){var r;return nn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.a.get("https://ifsc.razorpay.com/".concat(t));case 3:r=e.sent,x(r.data),L(""),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0),404===e.t0.response.status&&L("please enter valid ifsc code.");case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(c.a)(nn().mark(function e(n){var a,c,l;return nn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),m(!0),c="International"===i.type?"int_ca_no":"current_account_no",a={vendor:S?S.vendorName:""},Object(Y.a)(a,c,v[c]||v.current_account_no),Object(Y.a)(a,"ifsc_code",v.ifsc_code?v.ifsc_code:""),Object(Y.a)(a,"bank_name","Domestic"===i.type&&w.BANK?w.BANK:v.bank_name),Object(Y.a)(a,"address","Domestic"===i.type&&w.ADDRESS?w.ADDRESS:v.address),Object(Y.a)(a,"state","Domestic"===i.type&&w.STATE?w.STATE:v.state),Object(Y.a)(a,"district","Domestic"===i.type&&w.DISTRICT?w.DISTRICT:v.district),Object(Y.a)(a,"city","Domestic"===i.type&&w.CITY?w.CITY:v.city),Object(Y.a)(a,"branch","Domestic"===i.type&&w.BRANCH?w.BRANCH:v.branch),l=a,e.next=7,Kr.updateBankInventoryData(o.id,l);case 7:t(!1),r(),m(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),m(!1);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:p}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return T(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},"Domestic"===i.type?a.a.createElement(Ve,{fullWidth:!0,name:"ifsc_code",size:"small",label:"IFSC Code",variant:"outlined",value:v.ifsc_code?v.ifsc_code:"",onChange:P,onBlur:P,error:j&&j,helperText:j&&j}):a.a.createElement(Ve,{fullWidth:!0,name:"ifsc_code",size:"small",label:"Swift Code",variant:"outlined",value:v.ifsc_code?v.ifsc_code:"",onChange:P})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"International"===i.type?"int_ca_no":"current_account_no",label:"Account No",variant:"outlined",value:"International"===i.type?v.int_ca_no?v.int_ca_no:"":v.current_account_no?v.current_account_no:"",onChange:P})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"bank_name",label:"Bank Name",variant:"outlined",value:"Domestic"===i.type?w.BANK?w.BANK:v.bank_name:v.bank_name?v.bank_name:"",onChange:P})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"branch",label:"Branch",variant:"outlined",value:"Domestic"===i.type?w.BRANCH?w.BRANCH:v.branch:v.branch?v.branch:"",onChange:P})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"district",label:"District",variant:"outlined",value:"Domestic"===i.type?w.DISTRICT?w.DISTRICT:v.district:v.district?v.district:"",onChange:P})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"city",label:"City",variant:"outlined",value:"Domestic"===i.type?w.CITY?w.CITY:v.city:v.city?v.city:"",onChange:P})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:"Domestic"===i.type?w.STATE?w.STATE:v.state:v.state?v.state:"",onChange:P})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:"Domestic"===i.type?w.ADDRESS?w.ADDRESS:v.address:v.address?v.address:"",onChange:P}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},on=function(e){var t=e.bankData,r=e.vendorData,o=e.open,i=e.getAllVendorDetailsByID,c=Object(n.useState)(!1),s=Object(l.a)(c,2),f=s[0],h=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(),g=Object(l.a)(v,2),b=g[0],E=g[1],w=t.map(function(e){return{id:e.id,bank_name:e.bank_name,account_no:"Domestic"===r.type?e.current_account_no:e.int_ca_no,ifsc_code:e.ifsc_code,branch:e.branch}}),x=["ID","Bank","ACCOUNT NO","Domestic"===r.type?"IFSC CODE":"SWIFT CODE","BRANCH","Action"];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:o}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:2}),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Bank Details")),a.a.createElement(Ae.a,{flexGrow:.5,align:"right"},a.a.createElement(We.a,{onClick:function(){return y(!0)},variant:"contained",color:"success",startIcon:a.a.createElement(en.a,null)},"Add"))),a.a.createElement(dt,{headers:x,data:w.map(function(e){return Object(u.a)({},e,{account_no:e.account_no})}),openInPopup:function(e){var r=t.find(function(t){return t.id===e.id});E(r),h(!0)},openInPopup2:null,openInPopup3:null,openInPopup4:null})),a.a.createElement(Ce,{title:"Create Bank Details",openPopup:d,setOpenPopup:y},a.a.createElement(rn,{setOpenPopup:y,vendorData:r,getAllVendorDetailsByID:i})),a.a.createElement(Ce,{title:"Update Bank Details",openPopup:f,setOpenPopup:h},a.a.createElement(an,{setOpenPopup:h,vendorData:r,getAllVendorDetailsByID:i,idForEdit:b})))},cn=r(623),ln=r(56),un=r.n(ln);r(129);function sn(){sn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var fn=function(e){var t=e.setOpenPopup,r=e.getAllVendorDetailsByID,o=e.vendorData,i=Object(n.useState)(!1),f=Object(l.a)(i,2),h=f[0],p=f[1],m=Object(n.useState)(""),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)("in"),b=Object(l.a)(g,2),E=b[0],w=b[1],O=Object(n.useState)("in"),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(s.c)(function(e){return e.auth}),N=Object(n.useState)({email:"",alternate_email:""}),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)({}),G=Object(l.a)(F,2),W=G[0],z=G[1],R=function(e){var t=e.target,r=t.name,n=t.value;I(Object(u.a)({},A,Object(Y.a)({},r,n)))},B=function(e){var t=e.target,r=t.name,n=t.value;C(Object(u.a)({},P,Object(Y.a)({},r,n.toUpperCase())))},M=function(){var e=Object(c.a)(sn().mark(function e(n){var a,i,c;return sn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),z(q(A)),null,null,a="+"+E,i="+"+j,c={vendor:T?T.vendorName:"",name:P.name,designation:y,contact:a||"",alternate_contact:i||"",email:A.email,alternate_email:A.alternate_email,pan_number:"Domestic"===o.type?P.pan_no:"",aadhaar:"Domestic"===o.type?P.aadhar_no:""},p(!0),e.next=11,Kr.createContactInventoryData(c);case 11:r(),t(!1),p(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("error",e.t0),p(!1);case 20:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){console.log(W),0===Object.keys(W).length&&console.log(A)},[W]);var q=function(e){var t={},r=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i;return e.email?r.test(e.email)||(t.email="This is not a valid email format!"):t.email="Email is required!",e.alternate_email?r.test(e.alternate_email)||(t.alternate_email="This is not a valid alternate email format!"):t.alternate_email="Alternate Email is required!",t};return a.a.createElement("div",null,a.a.createElement(Je,{open:h}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return M(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"name",label:"Name",variant:"outlined",value:P.name,onChange:B})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-select-small"},"Designation"),a.a.createElement(cn.a,{labelId:"demo-select-small",id:"demo-select-small",value:y,label:"Designation",onChange:function(e){return v(e.target.value)}},a.a.createElement(x.a,{value:"Owner"},"Owner "),a.a.createElement(x.a,{value:"Partner"},"Partner"),a.a.createElement(x.a,{value:"Director"},"Director"),a.a.createElement(x.a,{value:"Accounts"},"Accounts"),a.a.createElement(x.a,{value:"Purchase"},"Purchase"),a.a.createElement(x.a,{value:"Quality"},"Quality"),a.a.createElement(x.a,{value:"Stores"},"Stores")))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(un.a,{specialLabel:"Contact",inputStyle:{height:"15px",width:"250px"},value:E,onChange:function(e){w(e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(un.a,{specialLabel:"Alternate Contact",inputStyle:{height:"15px",width:"250px"},value:j,onChange:function(e){L(e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"email",label:"Email",variant:"outlined",value:A.email,onChange:R,error:Boolean(W.email),helperText:W.email})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"alternate_email",label:"Alt Email",variant:"outlined",value:A.alternate_email,onChange:R,error:Boolean(W.alternate_email),helperText:W.alternate_email})),"Domestic"===o.type?a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,disabled:"Director"!==y&&"Owner"!==y&&"Partner"!==y,size:"small",name:"pan_no",label:"Pan No.",variant:"outlined",value:"Domestic"===o.type?P.pan_no:"",onChange:B,helperText:W.pan_no&&"Applicable Only if designation is Owner/Partner/Director"})):null,"Domestic"===o.type?a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,disabled:"Director"!==y&&"Owner"!==y&&"Partner"!==y,size:"small",type:"number",name:"aadhar_no",label:"Aadhar No.",variant:"outlined",value:"Domestic"===o.type?P.aadhar_no:"",onChange:B,helperText:"Applicable Only if designation is Owner/Partner/Director"})):null),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function hn(){hn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var pn=function(e){var t=e.setOpenPopup,r=e.getAllVendorDetailsByID,o=e.IDForEdit,i=e.vendorData,s=Object(n.useState)(!1),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)(o.designation),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(o),b=Object(l.a)(g,2),E=b[0],w=b[1],O=Object(n.useState)(""),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(""),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useRef)(),N=Object(n.useState)(""),D=Object(l.a)(N,2),A=D[0],I=D[1],F=function(e){var t=e.target,r=t.name,n=t.value;w(Object(u.a)({},E,Object(Y.a)({},r,n)))};console.log("inputValue",E);var G=function(){var e=Object(c.a)(hn().mark(function e(n){var a,o,i,c,l;return hn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),p(!0),p(!0),a=j?"+"+j:E.contact,o=P?"+"+P:E.alternate_contact,console.log("contact1 :>> ",a),console.log("contact1 :>> ",o),i="director"===y||"owner"===y||"partner"===y?E.aadhaar:"",c="director"===y||"owner"===y||"partner"===y?E.pan_number:"",console.log("contact1 :>> ",o),l={name:E.name?E.name:"",vendor:E.vendor?E.vendor:"",designation:y||"",email:E.email?E.email:"",alternate_email:E.alternate_email?E.alternate_email:"",contact:a||"",alternate_contact:o||null,pan_number:c||null,aadhaar:i||null},e.next=14,Kr.updateContactInventoryData(E.id,l);case 14:t(!1),r(),p(!1),e.next=25;break;case 19:e.prev=19,e.t0=e.catch(0),console.log("createing company detail error",e.t0),p(!1),e.t0.response?400===e.t0.response.status?I(e.t0.response.data.errors.alternate_contact?e.t0.response.data.errors.alternate_contact:e.t0.response.data.errors.contact):401===e.t0.response.status?I(e.t0.response.data.errors.code):I("Server Error"):I("\u201cSorry, You Are Not Allowed to Access This Page\u201d Please contact to admin"),T.current.focus();case 25:case"end":return e.stop()}},e,null,[[0,19]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:h}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return G(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement("p",{style:{width:"100%",padding:10,marginBottom:10,borderRadius:4,backgroundColor:A?"red":"offscreen",textAlign:"center",color:"white",textTransform:"capitalize"},ref:T,className:A?"errmsg":"offscreen","aria-live":"assertive"},A),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"name",label:"Name",variant:"outlined",value:E.name?E.name:"",onChange:F})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-select-small"},"Designation"),a.a.createElement(cn.a,{labelId:"demo-select-small",id:"demo-select-small",value:y||y,label:"Designation",onChange:function(e){return v(e.target.value)}},a.a.createElement(x.a,{value:"Owner"},"Owner "),a.a.createElement(x.a,{value:"Partner"},"Partner"),a.a.createElement(x.a,{value:"Director"},"Director"),a.a.createElement(x.a,{value:"Accounts"},"Accounts"),a.a.createElement(x.a,{value:"Purchase"},"Purchase"),a.a.createElement(x.a,{value:"Quality"},"Quality"),a.a.createElement(x.a,{value:"Stores"},"Stores")))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(un.a,{specialLabel:"Contact",inputStyle:{height:"15px",width:"250px"},value:j||E.contact,onChange:function(e){L(e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(un.a,{specialLabel:"Alternate Contact",inputStyle:{height:"15px",width:"250px"},value:P||E.alternate_contact,onChange:function(e){C(e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"email",label:"Email",variant:"outlined",value:E.email?E.email:"",onChange:F})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"alternate_email",label:"Alt Email",variant:"outlined",value:E.alternate_email?E.alternate_email:"",onChange:F})),"Domestic"!==i.type||"director"!==y&&"owner"!==y&&"partner"!==y?null:a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,disabled:"director"!==y&&"owner"!==y&&"partner"!==y,onChange:F,size:"small",name:"pan_number",label:"Pan No.",variant:"outlined",value:E.pan_number?E.pan_number:"",helperText:"Applicable Only if designation is Owner/Partner/Director"})),"Domestic"!==i.type||"director"!==y&&"owner"!==y&&"partner"!==y?null:a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,disabled:"director"!==y&&"owner"!==y&&"partner"!==y,onChange:F,size:"small",name:"aadhar_no",label:"Aadhar No.",variant:"outlined",value:E.aadhaar?E.aadhaar:"",helperText:"Applicable Only if designation is Owner/Partner/Director"}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},mn=function(e){var t=e.contactData,r=e.getAllVendorDetailsByID,o=e.open,i=e.vendorData,c=Object(n.useState)(!1),u=Object(l.a)(c,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(),v=Object(l.a)(y,2),g=v[0],b=v[1],E=t.map(function(e){return{id:e.id,name:e.name,vendor:e.vendor,designation:e.designation,contact:e.contact,alternate_contact:e.alternate_contact}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:o}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:2}),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Contact Details")),a.a.createElement(Ae.a,{flexGrow:.5,align:"right"},a.a.createElement(We.a,{onClick:function(){return d(!0)},variant:"contained",color:"success",startIcon:a.a.createElement(en.a,null)},"Add"))),a.a.createElement(dt,{headers:["ID","Name","Company","Designation","Contact","Alt. Contact","Action"],data:E,openInPopup:function(e){var r=t.find(function(t){return t.id===e.id});b(r),f(!0)},openInPopup2:null,openInPopup3:null,openInPopup4:null})),a.a.createElement(Ce,{title:"Create Contact Details",openPopup:m,setOpenPopup:d},a.a.createElement(fn,{vendorData:i,getAllVendorDetailsByID:r,setOpenPopup:d})),a.a.createElement(Ce,{title:"Update Contact Details",openPopup:s,setOpenPopup:f},a.a.createElement(pn,{vendorData:i,setOpenPopup:f,IDForEdit:g,getAllVendorDetailsByID:r})))};function dn(){dn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var yn=function(e){var t=e.setOpenPopup,r=e.getAllVendorDetailsByID,o=e.contactData,i=e.vendorData,f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)([]),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)(null),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(""),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(s.c)(function(e){return e.auth}),k=Object(n.useRef)(null),P=function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},v,Object(Y.a)({},r,n))),"pincode"===r&&(k.current&&clearTimeout(k.current),k.current=setTimeout(function(){C(n)},500))},C=function(){var e=Object(c.a)(dn().mark(function e(t){var r;return dn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.a.get("https://api.postalpincode.in/pincode/".concat(t));case 3:r=e.sent,x(r.data[0].PostOffice[0]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(c.a)(dn().mark(function e(n){var a;return dn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),m(!0),a={vendor:S?S.vendorName:"",contact:j.id,address:v.address,pincode:v.pincode,state:w.State,city:w.District},e.next=6,Kr.createWareHouseInventoryData(a);case 6:t(!1),r(),m(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),m(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:p}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return T(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{fullWidth:!0,size:"small",id:"grouped-demo",onChange:function(e,t){return L(t)},options:o.map(function(e){return e}),groupBy:function(e){return e.designation},getOptionLabel:function(e){return"".concat(e.name," ").concat(e.contact)},label:"Contact"})),"Domestic"===i.type?a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"pincode",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:v.pincode,onChange:P,onBlur:P})):null,a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,onChange:P,size:"small",name:"address",label:"Address",variant:"outlined",value:v.address})),w?a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:w.State?w.State:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"city",label:"City",variant:"outlined",value:w.District?w.District:""}))):null),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function vn(){vn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var gn=function(e){var t=e.IDForEdit,r=e.getAllVendorDetailsByID,o=e.setOpenPopup,i=e.contactData,f=e.vendorData;console.log("IDForEdit",t);var h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(t),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(s.c)(function(e){return e.auth}),w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(""),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useRef)(null),C=function(e){var t=e.target,r=t.name,n=t.value;b(Object(u.a)({},g,Object(Y.a)({},r,n))),"pincode"===r&&(P.current&&clearTimeout(P.current),P.current=setTimeout(function(){T(n)},500))},T=function(){var e=Object(c.a)(vn().mark(function e(t){var r;return vn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.a.get("https://api.postalpincode.in/pincode/".concat(t));case 3:r=e.sent,_(r.data[0].PostOffice[0]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(c.a)(vn().mark(function e(t){var n;return vn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),d(!0),n={vendor:E?E.vendorName:"",contact:S.id?S.id:g.contact,address:g.address,pincode:g.pincode,state:O.State?O.State:g.state,city:O.District?O.District:g.city},e.next=6,Kr.updatetWareHouseInventoryData(g.id,n);case 6:o(!1),r(),d(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),d(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:m}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return N(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"contact",label:"Contact",variant:"outlined",value:g.contact_name?"".concat(g.contact_name," ").concat(g.contact_number):""})),"Domestic"===f.type?a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{fullWidth:!0,size:"small",id:"grouped-demo",onChange:function(e,t){return k(t)},options:i.map(function(e){return e}),groupBy:function(e){return e.designation},getOptionLabel:function(e){return"".concat(e.name," ").concat(e.contact)},label:"Update Contact"})):null,a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,onChange:C,size:"small",name:"address",label:"Address",variant:"outlined",value:g.address?g.address:""})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"pincode",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:g.pincode?g.pincode:"",onChange:C,onBlur:C})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:O.State?O.State:g.state,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"city",label:"City",variant:"outlined",value:O.District?O.District:g.city,InputLabelProps:{shrink:!0}}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},bn=function(e){var t=e.getAllVendorDetailsByID,r=e.wareHousedata,o=e.open,i=e.contactData,c=e.vendorData,u=Object(n.useState)(!1),s=Object(l.a)(u,2),f=s[0],h=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(),g=Object(l.a)(v,2),b=g[0],E=g[1],w=r.map(function(e){return{id:e.id,contact_number:e.contact_number,state:e.state,pincode:e.pincode}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:o}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:2}),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"WareHouse Details")),a.a.createElement(Ae.a,{flexGrow:.5,align:"right"},a.a.createElement(We.a,{onClick:function(){return y(!0)},variant:"contained",color:"success",startIcon:a.a.createElement(en.a,null)},"Add"))),a.a.createElement(dt,{headers:["ID","Contact","State","Pin Code","Action"],data:w,openInPopup:function(e){var t=r.find(function(t){return t.id===e.id});E(t),h(!0)},openInPopup2:null,openInPopup3:null,openInPopup4:null})),a.a.createElement(Ce,{title:"Create WareHouse Details",openPopup:d,setOpenPopup:y},a.a.createElement(yn,{vendorData:c,getAllVendorDetailsByID:t,setOpenPopup:y,contactData:i})),a.a.createElement(Ce,{title:"Update WareHouse Details",openPopup:f,setOpenPopup:h},a.a.createElement(gn,{vendorData:c,contactData:i,IDForEdit:b,setOpenPopup:h,getAllVendorDetailsByID:t})))};function En(){En=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var wn=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],f=Object(n.useState)([]),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)([]),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(s.b)(),k=Object(n.useState)(0),P=Object(l.a)(k,2),C=P[0],T=P[1];Object(n.useEffect)(function(){t&&N()},[t]);var N=function(){var e=Object(c.a)(En().mark(function e(){var r;return En().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Kr.getVendorDataById(t);case 4:r=e.sent,L(r.data),m(r.data.bank),g(r.data.contacts),x(r.data.warehouse),S(q(r.data.name)),u(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),u(!1),console.log("company data by id error",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:i}),a.a.createElement("div",null,a.a.createElement(Xr,{tabs:[{label:"Bank"},{label:"Contact"},{label:"WareHouse"}],activeTab:C,onTabChange:function(e){T(e)}}),a.a.createElement("div",{style:{marginTop:"10px"}},0===C&&a.a.createElement("div",null,a.a.createElement(on,{vendorData:j,bankData:p,open:i,getAllVendorDetailsByID:N})),1===C&&a.a.createElement("div",null,a.a.createElement(mn,{vendorData:j,contactData:v,open:i,getAllVendorDetailsByID:N})),2===C&&a.a.createElement("div",null,a.a.createElement(bn,{vendorData:j,contactData:v,wareHousedata:w,open:i,getAllVendorDetailsByID:N})))))},xn=[{name:"Afghanistan",code:"AF"},{name:"\xc5land Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"AndorrA",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People'S Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People'S Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}];function On(){On=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var _n=function(e){var t=e.getAllVendorDetails,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],s=o[1],f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)("Domestic"),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(!1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=(new Date).toISOString().slice(0,10),k=Object(n.useState)({name:"",address:"",pincode:"",city:"",state:"",website:"",estd_date:S,gst_number:"",pan_number:"",total_sales_turnover:"",country:"",vendor_source:""}),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)([]),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)(""),G=Object(l.a)(F,2),W=G[0],z=G[1],R=gt(),B=R.handleSuccess,M=R.handleError,q=R.handleCloseSnackbar,U=R.alertInfo,V=Object(n.useRef)(null),Q=function(e){var t=e.target,r=t.name,n=t.value;T(r?Object(u.a)({},C,Object(Y.a)({},r,n)):Object(u.a)({},C,{country:e.target.textContent})),"pincode"===r&&(V.current&&clearTimeout(V.current),V.current=setTimeout(function(){J(n)},500))};console.log("inputValue",C);var H,J=function(){var e=Object(c.a)(On().mark(function e(t){var r;return On().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.a.get("https://api.postalpincode.in/pincode/".concat(t));case 3:r=e.sent,I(r.data[0].PostOffice[0]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),K="Domestic"===v&&w&&(""===C.gst_number||C.gst_number.toString().length>15)?"GST NO should be less than or equal to 15 Digit":"",Z="Domestic"!==v||!j||""!==C.pan_number&&(H=C.pan_number,/[A-Z]{5}[0-9]{4}[A-Z]{1}/.test(H))?"":"Invalid PAN No.",X=function(){var e=Object(c.a)(On().mark(function e(r){var n,a;return On().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.preventDefault(),m(!0),!K&&!Z){e.next=6;break}return m(!1),e.abrupt("return");case 6:return n={type:v,name:C.name,address:C.address,pincode:C.pincode||null,state:"Domestic"===v?A?A.State:"":C.state,city:"Domestic"===v?A?A.District:"":C.city,website:C.website_url,estd_date:C.estd_date||null,gst_number:C.gst_number,pan_number:C.pan_number,total_sales_turnover:C.total_sale,country:"Domestic"===v?"India":C.country?C.country:null},e.next=9,Kr.createVendorData(n);case 9:a=e.sent,z(a.data.vendor_id),B("Vendor created successfully"),t(),m(!1),s(!0),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(0),M(e.t0),console.log("createing company detail error",e.t0),m(!1);case 22:case"end":return e.stop()}},e,null,[[0,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:U.open,onClose:q,severity:U.severity,message:U.message}),a.a.createElement(Je,{open:p}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return X(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(a.a.Fragment,null,a.a.createElement(wt.a,null,a.a.createElement(Qr.a,{id:"demo-row-radio-buttons-group-label"},"Type"),a.a.createElement(Hr.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:v,onChange:function(e){var t=e.target.value;g(t),"Domestic"===t&&T(Object(u.a)({},C,{country:"India"}))}},a.a.createElement(pr.a,{value:"International",control:a.a.createElement(Jr.a,null),label:"International"}),a.a.createElement(pr.a,{value:"Domestic",control:a.a.createElement(Jr.a,null),label:"Domestic"}))))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{size:"small",id:"grouped-demo",options:"International"===v?xn:[],getOptionLabel:function(e){return e.name},value:"Domestic"===v?{name:"India"}:C.country?{name:C.country}:null,onChange:function(e,t){return Q(e)},label:"Enter Country Name"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{size:"small",id:"custom-demo",options:[{name:"Vendor"},{name:"Job Worker"},{name:"Vendor/Job Worker"},{name:"Scrap"}],getOptionLabel:function(e){return e.name},value:C.vendor_source?{name:C.vendor_source}:null,onChange:function(e,t){return Q(e)},label:"Source"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Vendor Name",variant:"outlined",value:C.name,onChange:Q})),"Domestic"===v?a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"pincode",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:C.pincode,onChange:Q,onBlur:Q})):null,a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:"Domestic"===v?A.State?A.State:"":C.state,onChange:Q})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"city",size:"small",label:"City",variant:"outlined",value:"Domestic"===v?A.District?A.District:"":C.city,onChange:Q})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"website_url",label:"website Url",variant:"outlined",value:C.website_url,onChange:Q})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"estd_date",size:"small",label:"Estd.Date",variant:"outlined",value:C.estd_date,onChange:Q})),"Domestic"===v?a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"gst_number",label:"GST No.",variant:"outlined",value:C.gst_number,onChange:Q,error:""!==K,helperText:K,onFocus:function(){return x(!0)},onBlur:function(){return x(!1)}})):null,"Domestic"===v?a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,size:"small",name:"pan_number",label:"Pan No.",variant:"outlined",value:C.pan_number,onChange:Q,error:""!==Z,helperText:Z,onFocus:function(){return L(!0)},onBlur:function(){return L(!1)}})):null,a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"total_sale",size:"small",type:"number",label:"Total Sale",variant:"outlined",value:C.total_sale,onChange:Q})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:C.address,onChange:Q}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")),a.a.createElement(Ce,{maxWidth:"lg",title:"Create Customer",openPopup:i,setOpenPopup:s},a.a.createElement(wn,{setOpenPopup:s,getAllVendorDetails:t,recordForEdit:W})))};function jn(){jn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ln=function(e){var t=e.setOpenPopup,r=e.getAllVendorDetails,o=e.recordForEdit,i=Object(n.useState)(!1),f=Object(l.a)(i,2),h=f[0],p=f[1],m=Object(n.useState)(o.type),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(o),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=gt(),S=L.handleSuccess,k=L.handleError,P=L.handleCloseSnackbar,C=L.alertInfo,T=Object(s.b)(),N=function(e,t){if("string"===typeof e&&t&&t.hasOwnProperty("name"))w(Object(u.a)({},E,Object(Y.a)({},e,t.name)));else if(e.target){var r=e.target,n=r.name,a=r.value;w(Object(u.a)({},E,Object(Y.a)({},n,a)))}};Object(n.useEffect)(function(){T(q(o.name))},[]);var D=function(e){return e.length<=14},A=function(){var e=Object(c.a)(jn().mark(function e(n){var a;return jn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),p(!0),a={type:y,name:E.name,vendor_source:E.vendor_source,address:E.address,pincode:E.pincode,state:"Domestic"===y&&E.state,city:"Domestic"===y&&E.city,website:E.website,estd_date:E.estd_date,gst_number:E.gst_number,pan_number:E.pan_number,total_sales_turnover:E.total_sales_turnover,country:"Domestic"===y?"India":E.country?E.country:null},e.next=6,Kr.updateVendorData(E.id,a);case 6:S("Vendor updated successfully"),setTimeout(function(){t(!1)},300),p(!1),r(),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(0),k(e.t0),console.log("createing company detail error",e.t0),j(e.t0.response.data.errors?e.t0.response.data.errors.pan_number:""),p(!1);case 18:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return console.log("typeData",y),console.log("value","Domestic"===y?E.country?E.country:"India":E.country?E.country:null),a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:C.open,onClose:P,severity:C.severity,message:C.message}),a.a.createElement(Je,{open:h}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return A(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(a.a.Fragment,null,a.a.createElement(wt.a,null,a.a.createElement(Qr.a,{id:"demo-row-radio-buttons-group-label"},"Type"),a.a.createElement(Hr.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:y||"",onChange:function(e){var t=e.target.value;v(t),"Domestic"===t&&w(Object(u.a)({},E,{country:"India"}))}},a.a.createElement(pr.a,{value:"International",control:a.a.createElement(Jr.a,null),label:"International"}),a.a.createElement(pr.a,{value:"Domestic",control:a.a.createElement(Jr.a,null),label:"Domestic"}))))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{size:"small",id:"grouped-demo",options:"International"===y?xn:[],getOptionLabel:function(e){return e.name},value:"Domestic"===y?{name:"India"}:E.country?{name:E.country}:null,onChange:function(e,t){return N(e,t)},label:"International"===y?"Enter Country Name":"Country"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{size:"small",id:"custom-demo",options:[{name:"Vendor"},{name:"Job Worker"},{name:"Vendor/Job Worker"},{name:"Scrap"}],getOptionLabel:function(e){return e.name},value:E.vendor_source?{name:E.vendor_source}:null,onChange:function(e,t){return N("vendor_source",t)},label:"Source"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Company Name",variant:"outlined",value:(E.name,E.name),onChange:N,InputLabelProps:{shrink:!0}})),"Domestic"===y?a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"pincode",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:E.pincode?E.pincode:"",onChange:N,onBlur:N})):null,a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:"Domestic"===y&&E.state,onChange:N,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"city",size:"small",label:"City",variant:"outlined",value:"Domestic"===y&&E.city,onChange:N,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"website",label:"website Url",variant:"outlined",value:E.website?E.website:"",onChange:N,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"estd_date",size:"small",label:"Estd.Date",variant:"outlined",value:E.estd_date?E.estd_date:"",onChange:N,InputLabelProps:{shrink:!0}})),"Domestic"===y?a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"gst_number",label:"GST No.",variant:"outlined",value:E.gst_number?E.gst_number:"",onChange:N,InputLabelProps:{shrink:!0},error:D(E.gst_number?E.gst_number.toString():""),helperText:D(E.gst_number?E.gst_number.toString():"")?"GST NO should be less than or equal to 15 Digit":""})):null,"Domestic"===y?a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,size:"small",name:"pan_number",label:"Pan No.",variant:"outlined",value:E.pan_number?E.pan_number:"",onChange:N,error:""===E.pan_number,helperText:_,InputLabelProps:{shrink:!0}})):null,a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"total_sales_turnover",size:"small",type:"number",label:"Total Sale",variant:"outlined",value:E.total_sales_turnover?E.total_sales_turnover:"",onChange:N,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:E.address?E.address:"",onChange:N,InputLabelProps:{shrink:!0}}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Sn(){Sn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var kn=function(e){var t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],u=e.setOpenPopup,s=e.getAllVendorDetails,f=e.recordForEdit,h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(0),P=Object(l.a)(k,2),C=P[0],T=P[1],N=gt(),D=N.handleError,A=N.handleCloseSnackbar,I=N.alertInfo;Object(n.useEffect)(function(){f&&F()},[f]);var F=function(){var e=Object(c.a)(Sn().mark(function e(){var t;return Sn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Kr.getVendorDataById(f.id);case 4:t=e.sent,S(t.data),d(t.data.bank),b(t.data.contacts),O(t.data.warehouse),i(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),D(e.t0),i(!1),console.log("company data by id error",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:I.open,onClose:A,severity:I.severity,message:I.message}),a.a.createElement(Je,{open:o}),a.a.createElement("div",null,a.a.createElement(Xr,{tabs:[{label:"Vendor"},{label:"Bank"},{label:"Contact"},{label:"WareHouse"}],activeTab:C,onTabChange:function(e){T(e)}}),a.a.createElement("div",{style:{marginTop:"10px"}},0===C&&a.a.createElement("div",null,a.a.createElement(Ln,{setOpenPopup:u,getAllVendorDetails:s,recordForEdit:f})),1===C&&a.a.createElement("div",null,a.a.createElement(on,{vendorData:L,bankData:m,open:o,getAllVendorDetailsByID:F})),2===C&&a.a.createElement("div",null,a.a.createElement(mn,{contactData:g,vendorData:L,open:o,getAllVendorDetailsByID:F})),3===C&&a.a.createElement("div",null,a.a.createElement(bn,{vendorData:L,contactData:g,wareHousedata:x,open:o,getAllVendorDetailsByID:F})))))},Pn={getAllColour:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("api/product/color/?".concat(r.toString()))},createColour:function(e){return ge.post("/api/product/color/",e)},updateColour:function(e,t){return ge.patch("/api/product/color/".concat(e),t)},getAllBrand:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("api/product/brand/?".concat(r.toString()))},createBrand:function(e){return ge.post("/api/product/brand/",e)},updateBrand:function(e,t){return ge.patch("/api/product/brand/".concat(e),t)},getAllBasicUnit:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("api/product/basic-unit/?".concat(r.toString()))},createBasicUnit:function(e){return ge.post("/api/product/basic-unit/",e)},updateBasicUnit:function(e,t){return ge.patch("/api/product/basic-unit/".concat(e),t)},getAllUnit:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("api/product/unit/?".concat(r.toString()))},createUnit:function(e){return ge.post("/api/product/unit/",e)},updateUnit:function(e,t){return ge.patch("/api/product/unit/".concat(e),t)},getAllPackingUnit:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("api/product/packing-unit/?".concat(r.toString()))},createPackingUnit:function(e){return ge.post("/api/product/packing-unit/",e)},updatePackingUnit:function(e,t){return ge.patch("/api/product/packing-unit/".concat(e),t)},getAllDescription:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("api/product/description/?".concat(r.toString()))},getYesDescription:function(){return ge.get("/api/product/description-yes")},getNoDescription:function(){return ge.get("/api/product/description-no")},createDescription:function(e){return ge.post("/api/product/description/",e)},updateDescription:function(e,t){return ge.patch("/api/product/description/".concat(e),t)},getAllProductCode:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("api/product/product-code/?".concat(r.toString()))},createProductCode:function(e){return ge.post("/api/product/product-code/",e)},updateProductCode:function(e,t){return ge.patch("/api/product/product-code/".concat(e),t)},getAllConsumable:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("api/product/consumables/?".concat(r.toString()))},createConsumable:function(e){return ge.post("/api/product/consumables/",e)},updateConsumable:function(e,t){return ge.patch("/api/product/consumables/".concat(e),t)},getAllFinishGoods:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("api/product/finished-goods/?".concat(r.toString()))},createFinishGoods:function(e){return ge.post("/api/product/finished-goods/",e)},updateFinishGoods:function(e,t){return ge.patch("/api/product/finished-goods/".concat(e),t)},getAllFinishGoodsProducts:function(){return ge.get("api/product/finish-goods-list/")},getAllRawMaterials:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("api/product/raw-materials/?".concat(r.toString()))},createRawMaterials:function(e){return ge.post("/api/product/raw-materials/",e)},updateRawMaterials:function(e,t){return ge.patch("/api/product/raw-materials/".concat(e),t)},getAllPriceList:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("validity",t),r&&n.append("search",r),ge.get("api/product/pricelist/?".concat(n.toString()))},createPriceList:function(e){return ge.post("/api/product/pricelist/",e)},getAllValidPriceList:function(e){return ge.get("/api/product/pricelist/?page=".concat(e))},getProductPriceList:function(){return ge.get("/api/product/product-pricelist/")},updatePriceList:function(e,t){return ge.patch("/api/product/pricelist/".concat(e),t)},getAllProduct:function(){return ge.get("/api/product/product/")},uploadCSVFile:function(e){return ge.post("/api/product/upload-csv/",e)}};function Cn(){Cn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Tn=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),Nn=function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getAllVendorDetails,i=Object(s.c)(function(e){return{sellerData:e.auth.sellerAccount,userData:e.auth.profile}}),f=i.sellerData,h=i.userData,p=(new Date).toISOString().slice(0,10),m=Object(n.useState)({created_by:h.email,po_date:p,schedule_date:p,vendor:t.name,vendor_type:t.type,vendor_email:"",vendor_contact_person:"",vendor_contact:"",seller_account:"",payment_terms:"",delivery_terms:"",currency:"",products:[{product:"",quantity:"",unit:"",amount:"",rate:""}]}),d=Object(l.a)(m,2),v=d[0],g=d[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(!1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)([]),N=Object(l.a)(T,2),D=N[0],A=N[1],I=gt(),F=I.handleSuccess,G=I.handleError,W=I.handleCloseSnackbar,z=I.alertInfo;console.log("inputVales",v);var R=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;g(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},[]),B=Object(n.useCallback)(function(e,r){g(function(n){var a=Object(u.a)({},n,Object(Y.a)({},e,r));if("vendor_contact_person"===e){var o=t.contacts.find(function(e){return e.name===r});o&&(a.vendor_contact=o.contact,a.vendor_email=o.email),"Domestic"===t.type?a.currency="INR":"International"===t.type&&(a.currency="")}return a})},[t.type,t.contacts]),M=function(e,t,r){g(function(n){var a=Object(vr.a)(n.products),o=Object(u.a)({},a[e]);if(o[t]=r,"quantity"===t||"rate"===t){var i=o.quantity?parseFloat(o.quantity):0,c=o.rate?parseFloat(o.rate):0;o.amount=(i*c).toFixed(2)}return a[e]=o,Object(u.a)({},n,{products:a})})},q=Object(n.useCallback)(function(){M(v.products.length,"",""),x([].concat(Object(vr.a)(w),[""]))},[v.products.length,M]);Object(n.useEffect)(function(){t&&g(function(e){return Object(u.a)({},e,{vendor_type:t.type})})},[t]),Object(n.useEffect)(function(){V(),U()},[t]);var U=function(){var e=Object(c.a)(Cn().mark(function e(){var r,n;return Cn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,e.next=4,Kr.getCurrencyData();case 4:(r=e.sent)&&r.data&&(n=r.data,"International"===t.type&&(n=n.filter(function(e){return"INR"!==e.name})),A(n),"Domestic"!==t.type||v.currency||g(function(e){return Object(u.a)({},e,{currency:"INR"})})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),G(e.t0),console.error("Error fetching currency data",e.t0);case 12:return e.prev=12,L(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,8,12,15]])}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(Cn().mark(function e(){var t;return Cn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,Pn.getAllProduct();case 4:t=e.sent,C(t.data),L(!1),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),G(e.t0),console.error("error potential",e.t0),L(!1);case 14:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(Cn().mark(function e(t){var n;return Cn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),L(!0),n={created_by:v.created_by,vendor:v.vendor,vendor_type:v.vendor_type,vendor_email:v.vendor_email,vendor_contact_person:v.vendor_contact_person,vendor_contact:v.vendor_contact,seller_account:v.seller_account,payment_terms:v.payment_terms,delivery_terms:v.delivery_terms,schedule_date:v.schedule_date,currency:v.currency,po_date:v.po_date,products:v.products||[]},e.next=6,Kr.createPurchaseOrderData(n);case 6:e.sent&&o(),F("Purchase Order Created Successfully"),setTimeout(function(){r(!1)},300),L(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),G(e.t0),console.log("createing Packing list error",e.t0),L(!1);case 18:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:z.open,onClose:W,severity:z.severity,message:z.message}),a.a.createElement(Je,{open:j}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return Q(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Vendor",variant:"outlined",value:t.name||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",disablePortal:!0,id:"combo-box-demo",options:t.contacts,getOptionLabel:function(e){return e.name},onChange:function(e,t){return B("vendor_contact_person",t.name)},label:"Vendor Contact Person"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{disabled:!0,fullWidth:!0,size:"small",label:"Vendor Type",variant:"outlined",value:v.vendor_type||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return B("seller_account",t)},options:f.map(function(e){return e.unit}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Buyer Account"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return g(Object(u.a)({},v,{payment_terms:t}))},options:Dn.map(function(e){return e}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Payment Terms"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return g(Object(u.a)({},v,{delivery_terms:t}))},options:An.map(function(e){return e}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Delivery Terms"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,type:"date",name:"po_date",size:"small",label:"Purchase Order Date",variant:"outlined",value:v.po_date,InputProps:{inputProps:{min:p,max:p}}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",disablePortal:!0,id:"currency-autocomplete",value:D.find(function(e){return e.name===v.currency})||null,onChange:function(e,t){return g(Object(u.a)({},v,{currency:t.name}))},options:D.map(function(e){return e}),getOptionLabel:function(e){return"".concat(e.name," (").concat(e.symbol,")")},sx:{minWidth:300},label:"Currency"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"schedule_date",size:"small",label:"Schedule Date",variant:"outlined",value:v.schedule_date,onChange:R,InputProps:{inputProps:{min:p}}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Tn,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),v.products.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{key:t,item:!0,xs:12,sm:3},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo-".concat(t),value:e.product?e.product:"",onChange:function(e,r){return function(e,t){if(t){var r=P.find(function(e){return e.name===t});r?g(function(n){var a=n.products.map(function(n,a){return a===e?Object(u.a)({},n,{product:t,unit:r.unit}):n});return Object(u.a)({},n,{products:a})}):console.error("Selected product not found in product options")}}(t,r)},options:P.map(function(e){return e.name}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"unit",size:"small",label:"Unit",variant:"outlined",value:e.unit?e.unit:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity||"",onChange:function(e){return M(t,"quantity",e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate||"",onChange:function(e){return M(t,"rate",e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,name:"amount",size:"small",label:"Amount",variant:"outlined",value:e.amount||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:1,alignContent:"right"},0!==t&&a.a.createElement(We.a,{disabled:0===t,onClick:function(){return function(e){g(function(t){var r=t.products.filter(function(t,r){return r!==e}),n=t.products[e].product;return x(w.filter(function(e){return e!==n})),Object(u.a)({},t,{products:r})})}(t)},variant:"contained"},"Remove")))}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2,alignContent:"right"},a.a.createElement(We.a,{onClick:q,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},Dn=["100% Advance against PI","50% Advance, Balance Before Dispatch","30% Advance, Balance Before Dispatch","15 days with PDC (Post-Dated Check)","30 days with PDC","45 days with PDC","60 days with PDC","15 days credit","30 days credit","45 days credit","60 days credit","90 days credit","120 days credit","TT in 100% advance against PI","10% Advance, balance against bill of lading","15% Advance, balance against bill of lading","20% Advance, balance against bill of lading","30% Advance, balance against bill of lading","50% Advance, balance against bill of lading","60 days against documents","90 days against documents","120 days against documents","LC at Sight","LC 45 days","LC 60 days"],An=["Ex-Work","FOB (Free On Board)","CIF (Cost, Insurance, and Freight)","C & F (Cost and Freight)","Door Delivery (Prepaid)","Door Delivery to pay","Transporter Warehouse (Prepaid)","Transporter Warehouse to pay","Add actual freight in invoice","Ex - warehouse"];function In(){In=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Fn=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),Gn=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getAllVendorDetails,i=e.currentPage,f=Object(s.c)(function(e){return{sellerData:e.auth.sellerAccount,userData:e.auth.profile}}),h=f.sellerData,p=f.userData,m=(new Date).toISOString().slice(0,10),d=Object(n.useState)({created_by:p.email,schedule_date:m,job_worker:t.name,vendor_type:t.type,vendor_contact_person:"",buyer_account:"",delivery_term:"",transporter_name:"",transpotation_cost:"",vechile_no:"",products:[{product:"",quantity:"",unit:""}]}),v=Object(l.a)(d,2),g=v[0],b=v[1],E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)([]),P=Object(l.a)(k,2),C=P[0],T=P[1],N=gt(),D=N.handleSuccess,A=N.handleError,I=N.handleCloseSnackbar,F=N.alertInfo,G=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;b(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},[]),W=Object(n.useCallback)(function(e,r){b(function(n){var a=Object(u.a)({},n,Object(Y.a)({},e,r));if("vendor_contact_person"===e){var o=t.contacts.find(function(e){return e.name===r});o&&(a.vendor_contact=o.contact,a.vendor_email=o.email),"Domestic"===t.type?a.currency="INR":"International"===t.type&&(a.currency="")}return a})},[t.type,t.contacts]),z=function(e,t,r){b(function(n){var a=Object(vr.a)(n.products),o=Object(u.a)({},a[e]);if(o[t]="quantity"===t?parseInt(r,10)||"":"rate"===t?parseFloat(r)||"":r,"quantity"===t||"rate"===t){var i=parseInt(o.quantity,10)||0,c=parseFloat(o.rate)||0;o.amount=Math.round(i*c)}return a[e]=o,Object(u.a)({},n,{products:a})})},R=Object(n.useCallback)(function(){z(g.products.length,"",""),O([].concat(Object(vr.a)(x),[""]))},[g.products.length,z]);Object(n.useEffect)(function(){t&&b(function(e){return Object(u.a)({},e,{vendor_type:t.type})})},[t]),Object(n.useEffect)(function(){B()},[t]);var B=function(){var e=Object(c.a)(In().mark(function e(){var t;return In().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,Pn.getAllRawMaterials("all");case 4:t=e.sent,T(t.data),S(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error potential",e.t0),S(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(c.a)(In().mark(function e(t){var n;return In().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),S(!0),n={created_by:g.created_by,job_worker:g.job_worker,vendor_type:g.vendor_type,vendor_contact_person:g.vendor_contact_person,buyer_account:g.buyer_account,payment_terms:g.payment_terms,delivery_term:g.delivery_terms,schedule_date:g.schedule_date,transporter_name:g.transporter_name,transpotation_cost:parseFloat(g.transpotation_cost),vechile_no:g.vechile_no,products:g.products||[]},e.next=6,Kr.createChalan(n);case 6:e.sent&&o(i),D("Chalan created successfully"),setTimeout(function(){r(!1)},300),S(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),A(e.t0),console.log("createing Challan error",e.t0),S(!1);case 18:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:F.open,onClose:I,severity:F.severity,message:F.message}),a.a.createElement(Je,{open:L}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return M(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Vendor",variant:"outlined",value:t.name||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",disablePortal:!0,id:"combo-box-demo",options:t.contacts,getOptionLabel:function(e){return e.name},onChange:function(e,t){return W("vendor_contact_person",t.name)},label:"Vendor Contact Person"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{disabled:!0,fullWidth:!0,size:"small",label:"Vendor Type",variant:"outlined",value:g.vendor_type||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return W("buyer_account",t)},options:h.map(function(e){return e.unit}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Buyer Account"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return b(Object(u.a)({},g,{delivery_terms:t}))},options:Wn.map(function(e){return e}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Delivery Terms"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"transporter_name",size:"small",label:"Transporter Name",variant:"outlined",value:g.transporter_name,onChange:G})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,type:"number",name:"transpotation_cost",size:"small",label:"Transportation Cost",variant:"outlined",value:g.transpotation_cost,onChange:G})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"vechile_no",size:"small",label:"Vehicle No",variant:"outlined",value:g.vechile_no,onChange:G})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"schedule_date",size:"small",label:"Schedule Date",variant:"outlined",value:g.schedule_date,onChange:G,InputProps:{inputProps:{min:m}}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Fn,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),g.products.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{key:t,item:!0,xs:12,sm:3},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo-".concat(t),value:e.product?e.product:"",onChange:function(e,r){return function(e,t){if(t){var r=C.find(function(e){return e.name===t});r?b(function(n){var a=n.products.map(function(n,a){return a===e?Object(u.a)({},n,{product:t,unit:r.unit}):n});return Object(u.a)({},n,{products:a})}):console.error("Selected product not found in product options")}}(t,r)},options:C.map(function(e){return e.name}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"unit",size:"small",label:"Unit",variant:"outlined",value:e.unit?e.unit:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity||"",onChange:function(e){return z(t,"quantity",e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:1,alignContent:"right"},0!==t&&a.a.createElement(We.a,{disabled:0===t,onClick:function(){return function(e){b(function(t){var r=t.products.filter(function(t,r){return r!==e}),n=t.products[e].product;return O(x.filter(function(e){return e!==n})),Object(u.a)({},t,{products:r})})}(t)},variant:"contained"},"Remove")))}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2,alignContent:"right"},a.a.createElement(We.a,{onClick:R,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))}),Wn=["Ex-Work","Ex - warehouse"];function zn(){zn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Rn=function(){var e=Object(s.b)(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(!1),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)([]),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(1),I=Object(l.a)(A,2),F=I[0],W=I[1],z=Object(n.useState)(0),R=Object(l.a)(z,2),B=R[0],M=R[1],q=Object(n.useState)(""),U=Object(l.a)(q,2),Y=U[0],V=U[1],Q=Object(s.c)(function(e){return e.auth.profile}),H=Object(n.useState)(),J=Object(l.a)(H,2),K=J[0],Z=J[1],X=gt(),$=X.handleError,ee=X.handleCloseSnackbar,te=X.alertInfo;Object(n.useEffect)(function(){re()},[]);var re=function(){var t=Object(c.a)(zn().mark(function t(){var r;return zn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),t.next=4,st.getAllPaginateSellerAccountData("all");case 4:r=t.sent,e(G(r.data)),j(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),$(t.t0),j(!1);case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(){return t.apply(this,arguments)}}(),ne=Object(n.useCallback)(function(){var e=Object(c.a)(zn().mark(function e(t){var r,n,a=arguments;return zn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:Y,e.prev=1,j(!0),e.next=5,Kr.getAllVendorData(t,r,K);case 5:n=e.sent,P(n.data.results),M(Math.ceil(n.data.count/25)),j(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),$(e.t0),j(!1),console.error("error",e.t0);case 16:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),[Y,K]);Object(n.useEffect)(function(){ne(F)},[F,K,Y,ne]);var ae=[{label:"Vendor",value:"Vendor"},{label:"Job Worker",value:"Job Worker"},{label:"Vendor/ Job Worker",value:"Vendor/Job Worker"},{label:"Scrap",value:"Scrap"}],oe=k.map(function(e){return{id:e.id,name:e.name,vendor_source:e.vendor_source,type:e.type,pan_number:e.pan_number,gst_number:e.gst_number,city:e.city,state:e.state}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:te.open,onClose:ee,severity:te.severity,message:te.message}),a.a.createElement(Je,{open:_}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{value:ae.find(function(e){return e.value===K})||null,onChange:function(e,t){Z(t?t.value:"")},options:ae,getOptionLabel:function(e){return e.label},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Source Filter",fullWidth:!0}))},fullWidth:!0,size:"small"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){V(e),W(1)},onReset:function(){V(""),W(1)}})))),a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement("h3",{style:{textAlign:"left",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Vendor")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},(Q.groups.includes("Accounts")||Q.groups.includes("Director")||Q.groups.includes("Accounts Executive"))&&a.a.createElement(We.a,{onClick:function(){return p(!0)},variant:"contained",color:"success"},"Add")))),a.a.createElement(dt,{headers:["ID","Vendor","Source","Type","Pan No.","Gst No.","City","State","Action"],data:oe,openInPopup:Q.groups.includes("Purchase")?null:function(e){var t=k.find(function(t){return t.id===e.id});D(t),i(!0)},openInPopup2:function(e){var t=k.find(function(t){return t.id===e.id});D(t),v(!0)},openInPopup3:function(e){var t=k.find(function(t){return t.id===e.id});D(t),w(!0)},openInPopup4:null,ButtonText:(!Q.groups.includes("Accounts Executive")||!Q.groups.includes("Accounts"))&&"Create PO",ButtonText1:(!Q.groups.includes("Accounts Executive")||!Q.groups.includes("Accounts"))&&"Challan Register"}),a.a.createElement(Vr,{currentPage:F,totalPages:B,handlePageChange:function(e,t){W(t)}}))),a.a.createElement(Ce,{fullScreen:!0,title:"Create Vendor Details",openPopup:h,setOpenPopup:p},a.a.createElement(_n,{setOpenPopup:p,getAllVendorDetails:ne})),a.a.createElement(Ce,{fullScreen:!0,title:"Update Vendor Details",openPopup:o,setOpenPopup:i},a.a.createElement(kn,{setOpenPopup:i,getAllVendorDetails:ne,recordForEdit:N})),a.a.createElement(Ce,{fullScreen:!0,title:"Purchase Order",openPopup:y,setOpenPopup:v},a.a.createElement(Nn,{setOpenPopup:v,recordForEdit:N,getAllVendorDetails:ne})),a.a.createElement(Ce,{fullScreen:!0,title:"Create Challan Register",openPopup:E,setOpenPopup:w},a.a.createElement(Gn,{setOpenPopup:w,getAllVendorDetails:ne,recordForEdit:N,currentPage:F})))},Bn=r(18),Mn={getProductForecast:function(){return ge.get("/api/forecast/list-product-forecast/")},getByFilterProductForecast:function(e,t){return ge.get("/api/forecast/list-product-forecast/?".concat(e,"=").concat(t))},getAllPaginateProductForecast:function(e){return ge.get("/api/forecast/list-product-forecast/?page=".concat(e))},getAllPaginateProductForecastWithSearch:function(e,t,r){return ge.get("/api/forecast/list-product-forecast/?page=".concat(e,"&").concat(t,"=").concat(r))},getAllSearchProductForecast:function(e,t){return ge.get("/api/forecast/list-product-forecast/?".concat(e,"=").concat(t))},getAllProductForecastPaginate:function(e,t,r){return ge.get("/api/forecast/list-product-forecast/?page=".concat(e,"&").concat(t,"=").concat(r))},getProductForecastPaginateData:function(e){return ge.get("/api/forecast/list-product-forecast/?page=".concat(e))},updateProductForecast:function(e,t){return ge.patch("/api/forecast/list-product-forecast/".concat(e),t)},getAllCurrentMonthData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("product_forecast__sales_person__email",t),r&&n.append("search",r),ge.get("/api/forecast/list-current-month-forecast/?".concat(n.toString()))},updateAnticipatedDate:function(e,t){return ge.patch("/api/forecast/list-quantity-forecast/".concat(e),t)},getAllCustomerNotHavingData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("sales_person__email",t),r&&n.append("search",r),ge.get("/api/forecast/list-product-not-having-forecast/?".concat(n.toString()))},getAllCustomerHavingData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("sales_person__email",t),r&&n.append("search",r),ge.get("/api/forecast/list-product-having-forecast/?".concat(n.toString()))},getAllDeadCustomerData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("assigned_to__email",t),r&&n.append("search",r),ge.get("/api/forecast/list-dead-customers/?".concat(n.toString()))},getAllProductWiseForecastData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/forecast/list-product-wise-forecast/?".concat(r.toString()))},getAllDescriptionWiseForecastData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/forecast/list-description-wise-forecast/?".concat(r.toString()))},getLastThreeMonthForecastData:function(){return ge.get("/api/forecast/last-three-month-forecast/")},getConsLastThreeMonthForecastData:function(){return ge.get("/api/forecast/consolidated-last-three-month-forecast/")},getLastThreeMonthForecastDataByFilter:function(e){return ge.get("/api/forecast/last-three-month-forecast/?product_forecast__sales_person__email=".concat(e))},getProductWiseTurnoverForecast:function(e,t){var r=new URLSearchParams;return t&&r.append("sales_person__email",t),ge.get("api/forecast/productwise-turnover/?".concat(r.toString()))}},qn=r(613),Un=r(658),Yn=r(659),Vn=r(660),Qn=r(661),Hn=r(662),Jn=r(229),Kn={getAllCustomerData:function(e,t,r,n){var a=new URLSearchParams;return e&&a.append("status",e),t&&a.append("page",t),r&&a.append("assigned_to__email",r),n&&a.append("search",n),ge.get("/api/customer/list-company/?".concat(a.toString()))},getIncompleteKycCustomerData:function(e,t,r){var n=new URLSearchParams;return n.append("is_verified",!1),e&&n.append("page",e),t&&n.append("assigned_to__email",t),r&&n.append("search",r),ge.get("/api/customer/list-company/?".concat(n.toString()))},getInActiveCustomerData:function(e,t){var r=new URLSearchParams;return r.append("is_active",!1),e&&r.append("page",e),t&&r.append("search",t),ge.get("api/customer/list-company/?".concat(r.toString()))},createCompanyData:function(e){return ge.post("/api/customer/list-company/",e)},getCompanyDataById:function(e){return ge.get("/api/customer/list-company/".concat(e))},getCompanyDataByIdWithType:function(e,t){return ge.get("/api/customer/list-company/".concat(e,"?type=").concat(t))},getSalesHistoryDataByIdWithType:function(e,t,r){return ge.get("/api/customer/list-company/".concat(e,"?type=").concat(t,"&year_month=").concat(r))},updateCompanyData:function(e,t){return ge.patch("/api/customer/list-company/".concat(e),t)},getUnassignedData:function(e,t,r){var n=new URLSearchParams;return n.append("unassigned",!0),e&&n.append("page",e),t&&n.append("search",t),r&&n.append("type_of_customer",r),ge.get("api/customer/list-company/?".concat(n.toString()))},getBankDataById:function(e){return ge.get("/api/customer/list-bank/".concat(e))},createBankData:function(e){return ge.post("/api/customer/list-bank/",e)},updateBankData:function(e,t){return ge.patch("/api/customer/list-bank/".concat(e),t)},createContactData:function(e){return ge.post("/api/customer/list-contact/",e)},getContactDataById:function(e){return ge.get("/api/customer/list-contact/".concat(e))},updateContactData:function(e,t){return ge.patch("/api/customer/list-contact/".concat(e),t)},getAllContactData:function(){return ge.get("/api/customer/list-contact/")},createWareHouseData:function(e){return ge.post("/api/customer/list-warehouse/",e)},updatetWareHouseData:function(e,t){return ge.patch("/api/customer/list-warehouse/".concat(e),t)},getWareHouseDataById:function(e){return ge.get("/api/customer/list-warehouse/".concat(e))},createSecurityChequeData:function(e){return ge.post("/api/customer/list-securitycheque/",e)},getSecurityChequeDataById:function(e){return ge.get("/api/customer/list-securitycheque/".concat(e))},updateSecurityChequeData:function(e,t){return ge.patch("/api/customer/list-securitycheque/".concat(e),t)},createForecastData:function(e){return ge.post("/api/forecast/list-product-forecast/",e)},getForecastDataById:function(e){return ge.get("/api/forecast/list-product-forecast/".concat(e))},updateForecastData:function(e,t){return ge.patch("/api/forecast/list-quantity-forecast/".concat(e),t)},createProductForecastData:function(e){return ge.post("/api/forecast/list-quantity-forecast/",e)},updateProductForecastData:function(e,t){return ge.patch("/api/forecast/list-quantity-forecast/".concat(e),t)},createFollowUpCustomer:function(e){return ge.post("/api/customer/customer-followup/",e)},getCustomerFollowUp:function(){return ge.get("/api/customer/list-followup/")},DoneFollowup:function(e,t){return ge.patch("/api/customer/list-followup/".concat(e),t)},createPotentialCustomer:function(e){return ge.post("/api/customer/list-company-potential/",e)},updatePotentialCustomer:function(e,t){return ge.patch("/api/customer/list-company-potential/".concat(e),t)},BulkCustomerAssign:function(e){return ge.post("/api/customer/assign-bulk-customers/ ",e)},getAllCompetitors:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("api/customer/list-main-distribution/?".concat(r.toString()))},createCompetitorAPI:function(e){return ge.post("/api/customer/list-main-distribution/",e)},updateCompetitors:function(e,t){return ge.patch("/api/customer/list-main-distribution/".concat(e),t)},getAllGroupCompanies:function(e){return ge.get("/api/customer/list-group-company/?type_of_customer=".concat(e))},getAllWhatsappGroupData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,r=new URLSearchParams;return!t&&e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/customer/whatsapp-group-list/?".concat(r.toString()))},getCustomerNotHavingWhatsappGroup:function(e,t,r){var n=new URLSearchParams;return n.append("is_whatsapp",!1),e&&n.append("page",e),t&&n.append("search",t),r&&n.append("type_of_customer",r),ge.get("api/customer/whatsapp-group-list/?".concat(n.toString()))},getCustomerNotInGroupData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("search",t),r&&n.append("type_of_customer",r),ge.get("api/customer/whatsapp-customer/?".concat(n.toString()))},getSalesPersonNotInGroupData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("search",t),r&&n.append("type_of_customer",r),ge.get("api/customer/sales-person/?".concat(n.toString()))},createWhatsappData:function(e){return ge.post("/api/customer/whatsapp-group-list/",e)},createWhatsappImageData:function(e){return ge.post("/api/customer/whatsapp-image/",e)},createWhatsappPdfData:function(e){return ge.post("/api/customer/whatsapp-group-list/send-pdf/",e)},deleteWhatsappData:function(e){return ge.patch("/api/customer/whatsapp-group-list/".concat(e,"/"))},getWhatsappImageData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return ge.get("/api/customer/whatsapp-image/?page=".concat(e))},resendWhatsappMessage:function(e){return ge.post("/api/customer/whatsapp-image/unsent_message/",e)},bulkResendMessage:function(e){return ge.post("/api/customer/whatsapp-image/unsent_bulk_message/",e)},getAutomatioData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=new URLSearchParams;return e&&r.append("page",e),""!==t&&r.append("is_scheduled",t),ge.get("/api/whatsapp/whatsapp-automation/?".concat(r.toString()))},getAllEdc:function(){return ge.get("/api/customer/assign-to-edc/")},CreateEDC_Customer:function(e){return ge.post("/api/customer/assign-to-edc/",e)},EDC_List:function(){return ge.get("/api/customer/edc/")},RemoveEdc:function(e){return ge.post("/api/customer/edc/",e)},AllLeadEDC:function(e){return ge.get("/api/customer/lead-edc/?name=".concat(e))},AllEdcCustomer:function(e){return ge.get("/api/customer/customer-edc/?name=".concat(e))},createCCF:function(e){return ge.post("/api/customer/ccf/",e)},uploadCCFdocument:function(e){return ge.post("/api/customer/ccf-document/",e)},createCCFComplaintForm:function(e){return ge.post("/api/customer/ccf/",e)},getAllCCFData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/customer/ccf/?is_closed=false&".concat(r.toString()))},getAllClosedCCF:function(){return ge.get("/api/customer/ccf/?is_closed=true")},createComplaintpes:function(e){return ge.post("/api/customer/ccf-choice/",e)},getAllComplaintsList:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("department",t),ge.get("/api/customer/ccf-choice/?".concat(r.toString()))},getAllComplaintsListData:function(e,t){var r=new URLSearchParams;return e&&r.append("type",e),t&&r.append("department",t),ge.get("/api/customer/ccf-choice/?".concat(r.toString()))},getProductBaseCustomer:function(e,t,r){var n=new URLSearchParams;return e&&n.append("description",e),t&&n.append("customer",t),r&&n.append("product",r),ge.get("/api/customer/product-customer/?".concat(n.toString()))},getAllDescription:function(){return ge.get("/api/customer/description-product/")},CreateCapa:function(e){return ge.post("/api/customer/cpa/",e)},getAllCapaData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/customer/cpa/?".concat(r.toString()))},getCustomerLastPi:function(e,t){return ge.get("/api/invoice/customer-last-pi/?company=".concat(e,"&seller_account=").concat(t))},getProductLastPi:function(e,t,r){return ge.get("/api/invoice/pi-products/?company=".concat(e,"&seller_account=").concat(t,"&product=").concat(r))},getAllStatesList:function(){return ge.get("/api/customer/state/")},deleteCustomerContact:function(e){return ge.delete("/api/customer/list-contact/".concat(e))},getCustomerScheme:function(e){var t=new URLSearchParams;return e&&t.append("page",e),ge.get("/api/customer/scheme/?".concat(t.toString()))},createCustomerScheme:function(e){return ge.post("/api/customer/scheme/",e)},updateCustomerscheme:function(e,t){return ge.patch("/api/customer/scheme/".concat(e,"/"),t)},getCustomerStatus:function(){return ge.get("/api/master/model-option/?page=all&model_master__name=Customer Followup")}};function Zn(){Zn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Xn=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetailsByID,o=Object(n.useState)(!1),i=Object(l.a)(o,2),f=i[0],h=i[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(s.c)(function(e){return e.auth}),L=function(e){var t=e.target,r=t.name,n=t.value;y(Object(u.a)({},d,Object(Y.a)({},r,n)))};console.log("inputValue :>> ",d);var S=function(){var e=Object(c.a)(Zn().mark(function e(){var t,r;return Zn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),t=d.ifsc_code,e.next=5,ve.a.get("https://ifsc.razorpay.com/".concat(t));case 5:r=e.sent,E(r.data),_(""),h(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0),h(!1),404===e.t0.response.status&&_("please enter valid ifsc code.");case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(Zn().mark(function e(n){var a;return Zn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),h(!0),a={company:j?j.companyName:"",current_account_no:d.current_account_no,ifsc_code:d.ifsc_code,bank_name:b.BANK,address:b.ADDRESS,state:b.STATE,district:b.DISTRICT,city:b.CITY,branch:b.BRANCH,micr_code:b.MICR},e.next=6,Kn.createBankData(a);case 6:t(!1),h(!1),r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),h(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return k(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"current_account_no",label:"Account No",variant:"outlined",value:d.account_no,onChange:L})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{sx:{minWidth:"400px"},name:"ifsc_code",size:"small",label:"IFSC Code",variant:"outlined",value:d.ifsc_code,onChange:L,error:O&&O,helperText:O&&O}),a.a.createElement(We.a,{onClick:function(){return S()},variant:"contained",sx:{marginLeft:"1rem"}},"Validate")),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"bank_name",label:"Bank Name",variant:"outlined",value:b.BANK?b.BANK:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"branch",label:"Branch",variant:"outlined",value:b.BRANCH?b.BRANCH:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"micr_code",label:"MICR",variant:"outlined",value:b.MICR?b.MICR:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"district",label:"District",variant:"outlined",value:b.DISTRICT?b.DISTRICT:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"city",label:"City",variant:"outlined",value:b.CITY?b.CITY:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:b.STATE?b.STATE:""})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:b.ADDRESS?b.ADDRESS:""}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function $n(){$n=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ea=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetailsByID,o=e.idForEdit,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(""),g=Object(l.a)(v,2),b=g[0],E=g[1],w=function(e){var t=e.target,r=t.name,n=t.value;y(Object(u.a)({},d,Object(Y.a)({},r,n)))};Object(n.useEffect)(function(){x()},[o]);var x=function(){var e=Object(c.a)($n().mark(function e(){var t;return $n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Kn.getBankDataById(o);case 4:t=e.sent,y(t.data),h(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),h(!1),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)($n().mark(function e(){var t,r;return $n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),t=d.ifsc_code,e.next=5,ve.a.get("https://ifsc.razorpay.com/".concat(t));case 5:r=e.sent,y(Object(u.a)({},d,{bank_name:r.data.BANK,address:r.data.ADDRESS,district:r.data.DISTRICT,state:r.data.STATE,city:r.data.CITY,branch:r.data.BRANCH,micr_code:r.data.MICR})),E(""),h(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0),h(!1),404===e.t0.response.status&&E("please enter valid ifsc code.");case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(c.a)($n().mark(function e(n){var a;return $n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),h(!0),a={company:d.company,current_account_no:d.current_account_no,ifsc_code:d.ifsc_code,bank_name:d.bank_name,address:d.address,state:d.state,district:d.district,city:d.city,branch:d.branch,micr_code:d.micr_code},e.next=6,Kn.updateBankData(o,a);case 6:t(!1),h(!1),r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),h(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"current_account_no",label:"Account No",variant:"outlined",value:d.current_account_no?d.current_account_no:"",onChange:w})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{sx:{minWidth:"400px"},name:"ifsc_code",size:"small",label:"IFSC Code",variant:"outlined",value:d.ifsc_code||"",onChange:w,error:b&&b,helperText:b&&b}),a.a.createElement(We.a,{onClick:function(){return O()},variant:"contained",sx:{marginLeft:"1rem"}},"Validate")),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"bank_name",label:"Bank Name",variant:"outlined",value:d.bank_name||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"branch",label:"Branch",variant:"outlined",value:d.branch||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"micr",label:"MICR",variant:"outlined",value:d.micr_code||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"district",label:"District",variant:"outlined",value:d.district||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"city",label:"City",variant:"outlined",value:d.city||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:d.state||"",InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:d.address||""}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function ta(){ta=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ra=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),na=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),aa=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(!1),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)(),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(s.c)(function(e){return e.auth}).profile;Object(n.useEffect)(function(){t&&k()},[t]);var k=function(){var e=Object(c.a)(ta().mark(function e(){var r;return ta().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Kn.getCompanyDataByIdWithType(t,"bank");case 4:r=e.sent,L(r.data.bank),u(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),u(!1),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();return console.log("bankData :>> ",j),a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:i}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:2}),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Bank Details")),a.a.createElement(Ae.a,{flexGrow:.5,align:"right"},(S.groups.includes("Accounts")||S.groups.includes("Director"))&&a.a.createElement(We.a,{onClick:function(){return g(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(ra,{align:"center"},"ID"),a.a.createElement(ra,{align:"center"},"BANK"),a.a.createElement(ra,{align:"center"},"ACCOUNT NO."),a.a.createElement(ra,{align:"center"},"IFSC CODE"),a.a.createElement(ra,{align:"center"},"BRANCH"),a.a.createElement(ra,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,j&&j.map(function(e,t){return a.a.createElement(na,{key:t},a.a.createElement(ra,{align:"center"},e.id),a.a.createElement(ra,{align:"center"},e.bank_name),a.a.createElement(ra,{align:"center"},e.current_account_no),a.a.createElement(ra,{align:"center"},e.ifsc_code),a.a.createElement(ra,{align:"center"},e.branch),a.a.createElement(ra,{align:"center"},(S.groups.includes("Accounts")||S.groups.includes("Director"))&&a.a.createElement(We.a,{variant:"contained",onClick:function(){return t=e.id,x(t),void m(!0);var t}},"View")))}))))),a.a.createElement(Ce,{title:"Create Bank Details",openPopup:v,setOpenPopup:g},a.a.createElement(Xn,{setOpenPopup:g,getAllCompanyDetailsByID:k})),a.a.createElement(Ce,{title:"Update Bank Details",openPopup:p,setOpenPopup:m},a.a.createElement(ea,{setOpenPopup:m,getAllCompanyDetailsByID:k,idForEdit:w})))};function oa(){oa=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ia=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetailsByID,o=Object(n.useState)(!1),i=Object(l.a)(o,2),f=i[0],h=i[1],p=Object(n.useState)(""),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(""),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(""),O=Object(l.a)(w,2),_=O[0],j=O[1],L=Object(n.useState)([]),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(s.c)(function(e){return e.auth}),T=Object(n.useState)({email:"",alternate_email:""}),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)({}),F=Object(l.a)(I,2),G=F[0],W=F[1],z=function(e){var t=e.target,r=t.name,n=t.value;A(Object(u.a)({},D,Object(Y.a)({},r,n)))},R=function(e){var t=e.target,r=t.name,n=t.value;if("name"===r){var a=n.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}).join(" ");P(Object(u.a)({},k,Object(Y.a)({},r,a)))}else P(Object(u.a)({},k,Object(Y.a)({},r,n)))},B=function(){var e=Object(c.a)(oa().mark(function e(n){var a,o,i,c,l;return oa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),W(M(D)),o=(a=function(e){return e.startsWith("+")?e:"+".concat(e)})(b),i=a(_),c=k.pan_no,l={company:C?C.companyName:"",name:k.name,designation:d,contact:o||"",alternate_contact:_?i:null,email:D.email,alternate_email:D.alternate_email,pan_number:c,aadhaar:k.aadhar_no},h(!0),e.next=11,Kn.createContactData(l);case 11:t(!1),h(!1),r(),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("error",e.t0),h(!1);case 20:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){console.log(G),0===Object.keys(G).length&&console.log(D)},[G]);var M=function(e){var t={},r=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i;return e.email?r.test(e.email)||(t.email="This is not a valid email format!"):t.email="Email is required!",e.alternate_email?r.test(e.alternate_email)||(t.alternate_email="This is not a valid alternate email format!"):t.alternate_email="Alternate Email is required!",t};return a.a.createElement("div",null,a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return B(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"name",label:"Name",variant:"outlined",value:k.name,onChange:R})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-select-small"},"Designation"),a.a.createElement(cn.a,{labelId:"demo-select-small",id:"demo-select-small",value:d,label:"Designation",onChange:function(e){return y(e.target.value)}},a.a.createElement(x.a,{value:"Owner"},"Owner "),a.a.createElement(x.a,{value:"Partner"},"Partner"),a.a.createElement(x.a,{value:"Director"},"Director"),a.a.createElement(x.a,{value:"Accounts"},"Accounts"),a.a.createElement(x.a,{value:"Purchase"},"Purchase"),a.a.createElement(x.a,{value:"Quality"},"Quality"),a.a.createElement(x.a,{value:"Stores"},"Stores"),a.a.createElement(x.a,{value:"General Manager"},"General Manager")))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(un.a,{specialLabel:"Contact",inputStyle:{height:"15px",width:"250px"},country:"in",onChange:function(e){E(e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(un.a,{specialLabel:"Alternate Contact",inputStyle:{height:"15px",width:"250px"},country:"in",onChange:function(e){j(e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"email",label:"Email",variant:"outlined",value:D.email,onChange:z})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"alternate_email",label:"Alt Email",variant:"outlined",value:D.alternate_email,onChange:z})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,disabled:"Director"!==d&&"Owner"!==d&&"Partner"!==d,size:"small",name:"pan_no",label:"Pan No.",variant:"outlined",value:k.pan_no,onChange:R,helperText:G.pan_no&&"Applicable Only if designation is Owner/Partner/Director"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,disabled:"Director"!==d&&"Owner"!==d&&"Partner"!==d,size:"small",type:"number",name:"aadhar_no",label:"Aadhar No.",variant:"outlined",value:k.aadhar_no,onChange:R,helperText:"Applicable Only if designation is Owner/Partner/Director"}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},ca=r(145);function la(){la=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ua=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetailsByID,o=e.IDForEdit,i=Object(n.useState)({open:!1,inputValue:{name:"",contact:"",designation:"",alternate_contact:"",email:"",alternate_email:"",pan_number:"",aadhaar:""},errMsg:""}),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useRef)(),m=function(e){var t=e.target,r=t.name,n=t.value;h(function(e){return Object(u.a)({},e,{inputValue:Object(u.a)({},e.inputValue,Object(Y.a)({},r,n))})})};Object(n.useEffect)(function(){d()},[]);var d=function(){var e=Object(c.a)(la().mark(function e(){var t;return la().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(function(e){return Object(u.a)({},e,{open:!0})}),e.next=4,Kn.getContactDataById(o);case 4:t=e.sent,h(function(e){return Object(u.a)({},e,{inputValue:t.data,open:!1})}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),h(function(e){return Object(u.a)({},e,{open:!1})}),console.log("company data by id error",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(la().mark(function e(n){var a,i,c,l,s,p,m;return la().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,h(function(e){return Object(u.a)({},e,{open:!0})}),a=f.inputValue,i=a.contact,c=a.alternate_contact,l=Object(ca.a)(a,["contact","alternate_contact"]),s=i&&12===i.length?"+".concat(i):i,p=c&&12===c.length?"+".concat(c):c,m=Object(u.a)({},l,{contact:s,alternate_contact:p}),e.next=9,Kn.updateContactData(o,m);case 9:t(!1),h(function(e){return Object(u.a)({},e,{open:!1})}),r(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("creating company detail error",e.t0),h(function(e){return Object(u.a)({},e,{open:!1})});case 18:case"end":return e.stop()}},e,null,[[1,14]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:f.open}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:y},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement("p",{style:{width:"100%",padding:10,marginBottom:10,borderRadius:4,backgroundColor:f.errMsg?"red":"offscreen",textAlign:"center",color:"white",textTransform:"capitalize"},ref:p,className:f.errMsg?"errmsg":"offscreen","aria-live":"assertive"},f.errMsg),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"name",label:"Name",variant:"outlined",value:f.inputValue.name,onChange:m})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-select-small"},"Designation"),a.a.createElement(cn.a,{labelId:"demo-select-small",id:"demo-select-small",value:f.inputValue.designation,label:"Department",onChange:function(e){return h(function(t){return Object(u.a)({},t,{inputValue:Object(u.a)({},t.inputValue,{designation:e.target.value})})})}},a.a.createElement(x.a,{value:"Owner"},"Owner "),a.a.createElement(x.a,{value:"Partner"},"Partner"),a.a.createElement(x.a,{value:"Director"},"Director"),a.a.createElement(x.a,{value:"Accounts"},"Accounts"),a.a.createElement(x.a,{value:"Purchase"},"Purchase"),a.a.createElement(x.a,{value:"Quality"},"Quality"),a.a.createElement(x.a,{value:"Stores"},"Stores")))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(un.a,{specialLabel:"Contact",inputStyle:{height:"15px",width:"250px"},country:"in",value:f.inputValue.contact,onChange:function(e){return h(function(t){return Object(u.a)({},t,{inputValue:Object(u.a)({},t.inputValue,{contact:e})})})}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(un.a,{specialLabel:"Alternate Contact",inputStyle:{height:"15px",width:"250px"},country:"in",value:f.inputValue.alternate_contact,onChange:function(e){return h(function(t){return Object(u.a)({},t,{inputValue:Object(u.a)({},t.inputValue,{alternate_contact:e})})})}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"email",label:"Email",variant:"outlined",value:f.inputValue.email,onChange:m})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"alternate_email",label:"Alt Email",variant:"outlined",value:f.inputValue.alternate_email,onChange:m})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},"Director"===f.inputValue.designation||"Owner"===f.inputValue.designation||"Partner"===f.inputValue.designation?a.a.createElement(Ve,{fullWidth:!0,disabled:!["Director","Owner","Partner"].includes(f.inputValue.designation),onChange:m,size:"small",name:"pan_number",label:"Pan No.",variant:"outlined",value:f.inputValue.pan_number,helperText:"Applicable Only if designation is Owner/Partner/Director"}):null),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},"Director"===f.inputValue.designation||"Owner"===f.inputValue.designation||"Partner"===f.inputValue.designation?a.a.createElement(Ve,{fullWidth:!0,disabled:!["Director","Owner","Partner"].includes(f.inputValue.designation),onChange:m,size:"small",name:"aadhaar",label:"Aadhar No.",variant:"outlined",value:f.inputValue.aadhaar,helperText:"Applicable Only if designation is Owner/Partner/Director"}):null)),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function sa(){sa=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var fa=function(e){var t=e.data,r=e.getAllCompanyDetailsByID,o=e.setOpendletePopup,i=Object(n.useState)({message:"",severity:"",open:!1}),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=function(){var e=Object(c.a)(sa().mark(function e(){var n;return sa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kn.deleteCustomerContact(t.id);case 3:200===(n=e.sent).status&&(f({message:n.message||"Contact has been deleted!",severity:"success",open:!0}),setTimeout(function(){r(),o(!1)},500)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error while deleting contact",e.t0),f({message:"Error while deleting contact!",severity:"error",open:!0});case 11:return e.prev=11,d(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,7,11,14]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:s.open,message:s.message,severity:s.severity,onClose:function(){f({open:!1})}}),a.a.createElement(Je,{open:m}),a.a.createElement(Ae.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",width:350,margin:"auto"}},a.a.createElement(Ae.a,{sx:{display:"flex",gap:4}},a.a.createElement(We.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return o(!1)}},"Cancel"),a.a.createElement(We.a,{size:"small",variant:"contained",color:"error",onClick:y},"Yes"))))},ha=function(e){return ge.post("/api/whatsapp/group/",e)},pa=function(e){return ge.post("api/whatsapp/contact/",e)},ma=function(e){var t=new URLSearchParams;return e&&t.append("company",e),ge.get("/api/whatsapp/participants/?".concat(t.toString()))},da=function(e){return ge.post("/api/whatsapp/participants/make_admin/",e)},ya=function(e){return ge.post("/api/whatsapp/participants/remove_participants/",e)},va=function(e){return ge.post("/api/whatsapp/participants/add_member/",e)};function ga(){ga=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ba=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5,cursor:"pointer"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5,cursor:"pointer"}),t}),Ea=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),wa=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],f=o[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(!1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(s.c)(function(e){return e.auth}).profile,D=Object(n.useState)({message:"",severity:"",open:!1}),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)({company:"",contacts:[]}),W=Object(l.a)(G,2),z=W[0],R=W[1],B=function(e,t){R(function(r){r.company=t.company;var n=r.contacts.findIndex(function(e){return e.id===t.id});if(-1!==n){var a=Object(u.a)({},r.contacts[n]),o=Object(vr.a)(r.contacts);return e===t.contact&&(a.contact===t.contact?delete a.contact:a.contact=t.contact),e===t.alternate_contact&&(a.alternate_contact===t.alternate_contact?delete a.alternate_contact:a.alternate_contact=t.alternate_contact),2===Object.keys(a).length?o.splice(n,1):o[n]=a,Object(u.a)({},r,{contacts:o})}var i={id:t.id,name:t.name};return e===t.contact&&(i.contact=t.contact),e===t.alternate_contact&&(i.alternate_contact=t.alternate_contact),Object(u.a)({},r,{contacts:[].concat(Object(vr.a)(r.contacts),[i])})})};console.log(z),Object(n.useEffect)(function(){t&&M()},[t]);var M=function(){var e=Object(c.a)(ga().mark(function e(){var r;return ga().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Kn.getCompanyDataByIdWithType(t,"contacts");case 4:r=e.sent,d(r.data.contacts),f(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),f(!1),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(c.a)(ga().mark(function e(){return ga().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,pa(z);case 4:!0===e.sent.data.success&&(F({message:"Whatsapp Group created successfully",severity:"success",open:!0}),M()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),F({message:e.t0.response.data.error||"Failed to create Whatsapp Group",severity:"error",open:!0});case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:I.open,message:I.message,severity:I.severity,onClose:function(){F({open:!1})}}),a.a.createElement(Je,{open:i}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:2}),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Contact Details")),a.a.createElement(Ae.a,{flexGrow:.5,align:"right",mx:{marginRight:10}},(N.groups.includes("Accounts")||N.groups.includes("Director")||N.groups.includes("Customer Service")||N.groups.includes("Sales Deputy Manager")||N.groups.includes("Sales Manager")||N.groups.includes("Sales Executive")||N.groups.includes("Sales Assistant Deputy Manager"))&&a.a.createElement(We.a,{onClick:function(){return O(!0)},variant:"contained",color:"info",size:"small"},"Add")),z.contacts.length>0&&a.a.createElement(Ae.a,{flexGrow:.5,align:"right",mx:{marginRight:10}},(N.groups.includes("Director")||N.groups.includes("Customer Service"))&&a.a.createElement(We.a,{onClick:q,variant:"contained",color:"success",size:"small"},"Add contact in group"))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(ba,{align:"center"},"COMPANY NAME"),a.a.createElement(ba,{align:"center"},"NAME"),a.a.createElement(ba,{align:"center"},"DEPARTMENT"),a.a.createElement(ba,{align:"center"},"CONTACT"),a.a.createElement(ba,{align:"center"},"ALT. CONTACT"),a.a.createElement(ba,{align:"center"},"EMAIL"),a.a.createElement(ba,{align:"center"},"Add contact"),a.a.createElement(ba,{align:"center"},"ACTION"))),a.a.createElement(Hn.a,null,m&&m.map(function(e,t){return a.a.createElement(Ea,{key:t},a.a.createElement(ba,{align:"center"},e.company),a.a.createElement(ba,{align:"center",style:{textTransform:"capitalize"}},e.name),a.a.createElement(ba,{align:"center"},e.designation),a.a.createElement(ba,{align:"center"},e.contact),a.a.createElement(ba,{align:"center"},e.alternate_contact),a.a.createElement(ba,{align:"center"},e.email),a.a.createElement(ba,{align:"center"},a.a.createElement(Ae.a,{display:"block"},a.a.createElement(pr.a,{style:{fontSize:"13px"},control:a.a.createElement(mr.a,{disabled:e.is_primary,checked:z.contacts.some(function(t){return t.contact===e.contact})||e.is_primary,onChange:function(){return B(e.contact,e)}}),label:e.contact}),e.alternate_contact&&a.a.createElement(pr.a,{style:{fontSize:"13px"},control:a.a.createElement(mr.a,{disabled:e.is_alternative,checked:z.contacts.some(function(t){return t.contact===e.alternate_contact||t.alternate_contact===e.alternate_contact})||e.is_alternative,onChange:function(){return B(e.alternate_contact,e)}}),label:e.alternate_contact}))),a.a.createElement(ba,{align:"center"},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",alignItems:"center",gap:1},(N.groups.includes("Accounts")||N.groups.includes("Customer Service")||N.groups.includes("Director"))&&a.a.createElement(We.a,{size:"small",variant:"text",onClick:function(){return t=e.id,S(t),void b(!0);var t}},"View"),(N.groups.includes("Accounts")||N.groups.includes("Director"))&&a.a.createElement(We.a,{size:"small",color:"error",variant:"text",onClick:function(){return S(e),void T(!0)}},"Delete"))))}))))),a.a.createElement(Ce,{title:"Create Contact Details",openPopup:x,setOpenPopup:O},a.a.createElement(ia,{getAllCompanyDetailsByID:M,setOpenPopup:O})),a.a.createElement(Ce,{title:"Are you sure you want to delete ?",openPopup:C,setOpenPopup:T},a.a.createElement(fa,{data:L,getAllCompanyDetailsByID:M,setOpendletePopup:T})),a.a.createElement(Ce,{title:"Update Contact Details",openPopup:g,setOpenPopup:b},a.a.createElement(ua,{setOpenPopup:b,IDForEdit:L,getAllCompanyDetailsByID:M})))},xa={createMasterCountry:function(e){return ge.post("/api/master/country/",e)},updateMasterCountry:function(e,t){return ge.patch("/api/master/country/".concat(e,"/"),t)},getAllMasterCountries:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/master/country/?".concat(r.toString()))},createMasterState:function(e){return ge.post("/api/master/state/",e)},updateMasterState:function(e,t){return ge.patch("/api/master/state/".concat(e,"/"),t)},getAllMasterStates:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("search",t),r&&n.append("country__name",r),ge.get("/api/master/state/?".concat(n.toString()))},createcity:function(e){return ge.post("/api/master/city/",e)},getMasterCities:function(e,t,r,n){var a=new URLSearchParams;return e&&a.append("page",e),t&&a.append("search",t),r&&a.append("state__country__name",r),n&&a.append("state__name",n),ge.get("/api/master/city/?".concat(a.toString()))},updateMasterCity:function(e,t){return ge.patch("/api/master/city/".concat(e,"/"),t)},getMasterPincode:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/master/pincode/?".concat(r.toString()))},createMasterPincode:function(e){return ge.post("/api/master/pincode/",e)},updateMasterPincode:function(e,t){return ge.patch("/api/master/pincode/".concat(e,"/"),t)},getCountryDataByPincode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"India",t=arguments.length>1?arguments[1]:void 0;return ge.get("/api/master/pincode/?page=all&city__state__country__name=".concat(e,"&search=").concat(t))},getMasterActivity:function(e){var t=new URLSearchParams;return e&&t.append("page",e),ge.get("/api/master/model-master/?".concat(t.toString()))},createMasterActivityMainHeading:function(e){return ge.post("/api/master/model-master/",e)},createMasterActivityOption:function(e){return ge.post("/api/master/model-option/",e)}};function Oa(){Oa=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var _a=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetailsByID,o=e.contactData,i=Object(n.useState)(!1),f=Object(l.a)(i,2),h=f[0],p=f[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(""),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(s.c)(function(e){return e.auth}),O=function(e){var t=e.target,r=t.name,n=t.value;v(Object(u.a)({},y,Object(Y.a)({},r,n)))},_=Object(n.useState)({message:"",severity:"",open:!1}),j=Object(l.a)(_,2),L=j[0],S=j[1],k=function(){var e=Object(c.a)(Oa().mark(function e(){var t,r;return Oa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),t=y.pincode,e.next=5,xa.getCountryDataByPincode("India",t);case 5:0===(r=e.sent).data.length?(S({message:"This Pin Code does not exist ! First Create the Pin code in the master country",severity:"warning",open:!0}),v(Object(u.a)({},y,{state:"",city:""}))):(S({message:"Pin code is valid",severity:"success",open:!0}),v(Object(u.a)({},y,{state:r.data[0].state,city:r.data[0].city_name}))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error",e.t0),S({message:"Error fetching country data by pincode",severity:"error",open:!0});case 13:return e.prev=13,p(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,9,13,16]])}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(c.a)(Oa().mark(function e(n){var a;return Oa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),p(!0),a={company:x?x.companyName:"",contact:E.id,address:y.address,pincode:y.pincode,state:y.state,city:y.city},e.next=6,Kn.createWareHouseData(a);case 6:t(!1),p(!1),r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),p(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:h}),a.a.createElement($e,{open:L.open,message:L.message,severity:L.severity,onClose:function(){S({open:!1})}}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return P(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{fullWidth:!0,size:"small",id:"grouped-demo",onChange:function(e,t){return w(t)},options:o.map(function(e){return e}),groupBy:function(e){return e.designation},getOptionLabel:function(e){return"".concat(e.name," ").concat(e.contact)},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Contact"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,onChange:O,size:"small",name:"address",label:"Address",variant:"outlined",value:y.address})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(Ve,{sx:{minWidth:"300px"},onChange:O,size:"small",name:"pincode",label:"Pin Code",value:y.pincode}),a.a.createElement(We.a,{onClick:k,variant:"contained",sx:{marginLeft:"1rem"}},"Validate")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:y.state||"",onChange:O,disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"city",label:"City",variant:"outlined",value:y.city||"",onChange:O,disabled:!0}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function ja(){ja=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var La=function(e){var t=e.IDForEdit,r=e.getAllCompanyDetailsByID,o=e.setOpenPopup,i=e.contactData,f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)([]),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(s.c)(function(e){return e.auth}),E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},v,Object(Y.a)({},r,n)))};Object(n.useEffect)(function(){j()},[]);var j=function(){var e=Object(c.a)(ja().mark(function e(){var r;return ja().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Kn.getWareHouseDataById(t);case 4:r=e.sent,g(r.data),m(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),m(!1),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(c.a)(ja().mark(function e(n){var a;return ja().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),m(!0),a={company:b?b.companyName:"",contact:x.id?x.id:v.contact,address:v.address,pincode:v.pincode,state:v.state||"",city:v.city||""},e.next=6,Kn.updatetWareHouseData(t,a);case 6:o(!1),m(!1),r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),m(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:p}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return L(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"contact",label:"Contact",variant:"outlined",value:v.contact_name?"".concat(v.contact_name," ").concat(v.contact_number):""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{fullWidth:!0,size:"small",id:"grouped-demo",onChange:function(e,t){return O(t)},options:i.map(function(e){return e}),groupBy:function(e){return e.designation},getOptionLabel:function(e){return"".concat(e.name," ").concat(e.contact)},label:"Update Contact"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,onChange:_,size:"small",name:"address",label:"Address",variant:"outlined",value:v.address?v.address:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,onChange:_,size:"small",name:"pincode",label:"Pin Code",variant:"outlined",value:v.pincode||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:v.state||"",onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"city",label:"City",variant:"outlined",value:v.city||"",onChange:_}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Sa(){Sa=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ka=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),Pa=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Ca=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(!1),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(s.c)(function(e){return e.auth}).profile,k=Object(n.useState)(),P=Object(l.a)(k,2),C=P[0],T=P[1];Object(n.useEffect)(function(){t&&N()},[t]);var N=function(){var e=Object(c.a)(Sa().mark(function e(){var r,n,a,o;return Sa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Promise.all([Kn.getCompanyDataByIdWithType(t,"contacts"),Kn.getCompanyDataByIdWithType(t,"warehouse")]);case 4:r=e.sent,n=Object(l.a)(r,2),a=n[0],o=n[1],L(a.data.contacts),x(o.data.warehouse),u(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),u(!1),console.log("company data by id error",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:i}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:2}),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"WareHouse Details")),a.a.createElement(Ae.a,{flexGrow:.5,align:"right"},(S.groups.includes("Accounts")||S.groups.includes("Director"))&&a.a.createElement(We.a,{onClick:function(){return g(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(ka,{align:"center"},"CONTACT"),a.a.createElement(ka,{align:"center"},"STATE"),a.a.createElement(ka,{align:"center"},"CITY"),a.a.createElement(ka,{align:"center"},"PIN CODE"),a.a.createElement(ka,{align:"center"},"ACTION"))),a.a.createElement(Hn.a,null,w&&w.map(function(e,t){return a.a.createElement(Pa,null,a.a.createElement(ka,{align:"center"},e.contact_number),a.a.createElement(ka,{align:"center"},e.state),a.a.createElement(ka,{align:"center"},e.city),a.a.createElement(ka,{align:"center"},e.pincode),a.a.createElement(ka,{align:"center"},(S.groups.includes("Accounts")||S.groups.includes("Director"))&&a.a.createElement(We.a,{variant:"contained",onClick:function(){return t=e.id,T(t),void m(!0);var t}},"View")))}))))),a.a.createElement(Ce,{title:"Create WareHouse Details",openPopup:v,setOpenPopup:g},a.a.createElement(_a,{getAllCompanyDetailsByID:N,setOpenPopup:g,contactData:j})),a.a.createElement(Ce,{title:"Update WareHouse Details",openPopup:p,setOpenPopup:m},a.a.createElement(La,{contactData:j,IDForEdit:C,setOpenPopup:m,getAllCompanyDetailsByID:N})))},Ta=r(676),Na=r(294),Da=r(677),Aa=r(614),Ia=r(678),Fa=r(679),Ga=r(680),Wa=r(615),za=r(34),Ra=r.n(za);function Ba(){Ba=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ma=function(e){var t=e.setOpenModal,r=e.getFollowUp,o=e.selectedCustomers,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)({}),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),O=x[0],_=x[1];Object(n.useEffect)(function(){(function(){var e=Object(c.a)(Ba().mark(function e(){var t;return Ba().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Kn.getCustomerStatus();case 4:t=e.sent,E(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}})()()},[]);var j=function(){var e=Object(c.a)(Ba().mark(function e(n){var a;return Ba().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),h(!0),a={company:o.name,notes:d.notes,next_followup_date:d.next_followup_date,status:d.status,activity:d.activity},e.next=6,Kn.createFollowUpCustomer(a);case 6:t(!1),r(),h(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error :>> ",e.t0),h(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),L=function(e){var t=e.target,r=t.name,n=t.value;y(Object(u.a)({},d,Object(Y.a)({},r,n)))},S=function(e,t,r){y(function(e){return Object(u.a)({},e,Object(Y.a)({},r,t))});var n=["Not answering/busy/disconnecting","Having stock","Rate issue","Buying a different product from other company","Transportation cost issue","Call me back","Send sample","Require exclusive distributorship/dealership","Require credit"].includes(t);_(n)};return a.a.createElement("div",null,a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,sx:{mt:1},onSubmit:function(e){return j(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{size:"small",id:"call_status",name:"status",options:["Connected","Disconnected"],renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Call Status"}))},value:d.status,onChange:function(e,t){return S(0,t,"status")},label:"Call Status"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{size:"small",id:"activity",options:b,getOptionLabel:function(e){return e.name},renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Activity"}))},value:b.find(function(e){return e.id===d.activity})||null,onChange:function(e,t){return S(0,t?t.id:null,"activity")}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"notes",size:"small",label:"Note",variant:"outlined",value:d.notes,onChange:L})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"next_followup_date",size:"small",label:"Next Followup Date",variant:"outlined",value:d.next_followup_date||"",onChange:L,InputLabelProps:{shrink:!0},required:O,error:O&&!d.next_followup_date,helperText:O&&!d.next_followup_date?"Next Followup Date is required.":"",inputProps:{min:(new Date).toISOString().split("T")[0]}}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",disabled:["Not answering/busy/disconnecting","Having stock","Rate issue","Buying a different product from other company","Transportation cost issue","Call me back","Send sample","Require exclusive distributorship/dealership","Require credit"].includes(d.activity)&&!d.next_followup_date},"Submit")))};function qa(){qa=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ua=function(e){var t=e.recordForEdit,r=e.selectedCustomers,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],s=i[1],f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)([]),y=Object(l.a)(d,2),v=y[0],g=y[1];Object(n.useEffect)(function(){b()},[]);var b=function(){var e=Object(c.a)(qa().mark(function e(){var r,n,a;return qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Promise.all([Kn.getCompanyDataByIdWithType(t,"followup"),Kn.getCompanyDataByIdWithType(t,"potential")]);case 4:r=e.sent,n=Object(l.a)(r,1),a=n[0],g(a.data.followup),m(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),m(!1),console.log("company data by id error",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:p}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,sx:{mt:1}},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column",backgroundColor:"#F5F5F5"}},a.a.createElement(Ae.a,{display:"flex",justifyContent:"space-around"},a.a.createElement(E.a,{variant:"h5",align:"center"},"View Activity"),a.a.createElement(We.a,{variant:"contained",color:"success",onClick:function(){return s(!0)}},"Create Activity")),v&&v.length&&a.a.createElement(Ae.a,{sx:{display:"flex",flexDirection:"column",height:260,overflow:"auto"}},v.map(function(e){return a.a.createElement("div",{key:e.id},a.a.createElement(Ta.a,{sx:Object(Y.a)({},"& .".concat(Na.a.root),{flex:.2})},a.a.createElement(Da.a,null,a.a.createElement(Aa.a,{sx:{px:2}},a.a.createElement(E.a,{variant:"h6"},Ra()(e.creation_date).format("DD/MM/YYYY h:mm"))),a.a.createElement(Ia.a,null,a.a.createElement(Fa.a,null),a.a.createElement(Ga.a,null)),a.a.createElement(Wa.a,{sx:{width:"50%",color:"#333"}},a.a.createElement(E.a,{variant:"h6",sx:{fontFamily:"Arial",fontWeight:"bold"}},e.activity_name," - ",e.sales_person," -"," ",e.next_followup_date&&Ra()(e.next_followup_date).format("DD/MM/YYYY")),a.a.createElement(E.a,{variant:"body1",sx:{fontFamily:"Verdana",fontSize:"16px"}},e.notes)))))})))),a.a.createElement(Ce,{maxWidth:"xl",title:"Create Follow Up",openPopup:u,setOpenPopup:s},a.a.createElement(Ma,{setOpenModal:s,getFollowUp:b,selectedCustomers:r})))},Ya={LeadBusinessTypeData:[{value:"trader",label:"Trader"},{value:"distributor",label:"Distributor"},{value:"retailer",label:"Retailer"},{value:"end_user",label:"End User"}],CustomerBusinessTypeData:[{value:"proprietor",label:"Proprietor"},{value:"pvt_ltd",label:"Private Limited"},{value:"partnership",label:"Partnership"},{value:"limited",label:"Limited"}],StateOption:[{id:1,value:"Andhra Pradesh",label:"Andhra Pradesh"},{id:2,value:"Arunachal Pradesh",label:"Arunachal Pradesh"},{id:3,value:"Assam",label:"Assam"},{id:4,value:"Bihar",label:"Bihar"},{id:5,value:"Chhattisgarh",label:"Chhattisgarh"},{id:6,value:"Goa",label:"Goa"},{id:7,value:"Gujarat",label:"Gujarat"},{id:8,value:"Haryana",label:"Haryana"},{id:9,value:"Himachal Pradesh",label:"Himachal Pradesh"},{id:10,value:"Jharkhand",label:"Jharkhand"},{id:11,value:"Karnataka",label:"Karnataka"},{id:12,value:"Kerala",label:"Kerala"},{id:13,value:"Madhya Pradesh",label:"Madhya Pradesh"},{id:14,value:"Maharashtra",label:"Maharashtra"},{id:15,value:"Manipur",label:"Manipur"},{id:16,value:"Meghalaya",label:"Meghalaya"},{id:17,value:"Mizoram",label:"Mizoram"},{id:18,value:"Nagaland",label:"Nagaland"},{id:19,value:"Odisha",label:"Odisha"},{id:20,value:"Punjab",label:"Punjab"},{id:21,value:"Rajasthan",label:"Rajasthan"},{id:22,value:"Sikkim",label:"Sikkim"},{id:23,value:"Tamil Nadu",label:"Tamil Nadu"},{id:24,value:"Telangana",label:"Telangana"},{id:25,value:"Tripura",label:"Tripura"},{id:26,value:"Uttar Pradesh",label:"Uttar Pradesh"},{id:27,value:"Uttarakhand",label:"Uttarakhand"},{id:28,value:"West Bengal",label:"West Bengal"},{id:28,value:"New Delhi",label:"New Delhi"},{id:29,value:"Jammu & Kashmir",label:"Jammu & Kashmir"},{id:30,value:"Ladakh",label:"Ladakh"}],DistributionTypeOption:[{id:1,value:"Wholeseller",label:"Wholeseller"},{id:2,value:"Retailer",label:"Retailer"}],CategoryOption:[{id:1,label:"Hardware",value:"Hardware"},{id:2,label:"Plywood",value:"Plywood"},{id:3,label:"Plumbing",value:"Plumbing"},{id:4,label:"After Auto",value:"After Auto"},{id:5,label:"Stationery",value:"Stationery"},{id:6,label:"Electricals",value:"Electricals"},{id:7,label:"Paints",value:"Paints"},{id:8,label:"Submersible Pumps",value:"Submersible Pumps"},{id:9,label:"Industrial Distributor",value:"Industrial Distributor"},{id:10,label:"Home D\xe9cor",value:"Home D\xe9cor"},{id:11,label:"Pop & False Ceiling",value:"Pop & False Ceiling"},{id:12,label:"Glass Hardware",value:"Glass Hardware"},{id:13,label:"Aluminium Hardware & Section",value:"Aluminium Hardware & Section"},{id:14,label:"Signage",value:"Signage"}],IndustriesList:[{id:1,label:"Automotive",value:"automotive"},{id:2,label:"Construction",value:"construction"},{id:3,label:"Electronic",value:"electronic"},{id:4,label:"Paper",value:"paper"},{id:5,label:"Print",value:"print"},{id:6,label:"Renewable Energies",value:"renewable_energies"},{id:7,label:"Food Industry",value:"food_industry"},{id:8,label:"Laminates",value:"laminates"},{id:9,label:"Bus Body",value:"bus_body"},{id:10,label:"Wireharness",value:"wireharness"},{id:11,label:"Appliance",value:"appliance"},{id:12,label:"Flexible Packaging",value:"flexible_packaging"},{id:13,label:"Leather",value:"leather"},{id:14,label:"Shoes",value:"shoes"},{id:15,label:"Soft Luggage",value:"soft_luggage"},{id:16,label:"Telecom",value:"telecom"},{id:17,label:"Power Cables",value:"power_cables"},{id:18,label:"Signage",value:"signage"},{id:19,label:"LED Lightings",value:"led_lightings"},{id:20,label:"Adhesive Tape",value:"adhesive_tape"},{id:21,label:"OEM (White Label)",value:"oem_white_label"},{id:22,label:"Optical Lens",value:"optical_lens"}],businessMismatchsOption:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],interestOption:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],MainDistribution:[{id:1,label:"3M",value:"3M"},{id:2,label:"Achem - Taiwan",value:"Achem - Taiwan"},{id:3,label:"Aero",value:"Aero"},{id:4,label:"AIPL ABRO",value:"AIPL ABRO"},{id:5,label:"Airot",value:"Airot"},{id:6,label:"Ajit Industries / AIPL / Sunsui",value:"Ajit Industries / AIPL / Sunsui"},{id:7,label:"Amech Wonder",value:"Amech Wonder"},{id:8,label:"Amro Wonder",value:"Amro Wonder"},{id:9,label:"Anchor Electricals",value:"Anchor Electricals"},{id:10,label:"ANNA - Drywall Tape",value:"ANNA - Drywall Tape"},{id:11,label:"Arjun - Spray Paint",value:"Arjun - Spray Paint"},{id:12,label:"ASD - Spray Paint",value:"ASD - Spray Paint"},{id:13,label:"Asian Paints",value:"Asian Paints"},{id:14,label:"Banna - Spray Paints",value:"Banna - Spray Paints"},{id:15,label:"Berger Paints",value:"Berger Paints"},{id:16,label:"Biocon Electricals",value:"Biocon Electricals"},{id:17,label:"Bosny - Spray Paints",value:"Bosny - Spray Paints"},{id:18,label:"Champion - PTFE Tape",value:"Champion - PTFE Tape"},{id:19,label:"Cobb - Spray Paint",value:"Cobb - Spray Paint"},{id:20,label:"Cooper - PTFE Tape",value:"Cooper - PTFE Tape"},{id:21,label:"Cosmos - Spray Paints",value:"Cosmos - Spray Paints"},{id:22,label:"CQL - Spray Paints",value:"CQL - Spray Paints"},{id:23,label:"Craft Dev - Spray Paints",value:"Craft Dev - Spray Paints"},{id:24,label:"Cube - Spray Paints",value:"Cube - Spray Paints"},{id:25,label:"Diamond - PTFE Tape",value:"Diamond - PTFE Tape"},{id:26,label:"Dinmo - Spray Paints",value:"Dinmo - Spray Paints"},{id:27,label:"Dornet - Drywall Tape",value:"Dornet - Drywall Tape"},{id:28,label:"Espark Wonder / Maruti Flex",value:"Espark Wonder / Maruti Flex"},{id:29,label:"Essence Tapes",value:"Essence Tapes"},{id:30,label:"Euro Tapes",value:"Euro Tapes"},{id:31,label:"F1 - Spray Paints",value:"F1 - Spray Paints"},{id:32,label:"G2 - Electricals",value:"G2 - Electricals"},{id:33,label:"GM Electricals",value:"GM Electricals"},{id:34,label:"Gomec Industries / Accent Wonder",value:"Gomec Industries / Accent Wonder"},{id:35,label:"Great White",value:"Great White"},{id:36,label:"Gree / Rajguru Adhesive Tapes",value:"Gree / Rajguru Adhesive Tapes"},{id:37,label:"Gripking Tapes",value:"Gripking Tapes"},{id:38,label:"Gypstar - Drywall Tape",value:"Gypstar - Drywall Tape"},{id:39,label:"Gyptech - Drywall Tape",value:"Gyptech - Drywall Tape"},{id:40,label:"Immortal Tapes",value:"Immortal Tapes"},{id:41,label:"Instabiz / I-Stix",value:"Instabiz / I-Stix"},{id:42,label:"I-tape",value:"I-tape"},{id:43,label:"Kansuee Industries",value:"Kansuee Industries"},{id:44,label:"Keval Industries - Tissue",value:"Keval Industries - Tissue"},{id:45,label:"Kobe - Spray Paint",value:"Kobe - Spray Paint"},{id:46,label:"Kohinoor - PTFE Tape",value:"Kohinoor - PTFE Tape"},{id:47,label:"Kotadia Engineering / SHB",value:"Kotadia Engineering / SHB"},{id:48,label:"k-rock",value:"k-rock"},{id:49,label:"Lohmann Tapes",value:"Lohmann Tapes"},{id:50,label:"Mario Industries",value:"Mario Industries"},{id:51,label:"Mexico Wonder",value:"Mexico Wonder"},{id:52,label:"Mexim Adhesive",value:"Mexim Adhesive"},{id:53,label:"MNM Composites",value:"MNM Composites"},{id:54,label:"Mseal",value:"Mseal"},{id:55,label:"MST - Spray Paint",value:"MST - Spray Paint"},{id:56,label:"Nitto - AFT",value:"Nitto - AFT"},{id:57,label:"Oddy / Atul",value:"Oddy / Atul"},{id:58,label:"One Tape",value:"One Tape"},{id:59,label:"Panamax / THB",value:"Panamax / THB"},{id:60,label:"Pidilite / SteelGrip",value:"Pidilite / SteelGrip"},{id:61,label:"pioneer spray paint",value:"pioneer spray paint"},{id:62,label:"Reva Gold",value:"Reva Gold"},{id:63,label:"Saint Gobain - Gyproc",value:"Saint Gobain - Gyproc"},{id:64,label:"Sampro - Spray Paint",value:"Sampro - Spray Paint"},{id:65,label:"Samraj Polytex - 4S Spray",value:"Samraj Polytex - 4S Spray"},{id:66,label:"Samurai - Spray Paint",value:"Samurai - Spray Paint"},{id:67,label:"Saraswat / AFT",value:"Saraswat / AFT"},{id:68,label:"Selmex Tapes",value:"Selmex Tapes"},{id:69,label:"Signfix / AFT",value:"Signfix / AFT"},{id:70,label:"Specialty Tapes",value:"Specialty Tapes"},{id:71,label:"Sumax",value:"Sumax"},{id:72,label:"Tesa Tapes",value:"Tesa Tapes"},{id:73,label:"Touch Up - Spray Paints",value:"Touch Up - Spray Paints"},{id:74,label:"Twin Tech - Spray Paint",value:"Twin Tech - Spray Paint"},{id:75,label:"UCS - Drywall Tape",value:"UCS - Drywall Tape"},{id:76,label:"USG - Drywall Tape",value:"USG - Drywall Tape"},{id:77,label:"Vardhaman / Tiger Wonder",value:"Vardhaman / Tiger Wonder"},{id:78,label:"Vista -  Spray Paint",value:"Vista -  Spray Paint"},{id:79,label:"VST - Spray Paint",value:"VST - Spray Paint"}],ALLOWED_ROLES:["Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Sales Manager without Leads","Customer Service"],Marital_Status_Options:["Married","UnMarried"],religionsInIndia:["Hinduism","Islam","Christianity","Sikhism","Buddhism","Jainism","Zoroastrianism","Judaism","Bah\xe1'\xed Faith","Animism","Tribal Religions","Sanamahism","Sarnaism","Donyi-Polo","Ravidassia","Ahmadiyya","Shia Islam","Sunni Islam","Roman Catholicism","Protestantism","Orthodox Christianity","Others"],CustomerStatusData:["Active","Closed","Blacklist"]};function Va(){Va=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Qa=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetails,o=e.recordForEdit,i=e.selectedCustomers,f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)([]),v=Object(l.a)(d,2),g=v[0],b=v[1],w=Object(n.useState)(!1),O=Object(l.a)(w,2),_=O[0],j=O[1],L=Object(n.useState)([]),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(0),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(s.b)(),I=Object(s.c)(function(e){return e.auth}).profile,F=I.active_sales_user,G=Object(n.useState)({message:"",severity:"",open:!1}),z=Object(l.a)(G,2),R=z[0],B=z[1],M=function(e){var t=e.target,r=t.name,n=t.value,a="gst_number"===r||"pan_number"===r?n.toUpperCase():n;b(Object(u.a)({},g,Object(Y.a)({},r,a)))},q=function(e,t){b(Object(u.a)({},g,Object(Y.a)({},e,t)))},U=function(){var e=Object(c.a)(Va().mark(function e(){var t,r,n;return Va().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),t=g.pincode,r=g.country,e.next=6,xa.getCountryDataByPincode(r,t);case 6:0===(n=e.sent).data.length?(B({message:"This Pin Code does not exist ! First Create the Pin code in the master country",severity:"error",open:!0}),b(Object(u.a)({},g,{state:"",city:"",country:""}))):(B({message:"Pin code is valid",severity:"success",open:!0}),b(Object(u.a)({},g,{state:n.data[0].state,city:n.data[0].city_name,country:n.data[0].country,pin_code:n.data[0].pin_code}))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error",e.t0),B({message:"Error fetching country data by pincode",severity:"error",open:!0});case 14:return e.prev=14,m(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){V()},[o]);var V=function(){var e=Object(c.a)(Va().mark(function e(){var t;return Va().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Kn.getCompanyDataById(o);case 4:t=e.sent,b(t.data),A(W(t.data.name)),m(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),m(!1),console.log("company data by id error",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),Q=function(e){return/^[0-9]{2}[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}[1-9A-Za-z]{1}Z[0-9A-Za-z]{1}$/.test(e)},H=function(e){return/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/.test(e)},J=function(e){var t=[];if(e.errors)for(var r=function(){var e=a[n],r=(o=Object(l.a)(e,2))[0];o[1].forEach(function(e){t.push("".concat(r,": ").concat(e))})},n=0,a=Object.entries(e.errors);n<a.length;n++){var o;r()}return t},K=function(){var e=Object(c.a)(Va().mark(function e(n){var a,i;return Va().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),m(!0),a={name:g.name||null,address:g.address||null,pincode:g.pincode||null,country:g.country||null,state:g.state||null,city:g.city||null,pin_code:g.pin_code,gst_number:g.gst_number||null,pan_number:g.pan_number||null,business_type:g.business_type||null,assigned_to:g.assigned_to||null,status:g.status||null,type_of_customer:g.type_of_customer||null,website:g.website||null,estd_year:g.estd_year||null,approx_annual_turnover:g.approx_annual_turnover||null,purchase_decision_maker:g.purchase_decision_maker||null,industrial_list:g.industrial_list||null,distribution_type:g.distribution_type||null,category:g.category||[],main_distribution:g.main_distribution||[],origin_type:g.origin_type||null},e.next=6,Kn.updateCompanyData(o,a);case 6:t(!1),m(!1),r(),e.next=18;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),i=J(e.t0.response.data),P(i),D(0),j(function(e){return!e});case 18:return e.prev=18,m(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[0,11,18,21]])}));return function(t){return e.apply(this,arguments)}}(),Z=Object(n.useCallback)(function(){N<k.length-1?D(function(e){return e+1}):(j(!1),D(0))},[N,k.length]);return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:R.open,message:R.message,severity:R.severity,onClose:function(){B({open:!1})}}),a.a.createElement(Je,{open:p}),a.a.createElement(Ze.a,{open:_,autoHideDuration:6e3,onClose:Z,anchorOrigin:{vertical:"top",horizontal:"right"}},a.a.createElement(Xe.a,{onClose:Z,severity:"error"},k[N])),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return K(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ha,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Company Details"})))),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(a.a.Fragment,null,a.a.createElement(wt.a,null,a.a.createElement(Qr.a,{id:"demo-row-radio-buttons-group-label"},"Customer Type"),a.a.createElement(Hr.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:g.origin_type||"",onChange:function(e){return q("origin_type",e.target.value)}},a.a.createElement(pr.a,{value:"Domestic",control:a.a.createElement(Jr.a,null),label:"Domestic"}),a.a.createElement(pr.a,{value:"International",control:a.a.createElement(Jr.a,null),label:"International"}))))),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(wt.a,null,a.a.createElement(Qr.a,{id:"demo-row-radio-buttons-group-label"},"Type of Customer"),a.a.createElement(Hr.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:g.type_of_customer||"",onChange:function(e){return q("type_of_customer",e.target.value)}},a.a.createElement(pr.a,{value:"Industrial Customer",control:a.a.createElement(Jr.a,null),label:"Industrial Customer"}),a.a.createElement(pr.a,{value:"Distribution Customer",control:a.a.createElement(Jr.a,null),label:"Distribution Customer"}),a.a.createElement(pr.a,{value:"Exclusive Distribution Customer",control:a.a.createElement(Jr.a,null),label:"Exclusive Distribution Customer"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Company Name",variant:"outlined",value:g.name||"",onChange:M})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Business Type"),a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Business Type",value:g.business_type||"",onChange:function(e,t){return q("business_type",e.target.value)}},Ya.CustomerBusinessTypeData.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{sx:{minWidth:"200px"},name:"pincode",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:g.pincode||"",onChange:M}),a.a.createElement(We.a,{onClick:U,variant:"contained",sx:{marginLeft:"1rem"}},"Validate")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Country",name:"country",variant:"outlined",value:g.country||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"State",variant:"outlined",value:g.state||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"City",variant:"outlined",value:g.city||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"gst_number",size:"small",label:"GST No.",variant:"outlined",value:g.gst_number||"",onChange:M,error:g.gst_number&&!Q(g.gst_number),helperText:g.gst_number&&!Q(g.gst_number)&&"Invalid GST Number"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,size:"small",name:"pan_number",label:"Pan No.",variant:"outlined",value:g.pan_number||"",onChange:M,error:g.pan_number&&!H(g.pan_number),helperText:g.pan_number&&!H(g.pan_number)&&"Invalid PAN Number"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{size:"small",value:g.assigned_to||[],onChange:function(e,t){q("assigned_to",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:F.map(function(e){return e.email}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},label:"Assign To",placeholder:"Assign To"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{size:"small",id:"controllable-states-demo",value:g.status||"",onChange:function(e,t){q("status",t)},options:Ya.CustomerStatusData.map(function(e){return e}),getOptionLabel:function(e){return e},label:"Status"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:g.address?g.address:"",onChange:M,InputLabelProps:{shrink:!0}}))),(I.groups.includes("Director")||I.groups.includes("Accounts")||I.groups.includes("Accounts Billing Department")||I.groups.includes("Sales Manager"))&&a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")),i&&i.message&&a.a.createElement(Fe.a,{container:!0,spacing:1,justifyContent:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:8,md:6},a.a.createElement(ut.a,{elevation:1},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",minHeight:"60px"},a.a.createElement(E.a,{variant:"h6",align:"center"},i.message))))),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ua,{recordForEdit:o,selectedCustomers:i}))))},Ha=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})});function Ja(){Ja=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ka=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetailsByID,o=Object(n.useState)(!1),i=Object(l.a)(o,2),f=i[0],h=i[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(s.c)(function(e){return e.auth}),g=function(e){var t=e.target,r=t.name,n=t.value;y(Object(u.a)({},d,Object(Y.a)({},r,n)))},b=function(){var e=Object(c.a)(Ja().mark(function e(n){var a;return Ja().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),h(!0),a={company:v?v.companyName:"",bank_name:d.bank_name,address:d.address,micr_code:d.micr_code,cheque_no:d.cheque_no},e.next=6,Kn.createSecurityChequeData(a);case 6:t(!1),h(!1),r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),h(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return b(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"bank_name",label:"Bank Name",variant:"outlined",value:d.bank_name,onChange:g})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"cheque_no",size:"small",label:"Cheque No.",variant:"outlined",value:d.cheque_no,onChange:g})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"micr_code",label:"MICR",variant:"outlined",value:d.micr_code,onChange:g})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:d.address,onChange:g}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Za(){Za=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Xa=function(e){var t=e.IDForEdit,r=e.getAllCompanyDetailsByID,o=e.setOpenPopup,i=Object(n.useState)(!1),f=Object(l.a)(i,2),h=f[0],p=f[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(s.c)(function(e){return e.auth}),b=function(e){var t=e.target,r=t.name,n=t.value;v(Object(u.a)({},y,Object(Y.a)({},r,n)))};Object(n.useEffect)(function(){E()},[]);var E=function(){var e=Object(c.a)(Za().mark(function e(){var r;return Za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Kn.getSecurityChequeDataById(t);case 4:r=e.sent,console.log("response update warehouse",r),v(r.data),p(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),p(!1),console.log("company data by id error",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(c.a)(Za().mark(function e(n){var a;return Za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),p(!0),a={company:g?g.companyName:"",bank_name:y.bank_name,address:y.address,micr_code:y.micr_code,cheque_no:y.cheque_no},e.next=6,Kn.updateSecurityChequeData(t,a);case 6:o(!1),p(!1),r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),p(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:h}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return w(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"bank_name",label:"Bank Name",variant:"outlined",value:y.bank_name||"",onChange:b})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"cheque_no",size:"small",label:"Cheque No.",variant:"outlined",value:y.cheque_no||"",onChange:b})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"micr_code",label:"MICR",variant:"outlined",value:y.micr_code||"",onChange:b})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:y.address||"",onChange:b}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function $a(){$a=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var eo=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),to=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),ro=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],f=Object(n.useState)([]),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(!1),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(s.c)(function(e){return e.auth}).profile;Object(n.useEffect)(function(){t&&k()},[t]);var k=function(){var e=Object(c.a)($a().mark(function e(){var r;return $a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Kn.getCompanyDataByIdWithType(t,"security_cheque");case 4:r=e.sent,m(r.data.security_cheque),u(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),u(!1),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:i}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:2}),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Security Cheques Details")),a.a.createElement(Ae.a,{flexGrow:.5,align:"right"},(S.groups.includes("Accounts")||S.groups.includes("Director"))&&a.a.createElement(We.a,{onClick:function(){return x(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(eo,{align:"center"},"COMPANY"),a.a.createElement(eo,{align:"center"},"BANK"),a.a.createElement(eo,{align:"center"},"CHEQUE NO."),a.a.createElement(eo,{align:"center"},"MICR CODE."),a.a.createElement(eo,{align:"center"},"ADDRESS"),a.a.createElement(eo,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,p&&p.map(function(e,t){return a.a.createElement(to,null,a.a.createElement(eo,{align:"center"},e.company),a.a.createElement(eo,{align:"center"},e.bank_name),a.a.createElement(eo,{align:"center"},e.cheque_no),a.a.createElement(eo,{align:"center"},e.micr_code),a.a.createElement(eo,{align:"center"},e.address),a.a.createElement(eo,{align:"center"},(S.groups.includes("Accounts")||S.groups.includes("Director"))&&a.a.createElement(We.a,{variant:"contained",onClick:function(){return t=e.id,L(t),void g(!0);var t}},"View")))}))))),a.a.createElement(Ce,{title:"Create Security Cheques Details",openPopup:w,setOpenPopup:x},a.a.createElement(Ka,{getAllCompanyDetailsByID:k,setOpenPopup:x})),a.a.createElement(Ce,{title:"Update Security Cheques Details",openPopup:v,setOpenPopup:g},a.a.createElement(Xa,{IDForEdit:j,getAllCompanyDetailsByID:k,setOpenPopup:g})))},no=[{label:"January",value:"01"},{label:"Febuary",value:"02"},{label:"March",value:"03"},{label:"April",value:"04"},{label:"May",value:"05"},{label:"June",value:"06"},{label:"July",value:"07"},{label:"August",value:"08"},{label:"September",value:"09"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}],ao=[{label:"2020",value:2020},{label:"2021",value:2021},{label:"2022",value:2022},{label:"2023",value:2023},{label:"2024",value:2024},{label:"2025",value:2025},{label:"2026",value:2026},{label:"2027",value:2027},{label:"2028",value:2028},{label:"2029",value:2029},{label:"2030",value:2030},{label:"2031",value:2031},{label:"2032",value:2032},{label:"2033",value:2033},{label:"2034",value:2034},{label:"2035",value:2035},{label:"2036",value:2036},{label:"2037",value:2037},{label:"2038",value:2038},{label:"2039",value:2039},{label:"2040",value:2040}];function oo(){oo=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var io=function(e){var t=e.setOpenModal,r=e.getAllCompanyDetailsByID,o=e.IDForEdit,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)([{product_forecast:o,month:0,year:0,forecast:0}]),m=Object(l.a)(p,2),d=m[0],y=m[1],v=function(e){var t=e.target,r=t.name,n=t.value;y(Object(u.a)({},d,Object(Y.a)({},r,n)))},g=function(){var e=Object(c.a)(oo().mark(function e(n){var a,i;return oo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),h(!0),a={product_forecast:o,month:d.month,year:d.year,forecast:d.forecast},e.next=6,Kn.createProductForecastData(a);case 6:i=e.sent,console.log("response",i),t(!1),r(),h(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("createing company detail error",e.t0),h(!1);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return g(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"product_forecast",size:"small",label:"product_forecast",variant:"outlined",value:o})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3,sx:{marginRight:"2rem"}},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Month"),a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"month",label:"Month",onChange:function(e){return v(e)}},no.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3,sx:{marginRight:"2rem"}},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Year"),a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"year",label:"Year",onChange:function(e){return v(e)}},ao.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,type:"number",name:"forecast",size:"small",label:"Forecast",variant:"outlined",value:d.forecast,onChange:function(e){return v(e)}}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function co(){co=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var lo=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetailsByID,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],f=i[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(s.c)(function(e){return e.auth}),P=k.profile,C=k.companyName,T=Object(n.useState)(!1),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)([]),F=Object(l.a)(I,2),G=F[0],W=F[1],z=Object(n.useState)(0),R=Object(l.a)(z,2),B=R[0],M=R[1];Object(n.useEffect)(function(){q()},[]);var q=function(){var e=Object(c.a)(co().mark(function e(){var t;return co().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Pn.getAllValidPriceList("all");case 4:t=e.sent,b(t.data),f(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error potential",e.t0),f(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),U=function(e){var t=[];if(e.response&&e.response.data)if(e.response.data.errors)for(var r=function(){var e=a[n],r=(o=Object(l.a)(e,2))[0];o[1].forEach(function(e){t.push("".concat(r,": ").concat(e))})},n=0,a=Object.entries(e.response.data.errors);n<a.length;n++){var o;r()}else e.response.data.message&&t.push(e.response.data.message);else t.push(e.message||"An unknown error occurred");return t},Y=function(){var e=Object(c.a)(co().mark(function e(n){var a,o,i;return co().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),f(!0),a={company:C,sales_person:P.email,product:L},e.next=6,Kn.createForecastData(a);case 6:o=e.sent,console.log("response",o),O(o.data.forecast_id),t(!1),r(),f(!1),e.next=21;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("createing company detail error",e.t0),i=U(e.t0.response.data),W(i),M(0),A(function(e){return!e});case 21:return e.prev=21,f(!1),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[0,14,21,24]])}));return function(t){return e.apply(this,arguments)}}(),V=Object(n.useCallback)(function(){B<G.length-1?M(function(e){return e+1}):(A(!1),M(0))},[B,G.length]);return a.a.createElement("div",null,a.a.createElement(Je,{open:u}),a.a.createElement(Ze.a,{open:D,autoHideDuration:6e3,onClose:V,anchorOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement(Xe.a,{onClose:V,severity:"error"},G[B])),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return Y(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"company",label:"Company",variant:"outlined",value:C})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"cheque_no",size:"small",label:"Sales Person",variant:"outlined",value:P.email})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return S(t)},options:g.map(function(e){return e.product}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")),a.a.createElement(Ce,{title:"Update Product Forecast Details",openPopup:m,setOpenPopup:d},a.a.createElement(io,{IDForEdit:x,getAllCompanyDetailsByID:r,setOpenModal:d,setOpenPopup:t})))};function uo(){uo=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var so=["January","February","March","April","May","June","July","August","September","October","November","December"],fo=function(e){var t=e.getAllCompanyDetailsByID,r=e.setOpenPopup,o=e.forecastDataByID,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(null),v=Object(l.a)(y,2),g=v[0],b=v[1],E=(new Date).getMonth(),w=[(E+1)%12,(E+2)%12,(E+3)%12];Object(n.useEffect)(function(){console.log("forecast",g),console.log("forecastDataByID",o),console.log("selectedMonthForecast",m)},[g,o,m]);var O=function(){var e=Object(c.a)(uo().mark(function e(n){var a;return uo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),f(!0),a={product_forecast:m.product_forecast,month:m.month,year:m.year,forecast:g||(m&&m.forecast?m.forecast:"")},e.next=6,Kn.updateProductForecastData(m.id,a);case 6:r(!1),t(),f(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("creating company detail error",e.t0),f(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:s}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return O(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Month"),a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"month",label:"Month",onChange:function(e){d(e.target.value)}},o.product_forecast.filter(function(e){return w.includes(e.month-1)}).map(function(e,t){return a.a.createElement(x.a,{key:t,value:e},so[e.month-1])})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"forecast",size:"small",label:"Forecast",variant:"outlined",value:g||(m&&m.forecast?m.forecast:""),onChange:function(e){return b(e.target.value)}}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function ho(){ho=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var po=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),mo=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),yo=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)([]),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=new Date,S=L.getMonth(),k=L.getFullYear(),P=(S-2+12)%12,C=(S-1+12)%12,T=(S+1)%12,N=(S+2)%12,D=(S+3)%12,A=["January","February","March","April","May","June","July","August","September","October","November","December"];Object(n.useEffect)(function(){t&&I()},[t]);var I=function(){var e=Object(c.a)(ho().mark(function e(){var r;return ho().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Kn.getCompanyDataByIdWithType(t,"forecast");case 4:r=e.sent,p(r.data.forecast),u(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),u(!1),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),F=Object(vr.a)(new Set(h&&h.flatMap(function(e){return e.product_forecast.map(function(e){return e.index_position})})));return F.sort(function(e,t){return e-t}),a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:i}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:2}),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Forecast Details")),a.a.createElement(Ae.a,{flexGrow:.5,align:"right"},a.a.createElement(We.a,{onClick:function(){return w(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(mo,null,a.a.createElement(po,{align:"center"},"LAST UPDATED BY"," "),a.a.createElement(po,{align:"center"},"PRODUCT"),a.a.createElement(po,{align:"center"}," ".concat(A[P]," - ").concat(P<S?k:k-1),a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(po,{align:"center"}," ".concat(A[C]," - ").concat(C<S?k:k-1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(po,{align:"center"},"".concat(A[S]," - ").concat(k)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(po,{align:"center"}," ".concat(A[T]," - ").concat(T>S?k:k+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(po,{align:"center"}," ".concat(A[N]," - ").concat(N>S?k:k+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(po,{align:"center"}," ".concat(A[D]," - ").concat(D>S?k:k+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(po,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,h&&h.map(function(e){return a.a.createElement(mo,null,a.a.createElement(po,{align:"center"},e.sales_person),a.a.createElement(po,{align:"center"},e.product),F.map(function(t){var r=e.product_forecast.find(function(e){return e.index_position===t});return r?null!==r.actual?a.a.createElement(qn.a,{key:t,align:"center"},r.actual," - ",r.forecast):a.a.createElement(qn.a,{key:t,align:"center"},"- ",r.forecast):a.a.createElement(qn.a,{key:t,align:"center"},"N/A")}),a.a.createElement(po,{align:"center"},a.a.createElement(We.a,{variant:"contained",onClick:function(){v(!0),j(e)}},"View")))}))))),a.a.createElement(Ce,{title:"Create Forecast Details",openPopup:E,setOpenPopup:w},a.a.createElement(lo,{getAllCompanyDetailsByID:I,setOpenPopup:w})),a.a.createElement(Ce,{title:"Update Forecast Details",openPopup:y,setOpenPopup:v},a.a.createElement(fo,{getAllCompanyDetailsByID:I,setOpenPopup:v,forecastDataByID:_})))};function vo(){vo=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var go=function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.onDataUpdated,i=Object(n.useState)([]),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),d=m[0],v=m[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=(new Date).toISOString().split("T")[0],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)(""),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)([]),F=Object(l.a)(I,2),G=F[0],W=F[1],z=Object(n.useState)(!1),R=Object(l.a)(z,2),B=R[0],M=R[1],q=gt(),U=q.handleSuccess,V=q.handleError,Q=q.handleCloseSnackbar,H=q.alertInfo,J=function(){var e=Object(c.a)(vo().mark(function e(){var t;return vo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,Kn.getAllCompetitors("all");case 4:t=e.sent,v(t.data);case 6:return e.prev=6,w(!1),e.finish(6);case 9:case"end":return e.stop()}},e,null,[[0,,6,9]])}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(vo().mark(function e(){var r,n,a,o,i,c,u,s,f,p,m,d,y,v,g,b,E,x,O,_,j,S,k,P,T,N,D,A;return vo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,Promise.all([Kn.getCompanyDataByIdWithType(t,"contacts"),Kn.getCompanyDataById(t)]);case 4:r=e.sent,n=Object(l.a)(r,2),a=n[0],o=n[1],i=o.data,c=i.website,u=i.estd_year,s=i.approx_annual_turnover,f=i.purchase_decision_maker,p=i.industrial_list,m=i.distribution_type,d=i.customer_serve_count,y=i.category,v=i.main_distribution,g=i.address,b=i.business_type,E=i.city,x=i.name,O=i.gst_number,_=i.pan_number,j=i.pincode,S=i.state,k=i.type_of_customer,P=i.whatsapp_group,T=i.origin_type,N=i.ref_customer,L({website:c,estd_year:u,approx_annual_turnover:s,purchase_decision_maker:f,industrial_list:p,distribution_type:m,customer_serve_count:d,category:y,main_distribution:v,address:g,business_type:b,city:E,name:x,gst_number:O,pan_number:_,pincode:j,state:S,type_of_customer:k,whatsapp_group:P,origin_type:T,ref_customer:N}),k&&Z(k),D=a.data.contacts.map(function(e){return{id:e.id,name:e.name,company:e.company,contact:e.contact,alternate_contact:e.alternate_contact,designation:e.designation,birth_date:e.birth_date,marital_status:e.marital_status,anniversary_date:e.anniversary_date,religion:e.religion}}),h(D),(A=D.find(function(e){return e.name===f}))&&C(A),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),V(e.t0),console.error("Error fetching company details:",e.t0);case 21:return e.prev=21,w(!1),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[1,17,21,24]])}));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(c.a)(vo().mark(function e(t){var r,n;return vo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,M(!0),e.next=4,Kn.getAllGroupCompanies(t);case 4:r=e.sent,n=r.data.map(function(e){return{ref_customer:e.name}}),W(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),V(e.t0),console.error("Failed to fetch group companies",e.t0);case 13:return e.prev=13,M(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,9,13,16]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){t&&(K(),J())},[t]);var X=function(e,t){L(function(r){return Object(u.a)({},r,Object(Y.a)({},e,t))})},$=function(e){var t=e.target,r=t.name,n=t.value;C(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},ee=function(e,t){if("purchase_decision_maker"===e){L(function(r){return Object(u.a)({},r,Object(Y.a)({},e,t))});var r=f.find(function(e){return e.name===t});console.log("filterID",r),r&&(console.log("filtered value",r),C(r))}else L(function(r){return Object(u.a)({},r,Object(Y.a)({},e,t))})},te=function(e,t){C(function(r){return Object(u.a)({},r,Object(Y.a)({},e,t))})},re=function(){var e=Object(c.a)(vo().mark(function e(n){var a,i;return vo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,w(!0),a={name:j.name||null,address:j.address||null,pincode:j.pincode||null,state:j.state||null,city:j.city||null,gst_number:j.gst_number||null,pan_number:j.pan_number||null,business_type:j.business_type||null,assigned_to:j.assigned_to||[],type_of_customer:j.type_of_customer||null,website:j.website||null,estd_year:j.estd_year||null,approx_annual_turnover:j.approx_annual_turnover||null,purchase_decision_maker:j.purchase_decision_maker||null,industrial_list:j.industrial_list||null,distribution_type:j.distribution_type||null,customer_serve_count:j.customer_serve_count||null,category:j.category||[],main_distribution:j.main_distribution||[],whatsapp_group:j.whatsapp_group||null,origin_type:j.origin_type,ref_customer:j.ref_customer},e.next=6,Kn.updateCompanyData(t,a);case 6:ne(),U("Company details updated successfully"),setTimeout(function(){r(!1)},300),o&&o(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),V(e.t0),e.t0.response&&e.t0.response.data&&e.t0.response.data.errors&&((i=e.t0.response.data.errors).non_field_errors?A(i.non_field_errors.join(" ")):A(i.whatsapp_group.join(" ")));case 16:return e.prev=16,w(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[1,12,16,19]])}));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(c.a)(vo().mark(function e(){var t;return vo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),t={name:P.name||null,company:P.company||null,contact:P.contact||null,alternate_contact:P.alternate_contact||null,designation:P.designation||null,birth_date:P.birth_date||null,marital_status:P.marital_status||null,anniversary_date:P.anniversary_date||null,religion:P.religion||null},e.next=5,Kn.updateContactData(P.id,t);case 5:K(),U("Contact details updated successfully");case 7:return e.prev=7,w(!1),e.finish(7);case 10:case"end":return e.stop()}},e,null,[[0,,7,10]])}));return function(){return e.apply(this,arguments)}}(),ae=function(){A("")};return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:H.open,onClose:Q,severity:H.severity,message:H.message}),a.a.createElement(Je,{open:E}),D&&a.a.createElement(Ae.a,{color:"error.main"},D),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:re},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"KYC Details"}))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,size:"small",label:"Company",variant:"outlined",value:j.name||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"website",size:"small",label:"Website",variant:"outlined",value:j.website||"",onChange:function(e){return X("website",e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"estd_year",size:"small",label:"Established Year",placeholder:"YYYY",value:j.estd_year||"",onChange:function(e){return X("estd_year",e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{fullWidth:!0,size:"small",options:["1cr to 10cr","10cr to 20cr","20cr to 30cr","30cr to 40cr","40cr to 50cr","50cr to 60cr","60cr to 70cr","70cr to 80cr","80cr to 90cr","90cr to 100cr","Above 100cr"],getOptionLabel:function(e){return e},value:j.approx_annual_turnover||"",onChange:function(e,t){return X("approx_annual_turnover",t)},label:"Approx Annual Turnover"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{style:{minWidth:220},size:"small",onChange:function(e,t){return ee("purchase_decision_maker",t)},value:j.purchase_decision_maker||"",options:f.map(function(e){return e.name}),getOptionLabel:function(e){return e},label:"Purchase Decision Maker"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return te("religion",t)},value:P.religion||"",options:Ya.religionsInIndia.map(function(e){return e}),getOptionLabel:function(e){return e},label:"Religion"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"birth_date",size:"small",label:"Birth date",variant:"outlined",value:P.birth_date||"",onChange:$,InputLabelProps:{shrink:!0},inputProps:{max:x}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return te("marital_status",t)},value:P.marital_status||"",options:Ya.Marital_Status_Options.map(function(e){return e}),getOptionLabel:function(e){return e},label:"Marital Status"})),"Married"===P.marital_status&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"anniversary_date",size:"small",label:"Anniversary Date",variant:"outlined",value:P.anniversary_date||"",onChange:$,InputLabelProps:{shrink:!0},inputProps:{max:x}})),"Industrial Customer"===j.type_of_customer&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return ee("industrial_list",t)},value:j.industrial_list||"",options:Ya.IndustriesList.map(function(e){return e.label}),getOptionLabel:function(e){return e},label:"Industrial List"})),"Distribution Customer"===j.type_of_customer&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return ee("distribution_type",t)},value:j.distribution_type||"",options:Ya.DistributionTypeOption.map(function(e){return e.label}),getOptionLabel:function(e){return e},label:"Distribution Type"})),"Wholeseller"===j.distribution_type&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,type:"number",name:"customer_serve_count",size:"small",label:"Customer Serve Count",variant:"outlined",value:j.customer_serve_count||"",onChange:function(e){return X("customer_serve_count",e.target.value)}})),"Distribution Customer"===j.type_of_customer&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{size:"small",value:j.category||[],onChange:function(e,t){ee("category",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:Ya.CategoryOption.map(function(e){return e.label}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},label:"Category",placeholder:"Category"})),"Distribution Customer"===j.type_of_customer&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",value:j.main_distribution||[],onChange:function(e,t){ee("main_distribution",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:d.map(function(e){return e.name}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},label:"Main Distribution",placeholder:"Main Distribution"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"whatsapp_group",size:"small",label:"Whatsapp Group",value:j.whatsapp_group||"",onChange:function(e){X("whatsapp_group",e.target.value),ae()},error:!!D,helperText:D})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{fullWidth:!0,name:"ref_customer",size:"small",label:"Group Company",options:G.map(function(e,t){return e.ref_customer}),value:j.ref_customer||"",onChange:function(e,t){X("ref_customer",t||""),ae()},error:!!D,helperText:D,loading:B}))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit"))))};function bo(){bo=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Eo=function(e){var t=e.recordForEdit,r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)(!1),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(0),O=Object(l.a)(x,2),_=O[0],j=O[1],L=function(e){var t=[];if(e.errors)for(var r=function(){var e=a[n],r=(o=Object(l.a)(e,2))[0];o[1].forEach(function(e){t.push("".concat(r,": ").concat(e))})},n=0,a=Object.entries(e.errors);n<a.length;n++){var o;r()}return t};Object(n.useEffect)(function(){S()},[]);var S=function(){var e=Object(c.a)(bo().mark(function e(){var r,n;return bo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Kn.getCompanyDataByIdWithType(t,"last_price");case 4:r=e.sent,u(r.data.last_price),p(!1),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("getting Last Price api error",e.t0),n=L(e.t0.response.data),w(n),j(0),v(function(e){return!e});case 16:return e.prev=16,p(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,9,16,19]])}));return function(){return e.apply(this,arguments)}}(),k=Object(n.useCallback)(function(){_<E.length-1?j(function(e){return e+1}):(v(!1),j(0))},[_,E.length]),P=i.map(function(e){return{pi:e.proformainvoice,status:e.status,date:e.date,description:e.description,product:e.product,price:e.rate,quantity:e.quantity}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:h}),a.a.createElement(Ze.a,{open:y,onClose:k,anchorOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement(Xe.a,{onClose:k,severity:"error"},E[_])),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Last Price")),a.a.createElement(dt,{headers:["PI","Status","Date","Description","Product","Price","Quantity"],data:P,openInPopup:null}))))};function wo(){wo=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var xo=function(e){var t=e.recordForEdit,r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)({drop_pi:0,total_sales:0}),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)("".concat((new Date).getFullYear(),"-").concat(((new Date).getMonth()+1).toString().padStart(2,"0"))),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(0),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(!1),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)([]),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useRef)(null);console.log("filterDate",E),Object(n.useEffect)(function(){z()},[E]);var z=function(){var e=Object(c.a)(wo().mark(function e(){var r,n;return wo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,Kn.getSalesHistoryDataByIdWithType(t,"sales_history",E);case 4:return r=e.sent,u(r.data.sales_history),p({drop_pi:r.data.drop_pi,total_sales:r.data.total_sales}),n=r.data.sales_history.map(function(e){return{date:e.date,sales_invoice:e.sales_invoice,product:e.product,description:e.description,quantity:e.quantity,unit:e.unit,rate:e.rate,amount:e.amount,gst:e.gst,total:e.total}}),console.log("data",n),v(!1),e.abrupt("return",n);case 13:e.prev=13,e.t0=e.catch(0),console.error("Error fetching sales history:",e.t0),j(["Error fetching data. Please try again."]),D(!0),v(!1);case 19:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}(),R=Object(n.useCallback)(function(){k<_.length-1?P(k+1):(D(!1),P(0))},[k,_.length]),B=i&&i.map(function(e){return{date:e.date,sales_invoice:e.sales_invoice,description:e.description,product:e.product,quantity:e.quantity,unit:e.unit,rate:e.rate,amount:e.amount,total_gst:e.gst,total_amount:e.total}}),M=function(){var e=Object(c.a)(wo().mark(function e(){var t;return wo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z();case 3:t=e.sent,G(t),setTimeout(function(){W.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:y}),a.a.createElement(Ze.a,{open:N,onClose:R,anchorOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement(Xe.a,{onClose:R,severity:"error"},_[k])),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:"1em"},a.a.createElement(Ve,{size:"small",type:"month",label:"Filter by Month and Year",value:E,onChange:function(e){return w(e.target.value)},sx:{width:200,mr:2}}),a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Sales History"),a.a.createElement(Ae.a,null,a.a.createElement("h5",{style:{textAlign:"left",marginBottom:"1em",fontSize:"16px",color:"rgb(34, 34, 34)",fontWeight:800}},"No of PI Dropped: ",h.drop_pi),a.a.createElement("h5",{style:{textAlign:"left",marginBottom:"1em",fontSize:"16px",color:"rgb(34, 34, 34)",fontWeight:800}},"Total Sales for the Month: ",h.total_sales)),a.a.createElement(We.a,{variant:"contained",color:"secondary",className:"mx-3",onClick:M},"DownLoad CSV"),F.length>0&&a.a.createElement(Bn.CSVLink,{data:F,headers:[{label:"Date",key:"date"},{label:"Sales Invoice",key:"sales_invoice"},{label:"Description",key:"description"},{label:"Product",key:"product"},{label:"Quantity",key:"quantity"},{label:"Unit",key:"unit"},{label:"Rate",key:"rate"},{label:"Amount",key:"amount"},{label:"Total GST",key:"gst"},{label:"Total Amount",key:"total"}],ref:W,filename:"Sales History.csv",target:"_blank",style:{textDecoration:"none",outline:"none",visibility:"hidden"}})),B&&a.a.createElement(dt,{headers:["Date","Sales Invoice","Description","Product","Quantity","Unit","Rate","Amount","Total GST","Total Amount"],data:B,openInPopup:null}))))};function Oo(){Oo=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var _o=function(e){var t=e.recordForEdit,r=e.getCompanyDetailsByID,o=e.setOpenModal,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)({}),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)({message:"",severity:"",open:!1}),x=Object(l.a)(w,2),O=x[0],_=x[1];Object(n.useEffect)(function(){(function(){var e=Object(c.a)(Oo().mark(function e(){var t;return Oo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Pn.getAllProduct();case 4:t=e.sent,E(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("error potential",e.t0);case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}})()()},[]);var j=function(){var e=Object(c.a)(Oo().mark(function e(n){var a;return Oo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,h(!0),a=Object(u.a)({company:t},d),e.next=6,Kn.createPotentialCustomer(a);case 6:return _({message:"Potential customer created successfully!",severity:"success",open:!0}),o(!1),e.next=10,r();case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),_({message:e.t0.response.data.message||"Error creating potential customer",severity:"error",open:!0}),console.error("error:",e.t0);case 16:return e.prev=16,h(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[1,12,16,19]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:O.open,message:O.message,severity:O.severity,onClose:function(){_({open:!1})}}),a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:j},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{sx:{minWidth:180},size:"small",onChange:function(e,t){y(Object(u.a)({},d,{product:t}))},value:d.product,options:b.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e||"No Options")},label:"Product"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"current_buying_quantity",size:"small",label:"Current Buying Quantity Monthly",variant:"outlined",value:d.current_buying_quantity||"",onChange:function(e){var t=e.target,r=t.name,n=t.value;y(Object(u.a)({},d,Object(Y.a)({},r,n)))}}))),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{sx:{marginTop:"20px"},fullWidth:!0,type:"submit",variant:"contained"},"Submit")))))};function jo(){jo=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Lo=function(e){var t=e.idForEdit,r=e.getCompanyDetailsByID,o=e.setOpenModal,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(t),m=Object(l.a)(p,2),d=m[0],y=m[1],v=function(e){var t=e.target,r=t.name,n=t.value;y(Object(u.a)({},d,Object(Y.a)({},r,n)))},g=function(){var e=Object(c.a)(jo().mark(function e(t){var n;return jo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,h(!0),n={company:d.company,product:d.product,current_buying_quantity:d.current_buying_quantity,remark:d.remark},e.next=6,Kn.updatePotentialCustomer(d.id,n);case 6:return o(!1),e.next=9,r();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("error:",e.t0);case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:g},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,name:"product",size:"small",label:"Product",variant:"outlined",value:d.product||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"current_buying_quantity",size:"small",label:"Current Buying Quantity Monthly",variant:"outlined",value:d.current_buying_quantity||"",onChange:v})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"remark",size:"small",label:"Remark",variant:"outlined",value:d.remark||"",onChange:v}))),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{sx:{marginTop:"20px"},fullWidth:!0,type:"submit",variant:"contained"},"Submit")))))};function So(){So=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ko=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)([]),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(null),O=Object(l.a)(x,2),_=O[0],j=O[1],L=function(e){if(!e)return"";var t=e.split("-"),r=Object(l.a)(t,3),n=r[0],a=r[1],o=r[2],i="".concat(a,"/").concat(n,"/").concat(o);return new Date(i).toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"})};Object(n.useEffect)(function(){S()},[t]);var S=function(){var e=Object(c.a)(So().mark(function e(){var r;return So().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Kn.getCompanyDataByIdWithType(t,"potential");case 4:r=e.sent,p(r.data.potential),u(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),u(!1),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),k=h&&h.map(function(e){return{id:e.id,created_date:L(e.created_date||""),created_by:e.created_by,description:e.description,product:e.product,current_buying_quantity:e.current_buying_quantity,updated_date:L(e.updated_date||""),updated_by:e.updated_by,remark:e.is_remark}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:i}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:"1em"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Customer Potential"),a.a.createElement(Ae.a,null,a.a.createElement(We.a,{variant:"contained",onClick:function(){return v(!0)},sx:{marginLeft:"10px",marginRight:"10px"},size:"small"},"Add"))),k&&a.a.createElement(dt,{headers:["ID","Created Date","created By","Description","Product","Current Buying Quantity(Monthly)","Update Date","Updated By","Remark","Action"],data:k,openInPopup:function(e){var t=h.find(function(t){return t.id===e.id});j(t),w(!0)}}))),a.a.createElement(Ce,{maxWidth:"xl",title:"Create Potential",openPopup:y,setOpenPopup:v},a.a.createElement(_o,{getCompanyDetailsByID:S,recordForEdit:t,setOpenModal:v})),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Potential",openPopup:E,setOpenPopup:w},a.a.createElement(Lo,{getCompanyDetailsByID:S,idForEdit:_,setOpenModal:w})))},Po=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetails,o=e.recordForEdit,i=e.selectedCustomers,c=Object(n.useState)(0),u=Object(l.a)(c,2),s=u[0],f=u[1];return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(Xr,{tabs:[{label:"Company"},{label:"Bank"},{label:"Contact"},{label:"WareHouse"},{label:"Security Cheques"},{label:"Forecast"},{label:"KYC"},{label:"Last Price"},{label:"Sales History"},{label:"Potential"}],activeTab:s,onTabChange:function(e){f(e)}}),a.a.createElement("div",{style:{marginTop:"10px"}},0===s&&a.a.createElement("div",null,a.a.createElement(Qa,{setOpenPopup:t,getAllCompanyDetails:r,recordForEdit:o,selectedCustomers:i})),1===s&&a.a.createElement("div",null,a.a.createElement(aa,{recordForEdit:o})),2===s&&a.a.createElement("div",null,a.a.createElement(wa,{recordForEdit:o})),3===s&&a.a.createElement("div",null,a.a.createElement(Ca,{recordForEdit:o})),4===s&&a.a.createElement("div",null,a.a.createElement(ro,{recordForEdit:o})),5===s&&a.a.createElement("div",null,a.a.createElement(yo,{recordForEdit:o})),6===s&&a.a.createElement("div",null,a.a.createElement(go,{recordForEdit:o,setOpenPopup:t,getIncompleteKycCustomerData:r})),7===s&&a.a.createElement("div",null,a.a.createElement(Eo,{recordForEdit:o})),8===s&&a.a.createElement("div",null,a.a.createElement(xo,{recordForEdit:o})),9===s&&a.a.createElement("div",null,a.a.createElement(ko,{recordForEdit:o})))))},Co=r(47);function To(){To=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var No=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(1),f=Object(l.a)(i,2),h=f[0],p=f[1],m=Object(n.useState)(0),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(null),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(""),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)([]),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(null),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(!1),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useState)([]),z=Object(l.a)(W,2),R=z[0],B=z[1],M=Object(n.useState)([]),q=Object(l.a)(M,2),U=q[0],V=q[1],Q=Object(n.useRef)(null),H=Object(n.useState)(!1),J=Object(l.a)(H,2),K=J[0],Z=J[1],X=Object(s.c)(function(e){return e.auth.profile}).sales_users||[],$=gt(),ee=$.handleSuccess,te=$.handleError,re=$.handleCloseSnackbar,ne=$.alertInfo;Object(n.useEffect)(function(){var e=function(){Z(!0),P([])},t=function(){Z(!1),ce()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var ae=function(){var e=Object(c.a)(To().mark(function e(){var t;return To().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe();case 3:t=e.sent,B(t),setTimeout(function(){Q.current.link.click()}),ee("CSV Download successfully"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),te(e.t0),console.error("CSVLink Download error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(c.a)(To().mark(function e(){var t,r;return To().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Mn.getAllDeadCustomerData("all",E,_);case 4:return t=e.sent,r=t.data.map(function(e){var t=e.assigned_to.map(function(e,t){return Object(Y.a)({},"sales_person_".concat(t+1),e)});return Object(u.a)({company:e.name,city:e.city,state:e.state},t.reduce(function(e,t){return Object(u.a)({},e,t)},{}),{contact_person_name:e.contacts&&e.contacts[0]?e.contacts[0].name:"",contact:e.contacts&&e.contacts[0]?e.contacts[0].contact:""})}),console.log(r),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(c.a)(To().mark(function e(){var t;return To().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Pn.getAllProduct();case 4:t=e.sent,V(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("error potential",e.t0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){ie()},[]);var ce=Object(n.useCallback)(Object(c.a)(To().mark(function e(){var t,r;return To().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Mn.getAllDeadCustomerData(h,E,_);case 4:t=e.sent,P(t.data.results),r=t.data.count,v(Math.ceil(r/25)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),te(e.t0),console.error("Error fetching Customer Having Forecast",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])})),[h,E,_]);Object(n.useEffect)(function(){ce()},[h,E,_]);var le=Object(n.useCallback)(function(e){D(e.id),G(!0)},[k]),ue=k.map(function(e){return{id:e.id,company:e.name,city:e.city,state:e.state,sales_person:e.assigned_to,contact_person_name:e.contacts&&e.contacts[0]?e.contacts[0].name:"",contact:e.contacts&&e.contacts[0]?e.contacts[0].contact:""}});return a.a.createElement("div",null,a.a.createElement(Co.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(K?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(yt,{open:ne.open,onClose:re,severity:ne.severity,message:ne.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",sx:{minWidth:150},onChange:function(e,t){return function(e){w(e),ce(h,e,_)}(t)},value:E,options:X.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){j(e),p(1)},onReset:function(){j(""),p(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:ae},"Download CSV"),R.length>0&&a.a.createElement(Bn.CSVLink,{data:R,headers:[{label:"Company",key:"company"},{label:"City",key:"city"},{label:"State",key:"state"},{label:"Sales Person 1",key:"sales_person_1"},{label:"Sales Person 2",key:"sales_person_2"},{label:"Sales Person 3",key:"sales_person_3"},{label:"Sales Person 4",key:"sales_person_4"},{label:"Contact Person Name",key:"contact_person_name"},{label:"Contact",key:"contact"}],ref:Q,filename:"Dead Customer forecast.csv",style:{display:"none"}})))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Dead Customer Forecast")),a.a.createElement(dt,{headers:["ID","Company","City","State","Sales Person","Contact Person Name","Contact","Action"],data:ue,openInPopup:le,openInPopup2:null,openInPopup3:null,openInPopup4:null}),a.a.createElement(Vr,{totalPages:y,currentPage:h,handlePageChange:function(e,t){p(t)}}))),a.a.createElement(Ce,{fullScreen:!0,title:"Update Customer Details",openPopup:F,setOpenPopup:G},a.a.createElement(Po,{setOpenPopup:G,getAllCompanyDetails:ce,recordForEdit:N,product:U})))};function Do(){Do=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ao=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(0),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(""),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useRef)(null),P=gt(),C=P.handleSuccess,T=P.handleError,N=P.handleCloseSnackbar,D=P.alertInfo,A=new Date,I=A.getMonth(),F=A.getFullYear(),G=(I-2+12)%12,W=(I-1+12)%12,z=(I+1)%12,R=(I+2)%12,B=(I+3)%12,M=["January","February","March","April","May","June","July","August","September","October","November","December"],q=function(){var e=Object(c.a)(Do().mark(function e(){var t;return Do().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y();case 3:t=e.sent,S(t),setTimeout(function(){k.current.link.click()}),C("CSV Download successfully"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),T(e.t0),console.log("CSVLink Download error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),U=[{key:"description",label:"Description"},{key:"product",label:"Product"},{key:"type",label:"Type"},{key:"unit",label:"Unit"},{key:"lastMonth1",label:"".concat(M[G]," -- ").concat(G<I?F:F-1," Forecast-Actual"),type:"number"},{key:"lastMonth2",label:"".concat(M[W]," -- ").concat(W<I?F:F-1," Forecast-Actual"),type:"number"},{key:"currentMonth",label:"".concat(M[I]," -- ").concat(F," Forecast-Actual")},{key:"nextMonth1",label:"".concat(M[z]," - ").concat(z>I?F:F+1," Forecast"),type:"number"},{key:"nextMonth2",label:"".concat(M[R]," - ").concat(R>I?F:F+1," Forecast")},{key:"nextMonth3",label:"".concat(M[B]," - ").concat(B>I?F:F+1," Forecast"),type:"number"}],Y=function(){var e=Object(c.a)(Do().mark(function e(){var t,r;return Do().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Mn.getAllProductWiseForecastData("all",g);case 4:return t=e.sent,r=t.data.filter(function(e){return e.qty_forecast.length>0}).map(function(e){return{description:e.product__description__name,product:e.product__name,type:e.product__type,unit:e.product__unit__name,lastMonth1:e.qty_forecast.filter(function(e){return 0===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),lastMonth2:e.qty_forecast.filter(function(e){return 1===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),currentMonth:e.qty_forecast.filter(function(e){return 2===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),nextMonth1:e.qty_forecast.filter(function(e){return 3===e.index_position}).map(function(e){return e.total_forecast}),nextMonth2:e.qty_forecast.filter(function(e){return 4===e.index_position}).map(function(e){return e.total_forecast}),nextMonth3:e.qty_forecast.filter(function(e){return 5===e.index_position}).map(function(e){return e.total_forecast})}}),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}(),V=Object(n.useCallback)(Object(c.a)(Do().mark(function e(){var t,r;return Do().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Mn.getAllProductWiseForecastData(s,g);case 4:t=e.sent,O(t.data.results),r=t.data.count,d(Math.ceil(r/25)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),T(e.t0),console.error("Error fetching Customer Having Forecast",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])})),[s,g]);Object(n.useEffect)(function(){V()},[s,g]);var Q=x.filter(function(e){return e.qty_forecast.length>0}).map(function(e){return{description:e.product__description__name,product:e.product__name,type:e.product__type,unit:e.product__unit__name,lastMonth1:e.qty_forecast.filter(function(e){return 0===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),lastMonth2:e.qty_forecast.filter(function(e){return 1===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),currentMonth:e.qty_forecast.filter(function(e){return 2===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),nextMonth1:e.qty_forecast.filter(function(e){return 3===e.index_position}).map(function(e){return e.total_forecast}),nextMonth2:e.qty_forecast.filter(function(e){return 4===e.index_position}).map(function(e){return e.total_forecast}),nextMonth3:e.qty_forecast.filter(function(e){return 5===e.index_position}).map(function(e){return e.total_forecast})}}),H=["Description","Product","Type","Unit","".concat(M[G]," -- ").concat(G<I?F:F-1," Actual-Forecast"),"".concat(M[W]," -- ").concat(W<I?F:F-1," Actual-Forecast"),"".concat(M[I]," -- ").concat(F," Actual-Forecast"),"".concat(M[z]," - ").concat(z>I?F:F+1," Forecast"),"".concat(M[R]," - ").concat(R>I?F:F+1," Forecast"),"".concat(M[B]," - ").concat(B>I?F:F+1," Forecast")];return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:D.open,onClose:N,severity:D.severity,message:D.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){b(e),f(1)},onReset:function(){b(""),f(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:q},"Download CSV"),L.length>0&&a.a.createElement(Bn.CSVLink,{data:L,headers:U,ref:k,filename:"Product Wise forecast.csv",style:{display:"none"}})))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Product Wise Forecast")),a.a.createElement(dt,{headers:H,data:Q,openInPopup:null,openInPopup2:null,openInPopup3:null,openInPopup4:null,Styles:{paddingLeft:"10px",paddingRight:"10px"}}),a.a.createElement(Vr,{totalPages:m,currentPage:s,handlePageChange:function(e,t){f(t)}}))))};function Io(){Io=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Fo=function(e){var t=e.idForEdit,r=e.setOpenPopup,o=e.getAllProductionForecastDetails,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)({id:t.id,anticipated_date:t.anticipated_date||"",month:t.month||"",product_forecast:t.product_forecast||"",year:t.year||""}),m=Object(l.a)(p,2),d=m[0],y=m[1],v=function(){var e=Object(c.a)(Io().mark(function e(t){var n;return Io().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,h(!0),n={anticipated_date:d.anticipated_date,month:d.month,product_forecast:d.product_forecast,year:d.year},e.next=6,Mn.updateAnticipatedDate(d.id,n);case 6:e.sent&&(r(!1),o()),h(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),h(!1),console.error("Error updating anticipated date:",e.t0);case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:v,sx:{mt:1}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",type:"date",label:"Estimated Date",name:"anticipated_date",value:d.anticipated_date,onChange:function(e){var t=e.target,r=t.name,n=t.value;y(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})}}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:3,mb:2}},"Update")))};function Go(){Go=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Wo=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(0),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(null),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)([]),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)([]),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(!1),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)(""),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useRef)(null),M=Object(n.useState)(!1),q=Object(l.a)(M,2),U=q[0],Y=q[1],V=Object(s.c)(function(e){return e.auth.profile}),Q=V.sales_users||[];console.log(Q);var H=gt(),J=H.handleSuccess,K=H.handleError,Z=H.handleCloseSnackbar,X=H.alertInfo;Object(n.useEffect)(function(){var e=function(){Y(!0),k([])},t=function(){Y(!1),te()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var $=function(){var e=Object(c.a)(Go().mark(function e(){var t;return Go().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee();case 3:t=e.sent,N(t),setTimeout(function(){B.current.link.click()}),J("CSV Download successfully"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),K(e.t0),console.log("CSVLink Download error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(c.a)(Go().mark(function e(){var t,r;return Go().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Mn.getAllCurrentMonthData("all",b,O);case 4:return t=e.sent,r=t.data.filter(function(e){return e.forecast>0}).map(function(e){var t=e.orderbook_value+e.actual,r=e.forecast-t;return{company:e.company,sales_person:e.sales_person,product:e.product,forecast:e.forecast,actual:e.actual,orderbook_value:e.orderbook_value,forecast_achieved:r>0?r:0}}),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}(),te=Object(n.useCallback)(Object(c.a)(Go().mark(function e(){var t,r;return Go().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Mn.getAllCurrentMonthData(f,b,O);case 4:t=e.sent,k(t.data.results),r=t.data.count,y(Math.ceil(r/25)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),K(e.t0),console.error("Error fetching Customer Having Forecast",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])})),[f,b,O]);Object(n.useEffect)(function(){te()},[f,b,O]);var re=Object(n.useCallback)(function(e){R(e),F(!0)},[S]),ne=function(e){if(!e)return console.log("No anticipated date provided."),"";var t=new Date,r=new Date(e);return isNaN(r.getTime())?(console.log("Invalid date provided."),""):(t.setHours(0,0,0,0),r.setHours(0,0,0,0),console.log("Today: ".concat(t.toISOString(),", Anticipated: ").concat(r.toISOString())),r.getTime()===t.getTime()?(console.log("Date is today."),"#ccccff"):r<t?(console.log("Date is in the past."),"#ffcccc"):(console.log("Date is in the future."),"#ffffcc"))};console.log(ne("2023-12-25"));return a.a.createElement("div",null,a.a.createElement(Co.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(U?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(yt,{open:X.open,onClose:Z,severity:X.severity,message:X.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},!V.groups.includes("Sales Executive")&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",sx:{minWidth:150},onChange:function(e,t){return function(e){E(e),te(f,e,O)}(t)},value:b,options:Q.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){_(e),h(1)},onReset:function(){_(""),h(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:$},"Download CSV"),T.length>0&&a.a.createElement(Bn.CSVLink,{data:T,headers:[{label:"Company",key:"company"},{label:"Sales Person",key:"sales_person"},{label:"Product",key:"product"},{label:"Forecast",key:"forecast"},{label:"Actual",key:"actual"},{label:"Orderbook Value",key:"orderbook_value"},{label:"Shortfall",key:"forecast_achieved"}],ref:B,filename:"Current Month forecast.csv",style:{display:"none"}})))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Current Month Forecast")),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Ro,null,["Company","Sales Person","Product","Forecast","Actual","Orderbook Value","Shortfall","Estimate Date","Action"].map(function(e){return a.a.createElement(zo,{key:e,align:"center"},e)}))),a.a.createElement(Hn.a,null,S.map(function(e,t){var r,n=ne(e.anticipated_date);return a.a.createElement(Ro,{key:e.id,sx:{backgroundColor:n}},a.a.createElement(zo,{align:"center"},e.company),a.a.createElement(zo,{align:"center"},e.sales_person),a.a.createElement(zo,{align:"center"},e.product),a.a.createElement(zo,{align:"center"},e.forecast),a.a.createElement(zo,{align:"center"},e.actual),a.a.createElement(zo,{align:"center"},e.orderbook_value),a.a.createElement(zo,{align:"center"},e.forecast_achieved),a.a.createElement(zo,{align:"center"},(r=e.anticipated_date)?new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(r)):"-"),a.a.createElement(zo,{align:"center"},a.a.createElement(We.a,{onClick:function(){return re(e)}},"View")))})))),a.a.createElement(Vr,{totalPages:d,currentPage:f,handlePageChange:function(e,t){h(t)}}))),a.a.createElement(Ce,{maxWidth:"md",title:"Update Current Month Forecast",openPopup:I,setOpenPopup:F},a.a.createElement(Fo,{idForEdit:z,setOpenPopup:F,getAllCurrentMonthForecastDetails:te})))},zo=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:14,padding:0}),t}),Ro=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Bo(){Bo=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Mo=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(0),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(""),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useRef)(null),P=gt(),C=P.handleSuccess,T=P.handleError,N=P.handleCloseSnackbar,D=P.alertInfo,A=new Date,I=A.getMonth(),F=A.getFullYear(),G=(I-2+12)%12,W=(I-1+12)%12,z=(I+1)%12,R=(I+2)%12,B=(I+3)%12,M=["January","February","March","April","May","June","July","August","September","October","November","December"],q=function(){var e=Object(c.a)(Bo().mark(function e(){var t;return Bo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y();case 3:t=e.sent,S(t),setTimeout(function(){k.current.link.click()}),C("CSV Download successfully"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),T(e.t0),console.log("CSVLink Download error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),U=[{label:"Description",key:"description"},{label:"Brand",key:"brand"},{label:"Unit",key:"unit"},{label:"".concat(M[G]," -- ").concat(G<I?F:F-1," Forecast-Actual"),key:"lastMonth1"},{label:"".concat(M[W]," -- ").concat(W<I?F:F-1," Forecast-Actual"),key:"lastMonth2"},{label:"".concat(M[I]," -- ").concat(F," Forecast-Actual"),key:"currentMonth"},{label:"".concat(M[z]," - ").concat(z>I?F:F+1," Forecast"),key:"nextMonth1"},{label:"".concat(M[R]," - ").concat(R>I?F:F+1," Forecast"),key:"nextMonth2"},{label:"".concat(M[B]," - ").concat(B>I?F:F+1," Forecast"),key:"nextMonth3"}],Y=function(){var e=Object(c.a)(Bo().mark(function e(){var t,r;return Bo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Mn.getAllDescriptionWiseForecastData("all",g);case 4:return t=e.sent,r=t.filter(function(e){return e.qty_forecast.length>0}).map(function(e){return{description:e.product__description__name,brand:e.product__brand__name,unit:e.product__unit__name,lastMonth1:e.qty_forecast.filter(function(e){return 0===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),lastMonth2:e.qty_forecast.filter(function(e){return 1===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),currentMonth:e.qty_forecast.filter(function(e){return 2===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),nextMonth1:e.qty_forecast.filter(function(e){return 3===e.index_position}).map(function(e){return e.total_forecast}),nextMonth2:e.qty_forecast.filter(function(e){return 4===e.index_position}).map(function(e){return e.total_forecast}),nextMonth3:e.qty_forecast.filter(function(e){return 5===e.index_position}).map(function(e){return e.total_forecast})}}),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}(),V=Object(n.useCallback)(Object(c.a)(Bo().mark(function e(){var t,r;return Bo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Mn.getAllDescriptionWiseForecastData(s,g);case 4:t=e.sent,O(t.data.results),r=t.data.count,d(Math.ceil(r/25)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),T(e.t0),console.error("Error fetching Customer Having Forecast",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])})),[s,g]);Object(n.useEffect)(function(){V()},[s,g]);var Q=x.filter(function(e){return e.qty_forecast.length>0}).map(function(e){return{description:e.product__description__name,brand:e.product__brand__name,unit:e.product__unit__name,lastMonth1:e.qty_forecast.filter(function(e){return 0===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),lastMonth2:e.qty_forecast.filter(function(e){return 1===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),currentMonth:e.qty_forecast.filter(function(e){return 2===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),nextMonth1:e.qty_forecast.filter(function(e){return 3===e.index_position}).map(function(e){return e.total_forecast}),nextMonth2:e.qty_forecast.filter(function(e){return 4===e.index_position}).map(function(e){return e.total_forecast}),nextMonth3:e.qty_forecast.filter(function(e){return 5===e.index_position}).map(function(e){return e.total_forecast})}}),H=["Description","Brand","Unit","".concat(M[G]," -- ").concat(G<I?F:F-1," Actual-Forecast"),"".concat(M[W]," -- ").concat(W<I?F:F-1," Actual-Forecast"),"".concat(M[I]," -- ").concat(F," Actual-Forecast"),"".concat(M[z]," - ").concat(z>I?F:F+1," Forecast"),"".concat(M[R]," - ").concat(R>I?F:F+1," Forecast"),"".concat(M[B]," - ").concat(B>I?F:F+1," Forecast")];return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:D.open,onClose:N,severity:D.severity,message:D.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){b(e),f(1)},onReset:function(){b(""),f(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:q},"Download CSV"),L.length>0&&a.a.createElement(Bn.CSVLink,{data:L,headers:U,ref:k,filename:"Description Wise forecast.csv",style:{display:"none"}})))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Description Wise Forecast")),a.a.createElement(dt,{headers:H,data:Q,openInPopup:null,openInPopup2:null,openInPopup3:null,openInPopup4:null,Styles:{paddingLeft:"10px",paddingRight:"10px"}}),a.a.createElement(Vr,{totalPages:m,currentPage:s,handlePageChange:function(e,t){f(t)}}))))},qo={getAllLeads:function(e,t,r,n,a){var o=new URLSearchParams;return e&&o.append("page",e),t&&o.append("funnel",t),r&&n&&o.append(r,n),a&&o.append("search",a),ge.get("api/lead/list-lead/?".concat(o.toString()))},getAllAssignedUser:function(){return ge.get("/api/user/sales-user")},getAllUnassignedData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("references__source",t),r&&n.append("search",r),ge.get("api/lead/list-unassigned/?".concat(n.toString()))},getAllDuplicateLeads:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("field",t),r&&n.append("search",r),ge.get("api/lead/duplicate-leads/?".concat(n.toString()))},createLeads:function(e){return ge.post("/api/lead/list-lead/",e)},getLeadsById:function(e){return ge.get("/api/lead/list-lead/".concat(e))},updateLeads:function(e,t){return ge.patch("/api/lead/list-lead/".concat(e),t)},createFollowUpLeads:function(e){return ge.post("/api/lead/list-followup/",e)},getFollowUp:function(e,t,r){var n=new URLSearchParams;return e&&n.append("type",e),t&&n.append("page",t),r&&n.append("user__email",r),ge.get("api/lead/list-followup/?".concat(n.toString()))},getCustomerFollowup:function(e,t,r,n,a){var o=new URLSearchParams;return e&&o.append("followup",e),t&&o.append("page",t),r&&o.append("created_by__email",r),n&&o.append("start_date",n),a&&o.append("end_date",a),ge.get("api/customer/customer-followup/?".concat(o.toString()))},getLeadFollowup:function(e,t,r,n,a){var o=new URLSearchParams;return e&&o.append("type",e),t&&o.append("page",t),r&&o.append("user__email",r),n&&o.append("start_date",n),a&&o.append("end_date",a),ge.get("api/lead/list-followup/?".concat(o.toString()))},createPotentialLead:function(e){return ge.post("/api/lead/list-potential/",e)},deletePotentialLeadsById:function(e){return ge.delete("/api/lead/view-potential/".concat(e))},getAllRefernces:function(){return ge.get("/api/lead/list-references")},createRefernces:function(e){return ge.post("/api/lead/view-references/",e)},getReferncesById:function(e){return ge.get("/api/lead/view-references/".concat(e))},updateRefernces:function(e,t){return ge.patch("/api/lead/view-references/".concat(e),t)},DoneLeadFollowup:function(e,t){return ge.patch("/api/lead/list-followup/".concat(e),t)},DoneCustomLeadFollowup:function(e,t){return ge.patch("/api/customer/customer-followup/".concat(e,"/"),t)},BulkLeadAssign:function(e){return ge.post("/api/lead/assign-bulk-leads/",e)},AssignMultipleLeads:function(e){return ge.post("/api/lead/assign-multiple-leads/",e)},getAllFollowUp:function(e,t,r,n,a){var o=new URLSearchParams;return e&&o.append("date_range_after",e),t&&o.append("date_range_before",t),r&&o.append("page",r),n&&o.append("user_email",n),a&&o.append("activity",a),ge.get("api/lead/list-all-follow-ups/?".concat(o.toString()))},getIndiaMartLeads:function(e){return ge.get("/api/lead/indiamart-leads-list/?year_month=".concat(e))},createLeadForecast:function(e){return ge.post("/api/forecast/lead-forecast/",e)},getLeadForecast:function(e){return ge.get("/api/forecast/lead-forecast/",e)},updateLeadForecast:function(e,t){return ge.patch("/api/forecast/lead-forecast/".concat(e,"/"),t)},createJustDialLeads:function(e){return ge.post("/api/lead/just-dial-lead/",e)},LeadsRecordDatas:function(e,t,r,n){var a=new URLSearchParams;return e&&a.append("page",e),t&&a.append("search",t),r&&a.append("stage",r),n&&a.append("references__source",n),ge.get("api/lead/assign-leads/?".concat(a.toString()))}};function Uo(){Uo=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Yo=function(e){var t=e.getAllCompanyDetailsByID,r=e.setOpenPopup2,o=e.forecastDataByID,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(null),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1],E=function(){var e=Object(c.a)(Uo().mark(function e(t){var r,n,a;return Uo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),r=["Director","Customer Service","Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Sales Manager without Leads"],e.next=5,qo.getAllAssignedUser();case 5:n=e.sent,a=n.data.filter(function(e){return e.groups.some(function(e){return r.includes(e)})}),b(a),f(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),f(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){E()},[]);var w=function(){var e=Object(c.a)(Uo().mark(function e(n){var a;return Uo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),n.preventDefault(),a={company:o.company,product:o.product,sales_person:m||o.sales_person},e.next=6,Mn.updateProductForecast(o.id,a);case 6:r(!1),t(),f(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),f(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:s}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:w},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Assign From",variant:"outlined",value:o.sales_person?o.sales_person:""})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{fullWidth:!0,size:"small",id:"grouped-demo",onChange:function(e,t){return d(t)},options:g.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Assign To"}))),a.a.createElement(Lt,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},text:"Assign"})))};function Vo(){Vo=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Qo=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(0),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(null),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)([]),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)([]),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(null),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)(!1),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useState)(!1),M=Object(l.a)(B,2),q=M[0],U=M[1],Y=Object(n.useRef)(null),V=Object(n.useState)(!1),Q=Object(l.a)(V,2),H=Q[0],J=Q[1],K=Object(n.useState)(!1),Z=Object(l.a)(K,2),X=Z[0],$=Z[1],ee=Object(s.c)(function(e){return e.auth.profile}),te=ee.sales_users||[],re=gt(),ne=re.handleSuccess,ae=re.handleError,oe=re.handleCloseSnackbar,ie=re.alertInfo,ce=new Date,le=ce.getMonth(),ue=ce.getFullYear(),se=(le-2+12)%12,fe=(le-1+12)%12,he=(le+1)%12,pe=(le+2)%12,me=(le+3)%12,de=["January","February","March","April","May","June","July","August","September","October","November","December"];Object(n.useEffect)(function(){var e=function(){$(!0),k([])},t=function(){$(!1),be()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var ye=function(){for(var e=[],t=-2;t<=3;t++){var r=(le+t+12)%12,n=t<0?r>le?ue:ue-1:r<le?ue+1:ue,a=de[r];e.push({label:"".concat(a," - ").concat(n," Actual-Forecast"),key:"".concat(a,"-").concat(n," Actual-Forecast")})}return[].concat([{label:"Company",key:"company"},{label:"Sales Person",key:"sales_person"},{label:"Product",key:"product"}],e)}();Object(n.useEffect)(function(){H&&T.length>0&&(Y.current.link.click(),J(!1))},[H,T]);var ve=function(){var e=Object(c.a)(Vo().mark(function e(){var t;return Vo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,ge();case 4:t=e.sent,N(t),setTimeout(function(){Y.current.link.click()},0),ne("CSV Download successfully"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),ae(e.t0),console.error("CSVLink Download error",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(c.a)(Vo().mark(function e(){var t,r;return Vo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Mn.getAllCustomerNotHavingData("all",b,O);case 4:return t=e.sent,r=t.data.map(function(e){var t={company:e.company,sales_person:e.sales_person,product:e.product};return e.product_forecast.forEach(function(e){var r=de[parseInt(e.month)-1],n="".concat(r,"-").concat(e.year," Actual-Forecast");t[n]=null!==e.actual?"".concat(e.actual,"--").concat(e.forecast):"-".concat(e.forecast)}),t}),console.log("Export Data: ",r),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error("Error in handleExport",e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),be=Object(n.useCallback)(Object(c.a)(Vo().mark(function e(){var t,r;return Vo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Mn.getAllCustomerNotHavingData(f,b,O);case 4:t=e.sent,k(t.data.results),r=t.data.count,y(Math.ceil(r/25)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),ae(e.t0),console.error("Error fetching Customer Having Forecast",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])})),[f,b,O]);Object(n.useEffect)(function(){be()},[f,b,O]);var Ee=Object(n.useCallback)(function(e){var t=S.find(function(t){return t.id===e.id});F(t),R(!0)},[S]),we=Object(n.useCallback)(function(e){var t=S.find(function(t){return t.id===e.id});F(t),U(!0)},[S]),xe=Object(vr.a)(new Set(S&&S.flatMap(function(e){return e.product_forecast.map(function(e){return e.index_position})})));return xe.sort(function(e,t){return e-t}),a.a.createElement("div",null,a.a.createElement(Co.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(X?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(yt,{open:ie.open,onClose:oe,severity:ie.severity,message:ie.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},!ee.groups.includes("Sales Executive")&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",sx:{minWidth:150},onChange:function(e,t){return function(e){E(e),be(f,e,O)}(t)},value:b,options:te.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){_(e),h(1)},onReset:function(){_(""),h(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:ve},"Download CSV"),T.length>0&&a.a.createElement(Bn.CSVLink,{data:T,headers:ye,ref:Y,filename:"Customer Not Having forecast.csv",style:{display:"none"}})))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Customer Not Having Forecast")),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Jo,null,a.a.createElement(Ho,{align:"center"},"COMPANY"),a.a.createElement(Ho,{align:"center"},"SALES PERSON"),a.a.createElement(Ho,{align:"center"},"PRODUCT"),a.a.createElement(Ho,{align:"center"}," ".concat(de[se]," - ").concat(se<le?ue:ue-1),a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Ho,{align:"center"}," ".concat(de[fe]," - ").concat(fe<le?ue:ue-1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Ho,{align:"center"},"".concat(de[le]," - ").concat(ue)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Ho,{align:"center"}," ".concat(de[he]," - ").concat(he>le?ue:ue+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Ho,{align:"center"}," ".concat(de[pe]," - ").concat(pe>le?ue:ue+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Ho,{align:"center"}," ".concat(de[me]," - ").concat(me>le?ue:ue+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Ho,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,S&&S.map(function(e){return a.a.createElement(Jo,null,a.a.createElement(Ho,{align:"center"},e.company),a.a.createElement(Ho,{align:"center"},e.sales_person),a.a.createElement(Ho,{align:"center"},e.product),xe.map(function(t){var r=e.product_forecast.find(function(e){return e.index_position===t});return r?null!==r.actual?a.a.createElement(qn.a,{key:t,align:"center"},r.actual," - ",r.forecast):a.a.createElement(qn.a,{key:t,align:"center"},"- ",r.forecast):a.a.createElement(qn.a,{key:t,align:"center"},"N/A")}),a.a.createElement(Ho,{align:"center"},a.a.createElement(We.a,{sx:{color:"#1976d2"},onClick:function(){return Ee(e)}},"View"),a.a.createElement(We.a,{sx:{color:"#28a745"},onClick:function(){return we(e)}},"Assign To")))})))),a.a.createElement(Vr,{totalPages:d,currentPage:f,handlePageChange:function(e,t){h(t)}}))),a.a.createElement(Ce,{title:"Update Forecast Details",openPopup:z,setOpenPopup:R},a.a.createElement(fo,{getAllCompanyDetailsByID:be,setOpenPopup:R,forecastDataByID:I})),a.a.createElement(Ce,{title:"Product Forecast Assign To",openPopup:q,setOpenPopup:U},a.a.createElement(Yo,{getAllCompanyDetailsByID:be,setOpenPopup2:U,forecastDataByID:I})))},Ho=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:14,padding:0}),t}),Jo=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Ko(){Ko=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Zo=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(0),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(null),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)([]),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)([]),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(null),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)(!1),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useState)(!1),M=Object(l.a)(B,2),q=M[0],U=M[1],Y=Object(n.useRef)(null),V=Object(n.useState)(!1),Q=Object(l.a)(V,2),H=Q[0],J=Q[1],K=Object(n.useState)(!1),Z=Object(l.a)(K,2),X=Z[0],$=Z[1],ee=Object(s.c)(function(e){return e.auth.profile}),te=ee.sales_users||[],re=new Date,ne=re.getMonth(),ae=re.getFullYear(),oe=gt(),ie=oe.handleSuccess,ce=oe.handleError,le=oe.handleCloseSnackbar,ue=oe.alertInfo,se=(ne-2+12)%12,fe=(ne-1+12)%12,he=(ne+1)%12,pe=(ne+2)%12,me=(ne+3)%12,de=["January","February","March","April","May","June","July","August","September","October","November","December"];Object(n.useEffect)(function(){var e=function(){$(!0),k([])},t=function(){$(!1),be()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var ye=function(){for(var e=[],t=-2;t<=3;t++){var r=(ne+t+12)%12,n=t<0?r>ne?ae:ae-1:r<ne?ae+1:ae,a=de[r];e.push({label:"".concat(a," - ").concat(n," Actual-Forecast"),key:"".concat(a,"-").concat(n," Actual-Forecast")})}return[].concat([{label:"Company",key:"company"},{label:"Sales Person",key:"sales_person"},{label:"Product",key:"product"}],e)}();Object(n.useEffect)(function(){H&&T.length>0&&(Y.current.link.click(),J(!1))},[H,T]);var ve=function(){var e=Object(c.a)(Ko().mark(function e(){var t;return Ko().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,ge();case 4:t=e.sent,N(t),setTimeout(function(){Y.current.link.click()},0),ie("CSV Download successfully"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),ce(e.t0),console.error("CSVLink Download error",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(c.a)(Ko().mark(function e(){var t,r;return Ko().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Mn.getAllCustomerHavingData("all",b,O);case 4:return t=e.sent,r=t.data.map(function(e){var t={company:e.company,sales_person:e.sales_person,product:e.product};return e.product_forecast.forEach(function(e){var r=de[parseInt(e.month)-1],n="".concat(r,"-").concat(e.year," Actual-Forecast");t[n]=null!==e.actual?"".concat(e.actual,"--").concat(e.forecast):"-".concat(e.forecast)}),t}),console.log("Export Data: ",r),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error("Error in handleExport",e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),be=Object(n.useCallback)(Object(c.a)(Ko().mark(function e(){var t,r;return Ko().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Mn.getAllCustomerHavingData(f,b,O);case 4:t=e.sent,k(t.data.results),r=t.data.count,y(Math.ceil(r/25)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),ce(e.t0),console.error("Error fetching Customer Having Forecast",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])})),[f,b,O]);Object(n.useEffect)(function(){be()},[f,b,O]);var Ee=Object(n.useCallback)(function(e){var t=S.find(function(t){return t.id===e.id});F(t),R(!0)},[S]),we=Object(n.useCallback)(function(e){var t=S.find(function(t){return t.id===e.id});F(t),U(!0)},[S]),xe=Object(vr.a)(new Set(S&&S.flatMap(function(e){return e.product_forecast.map(function(e){return e.index_position})})));return xe.sort(function(e,t){return e-t}),a.a.createElement("div",null,a.a.createElement(Co.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(X?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(yt,{open:ue.open,onClose:le,severity:ue.severity,message:ue.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},!ee.groups.includes("Sales Executive")&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",sx:{minWidth:150},onChange:function(e,t){return function(e){E(e),be(f,e,O)}(t)},value:b,options:te.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){_(e),h(1)},onReset:function(){_(""),h(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:ve},"Download CSV"),T.length>0&&a.a.createElement(Bn.CSVLink,{data:T,headers:ye,ref:Y,filename:"Customer Having forecast.csv",style:{display:"none"}})))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Customer Having Forecast")),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement($o,null,a.a.createElement(Xo,{align:"center"},"COMPANY"),a.a.createElement(Xo,{align:"center"},"SALES PERSON"),a.a.createElement(Xo,{align:"center"},"PRODUCT"),a.a.createElement(Xo,{align:"center"}," ".concat(de[se]," - ").concat(se<ne?ae:ae-1),a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Xo,{align:"center"}," ".concat(de[fe]," - ").concat(fe<ne?ae:ae-1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Xo,{align:"center"},"".concat(de[ne]," - ").concat(ae)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Xo,{align:"center"}," ".concat(de[he]," - ").concat(he>ne?ae:ae+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Xo,{align:"center"}," ".concat(de[pe]," - ").concat(pe>ne?ae:ae+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Xo,{align:"center"}," ".concat(de[me]," - ").concat(me>ne?ae:ae+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Xo,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,S&&S.map(function(e){return a.a.createElement($o,null,a.a.createElement(Xo,{align:"center"},e.company),a.a.createElement(Xo,{align:"center"},e.sales_person),a.a.createElement(Xo,{align:"center"},e.product),xe.map(function(t){var r=e.product_forecast.find(function(e){return e.index_position===t});return r?null!==r.actual?a.a.createElement(qn.a,{key:t,align:"center"},r.actual," - ",r.forecast):a.a.createElement(qn.a,{key:t,align:"center"},"- ",r.forecast):a.a.createElement(qn.a,{key:t,align:"center"},"N/A")}),a.a.createElement(Xo,{align:"center"},a.a.createElement(We.a,{sx:{color:"#1976d2"},onClick:function(){return Ee(e)}},"View"),a.a.createElement(We.a,{sx:{color:"#28a745"},onClick:function(){return we(e)}},"Assign To")))})))),a.a.createElement(Vr,{totalPages:d,currentPage:f,handlePageChange:function(e,t){h(t)}}))),a.a.createElement(Ce,{title:"Update Forecast Details",openPopup:z,setOpenPopup:R},a.a.createElement(fo,{getAllCompanyDetailsByID:be,setOpenPopup:R,forecastDataByID:I})),a.a.createElement(Ce,{title:"Product Forecast Assign To",openPopup:q,setOpenPopup:U},a.a.createElement(Yo,{getAllCompanyDetailsByID:be,setOpenPopup2:U,forecastDataByID:I})))},Xo=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:14,padding:0}),t}),$o=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function ei(){ei=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ti=Object(n.memo)(function(e){var t=e.getAllLeadDetails,r=e.setOpenPopup,o=e.leadForecastData,i=e.currentPage,s=Object(n.useState)(o),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=gt(),b=g.handleSuccess,E=g.handleError,w=g.handleCloseSnackbar,x=g.alertInfo,O=function(e){var t=e.target,r=t.name,n=t.value;p(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},_=Object(n.useCallback)(function(){var e=Object(c.a)(ei().mark(function e(n){var a,o,c;return ei().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),v(!0),a={quantity:h.quantity,anticipated_date:h.anticipated_date},e.next=6,qo.updateLeadForecast(h.id,a);case 6:o=e.sent,c=o.data.message||"Forecast Leads Updated successfully",b(c),setTimeout(function(){r(!1),t(h,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),E(e.t0);case 15:return e.prev=15,v(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[h,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:x.open,onClose:w,severity:x.severity,message:x.message}),a.a.createElement(Je,{open:y}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)},sx:{mt:1}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Quantity",name:"quantity",type:"number",value:h.quantity||"",onChange:O})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Anticipated Date",name:"anticipated_date",type:"date",value:h.anticipated_date||"",onChange:O})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex",justifyContent:"flex-end"},a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:3,mb:2,textAlign:"right"}},"Submit"))))))});function ri(){ri=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ni=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(0),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=gt(),P=k.handleError,C=k.handleCloseSnackbar,T=k.alertInfo;Object(n.useEffect)(function(){N()},[g]);var N=Object(n.useCallback)(Object(c.a)(ri().mark(function e(){var t;return ri().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,qo.getLeadForecast(g);case 4:t=e.sent,f(t.data.results),d(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),P(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[g]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:T.open,onClose:C,severity:T.severity,message:T.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:2}),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Lead Forecast Details"))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(oi,null,a.a.createElement(ai,{align:"center"},"Id"),a.a.createElement(ai,{align:"center"},"Lead Id"),a.a.createElement(ai,{align:"center"},"Sales Person"),a.a.createElement(ai,{align:"center"},"Product"),a.a.createElement(ai,{align:"center"},"Month"),a.a.createElement(ai,{align:"center"},"Quantity"),a.a.createElement(ai,{align:"center"},"Estimated Date"),a.a.createElement(ai,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,Array.isArray(s)&&s.map(function(e,t){return a.a.createElement(oi,{key:t},a.a.createElement(ai,{align:"center"},e.id),a.a.createElement(ai,{align:"center"},e.lead||"N/A"),a.a.createElement(ai,{align:"center"},e.updated_by),a.a.createElement(ai,{align:"center"},e.product),a.a.createElement(ai,{align:"center"},e.month),a.a.createElement(ai,{align:"center"},e.quantity||"N/A"),a.a.createElement(ai,{align:"center"},e.anticipated_date||null),a.a.createElement(ai,{align:"center"},a.a.createElement(We.a,{onClick:function(){return S(e),void O(!0)}},"Edit")))})))),a.a.createElement(Vr,{totalPages:m,currentPage:g,handlePageChange:function(e,t){b(t)}}))),L&&a.a.createElement(Ce,{title:"Update Lead Forecast",openPopup:x,setOpenPopup:O},a.a.createElement(ti,{getAllLeadDetails:N,setOpenPopup:O,leadForecastData:L,currentPage:g})))},ai=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),oi=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),ii=function(){var e=Object(s.c)(function(e){return e.auth}).profile,t=e.groups.includes("Director")||e.groups.includes("Accounts")||e.groups.includes("Sales Executive")||e.groups.includes("Sales Manager without Leads")||e.groups.includes("Sales Manager")||e.groups.includes("Sales Deputy Manager")||e.groups.includes("Sales Assistant Deputy Manager")||e.groups.includes("Customer Service")||e.groups.includes("Customer Relationship Executive")||e.groups.includes("Customer Relationship Manager")||e.groups.includes("Business Development Manager")||e.groups.includes("Business Development Executive"),r=e.groups.includes("Director")||e.groups.includes("Accounts")||e.groups.includes("Purchase"),o=e.groups.includes("Director")||e.groups.includes("Accounts")||e.groups.includes("Sales Executive")||e.groups.includes("Sales Manager without Leads")||e.groups.includes("Sales Manager")||e.groups.includes("Sales Deputy Manager")||e.groups.includes("Sales Assistant Deputy Manager")||e.groups.includes("Customer Service"),i=Object(n.useState)(t?0:4),c=Object(l.a)(i,2),u=c[0],f=c[1],h=[{label:"Curr. Month Forecast",visible:t,index:0},{label:"Customers w/ Forecast",visible:t,index:1},{label:"Customers w/o Forecast",visible:t,index:2},{label:"Dead Customers",visible:t,index:3},{label:"Prod. Forecast",visible:r,index:4},{label:"Desc. Forecast",visible:r,index:5},{label:"Lead Forecast",visible:o,index:6}].filter(function(e){return e.visible}),p=h.map(function(e){return e.index}),m={0:a.a.createElement(Wo,null),1:a.a.createElement(Zo,null),2:a.a.createElement(Qo,null),3:a.a.createElement(No,null),4:a.a.createElement(Ao,null),5:a.a.createElement(Mo,null),6:a.a.createElement(ni,null)};return a.a.createElement("div",null,a.a.createElement(Xr,{tabs:h,activeTab:u,onTabChange:function(e){f(p[e])}}),a.a.createElement("div",null,p.includes(u)&&a.a.createElement("div",null,m[u])))},ci=function(e){var t=e.activity;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ae.a,{component:"form",noValidate:!0,sx:{mt:1}},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column",backgroundColor:"#F5F5F5"}},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:.9,align:"left"}),a.a.createElement(Ae.a,{flexGrow:2.5,align:"center"},a.a.createElement("h3",{className:"Auth-form-title"},"View Activity")),a.a.createElement(Ae.a,{flexGrow:.3,align:"right"})),a.a.createElement(Ae.a,{sx:{display:"flex",flexDirection:"column",height:260,overflow:"hidden",overflowY:"scroll"}},t.length>0&&t.map(function(e){return a.a.createElement("div",{key:e.id},a.a.createElement(Ta.a,{sx:Object(Y.a)({},"& .".concat(Na.a.root),{flex:.2})},a.a.createElement(Da.a,null,a.a.createElement(Aa.a,{sx:{px:2}},a.a.createElement(E.a,{variant:"h6"},Ra()(e.created_date).format("DD/MM/YYYY h:mm"))),a.a.createElement(Ia.a,null,a.a.createElement(Fa.a,null),a.a.createElement(Ga.a,null)),a.a.createElement(Wa.a,{sx:{width:"50%",color:"#333"}},a.a.createElement(E.a,{variant:"h6",sx:{fontFamily:"Arial",fontWeight:"bold"}},e.created_by,e.next_followup_date&&Ra()(e.next_followup_date).format("DD/MM/YYYY")),a.a.createElement(E.a,{variant:"body1",sx:{fontFamily:"Verdana",fontSize:"16px"}},e.description)))))})))))};function li(){li=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ui=function(e){var t=e.setOpenPopup,r=e.getAllTaskDetails,o=e.taskByID,i=e.activity,f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(o),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(s.c)(function(e){return e.auth}).profile,E=b.sales_users||[],w=gt(),O=w.handleSuccess,_=w.handleError,j=w.handleCloseSnackbar,L=w.alertInfo,S=function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},v,Object(Y.a)({},r,n)))},k=function(e,t){g(Object(u.a)({},v,Object(Y.a)({},e,t)))},P=function(){var e=Object(c.a)(li().mark(function e(n){var a;return li().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),m(!0),a={created_by:b.email,name:v.name,description:v.description,due_date:v.due_date,priority:v.priority,assigned_to:v.assigned_to,completed:v.completed},e.next=6,be.updateTask(v.id,a);case 6:O("Task Updated Successfully"),setTimeout(function(){t(!1)},300),r(),m(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),_(e.t0),m(!1),console.error("error Task",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:L.open,onClose:j,severity:L.severity,message:L.message}),a.a.createElement(Je,{open:p}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return P(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"created_by",size:"small",label:"Created By",variant:"outlined",value:b.email||v.created_by})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Task Name",variant:"outlined",value:v.name,onChange:function(e){return S(e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"description",size:"small",label:"Description",variant:"outlined",value:v.description,onChange:function(e){return S(e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"due_date",size:"small",label:"Due Date",variant:"outlined",value:v.due_date,InputLabelProps:{shrink:!0},inputProps:{min:(new Date).toISOString().slice(0,10)},onChange:function(e){return S(e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-select-small"},"Priority"),a.a.createElement(cn.a,{name:"priority",labelId:"demo-select-small",id:"demo-select-small",label:"Priority",value:v.priority,onChange:function(e){return k("priority",e.target.value)}},a.a.createElement(x.a,{value:"Low"},"Low "),a.a.createElement(x.a,{value:"Medium"},"Medium"),a.a.createElement(x.a,{value:"High"},"High")))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},!b.groups.includes("Sales Executive")&&a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-select-small"},"Assigned To"),a.a.createElement(cn.a,{name:"assigned_to",labelId:"demo-select-small",id:"demo-select-small",label:"Assigned To",value:v.assigned_to,onChange:function(e){return k("assigned_to",e.target.value)}},E.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.email},e.email)})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement("div",{style:{display:"flex",alignItems:"center"}},a.a.createElement("span",{style:{marginRight:"10px"}},"Completed"),a.a.createElement("div",{style:{position:"relative",display:"inline-block",width:"40px",height:"20px",borderRadius:"20px",backgroundColor:v.completed?"#4caf50":"#f44336",transition:"background-color 0.3s"},onClick:function(){S({target:{name:"completed",value:!v.completed}})}},a.a.createElement("div",{style:{position:"absolute",top:"1px",left:v.completed?"22px":"2px",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:"#fff",boxShadow:"0 2px 5px rgba(0,0,0,0.3)",transition:"left 0.3s, background-color 0.3s"}}))))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ci,{activity:i}))))};function si(){si=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var fi=function(e){var t=e.setOpenPopup,r=e.getAllTaskDetails,o=Object(n.useState)(!1),i=Object(l.a)(o,2),f=i[0],h=i[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(s.c)(function(e){return e.auth}).profile,g=v.sales_users||[],b=gt(),E=b.handleSuccess,w=b.handleError,O=b.handleCloseSnackbar,_=b.alertInfo,j=function(e){var t=e.target,r=t.name,n=t.value;y(Object(u.a)({},d,Object(Y.a)({},r,n)))},L=function(e,t){y(Object(u.a)({},d,Object(Y.a)({},e,t)))},S=function(){var e=Object(c.a)(si().mark(function e(n){var a;return si().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),h(!0),a={created_by:v.email,name:d.name,description:d.description,due_date:d.due_date,priority:d.priority,assigned_to:d.assigned_to},e.next=6,be.createTask(a);case 6:E("Task Created Successfully"),setTimeout(function(){t(!1)},300),r(),h(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),w(e.t0),h(!1),console.error("error Task",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:_.open,onClose:O,severity:_.severity,message:_.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return S(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"created_by",size:"small",label:"Created By",variant:"outlined",value:v.email})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Task Name",variant:"outlined",onChange:function(e){return j(e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"description",size:"small",label:"Description",variant:"outlined",onChange:function(e){return j(e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"due_date",size:"small",label:"Due Date",variant:"outlined",InputLabelProps:{shrink:!0},inputProps:{min:(new Date).toISOString().slice(0,10)},onChange:function(e){return j(e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-select-small"},"Priority"),a.a.createElement(cn.a,{name:"priority",labelId:"demo-select-small",id:"demo-select-small",label:"Priority",value:d.priority,onChange:function(e){return L("priority",e.target.value)}},a.a.createElement(x.a,{value:"Low"},"Low "),a.a.createElement(x.a,{value:"Medium"},"Medium"),a.a.createElement(x.a,{value:"High"},"High")))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},!v.groups.includes("Sales Executive")&&a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-select-small"},"Assigned To"),a.a.createElement(cn.a,{name:"assigned_to",labelId:"demo-select-small",id:"demo-select-small",label:"Assigned To",value:d.assigned_to,onChange:function(e){return L("assigned_to",e.target.value)}},g.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.email},e.email)}))))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function hi(){hi=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var pi=function(e){var t=e.setOpenModalActivity,r=e.getAllTaskDetails,o=e.activity,i=Object(n.useState)(!1),f=Object(l.a)(i,2),h=f[0],p=f[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(s.c)(function(e){return e.auth}).profile,b=gt(),E=b.handleSuccess,w=b.handleError,x=b.handleCloseSnackbar,O=b.alertInfo,_=function(){var e=Object(c.a)(hi().mark(function e(n){var a;return hi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),p(!0),a={created_by:g.email,task:o.id,description:y.description},e.next=6,be.createActivityTask(a);case 6:E("Activity Created Successfully"),setTimeout(function(){t(!1)},300),r(),p(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),w(e.t0),p(!1),console.error("error Task",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:O.open,onClose:x,severity:O.severity,message:O.message}),a.a.createElement(Je,{open:h}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"created_by",size:"small",label:"Created By",variant:"outlined",value:g.email})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"description",size:"small",label:"Description",variant:"outlined",onChange:function(e){return function(e){var t=e.target,r=t.name,n=t.value;v(Object(u.a)({},y,Object(Y.a)({},r,n)))}(e)}}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function mi(){mi=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var di=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(null),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(null),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(null),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)(1),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useState)(0),M=Object(l.a)(B,2),q=M[0],U=M[1],Y=Object(n.useState)([]),V=Object(l.a)(Y,2),Q=V[0],H=V[1],J=Object(n.useState)(!1),K=Object(l.a)(J,2),Z=K[0],X=K[1],$=Object(s.c)(function(e){return e.auth.profile}),ee=$.sales_users||[],te=gt(),re=te.handleError,ne=te.handleCloseSnackbar,ae=te.alertInfo,oe=function(){var e=Object(c.a)(mi().mark(function e(t){var r;return mi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,qo.getAllAssignedUser();case 4:r=e.sent,E(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),re(e.t0);case 11:return e.prev=11,y(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){oe()},[]);var ie=Object(n.useCallback)(Object(c.a)(mi().mark(function e(){var t;return mi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,be.getAllTaskData(z,S,T);case 4:t=e.sent,_(t.data.results),U(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),re(e.t0);case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[z,S,T]);Object(n.useEffect)(function(){ie()},[z,S,T]);var ce=O.map(function(e){var t="";switch(e.priority){case"High":t="#ffcccc";break;case"Medium":t="#ccccff";break;case"Low":t="#ffffcc";break;default:t="#ffffff"}return{priority:t}}),le=O.map(function(e,t){return{id:e.id,created_by:e.created_by,name:e.name,description:e.description,due_date:e.due_date,priority:e.priority,assigned_to:e.assigned_to,completed:e.completed}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:ae.open,onClose:ne,severity:ae.severity,message:ae.message}),a.a.createElement(Je,{open:d}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{marginBottom:"10px"},a.a.createElement(Fe.a,{container:!0,spacing:2},!$.groups.includes("Sales Executive")&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{size:"small",fullWidth:!0,onChange:function(e,t){return function(e){k(e),R(1)}(t)},value:S,options:ee.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ur,{onSearch:function(e){N(e),R(1)},onReset:function(){N(""),R(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(We.a,{variant:"contained",onClick:function(){return o(!0)},style:{backgroundColor:"#006ba1",color:"#fff",marginLeft:"auto",marginRight:"1em"}},"Create Task")))),a.a.createElement(Ae.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Task")),a.a.createElement(dt,{headers:["ID","CREATED BY","TASK","DESCRIPTION","DUE DATE","PRIORITY","ASSIGNED TO","COMPLETED","ACTION"],data:le,openInPopup:function(e){var t=O.find(function(t){return t.id===e.id});F(t.activities),H(t),h(!0)},openInPopup2:function(e){var t=O.find(function(t){return t.id===e.id});F(t),X(!0)},openInPopup3:null,openInPopup4:null,ButtonText:"Activity",PriorityColor:ce}),a.a.createElement(Vr,{totalPages:q,currentPage:z,handlePageChange:function(e,t){R(t)}}))),a.a.createElement(Ce,{title:"Create Task",openPopup:r,setOpenPopup:o},a.a.createElement(fi,{getAllTaskDetails:ie,assigned:b,setOpenPopup:o})),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Task",openPopup:f,setOpenPopup:h},a.a.createElement(ui,{setOpenPopup:h,getAllTaskDetails:ie,assigned:b,taskByID:Q,activity:I})),a.a.createElement(Ce,{maxWidth:"xl",title:"Create Activity",openPopup:Z,setOpenPopup:X},a.a.createElement(pi,{activity:I,getAllTaskDetails:ie,setOpenModalActivity:X})," "))},yi=function(e){var t=e.startDate,r=e.endDate,n=e.minDate,o=e.maxDate,i=e.handleStartDateChange,c=e.handleEndDateChange,l=e.resetDate;return a.a.createElement(Ae.a,{sx:{backgroundColor:"#fff",borderRadius:"12px",boxShadow:"0px 4px 14px rgba(0, 0, 0, 0.2)",margin:"10px",padding:"20px 30px",maxWidth:550,textAlign:"center"}},a.a.createElement(E.a,{variant:"h6",sx:{mb:2,color:"primary.main"}},"Select Date Range"),a.a.createElement(Fe.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:5},a.a.createElement(Ve,{fullWidth:!0,label:"Start Date",variant:"outlined",size:"small",type:"date",id:"start-date",value:t?t.toISOString().split("T")[0]:"",min:n,max:o,onChange:i})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:5},a.a.createElement(Ve,{fullWidth:!0,label:"End Date",variant:"outlined",size:"small",type:"date",id:"end-date",value:r?r.toISOString().split("T")[0]:"",min:t?t.toISOString().split("T")[0]:n,max:o,onChange:c,disabled:!t})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:l,sx:{fontWeight:"bold",padding:"8px 16px",textTransform:"uppercase",letterSpacing:"0.5px"}},"Reset"))))};function vi(){vi=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var gi=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(null),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(1),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(0),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)(null),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useState)(null),M=Object(l.a)(B,2),q=M[0],U=M[1],Y=(new Date).toISOString().split("T")[0],V=new Date("2030-12-31").toISOString().split("T")[0],Q=Object(n.useState)(""),H=Object(l.a)(Q,2),J=H[0],K=H[1],Z=Object(n.useState)(!1),X=Object(l.a)(Z,2),$=X[0],ee=X[1],te=Object(s.c)(function(e){return e.auth.profile}),re=te.active_sales_user||[],ne=gt(),ae=ne.handleError,oe=ne.handleCloseSnackbar,ie=ne.alertInfo;Object(n.useEffect)(function(){var e=function(){k(!0),o([])},t=function(){k(!1),ce()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]),Object(n.useEffect)(function(){ce()},[T,J,O,q,z]);var ce=Object(n.useCallback)(Object(c.a)(vi().mark(function e(){var t,r,n;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),t=q?q.toISOString().split("T")[0]:"",r=z?z.toISOString().split("T")[0]:"",e.next=6,qo.getCustomerFollowup(O||"today_followup",T,J,t,r);case 6:n=e.sent,o(n.data.results),F(Math.ceil(n.data.count/25)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),ae(e.t0);case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])})),[T,J,O,q,z]),le=Array.isArray(r)?r.map(function(e,t){return{id:e.company_id,company:e.company,created_by_email:e.created_by_email,activity_name:e.activity_name,status:e.status,duration:e.duration,current_date:Ra()(e.creation_date?e.creation_date:"-").format("DD/MM/YYYY h:mm:ss"),next_followup_date:Ra()(e.next_followup_date?e.next_followup_date:"-").format("DD/MM/YYYY h:mm:ss"),notes:e.notes}}):[];return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:ie.open,onClose:oe,severity:ie.severity,message:ie.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Co.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(S?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",gap:4,spacing:2},(te.groups.includes("Director")||te.groups.includes("Sales Maneger")||te.groups.includes("Customer Relationship Manager")||te.groups.includes("Business Development Manager"))&&a.a.createElement(Ae.a,{display:"flex",marginBottom:"10px"},a.a.createElement(sr,{size:"small",sx:{width:300},onChange:function(e,t){return K(t),void N(1)},value:J,options:re.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(Ae.a,{display:"flex",marginBottom:"10px"},a.a.createElement(sr,{size:"small",sx:{width:300},onChange:function(e,t){t&&"custom_date"===t.value?(U(new Date),R(new Date),_(""),ee(!0)):(_(t?t.value:null),U(null),R(null))},value:bi.find(function(e){return e.value===O})||"today_followup",options:bi,getOptionLabel:function(e){return e.label||"Today Followup"},isOptionEqualToValue:function(e,t){return e.value===t.value||"Today Followup"},label:"Filter By Follow-up"}))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Customer Followup")),a.a.createElement(dt,{headers:["ID","COMPANY","NAME","ACTIVITY","CALL STATUS","CALL DURATION","CREATION DATE","NEXT FOLLOWUP","NOTE","ACTION"],data:le,openInPopup:function(e){E(e.id),y(!0)}}),a.a.createElement(Vr,{totalPages:I,currentPage:T,handlePageChange:function(e,t){N(t)}}))),a.a.createElement(Ce,{openPopup:$,setOpenPopup:ee,title:"Date Filter",maxWidth:"md"},a.a.createElement(yi,{startDate:q,endDate:z,minDate:Y,maxDate:V,handleStartDateChange:function(e){var t=new Date(e.target.value);U(t),R(new Date)},handleEndDateChange:function(e){var t=new Date(e.target.value);R(t)},resetDate:function(){U(new Date),R(new Date)}})),a.a.createElement(Ce,{maxWidth:"xl",title:"Update customer",openPopup:d,setOpenPopup:y},a.a.createElement(Qa,{setOpenPopup:y,getAllCompanyDetails:ce,recordForEdit:b})))},bi=[{value:"today_followup",label:"Today Followup"},{value:"overdue_followup",label:"Overdue Followup"},{value:"upcoming_followup",label:"Upcoming Followup"},{value:"all_followup",label:"All Followup"},{label:"Custom Date",value:"custom_date"}],Ei=r(663);function wi(){wi=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var xi=Object(n.memo)(function(e){var t=e.leadsByID,r=e.getLeadByID,o=e.setOpenPopup,i=e.getleads,s=e.currentPage,f=e.filterQuery,h=e.filterSelectedQuery,p=e.searchQuery,m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)({}),b=Object(l.a)(g,2),E=b[0],w=b[1],O=Object(n.useState)(!1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=gt(),k=S.handleSuccess,P=S.handleError,C=S.handleCloseSnackbar,T=S.alertInfo,N=function(e){var t=e.target,r=t.name,n=t.value;w(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))});var a=["Not answering/busy/disconnecting","Having stock","Rate issue","Send detail on WhatsApp/sms/email","Dealing in other brand","Transportation cost issue","Call me back","Send sample","Require exclusive distributorship/dealership","Require credit"].includes(n);L(a)},D=Object(n.useCallback)(function(){var e=Object(c.a)(wi().mark(function e(n){var a,c,l;return wi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,v(!0),a=Object(u.a)({leads:t},E),e.next=6,qo.createFollowUpLeads(a);case 6:c=e.sent,l=c.data.message||"Activity Created successfully",k(l),setTimeout(function(){o(!1),i&&i(s,f,h,p),r&&r(t)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),P(e.t0);case 15:return e.prev=15,v(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[E,t,s,f,h,p]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:T.open,onClose:C,severity:T.severity,message:T.message}),a.a.createElement(Je,{open:y}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,sx:{mt:1},onSubmit:function(e){return D(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Activity"),a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"activity",label:"Activity",MenuProps:{PaperProps:{style:{maxHeight:"200px"}}},onChange:N},Oi.map(function(e){return a.a.createElement(x.a,{key:e.id,value:e.value},e.label)})))),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"notes",size:"small",label:"Note",variant:"outlined",value:E.notes,onChange:N})),"Drop the lead"!==E.activity&&a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"next_followup_date",size:"small",label:"Next Followup Date",variant:"outlined",value:E.next_followup_date||"",onChange:N,InputLabelProps:{shrink:!0},required:j,error:j&&!E.next_followup_date,helperText:j&&!E.next_followup_date?"Next Followup Date is required.":"",inputProps:{min:(new Date).toISOString().split("T")[0]}}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",disabled:["Not answering/busy/disconnecting","Having stock","Rate issue","Send detail on WhatsApp/sms/email","Dealing in other brand","Transportation cost issue","Call me back","Send sample","Require exclusive distributorship/dealership","Require credit"].includes(E.activity)&&!E.next_followup_date},"Submit")))}),Oi=[{id:1,value:"Not answering/busy/disconnecting",label:"Not answering/busy/disconnecting"},{id:2,value:"Having stock",label:"Having stock"},{id:3,value:"Rate issue",label:"Rate issue"},{id:4,value:"Send detail on whatsapp/sms/email",label:"Send detail on whatsapp/sms/email"},{id:5,value:"Not buying from us due to product range",label:"Not buying from us due to product range"},{id:6,value:"Dealing in other brand",label:"Dealing in other brand"},{id:7,value:"Buying a different product from other company",label:"Buying a different product from other company"},{id:8,value:"Size or quantity is unavailabe with us",label:"Size or quantity is unavailabe with us"},{id:9,value:"Transportation cost issue",label:"Transportation cost issue"},{id:10,value:"Required without bill",label:"Required without bill"},{id:11,value:"Call me back",label:"Call me back"},{id:12,value:"Send sample",label:"Send sample"},{id:13,value:"Not a decision maker",label:"Not a decision maker"},{id:14,value:"Require own branding",label:"Require own branding"},{id:15,value:"Small buyer, moved to dealer/distributor",label:"Small buyer, moved to dealer/distributor"},{id:16,value:"Require exclusive distributorship/dealership",label:"Require exclusive distributorship/dealership"},{id:17,value:"Quality issue",label:"Quality issue"},{id:18,value:"Small buyer, no dealer/distributor in that area",label:"Small buyer, no dealer/distributor in that area"},{id:19,value:"Require credit",label:"Require credit"},{id:20,value:"Wrong number",label:"Wrong number"},{id:21,value:"Company shut down",label:"Company shut down"},{id:22,value:"Order taken",label:"Order taken"},{id:23,value:"Stock lot",label:"Stock lot"},{id:24,value:"One time requirement",label:"One time requirement"},{id:25,value:"Drop the lead",label:"Drop the lead"}],_i=Object(n.memo)(function(e){var t=e.followup,r=e.leadsByID,o=e.getLeadByID,i=Object(n.useState)(!1),c=Object(l.a)(i,2),u=c[0],s=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ae.a,{component:"form",noValidate:!0,sx:{mt:1}},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column",backgroundColor:"#F5F5F5"}},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:.9,align:"left"}),a.a.createElement(Ae.a,{flexGrow:2.5,align:"center"},a.a.createElement("h3",{className:"Auth-form-title"},"View Activity")),a.a.createElement(Ae.a,{flexGrow:.3,align:"right"}," ",a.a.createElement(We.a,{variant:"contained",color:"success",onClick:function(){return s(!0)}},"Create Activity"))),t&&t.length>0&&a.a.createElement(Ae.a,{sx:{display:"flex",flexDirection:"column",height:260,overflow:"hidden",overflowY:"scroll"}},t&&a.a.createElement(a.a.Fragment,null,t.map(function(e){return a.a.createElement("div",{key:e.id},a.a.createElement(Ta.a,{sx:Object(Y.a)({},"& .".concat(Na.a.root),{flex:.2})},a.a.createElement(Da.a,null,a.a.createElement(Aa.a,{sx:{px:2}},a.a.createElement(E.a,{variant:"h6"},Ra()(e.current_date).format("DD/MM/YYYY h:mm"))),a.a.createElement(Ia.a,null,a.a.createElement(Fa.a,null),a.a.createElement(Ga.a,null)),a.a.createElement(Wa.a,{sx:{width:"50%",color:"#333"}},a.a.createElement(E.a,{variant:"h6",sx:{fontFamily:"Arial",fontWeight:"bold"}},e.activity," - ",e.user," -",e.next_followup_date&&Ra()(e.next_followup_date).format("DD/MM/YYYY")),a.a.createElement(E.a,{variant:"body1",sx:{fontFamily:"Verdana",fontSize:"16px"}},e.notes)))))}))))),a.a.createElement(Ce,{maxWidth:"xl",title:"Create Activity",openPopup:u,setOpenPopup:s},a.a.createElement(xi,{leadsByID:r,getLeadByID:o,setOpenPopup:s,getleads:null,currentPage:null,filterQuery:null,filterSelectedQuery:null,searchQuery:null})))});function ji(){ji=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Li=Object(n.memo)(function(e){var t=e.leadsByID,r=e.getLeadByID,o=e.setOpenPopup,i=e.getleads,s=e.currentPage,f=e.filterQuery,h=e.filterSelectedQuery,p=e.searchQuery,m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=gt(),S=L.handleSuccess,k=L.handleError,P=L.handleCloseSnackbar,C=L.alertInfo,T=function(e){var t=e.target,r=t.name,n=t.value;w(Object(u.a)({},E,Object(Y.a)({},r,n)))};Object(n.useEffect)(function(){N()},[]);var N=function(){var e=Object(c.a)(ji().mark(function e(){var t;return ji().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,Pn.getAllProduct();case 4:t=e.sent,j(t.data),v(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error potential",e.t0),v(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),D=Object(n.useCallback)(function(){var e=Object(c.a)(ji().mark(function e(n){var a,c,l;return ji().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,v(!0),a={lead:t,product:E.product,current_brand:E.current_brand,current_buying_price:E.current_buying_price,current_buying_quantity:E.current_buying_quantity,target_price:E.target_price,quantity:E.quantity},e.next=6,qo.createPotentialLead(a);case 6:c=e.sent,v(!1),l=c.data.message||"Potential Created successfully",S(l),setTimeout(function(){o(!1),i&&i(s,f,h,p),r&&r(t)},300),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),k(e.t0);case 16:return e.prev=16,v(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[1,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[E,t,s,f,h,p]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:C.open,onClose:P,severity:C.severity,message:C.message}),a.a.createElement(Je,{open:y}),a.a.createElement(Ae.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"}},a.a.createElement(Ae.a,{component:"form",noValidate:!0,sx:{mt:1},onSubmit:function(e){return D(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:24,sm:4},a.a.createElement(sr,{sx:{minWidth:180},size:"small",onChange:function(e,t){return function(e){w(function(t){return Object(u.a)({},t,{product:e})})}(t)},options:_.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e||"No Options")},label:"Product Name"})),a.a.createElement(Fe.a,{item:!0,xs:24,sm:4},a.a.createElement(sr,{size:"small",options:[{id:1,label:"3M",value:"3M"},{id:2,label:"Achem - Taiwan",value:"Achem - Taiwan"},{id:3,label:"Aero",value:"Aero"},{id:4,label:"AIPL ABRO",value:"AIPL ABRO"},{id:5,label:"Airot",value:"Airot"},{id:6,label:"Ajit Industries / AIPL / Sunsui",value:"Ajit Industries / AIPL / Sunsui"},{id:7,label:"Amech Wonder",value:"Amech Wonder"},{id:8,label:"Amro Wonder",value:"Amro Wonder"},{id:9,label:"Anchor Electricals",value:"Anchor Electricals"},{id:10,label:"ANNA - Drywall Tape",value:"ANNA - Drywall Tape"},{id:11,label:"Arjun - Spray Paint",value:"Arjun - Spray Paint"},{id:12,label:"ASD - Spray Paint",value:"ASD - Spray Paint"},{id:13,label:"Asian Paints",value:"Asian Paints"},{id:14,label:"Banna - Spray Paints",value:"Banna - Spray Paints"},{id:15,label:"Berger Paints",value:"Berger Paints"},{id:16,label:"Biocon Electricals",value:"Biocon Electricals"},{id:17,label:"Bosny - Spray Paints",value:"Bosny - Spray Paints"},{id:18,label:"Champion - PTFE Tape",value:"Champion - PTFE Tape"},{id:19,label:"Cobb - Spray Paint",value:"Cobb - Spray Paint"},{id:20,label:"Cooper - PTFE Tape",value:"Cooper - PTFE Tape"},{id:21,label:"Cosmos - Spray Paints",value:"Cosmos - Spray Paints"},{id:22,label:"CQL - Spray Paints",value:"CQL - Spray Paints"},{id:23,label:"Craft Dev - Spray Paints",value:"Craft Dev - Spray Paints"},{id:24,label:"Cube - Spray Paints",value:"Cube - Spray Paints"},{id:25,label:"Diamond - PTFE Tape",value:"Diamond - PTFE Tape"},{id:26,label:"Dinmo - Spray Paints",value:"Dinmo - Spray Paints"},{id:27,label:"Dornet - Drywall Tape",value:"Dornet - Drywall Tape"},{id:28,label:"Espark Wonder / Maruti Flex",value:"Espark Wonder / Maruti Flex"},{id:29,label:"Essence Tapes",value:"Essence Tapes"},{id:30,label:"Euro Tapes",value:"Euro Tapes"},{id:31,label:"F1 - Spray Paints",value:"F1 - Spray Paints"},{id:32,label:"G2 - Electricals",value:"G2 - Electricals"},{id:33,label:"GM Electricals",value:"GM Electricals"},{id:34,label:"Gomec Industries / Accent Wonder",value:"Gomec Industries / Accent Wonder"},{id:35,label:"Great White",value:"Great White"},{id:36,label:"Gree / Rajguru Adhesive Tapes",value:"Gree / Rajguru Adhesive Tapes"},{id:37,label:"Gripking Tapes",value:"Gripking Tapes"},{id:38,label:"Gypstar - Drywall Tape",value:"Gypstar - Drywall Tape"},{id:39,label:"Gyptech - Drywall Tape",value:"Gyptech - Drywall Tape"},{id:40,label:"Immortal Tapes",value:"Immortal Tapes"},{id:41,label:"Instabiz / I-Stix",value:"Instabiz / I-Stix"},{id:42,label:"I-tape",value:"I-tape"},{id:43,label:"Kansuee Industries",value:"Kansuee Industries"},{id:44,label:"Keval Industries - Tissue",value:"Keval Industries - Tissue"},{id:45,label:"Kobe - Spray Paint",value:"Kobe - Spray Paint"},{id:46,label:"Kohinoor - PTFE Tape",value:"Kohinoor - PTFE Tape"},{id:47,label:"Kotadia Engineering / SHB",value:"Kotadia Engineering / SHB"},{id:48,label:"k-rock",value:"k-rock"},{id:49,label:"Lohmann Tapes",value:"Lohmann Tapes"},{id:50,label:"Mario Industries",value:"Mario Industries"},{id:51,label:"Mexico Wonder",value:"Mexico Wonder"},{id:52,label:"Mexim Adhesive",value:"Mexim Adhesive"},{id:53,label:"MNM Composites",value:"MNM Composites"},{id:54,label:"Mseal",value:"Mseal"},{id:55,label:"MST - Spray Paint",value:"MST - Spray Paint"},{id:56,label:"Nitto - AFT",value:"Nitto - AFT"},{id:57,label:"Oddy / Atul",value:"Oddy / Atul"},{id:58,label:"One Tape",value:"One Tape"},{id:59,label:"Panamax / THB",value:"Panamax / THB"},{id:60,label:"Pidilite / SteelGrip",value:"Pidilite / SteelGrip"},{id:61,label:"pioneer spray paint",value:"pioneer spray paint"},{id:62,label:"Reva Gold",value:"Reva Gold"},{id:63,label:"Saint Gobain - Gyproc",value:"Saint Gobain - Gyproc"},{id:64,label:"Sampro - Spray Paint",value:"Sampro - Spray Paint"},{id:65,label:"Samraj Polytex - 4S Spray",value:"Samraj Polytex - 4S Spray"},{id:66,label:"Samurai - Spray Paint",value:"Samurai - Spray Paint"},{id:67,label:"Saraswat / AFT",value:"Saraswat / AFT"},{id:68,label:"Selmex Tapes",value:"Selmex Tapes"},{id:69,label:"Signfix / AFT",value:"Signfix / AFT"},{id:70,label:"Specialty Tapes",value:"Specialty Tapes"},{id:71,label:"Sumax",value:"Sumax"},{id:72,label:"Tesa Tapes",value:"Tesa Tapes"},{id:73,label:"Touch Up - Spray Paints",value:"Touch Up - Spray Paints"},{id:74,label:"Twin Tech - Spray Paint",value:"Twin Tech - Spray Paint"},{id:75,label:"UCS - Drywall Tape",value:"UCS - Drywall Tape"},{id:76,label:"USG - Drywall Tape",value:"USG - Drywall Tape"},{id:77,label:"Vardhaman / Tiger Wonder",value:"Vardhaman / Tiger Wonder"},{id:78,label:"Vista -  Spray Paint",value:"Vista -  Spray Paint"},{id:79,label:"VST - Spray Paint",value:"VST - Spray Paint"}],getOptionLabel:function(e){return e.label},onChange:function(e,t){w(Object(u.a)({},E,{current_brand:t.value}))},label:"Current Brand"})),a.a.createElement(Fe.a,{item:!0,xs:24,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"current_buying_price",size:"small",label:"Current Buying Price",variant:"outlined",value:E.current_buying_price?E.current_buying_price:"",onChange:T})),a.a.createElement(Fe.a,{item:!0,xs:24,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"current_buying_quantity",size:"small",label:"Current Buying Quantity Monthly",variant:"outlined",value:E.current_buying_quantity?E.current_buying_quantity:"",onChange:T})),a.a.createElement(Fe.a,{item:!0,xs:24,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"target_price",size:"small",label:"Target Price",variant:"outlined",value:E.target_price?E.target_price:"",onChange:T}))),a.a.createElement(Fe.a,{container:!0,justifyContent:"flex-end"},a.a.createElement(We.a,{type:"submit",variant:"contained"},"Submit")))))}),Si=Object(n.memo)(function(e){var t=e.potential,r=e.getLeadByID,o=e.leadsByID,i=Object(n.useState)(!1),c=Object(l.a)(i,2),u=c[0],s=c[1];return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(Ae.a,{component:"form",noValidate:!0,sx:{mt:1}},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column",backgroundColor:"#F5F5F5"}},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:.9,align:"left"}),a.a.createElement(Ae.a,{flexGrow:2.5,align:"center"},a.a.createElement("h3",{className:"Auth-form-title"},"View Lead Potential")),a.a.createElement(Ae.a,{flexGrow:.3,align:"right"},a.a.createElement(We.a,{variant:"contained",color:"success",onClick:function(){return s(!0)}},"Create Potential"))),t.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{key:t,sx:{marginBottom:"1em",marginTop:"1em"},container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:24,sm:4},"ProductName :"," ",e.product?e.product:""),a.a.createElement(Fe.a,{item:!0,xs:24,sm:4},"Current Brand :"," ",e.current_brand?e.current_brand:""),a.a.createElement(Fe.a,{item:!0,xs:24,sm:4},"Current Buying Price :"," ",e.current_buying_price?e.current_buying_price:""),a.a.createElement(Fe.a,{item:!0,xs:24,sm:4},"Current Buying Quantity :"," ",e.current_buying_quantity),a.a.createElement(Fe.a,{item:!0,xs:24,sm:4},"Target Price :"," ",e.target_price?e.target_price:""),a.a.createElement(Fe.a,{item:!0,xs:24,sm:4},"Qunatity :"," ",e.quantity?e.quantity:"")),a.a.createElement(y.a,null))}))),a.a.createElement(Ce,{maxWidth:"lg",title:"Create Potential",openPopup:u,setOpenPopup:s},a.a.createElement(Li,{getLeadByID:r,leadsByID:o,setOpenPopup:s,getleads:null,currentPage:null,filterQuery:null,filterSelectedQuery:null,searchQuery:null})))});function ki(){ki=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Pi=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getAllleadsData,o=e.leadsByID,i=e.currentPage,f=e.filterQuery,h=e.filterSelectedQuery,p=e.searchQuery,m=Object(n.useState)(!1),d=Object(l.a)(m,2),v=d[0],g=d[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),w=E[0],O=E[1],_=Object(n.useState)({estd_year:(new Date).getFullYear().toString()}),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(null),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(null),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)([]),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useState)([]),B=Object(l.a)(R,2),M=B[0],q=B[1],U=Object(n.useState)([]),V=Object(l.a)(U,2),Q=V[0],H=V[1],J=gt(),K=J.handleSuccess,Z=J.handleError,X=J.handleCloseSnackbar,$=J.alertInfo,ee=Object(n.useState)({message:"",severity:"",open:!1}),te=Object(l.a)(ee,2),re=te[0],ne=te[1],ae=Object(s.c)(function(e){return e.auth}).profile;Object(n.useEffect)(function(){ae&&ae.groups&&(ae.groups.includes("Sales Executive")||ae.groups.includes("Business Development Execution")||ae.groups.includes("Customer Service")?H(Array({email:ae.email})):H(ae.active_sales_user))},[ae.email]);var oe=function(){var e=Object(c.a)(ki().mark(function e(){var t,r,n;return ki().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),t=L.country,r=L.pincode,e.next=6,xa.getCountryDataByPincode(t,r);case 6:0===(n=e.sent).data.length?(ne({message:"This Pin Code does not exist ! First Create the Pin code in the master country",severity:"error",open:!0}),S(Object(u.a)({},L,{state:"",city:"",country:""}))):(ne({message:"Pin code is valid",severity:"success",open:!0}),S(Object(u.a)({},L,{state:n.data[0].state,city:n.data[0].city_name,country:n.data[0].country}))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error",e.t0),ne({message:"Error fetching country data by pincode",severity:"error",open:!0});case 14:return e.prev=14,g(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}));return function(){return e.apply(this,arguments)}}(),ie=function(e){var t,r=e.target,n=r.name,a=r.value,o=a;("gst_number"!==n&&"pan_number"!==n||(o=a.toUpperCase()),"name"===n)?S(Object(u.a)({},L,(t={},Object(Y.a)(t,n,o),Object(Y.a)(t,"purchase_decision_maker",o),t))):S(Object(u.a)({},L,Object(Y.a)({},n,o)))},ce=function(e,t){var r;"hot_lead"===e?S(Object(u.a)({},L,(r={},Object(Y.a)(r,e,t),Object(Y.a)(r,"target_date",t?function(){var e=new Date;return new Date(e.setDate(e.getDate()+3)).toISOString().split("T")[0]}():""),r))):S(Object(u.a)({},L,Object(Y.a)({},e,t)))},le=function(){var e=Object(c.a)(ki().mark(function e(){var t;return ki().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pn.getNoDescription();case 3:t=e.sent,q(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(c.a)(ki().mark(function e(){var t;return ki().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,Kn.getAllCompetitors("all");case 4:t=e.sent,z(t.data),g(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),g(!1),console.log("Error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){le(),ue()},[]);var se=function(){var e=Object(c.a)(ki().mark(function e(t){var r;return ki().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,qo.getLeadsById(t);case 4:r=e.sent,T(r.data.followup),I(r.data.potential),S(r.data),g(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),g(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){o&&se(o)},[]);var fe=Object(n.useCallback)(function(){var e=Object(c.a)(ki().mark(function e(n){var a,c,l;return ki().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),g(!0),a={hot_lead:L.hot_lead,pinned:L.pinned,name:L.name,alternate_contact_name:L.alternate_contact_name,email:L.email,alternate_email:L.alternate_email,contact:L.contact||null,alternate_contact:L.alternate_contact||null,business_type:L.business_type,business_mismatch:L.business_mismatch||"No",interested:L.interested||"Yes",references:L.references,assigned_to:L.assigned_to||null,description:L.description||[],target_date:L.target_date||null,company:L.company||null,gst_number:L.gst_number||null,pan_number:L.pan_number||null,address:L.address,origin_type:L.origin_type||null,city:L.city,state:L.state,country:L.country,pincode:L.pincode||null,shipping_address:w?L.address:L.shipping_address,shipping_city:w?L.city:L.shipping_city,shipping_state:w?L.state:L.shipping_state,shipping_pincode:w?L.pincode||null:L.shipping_pincode||null,type_of_customer:L.type_of_customer,website:L.website,approx_annual_turnover:L.approx_annual_turnover,industrial_list:"Industrial Customer"===L.type_of_customer?L.industrial_list:null,category:"Distribution Customer"===L.type_of_customer?L.category:null,distribution_type:"Distribution Customer"===L.type_of_customer?L.distribution_type:null,main_distribution:"Distribution Customer"===L.type_of_customer?L.main_distribution:null,estd_year:L.estd_year||null,purchase_decision_maker:L.purchase_decision_maker},console.log("data",a),e.next=7,qo.updateLeads(o,a);case 7:c=e.sent,l=c.data.message||"Leads Updated successfully",K(l),setTimeout(function(){t(!1),r(i,f,h,p)},300),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),Z(e.t0);case 16:return e.prev=16,g(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[L,i,f,h,p]),he=function(e){return/^[0-9]{2}[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}[1-9A-Za-z]{1}Z[0-9A-Za-z]{1}$/.test(e)},pe=function(e){return/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/.test(e)};return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:re.open,message:re.message,severity:re.severity,onClose:function(){ne({open:!1})}}),a.a.createElement(yt,{open:$.open,onClose:X,severity:$.severity,message:$.message}),a.a.createElement(Je,{open:v}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return fe(e)},sx:{mt:1}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ci,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Basic Details"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(pr.a,{control:a.a.createElement(Ei.a,{checked:L.hot_lead||!1,onChange:function(e){return ce("hot_lead",e.target.checked)},name:"validity"}),label:"Hot Lead"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Name",variant:"outlined",value:L.name||"",onChange:ie})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"alternate_contact_name",size:"small",label:"Alternate Contact Name",variant:"outlined",value:L.alternate_contact_name||"",onChange:ie})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"email",size:"small",label:"Email",variant:"outlined",value:L.email||"",onChange:ie})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"alternate_email",size:"small",label:"Alternate Email",variant:"outlined",value:L.alternate_email||"",onChange:ie})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(un.a,{specialLabel:"Contact",value:L.contact||"",inputStyle:{height:"15px",minWidth:"300px"},country:"in",onChange:function(e){var t=e?"+".concat(e):null;ce("contact",t)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(un.a,{specialLabel:"Alternate Contact",value:L.alternate_contact||"",inputStyle:{height:"15px",minWidth:"300px"},country:"in",onChange:function(e){var t=e?"+".concat(e):null;ce("alternate_contact",t)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Business Type"),a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Busniess Type",value:L.business_type||"",onChange:function(e,t){return ce("business_type",e.target.value)}},Ya.LeadBusinessTypeData.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.label},e.label)})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Lead Exists",variant:"outlined",value:L.lead_exists?L.lead_exists:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Business Mismatch"),a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Business Mismatch",value:L.business_mismatch||"No",onChange:function(e,t){return ce("business_mismatch",e.target.value)}},Ya.businessMismatchsOption.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.label},e.label)})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Interested"),a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Interested",value:L.interested||"Yes",onChange:function(e,t){return ce("interested",e.target.value)}},Ya.interestOption.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.label},e.label)})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"References",variant:"outlined",value:L.references||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{fullWidth:!0,size:"small",id:"grouped-demo",value:L.assigned_to||"",onChange:function(e,t){return ce("assigned_to",t)},options:Q.map(function(e){return e.email}),getOptionLabel:function(e){return e},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Assigned To"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{size:"small",value:L.description||[],onChange:function(e,t){ce("description",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:M.map(function(e){return e.name}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Description",placeholder:"Description"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"target_date",size:"small",label:"Target Date",variant:"outlined",value:L.target_date||"",onChange:ie,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ci,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Company Details"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"company",size:"small",label:"Company",variant:"outlined",value:L.company||"",onChange:ie})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"gst_number",size:"small",label:"Gst Number",variant:"outlined",value:L.gst_number||"",onChange:ie,error:L.gst_number&&!he(L.gst_number),helperText:L.gst_number&&!he(L.gst_number)&&"Invalid GST Number"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"pan_number",size:"small",label:"Pan Number",variant:"outlined",value:L.pan_number||"",onChange:ie,error:L.pan_number&&!pe(L.pan_number),helperText:L.pan_number&&!pe(L.pan_number)&&"Invalid PAN Number"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:L.address||"",onChange:ie})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"country",size:"small",label:"Country",variant:"outlined",value:L.country||null,InputLabelProps:{shrink:!0},disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"city",size:"small",label:"State",variant:"outlined",value:L.state||null,InputLabelProps:{shrink:!0},disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"city",size:"small",label:"City",variant:"outlined",value:L.city||null,InputLabelProps:{shrink:!0},disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{sx:{minWidth:"170px"},name:"pincode",size:"small",label:"Pin Code",variant:"outlined",value:L.pincode,onChange:ie}),a.a.createElement(We.a,{size:"small",onClick:oe,variant:"contained",sx:{marginLeft:"1rem"}},"Validate")),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ci,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Shipping Details"})))),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(pr.a,{control:a.a.createElement(mr.a,{checked:w,onChange:function(e){O(e.target.checked),S(function(t){return Object(u.a)({},t,{shipping_address:e.target.checked?L.address:"",shipping_city:e.target.checked?L.city:"",shipping_state:e.target.checked?L.state:"",shipping_pincode:e.target.checked?L.pincode:null})})},inputProps:{"aria-label":"controlled"}}),label:"Same as Billing Address"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"shipping_address",size:"small",label:"Shipping Address",variant:"outlined",value:!0===w?L.address||"":L.shipping_address||"",onChange:ie})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"shipping_pincode",size:"small",label:"Pin Code",variant:"outlined",value:!0===w?L.pincode||"":L.shipping_pincode||"",onChange:ie})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"shipping_city",size:"small",label:"Shipping City",variant:"outlined",value:!0===w?L.city||"":L.shipping_city||"",onChange:ie})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return ce("shipping_state",t)},name:"shipping_state",value:w?L.state||"":L.shipping_state||"",options:Ya.StateOption.map(function(e){return e.value}),getOptionLabel:function(e){return e},label:"Shipping State"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ci,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"KYC Details"})))),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(a.a.Fragment,null,a.a.createElement(wt.a,null,a.a.createElement(Qr.a,{id:"demo-row-radio-buttons-group-label"},"Customer Type"),a.a.createElement(Hr.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:L.origin_type||"",onChange:function(e){return ce("origin_type",e.target.value)}},a.a.createElement(pr.a,{value:"Domestic",control:a.a.createElement(Jr.a,null),label:"Domestic"}),a.a.createElement(pr.a,{value:"International",control:a.a.createElement(Jr.a,null),label:"International"}))))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(a.a.Fragment,null,a.a.createElement(wt.a,null,a.a.createElement(Qr.a,{id:"demo-row-radio-buttons-group-label"},"Type of Customer"),a.a.createElement(Hr.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:L.type_of_customer||"",onChange:function(e){return ce("type_of_customer",e.target.value)}},a.a.createElement(pr.a,{value:"Industrial Customer",control:a.a.createElement(Jr.a,null),label:"Industrial Customer"}),a.a.createElement(pr.a,{value:"Distribution Customer",control:a.a.createElement(Jr.a,null),label:"Distribution Customer"}))))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"website",size:"small",label:"Website",variant:"outlined",value:L.website||"",onChange:ie})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"estd_year",size:"small",label:"Established Year",placeholder:"YYYY",value:L.estd_year||"",onChange:ie})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"approx_annual_turnover",size:"small",label:"Approx Annual Turnover",variant:"outlined",value:L.approx_annual_turnover||"",onChange:ie})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"purchase_decision_maker",size:"small",label:"Purchase Decision Maker",variant:"outlined",value:L.name||""})),"Industrial Customer"===L.type_of_customer&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return ce("industrial_list",t)},value:L.industrial_list||"",options:Ya.IndustriesList.map(function(e){return e.label}),getOptionLabel:function(e){return e},label:"Industrial List"})),"Distribution Customer"===L.type_of_customer&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return ce("distribution_type",t)},value:L.distribution_type||"",options:Ya.DistributionTypeOption.map(function(e){return e.label}),getOptionLabel:function(e){return e},label:"Distribution Type"})),"Distribution Customer"===L.type_of_customer&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",value:L.category||[],onChange:function(e,t){ce("category",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:Ya.CategoryOption.map(function(e){return e.label}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Category",placeholder:"Category"}))}})),"Distribution Customer"===L.type_of_customer&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",value:L.main_distribution||[],onChange:function(e,t){ce("main_distribution",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:W.map(function(e){return e.name}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Main Distribution",placeholder:"Main Distribution"}))}}))),a.a.createElement(We.a,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:3,mb:2,textAlign:"right"}},"Submit")),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Query Product Name",variant:"outlined",value:L.query_product_name||""})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,size:"small",label:"Query Meassage",variant:"outlined",value:L.query_message||""}))),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(_i,{getLeadByID:se,followup:C,leadsByID:o}))),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Si,{getLeadByID:se,potential:A,leadsByID:o}))))}),Ci=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})});function Ti(){Ti=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ni=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(null),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(1),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(0),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)(null),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useState)(null),M=Object(l.a)(B,2),q=M[0],U=M[1],Y=(new Date).toISOString().split("T")[0],V=new Date("2030-12-31").toISOString().split("T")[0],Q=Object(n.useState)(""),H=Object(l.a)(Q,2),J=H[0],K=H[1],Z=Object(n.useState)(!1),X=Object(l.a)(Z,2),$=X[0],ee=X[1],te=Object(s.c)(function(e){return e.auth.profile}),re=te.active_sales_user||[],ne=gt(),ae=ne.handleError,oe=ne.handleCloseSnackbar,ie=ne.alertInfo;Object(n.useEffect)(function(){var e=function(){k(!0),o([])},t=function(){k(!1),ce()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]),Object(n.useEffect)(function(){ce()},[T,J,O,q,z]);var ce=Object(n.useCallback)(Object(c.a)(Ti().mark(function e(){var t,r,n;return Ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),t=q?q.toISOString().split("T")[0]:"",r=z?z.toISOString().split("T")[0]:"",e.next=6,qo.getLeadFollowup(O||"today_followup",T,J,t,r);case 6:n=e.sent,o(n.data.results),F(Math.ceil(n.data.count/25)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),ae(e.t0);case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])})),[T,J,O,q,z]),le=Array.isArray(r)?r.map(function(e,t){return{lead:e.leads,company:e.company_name,created_by_email:e.email,activity_name:e.activity,status:e.status,duration:e.duration,current_date:Ra()(e.current_date?e.current_date:"-").format("DD/MM/YYYY h:mm:ss"),next_followup_date:Ra()(e.next_followup_date?e.next_followup_date:"-").format("DD/MM/YYYY h:mm:ss"),notes:e.notes}}):[];return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:ie.open,onClose:oe,severity:ie.severity,message:ie.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Co.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(S?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",gap:4,spacing:2},(te.groups.includes("Director")||te.groups.includes("Sales Maneger")||te.groups.includes("Customer Relationship Manager")||te.groups.includes("Business Development Manager"))&&a.a.createElement(Ae.a,{display:"flex",marginBottom:"10px"},a.a.createElement(sr,{size:"small",sx:{width:300},onChange:function(e,t){return K(t),void N(1)},value:J,options:re.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(Ae.a,{display:"flex",marginBottom:"10px"},a.a.createElement(sr,{size:"small",sx:{width:300},onChange:function(e,t){t&&"custom_date"===t.value?(U(new Date),R(new Date),_(""),ee(!0)):(_(t?t.value:null),U(null),R(null))},value:Di.find(function(e){return e.value===O})||"today_followup",options:Di,getOptionLabel:function(e){return e.label||"Today Followup"},isOptionEqualToValue:function(e,t){return e.value===t.value||""},label:"Filter By Follow-up"}))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Leads Followup")),a.a.createElement(dt,{headers:["LEAD","COMPANY","NAME","ACTIVITY","CALL STATUS","CALL DURATION","CREATION DATE","NEXT FOLLOWUP","NOTE","ACTION"],data:le,openInPopup:function(e){E(e.lead),y(!0)}}),a.a.createElement(Vr,{totalPages:I,currentPage:T,handlePageChange:function(e,t){N(t)}}))),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Leads",openPopup:d,setOpenPopup:y},a.a.createElement(Pi,{leadsByID:b,setOpenPopup:y,getAllleadsData:ce,currentPage:T,filterQuery:null,filterSelectedQuery:J,searchQuery:null})),a.a.createElement(Ce,{openPopup:$,setOpenPopup:ee,title:"Date Filter",maxWidth:"md"},a.a.createElement(yi,{startDate:q,endDate:z,minDate:Y,maxDate:V,handleStartDateChange:function(e){var t=new Date(e.target.value);U(t),R(new Date)},handleEndDateChange:function(e){var t=new Date(e.target.value);R(t)},resetDate:function(){U(new Date),R(new Date)}})))},Di=[{value:"today_followup",label:"Today Followup"},{value:"overdue_followup",label:"Overdue Followup"},{value:"upcoming_followup",label:"Upcoming Followup"},{value:"all_followup",label:"All Followup"},{label:"Custom Date",value:"custom_date"}],Ai=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=[{label:"Customer Followup",roles:["Director","Sales Manager","Business Development Manager","Business Development Executive","Customer Relationship Executive","Customer Relationship Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Sales Manager without Leads","Sales Manager with Lead"],component:a.a.createElement(gi,null)},{label:"Lead Followup",roles:["Director","Sales Manager","Business Development Manager","Business Development Executive","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Sales Manager without Leads","Sales Manager with Lead"],component:a.a.createElement(Ni,null)}].filter(function(t){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}.apply(void 0,Object(vr.a)(t.roles))}),r=Object(n.useState)(0),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Xr,{tabs:t.map(function(e){return{label:e.label,index:e.index}}),activeTab:i,onTabChange:function(e){c(e)}}),t.length>0&&t[i]?a.a.createElement("div",null,t[i].component):null)},Ii=r(112),Fi=r.n(Ii),Gi=r(137),Wi=r.n(Gi),zi=r(48),Ri=r(5),Bi=r(110);function Mi(){Mi=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var qi=function(e){var t=e.getProformaInvoiceData,r=e.invoiceData,o=e.users,i=e.setOpenPopup,s=e.setOpenPopup2,f=Object(n.useState)({}),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(!1),y=Object(l.a)(d,2),v=y[0],g=y[1],b=function(e){var t=e.target,r=t.name,n=t.value;m(Object(u.a)({},p,Object(Y.a)({},r,n)))},E=function(){var e=Object(c.a)(Mi().mark(function e(n){var a;return Mi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),a={type:r.type,raised_by:o.email,seller_account:r.seller_account,company:r.company,lead:r.lead,address:r.address,pincode:r.pincode,state:r.state,city:r.city,buyer_order_no:r.buyer_order_no,contact:r.contact,alternate_contact:r.alternate_contact,payment_terms:r.payment_terms,delivery_terms:r.delivery_terms,generation_date:r.generation_date,validity:r.validity,status:p.status,amount_recieved:p.amount_recieved||0,amount:r.amount,place_of_supply:r.place_of_supply,sgst:r.sgst?r.sgst:null,cgst:r.cgst?r.cgst:null,igst:r.igst?r.igst:null,total:r.total,gst_number:r.gst_number,pan_number:r.pan_number?r.pan_number:null},g(!0),"Customer"!==r.type){e.next=9;break}return e.next=7,st.sendForApprovalCompanyData(r.pi_number,a);case 7:e.next=11;break;case 9:return e.next=11,st.sendForApprovalLeadsData(r.pi_number,a);case 11:i(!1),g(!1),s(!1),t(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),g(!1);case 20:case"end":return e.stop()}},e,null,[[0,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:v}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:E},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(wt.a,{sx:{minWidth:"400px"},size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Status"),a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"status",label:"Status",value:p.status||"",onChange:b,sx:{"& .MuiSelect-iconOutlined":{display:p.status?"none":""},"&.Mui-focused .MuiIconButton-root":{color:"primary.main"}}},Ui.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.label},e.label)})))),"Partially Paid"===p.status&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"amount_recieved",size:"small",label:"Amount Received",variant:"outlined",value:p.amount_recieved||"",onChange:b})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"balance_amount",size:"small",label:"Balance Amount",variant:"outlined",value:p.amount_recieved?r.total-p.amount_recieved:""})))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},Ui=[{label:"Partially Paid",value:"partially_paid"},{label:"Fully Paid",value:"fully_paid"},{label:"Credit",value:"credit"}],Yi=r(77),Vi=r.n(Yi),Qi=r(111),Hi=r.n(Qi),Ji=r(69),Ki=r.n(Ji),Zi=r(55),Xi=r.n(Zi),$i=r(65),ec=r.n($i),tc=function(e){var t=e.productData,r=e.invoiceData,n=e.hsnData,o=e.AMOUNT_IN_WORDS,i=e.TOTAL_GST;console.log("TOTAL_GST",i),console.log(r);for(var c=Math.ceil(t.length/6),l=[],s=0;s<c;s++){var f=6*s,h=f+6,p=t.slice(f,h);l.push(p)}function m(e){if(e)return e.toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}return a.a.createElement(Ri.a,null,l.map(function(e,t){return a.a.createElement(Ri.c,{size:"A4",orientation:"portrait",style:{fontSize:"12pt"}},a.a.createElement(Ri.f,{style:{padding:"20pt"}},a.a.createElement(Ri.f,{style:oc},a.a.createElement(rc,{invoiceData:r,capitalizeFirstLetter:m}),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{alignItems:"center",padding:0})},a.a.createElement(Ri.e,{style:{fontWeight:"100",fontSize:12}},"Proforma Tax Invoice"))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Proforma Invoice No & Date :")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},r.pi_number," & ",r.generation_date)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Place of Supply :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},m(r.place_of_supply)))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Sales Person :")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},m(r.raised_by_first_name),m(r.raised_by_last_name))),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Transporter Name :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},m(r.transporter_name)))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Valid Until :")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},Ra()(r.validity).format("DD-MM-YYYY"))),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Buyer Order No & Date :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},r.buyer_order_no," &"," ",r.buyer_order_date))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{z:!0}),a.a.createElement(Ri.f,{style:Object(u.a)({},sc)}),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)}),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Amount Receive :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},r.amount_recieved))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc)}),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)}),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Payment Terms :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},r.payment_terms))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc)}),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)}),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Delivery Terms :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},r.delivery_terms))),a.a.createElement(Ri.f,{style:Object(u.a)({},ic,uc)},a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},mc,yc,{textAlign:"center"})},"Billed To")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},mc,{textAlign:"center"})},"Shipped To"," "))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Company :")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},m(r.name_of_party))),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Company :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},m(r.company_name)))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Address :")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},m(r.billing_address))),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Address :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},m(r.address)))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"City & State:")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},m(r.billing_city)," &",m(r.billing_state))),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"City & State:")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},m(r.city)," &",m(r.state)))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Pin Code :")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},r.billing_pincode)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)}," Pin Code :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},r.pincode))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Gst Number :")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},r.gst_number)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Gst Number :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},r.gst_number))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Pan Number :")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},r.pan_number)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Pan Number :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},r.pan_number))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Contact :")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},r.contact)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Contact :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},r.contact))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Contact Person :")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},m(r.contact_person_name))),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Contact Person :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},m(r.contact_person_name)))),a.a.createElement(Ri.f,{className:Object(u.a)({},ic,uc),style:Object(u.a)({},ic,uc)},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{flex:.2,flexGrow:.2,marginLeft:"4pt",textAlign:"left"})},a.a.createElement(Ri.e,null,"Sr.No")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{flex:.8,flexGrow:.8,textAlign:"left"})},a.a.createElement(Ri.e,null,"Description of Goods")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{flex:.3,flexGrow:.3,textAlign:"center"})},a.a.createElement(Ri.e,null,"HSN")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(Ri.e,null,"Quantity")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(Ri.e,null,"Unit")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(Ri.e,null,"Rate")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(Ri.e,null,"Amount"))),e.map(function(e,r){var n=6*t+r+1;return a.a.createElement(Ri.f,{style:Object(u.a)({},ic,{paddingVertical:5}),key:r},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{flex:.2,flexGrow:.2,marginLeft:"4pt",textAlign:"left"})},a.a.createElement(Ri.e,{style:pc},n)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{textAlign:"left",flex:.8,flexGrow:.8,width:80})},a.a.createElement(Ri.e,{style:Object(u.a)({},pc,{color:"#000"})},e.product),a.a.createElement(Ri.e,{style:Object(u.a)({},pc,{color:"#000"})},m(e.description))),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{flex:.3,flexGrow:.3,textAlign:"center"})},a.a.createElement(Ri.e,{style:pc},e.hsn_code)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(Ri.e,{style:pc},e.quantity)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(Ri.e,{style:pc},m(e.unit))),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(Ri.e,{style:pc},e.rate)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(Ri.e,{style:pc},e.amount)))}),a.a.createElement(Ri.f,{style:Object(u.a)({},ic)},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,uc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc,{textAlign:"center"})},"Company Bank Details")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,uc,yc)}),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{flexGrow:.4})},a.a.createElement(Ri.e,{style:Object(u.a)({},mc,{textAlign:"right"})},"Taxable Amount :")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{flexGrow:.4})},a.a.createElement(Ri.e,{style:Object(u.a)({},dc,{textAlign:"center"})},r.amount))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Company :")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},"Glutape India Pvt Ltd")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc,{textAlign:"right"})},"CGST Amount :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc,{textAlign:"center"})},r.cgst?r.cgst:"-"))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Bank :")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},m(r.seller_bank_name))),a.a.createElement(Ri.f,{style:Object(u.a)({},sc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc,{textAlign:"right"})},"SGST Amount :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc,{textAlign:"center"})},r.sgst?r.sgst:"-"))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Account No :")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},r.seller_account_no)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc,{textAlign:"right"})},"IGST Amount :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc,{textAlign:"center"})},r.igst?r.igst:"-"))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Branch & IFSC Code :")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},m(r.seller_branch)," &",r.seller_ifsc_code)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc,{textAlign:"right"})},"Round Off :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc,{textAlign:"center"})},r.round_off))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Gst Number :")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},r.seller_gst)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc,{textAlign:"right"})},"Total Amount :")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc,{textAlign:"center"})},r.round_off_total))),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Pan Number :")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},r.seller_pan)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc)}),a.a.createElement(Ri.f,{style:sc})),a.a.createElement(Ri.f,{style:Object(u.a)({},ic)},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{padding:"5pt"})},a.a.createElement(Ri.e,{style:mc},"Amount in Words :-",a.a.createElement(Ri.e,{style:dc}," \xa0",o)))),a.a.createElement(Ri.f,null,a.a.createElement(Ri.e,null,"\n")),"domestic"===r.origin_type&&a.a.createElement(Ri.f,{style:Object(u.a)({},ic,uc)},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"HSN")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"TAXABLE AMOUNT")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"CGST")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"SGST")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"IGST")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"GST")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"TOTAL GST"))),"domestic"===r.origin_type&&n.map(function(e,t){return a.a.createElement(Ri.f,{style:ic,key:t},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},e.hsn_code)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},e.amount)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},e.cgst)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},e.sgst)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},e.igst)),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},e.gst_percentage)),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},dc)},e.total_gst)))}),"domestic"===r.origin_type&&a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"Total")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},r.amount||"-")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},r.cgst||"-")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},r.sgst||"-")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},r.igst||"-")),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,yc)},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},"-")),a.a.createElement(Ri.f,{style:sc},a.a.createElement(Ri.e,{style:Object(u.a)({},mc)},i||"-"))),a.a.createElement(Ri.f,null,a.a.createElement(Ri.e,null,"\n")),a.a.createElement(Ri.f,{style:ic},a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{marginLeft:"4pt"})},a.a.createElement(Ri.e,{style:{fontWeight:"bold",fontSize:8}},"Terms and Condition :-"),ac.map(function(e,t){return a.a.createElement(Ri.e,{key:t,style:{color:"#777777",fontSize:6}},e.id," ",m(e.text))})),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{justifyContent:"center",alignItems:"center"})},a.a.createElement(Ri.e,{style:dc},r.approval?m(r.approval.approve_name):""),a.a.createElement(Ri.e,{style:dc},r.approval?Ra()(r.approval.approval_date).format("DD-MM-YYYY"):""),a.a.createElement(Ri.e,{style:dc},"Authorising Signatory"),a.a.createElement(Ri.e,{style:dc},"[Digitally Signed]"))),a.a.createElement(nc,null))),a.a.createElement(Ri.e,{style:Object(u.a)({},pc,{display:"flex",justifyContent:"center",textAlign:"center"})},"This is Computer Generated Proforma Tax Invoice"),a.a.createElement(Ri.e,{style:Object(u.a)({},pc,{display:"flex",justifyContent:"center",textAlign:"center"})},"Page ",t+1," of ",c))}))},rc=function(e){var t=e.invoiceData,r=e.capitalizeFirstLetter;return a.a.createElement(Ri.f,{style:cc},a.a.createElement(Ri.f,{style:{marginRight:"20pt"}},a.a.createElement(Ri.b,{source:ec.a,style:fc})),a.a.createElement(Ri.f,{style:Object(u.a)({},sc,{alignItems:"center",textAlign:"center",padding:0})},a.a.createElement(Ri.e,{style:{fontWeight:"bold",fontSize:12}},"Glutape India Private Limited"),a.a.createElement(Ri.e,{style:{color:"#777777",fontSize:6}},r(t.seller_address),","," ",r(t.seller_city),", ","\n",r(t.seller_state),"-",t.seller_state_code,",",t.seller_pincode,", CIN No;-"," ",t.seller_cin,", P.No:- ",t.seller_contact,"\n","E: ",t.seller_email,", W: www.glutape.com")),a.a.createElement(Ri.f,null,a.a.createElement(Ri.b,{source:Xi.a,style:hc})),a.a.createElement(Ri.f,null,a.a.createElement(Ri.b,{source:Hi.a,style:hc})))},nc=function(){return a.a.createElement(Ri.f,{style:lc},a.a.createElement(Ri.b,{source:Ki.a,style:{width:"100%",height:"auto"}}))},ac=[{id:"1)",text:"Material once sold will not be taken back."},{id:"2)",text:"Material is delivered at owner's risk and with no liability of transportation damage to Glutape India Pvt Ltd. "},{id:"3)",text:"Our risk and Responsibility ceases as soon as the goods leave our premises."},{id:"4)",text:"In case the cargo is insured, a claim against insurance will be settled once the insurance claim gets sanctioned from the respective insurance company"},{id:"5)",text:"Please test Material before using."},{id:"6)",text:"No allowance for storage of difference in quality will be allowed unless the same is given to us within 24 hour of receipt insurance company."},{id:"7)",text:"Subjects to mumbai, Maharashtra jurisdiction only."},{id:"8)",text:"Validity of this Proforma Invoice is 3 Days from Date of Proforma Invoice."}],oc={border:"1pt solid #000000",overflow:"hidden"},ic={display:"flex",flexDirection:"row",borderBottom:"1pt solid #ccc"},cc={height:"40pt",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottom:"1pt solid #777777"},lc={height:"40pt",flexDirection:"row",width:"100%",borderTop:"1pt solid #777777"},uc={backgroundColor:"#eee",fontWeight:"bold"},sc={flex:1,flexGrow:1,fontSize:10},fc={height:"auto",width:"80pt"},hc={height:"auto",width:"50pt"},pc={fontWeight:300,color:"#454545",fontSize:8},mc={fontWeight:"bold",fontSize:8,textAlign:"left",marginLeft:"5pt"},dc={fontWeight:300,fontSize:8,color:"#454545",marginLeft:"5pt"},yc={borderRightWidth:1,borderRightColor:"#ccc"};function vc(){vc=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var gc=function(e){var t=e.priceData,r=Object(n.useState)(t||[]),o=Object(l.a)(r,2),i=o[0],u=o[1];Object(n.useEffect)(function(){s()});var s=function(){var e=Object(c.a)(vc().mark(function e(){var t;return vc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,st.getPriceData();case 3:t=e.sent,u(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to fetch price data:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,{align:"center"},"Product"),a.a.createElement(qn.a,{align:"center"},"Unit"),a.a.createElement(qn.a,{align:"center"},"PI Rate"),a.a.createElement(qn.a,{align:"center"},"Slab 1 Price"),a.a.createElement(qn.a,{align:"center"},"Slab 2 Price"),a.a.createElement(qn.a,{align:"center"},"Slab 3 Price"))),a.a.createElement(Hn.a,null,i.map(function(e,t){return a.a.createElement(Un.a,{key:t},a.a.createElement(qn.a,{align:"center"},e.product),a.a.createElement(qn.a,{align:"center"},e.unit),a.a.createElement(qn.a,{align:"center"},e.rate),a.a.createElement(qn.a,{align:"center"},e.slab1_price),a.a.createElement(qn.a,{align:"center"},e.slab2_price),a.a.createElement(qn.a,{align:"center"},e.slab3_price))}))))};function bc(){bc=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ec=function(e){var t=e.idForEdit,r=e.setOpenPopup,o=e.getProformaInvoiceData,i=Object(n.useState)(!1),f=Object(l.a)(i,2),h=f[0],p=f[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(!1),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(!1),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(null),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(s.c)(function(e){return e.auth}).profile,z=Object(n.useRef)(),R=gt(),B=R.handleSuccess,M=R.handleError,q=R.handleCloseSnackbar,U=R.alertInfo,Y=Object(Bi.useReactToPrint)({content:function(){return z.current},documentTitle:"PI Number ".concat(y.pi_number)}),V=function(){var e=Object(c.a)(bc().mark(function e(){var t,r;return bc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,st.checkPrice(y.pi_number);case 4:t=e.sent,r=Array.isArray(t.data)?t.data:[t.data],G(r),D(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),M(e.t0);case 13:return e.prev=13,P(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(bc().mark(function e(t){var r,n,o;return bc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),r=new zi.a,e.next=5,Object(Ri.g)(a.a.createElement(tc,{productData:E,invoiceData:y,hsnData:_,AMOUNT_IN_WORDS:Z,TOTAL_GST:ne}),r,{}).toBlob();case 5:n=e.sent,(o=document.createElement("a")).href=URL.createObjectURL(n),o.download="PI Number ".concat(y.pi_number,".pdf"),document.body.appendChild(o),o.click(),document.body.removeChild(o),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),M(e.t0);case 17:return e.prev=17,P(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[0,14,17,20]])}));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(c.a)(bc().mark(function e(){var r;return bc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,P(!0),"Customer"!==t.type){e.next=8;break}return e.next=5,st.getCompanyPerformaInvoiceByIDData(t.pi_number);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,st.getLeadsPerformaInvoiceByIDData(t.pi_number);case 10:e.t0=e.sent;case 11:r=e.t0,v(r.data),w(r.data.products),j(r.data.hsn_table),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(0),M(e.t1);case 20:return e.prev=20,P(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[0,17,20,23]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){H()},[]);for(var J=(y.amount_in_words?y.amount_in_words:"").split(" "),K=0;K<J.length;K++)J[K]=J[K].charAt(0).toUpperCase()+J[K].slice(1);var Z=J.join(" "),X=function(){var e=Object(c.a)(bc().mark(function e(n){var a;return bc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,P(!0),a={proformainvoice:t.pi_number,status:"Raised",address:y.address,buyer_order_no:y.buyer_order_no,city:y.city,contact:y.contact,delivery_terms:y.delivery_terms,company:y.company,lead:y.lead,payment_terms:y.payment_terms,pincode:y.pincode,place_of_supply:y.place_of_supply,raised_by:y.raised_by,seller_account:y.seller_account,state:y.state,type:y.type},"Customer"!==y.type){e.next=9;break}return e.next=7,st.updateCustomerProformaInvoiceData(t.pi_number,a);case 7:e.next=11;break;case 9:return e.next=11,st.updateLeadsProformaInvoiceData(t.pi_number,a);case 11:r(!1),o(),P(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),M(e.t0);case 19:return e.prev=19,P(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[1,16,19,22]])}));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(c.a)(bc().mark(function e(n){var a,i,c;return bc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,P(!0),a={proformainvoice:t.pi_number,status:"Pending Approval",address:y.address,buyer_order_no:y.buyer_order_no,city:y.city,contact:y.contact,delivery_terms:y.delivery_terms,company:y.company,lead:y.lead,payment_terms:y.payment_terms,pincode:y.pincode,place_of_supply:y.place_of_supply,raised_by:y.raised_by,seller_account:y.seller_account,state:y.state,type:y.type},"Customer"!==y.type){e.next=10;break}return e.next=7,st.updateCustomerProformaInvoiceData(t.pi_number,a);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,st.updateLeadsProformaInvoiceData(t.pi_number,a);case 12:e.t0=e.sent;case 13:i=e.t0,c=i.data.message||"send Pending_Approval_PI Convert To Approved successfully",B(c),setTimeout(function(){r(!1),o()},300),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(1),M(e.t1);case 22:return e.prev=22,P(!1),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[1,19,22,25]])}));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(c.a)(bc().mark(function e(t){var n,a,i;return bc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,P(!0),n={proformainvoice:y.pi_number,approved_by:W.email,status:"Approved"},e.next=6,st.sendForApprovalData(n);case 6:a=e.sent,i=a.data.message||"Send For Approved Pi successfully",B(i),setTimeout(function(){r(!1),o()},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),M(e.t0);case 15:return e.prev=15,P(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(c.a)(bc().mark(function e(t){var n,a,i;return bc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,P(!0),n={proformainvoice:y.pi_number,approved_by:W.email,status:"Reject"},e.next=6,st.sendForApprovalData(n);case 6:a=e.sent,i=a.data.message||"Send For Approved Pi successfully",B(i),setTimeout(function(){r(!1),o()},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),M(e.t0);case 15:return e.prev=15,P(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(c.a)(bc().mark(function e(t){var n,a,i,c;return bc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),P(!0),e.prev=2,n={status:"Dropped",type:y.type,raised_by:y.raised_by,raised_by_first_name:y.raised_by_first_name,place_of_supply:y.place_of_supply,seller_account:y.seller_account,company:y.company,address:y.address,pincode:y.pincode,state:y.state,city:y.city,buyer_order_no:y.buyer_order_no,contact:y.contact,payment_terms:y.payment_terms,delivery_terms:y.delivery_terms,lead:y.lead?y.lead:null},a="Lead"===y.type?st.sendForApprovalLeadsData:st.sendForApprovalCompanyData,e.next=7,a(y.pi_number,n);case 7:i=e.sent,c=i.data.message||"PI Dropped successfully",B(c),setTimeout(function(){r(!1),o()},300),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),M(e.t0);case 16:return e.prev=16,P(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[2,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),ne=(y.total-y.amount).toFixed(2);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:U.open,onClose:q,severity:U.severity,message:U.message}),a.a.createElement(Je,{open:k}),a.a.createElement("div",{className:"container-fluid mb-4",style:{border:"1px Solid #000000"}},a.a.createElement("div",{className:"row p-4"},a.a.createElement("div",{className:"col-xs-6 "},y&&y.status&&"Pending Approval"!==y.status&&"Price Approval"!==y.status&&"Raised"!==y.status&&a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(e){return Q(e)},startIcon:a.a.createElement(Fi.a,null)},"Download"),y&&y.status&&"Pending Approval"!==y.status&&"Price Approval"!==y.status&&"Raised"!==y.status&&a.a.createElement(We.a,{variant:"contained",color:"secondary",onClick:Y,startIcon:a.a.createElement(Wi.a,null)},"Print")),a.a.createElement("div",{className:"col-xs-6 "},(W.groups.includes("Sales")||W.groups.includes("Director")||W.groups.includes("Customer Service")||W.groups.includes("Accounts"))&&"Raised"===y.status&&a.a.createElement(We.a,{variant:"contained",color:"success",onClick:function(e){return $(e)}},"Send For Approval")),a.a.createElement("div",{className:"col-xs-6 "},"Pending Approval"===y.status&&!0===W.is_staff&&a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(e){return X(e)}},"Back To Raised")),a.a.createElement("div",{className:"col-xs-6 "},"Approved"===y.status&&W.groups.includes("Accounts")&&a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(e){return X(e)}},"Back To Raised")),a.a.createElement("div",{className:"col-xs-6"},!0===W.is_staff&&"Pending Approval"===y.status&&a.a.createElement(We.a,{variant:"contained",color:"success",onClick:function(e){ee(e)}},"Approve")),a.a.createElement("div",{className:"col-xs-6"},(W.groups.includes("Accounts")||W.groups.includes("Director")||W.groups.includes("Accounts Billing Department"))&&"Price Approval"===y.status&&a.a.createElement(We.a,{variant:"contained",color:"success",onClick:function(e){ee(e)}},"Approve"),(W.groups.includes("Accounts")||W.groups.includes("Director")||W.groups.includes("Accounts Billing Department"))&&"Price Approval"===y.status&&a.a.createElement(We.a,{variant:"contained",color:"error",onClick:function(e){te(e)}},"Reject"),(W.groups.includes("Accounts")||W.groups.includes("Director"))&&"Price Approval"===y.status&&a.a.createElement(We.a,{variant:"contained",color:"success",onClick:V},"Check Price")),a.a.createElement("div",{className:"col-xs-6"},"Approved"===y.status&&(W.groups.includes("Accounts")||W.groups.includes("Director")||W.groups.includes("Accounts Billing Department"))&&a.a.createElement(We.a,{variant:"contained",color:"success",onClick:function(){return p(!0)}},"Confirmation Payment"),(W.groups.includes("Director")||W.groups.includes("Sales Manager")||W.groups.includes("Sales Executive")||W.groups.includes("Sales Deputy Manager")||W.groups.includes("Customer Service")||W.groups.includes("Business Development Executive")||W.groups.includes("Business Development Manager")||W.groups.includes("Customer Relationship Manager")||W.groups.includes("Customer Relationship Executive"))&&("Price Approval"===y.status||"Approved"===y.status||"Raised"===y.status)&&a.a.createElement(We.a,{variant:"contained",color:"error",onClick:function(e){re(e)}},"Drop")))),a.a.createElement("div",{id:"invoice",style:{border:"1px Solid #000000"},className:"container-fluid m-0 p-2",ref:z},a.a.createElement("div",{className:"m-2 p-0",style:{border:"1px Solid #000000"}},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-xs-12"},a.a.createElement("div",{className:"grid invoice",style:{padding:"10px"}},a.a.createElement("div",{className:"grid-body"},a.a.createElement("div",{className:"invoice-title"},a.a.createElement("div",{className:"row",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("div",{className:"col-md-2 align-self-center logos"},a.a.createElement("img",{src:Vi.a,alt:"",Height:"60",width:"150"})),a.a.createElement("div",{className:"col-md-7",style:{marginRight:"1rem"}},a.a.createElement("div",{className:"text-center address"},a.a.createElement("strong",{style:Object(u.a)({},xc)},"Glutape India Private Limited"),a.a.createElement("br",null),a.a.createElement("p",{style:{fontSize:"0.50rem"}},y.seller_address,",",y.seller_city,",",y.seller_state,"-",y.seller_state_code,",",a.a.createElement("br",null),y.seller_pincode,", CIN No ;-",y.seller_cin,", P.No :- ",a.a.createElement("br",null),y.seller_contact," E:",y.seller_email,",W:www.glutape.com"))),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-end msme"},a.a.createElement("img",{src:Xi.a,alt:"",height:"50",width:"90"})),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-start iso"},a.a.createElement("img",{src:Hi.a,alt:"",height:"35",width:"90"}))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("p",{className:"text-center fs-6 fw-bold p-0 m-0"},"Proforma Tax Invoice / Sales Contract"))),a.a.createElement("div",{className:"row",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("div",{className:"col-md-6",style:Object(u.a)({},xc)},a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Proforma Invoice No & Date :"," ")," ",y.pi_number," &"," ",y.generation_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Sales Person :"," ")," ",y.raised_by_first_name,"\xa0\xa0",y.raised_by_last_name),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Valid Until :"," ")," ",y.validity)),a.a.createElement("div",{className:"col-md-6",style:Object(u.a)({},xc,{borderLeft:"1px Solid #000000"})},a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Place of Supply :"," "),y.place_of_supply),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Transporter Name :"," "),y.transporter_name),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Buyer Order No & Date :"," "),y.buyer_order_no," &"," ",y.buyer_order_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Amount Receive :"," "),y.amount_recieved),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Payment Terms :"," ")," ",y.payment_terms),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Delivery Terms :"," ")," ",y.delivery_terms)))),a.a.createElement("div",{className:"row",style:Object(u.a)({},xc,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-6"},a.a.createElement("address",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Billed To:"),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Company :"," "),y.name_of_party,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Address :"," "),y.billing_address,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"City & State:"," "),y.billing_city," &"," ",y.billing_state,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Pin Code :"," "),y.billing_pincode),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Gst Number :"," "),y.gst_number),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Pan Number :"," "),y.pan_number),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Contact :"," "),y.contact),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Contact Person Name:"," "),y.contact_person_name))),a.a.createElement("div",{className:"col-md-6 justify-content-end",style:{borderLeft:"1px Solid #000000"}},a.a.createElement("address",{className:"justify-content-end"},a.a.createElement("strong",{style:Object(u.a)({},xc)},"Shipped To:"),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Company :"," "),y.company_name,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Address :"," "),y.address),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"City & State:"," "),y.city," & ",y.state,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Pin Code :"," "),y.pincode),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Gst Number :"," "),y.gst_number),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Pan Number :"," "),y.pan_number),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Contact :"," "),y.contact),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Contact Person Name:"," "),"Exclusive Distribution Customer"===y.type_of_customer?y.warehouse_person_name:y.contact_person_name)))),a.a.createElement("div",{className:"row",style:Object(u.a)({},xc,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-12"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",{className:"line"},a.a.createElement("td",{className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},xc)},"SR.NO")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},xc)},"DESCRIPTION OF GOODS")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},xc)},"BRAND")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},xc)},"HSN CODE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},xc)},"REQUESTED DATE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},xc)},"QTY")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},xc)},"UNIT")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},xc)},"RATE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},xc)},"AMOUNT")))),a.a.createElement("tbody",null,E.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",{className:"text-start"},t+1),a.a.createElement("td",{className:"text-center"},e.description,a.a.createElement("br",null),e.product),a.a.createElement("td",{className:"text-center"},e.brand),a.a.createElement("td",{className:"text-center"},e.hsn_code),a.a.createElement("td",{className:"text-center"},e.requested_date),a.a.createElement("td",{className:"text-center"},e.quantity),a.a.createElement("td",{className:"text-center"},e.unit),a.a.createElement("td",{className:"text-center"},e.rate),a.a.createElement("td",{className:"text-center"},e.amount))}),a.a.createElement("tr",null,a.a.createElement("td",{colspan:"4.5",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},xc)},"Company Bank Details :"," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Company Name :"," "),"Glutape India Pvt Ltd"),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Bank :"," "),y.seller_bank_name," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Account No :"," "),y.seller_account_no," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Branch & IFSC Code :"," "),y.seller_branch," &"," ",y.seller_ifsc_code," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Gst Number :"," "),y.seller_gst),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},xc)},"Pan Number :"," "),y.seller_pan)),a.a.createElement("td",{colspan:"3"},a.a.createElement("strong",{style:Object(u.a)({},xc)},"Taxable Amount"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},xc)},"CGST Amount")," ",a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},xc)},"SGST Amount")," ",a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},xc)},"IGST Amount"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},xc)},"Round Off"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},xc)},"Total Amount")),a.a.createElement("td",{colspan:"0.5",className:"text-right"},a.a.createElement("span",null,y.amount),a.a.createElement("br",null),a.a.createElement("span",null,y.cgst?y.cgst:"-"),a.a.createElement("br",null),a.a.createElement("span",null,y.sgst?y.sgst:"-"),a.a.createElement("br",null),a.a.createElement("span",null,y.igst?y.igst:"-"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},xc)},y.round_off),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},xc)},y.round_off_total))))))),a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},xc,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-8 text-right"},a.a.createElement("strong",null,"Amount in Words :-"),"\xa0\xa0",Z)),"domestic"===y.origin_type&&a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},xc,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-8 text-right table-responsive"},a.a.createElement("table",{className:"table table-bordered"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"HSN"),a.a.createElement("th",null,"TAXABLE AMOUNT"),a.a.createElement("th",null,"CGST"),a.a.createElement("th",null,"SGST"),a.a.createElement("th",null,"IGST"),a.a.createElement("th",null,"GST %"),a.a.createElement("th",null,"TOTAL GST"))),a.a.createElement("tbody",null,_.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,e.hsn_code),a.a.createElement("td",null,e.amount),a.a.createElement("td",null,e.cgst),a.a.createElement("td",null,e.sgst),a.a.createElement("td",null,e.igst),a.a.createElement("td",null,e.gst_percentage),a.a.createElement("td",null,e.total_gst))}),a.a.createElement("tr",null,a.a.createElement("td",{colspan:"1",className:"text-end"},a.a.createElement("strong",{style:Object(u.a)({},xc)},"Total :")),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},xc)},y.amount)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},xc)},y.cgst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},xc)},y.sgst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},xc)},y.igst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},xc)})),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},xc)},ne))))))),a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},xc,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-5 text-right"},a.a.createElement("strong",{style:Object(u.a)({},xc)},"Terms and Condition :-"),wc.map(function(e,t){return a.a.createElement("p",{key:t,style:{margin:0,padding:0,fontSize:"0.50rem"}},e.id,e.text,a.a.createElement("br",null))})),a.a.createElement("div",{className:"col-md-3 text-center d-flex align-items-end justify-content-center"},a.a.createElement("div",null,a.a.createElement("p",null,"For Buyer"),a.a.createElement("p",null,"----------------------------------------"))),a.a.createElement("div",{className:"col-md-4 d-flex align-items-end justify-content-center"},a.a.createElement("div",{className:"text-center"},"For Glutape India Pvt. Ltd.",a.a.createElement("br",null),y.approval?y.approval.approve_name:"",a.a.createElement("br",null),y.approval?y.approval.approval_date:"",a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},xc)},"Authorising Signatory"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},xc)},"[Digitally Signed]")))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12 "},a.a.createElement("img",{src:Ki.a,alt:"",height:"60",width:"100%"})))))))),a.a.createElement("div",{style:{display:"flex",justifyContent:"center",textAlign:"center"}},"This is computer generated Proforma Invoice / Sales Contract")),a.a.createElement(Ce,{maxWidth:"md",title:"Customer Confirmation of payment detail",openPopup:h,setOpenPopup:p},a.a.createElement(qi,{users:W,invoiceData:y,setOpenPopup:p,setOpenPopup2:r,getProformaInvoiceData:o})),a.a.createElement(Ce,{maxWidth:"lg",openPopup:N,setOpenPopup:D,title:"Price Information"},a.a.createElement(gc,{priceData:F})))},wc=[{id:"1)",text:"Material once sold will not be taken back."},{id:"2)",text:"Material is delivered at owner's risk and with no liability of transportation damage to Glutape India Pvt Ltd. "},{id:"3)",text:"Our risk and Responsibility ceases as soon as the goods leave our premises."},{id:"4)",text:"In case the cargo is insured, a claim against insurance will be settled once the insurance claim gets sanctioned from the respective insurance company"},{id:"5)",text:"Please test Material before using."},{id:"6)",text:"No allowance for storage of difference in quality will be allowed unless the same is given to us within 24 hour of receipt insurance company."},{id:"7)",text:"Subjects to mumbai, Maharashtra jurisdiction only."},{id:"8)",text:"Validity of this Proforma Invoice is 3 Days from Date of Proforma Invoice."}],xc={fontSize:"0.80rem"};function Oc(){Oc=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var _c=function(e){var t=e.idForEdit,r=e.getProformaInvoiceData,o=e.setOpenPopup,i=Object(n.useState)(!1),f=Object(l.a)(i,2),h=f[0],p=f[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),v=d[0],g=d[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],O=E[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)([]),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)([]),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)(""),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useState)([]),B=Object(l.a)(R,2),M=B[0],q=B[1],U=Object(n.useState)(""===v.buyer_order_no),V=Object(l.a)(U,2),Q=V[0],H=V[1],J=Object(n.useState)(!1),K=Object(l.a)(J,2),Z=K[0],X=K[1],$=Object(n.useState)([]),ee=Object(l.a)($,2),te=ee[0],re=ee[1],ne=Object(n.useState)([]),ae=Object(l.a)(ne,2),oe=ae[0],ie=ae[1],ce=Object(n.useState)([]),le=Object(l.a)(ce,2),ue=le[0],se=le[1],fe=Object(n.useState)([]),he=Object(l.a)(fe,2),pe=he[0],me=he[1],de=Object(n.useState)([{product:"",quantity:"",rate:"",requested_date:Pc.someDate,special_instructions:""}]),ye=Object(l.a)(de,2),ve=ye[0],ge=ye[1],be=Object(s.c)(function(e){return e.auth}),Ee=be.profile,we=be.sellerAccount,xe=gt(),Oe=xe.handleSuccess,_e=xe.handleError,je=xe.handleCloseSnackbar,Le=xe.alertInfo,Se=function(e,t){var r=Object(vr.a)(ve);r[e][t.target.name?t.target.name:"product"]=t.target.value?t.target.value:t.target.textContent,ge(r),X(!0)},ke=function(){var e={product:"",quantity:"",rate:"",requested_date:Pc.someDate,special_instructions:""};ge([].concat(Object(vr.a)(ve),[e]))},Pe=function(){var e=Object(c.a)(Oc().mark(function e(){var t;return Oc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Pn.getAllValidPriceList("all");case 4:t=e.sent,O(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),_e(e.t0);case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(c.a)(Oc().mark(function e(r){var n,a;return Oc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,st.getCustomerProformaInvoiceDataByID(t.pi_number);case 4:n=e.sent,g(n.data),T(n.data.payment_terms),I(n.data.delivery_terms),[],a=n.data.products.map(function(e){return{product:e.product,pending_quantity:e.pending_quantity,requested_date:e.requested_date,special_instructions:e.special_instructions,quantity:e.quantity,rate:e.rate,amount:e.amount,unit:e.unit}}),ge(a),Te(n.data.company),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),_e(e.t0);case 17:return e.prev=17,p(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[0,14,17,20]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){Pe(),Ce()},[]);var Te=function(){var e=Object(c.a)(Oc().mark(function e(t){var r,n,a,o,i,c;return Oc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),r=t,e.t0=Promise,e.next=6,Kn.getCompanyDataById(r);case 6:return e.t1=e.sent,e.t2=Kn.getCompanyDataByIdWithType(r,"contacts"),e.t3=Kn.getCompanyDataByIdWithType(r,"warehouse"),e.t4=[e.t1,e.t2,e.t3],e.next=12,e.t0.all.call(e.t0,e.t4);case 12:n=e.sent,a=Object(l.a)(n,3),o=a[0],i=a[1],c=a[2],q(o.data),se(i.data.contacts),re(c.data.warehouse),"Customer Data retrieved successfully",Oe("Customer Data retrieved successfully"),e.next=27;break;case 24:e.prev=24,e.t5=e.catch(0),_e(e.t5);case 27:return e.prev=27,p(!1),e.finish(27);case 30:case"end":return e.stop()}},e,null,[[0,24,27,30]])}));return function(t){return e.apply(this,arguments)}}(),Ne=function(e){var t=e.target,r=t.name,n=t.value;S(Object(u.a)({},L,Object(Y.a)({},r,n)))},De=function(){var e=Object(c.a)(Oc().mark(function e(t){var n,a,i,c;return Oc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),p(!0),n=!0===Z?ve:[],a={type:"Customer",raised_by:Ee.email,raised_by_first_name:Ee.first_name,raised_by_last_name:Ee.last_name,seller_account:W.unit?W.unit:v.seller_account,seller_address:W.address?W.address:v.seller_address,seller_pincode:W.pincode?W.pincode:v.seller_pincode,seller_state:W.state?W.state:v.seller_state,seller_city:W.city?W.city:v.seller_city,seller_gst:W.gst_number?W.gst_number:v.seller_gst,seller_pan:W.pan_number?W.pan_number:v.seller_pan,seller_state_code:W.state_code?W.state_code:v.seller_state_code,seller_cin:W.cin_number?W.cin_number:v.seller_cin,seller_email:W.email?W.email:v.seller_email,seller_contact:W.contact?W.contact:v.seller_contact,seller_bank_name:W.bank_name?W.bank_name:v.seller_bank_name,seller_account_no:W.current_account_no?W.current_account_no:v.seller_account_no,seller_ifsc_code:W.ifsc_code?W.ifsc_code:v.seller_ifsc_code,seller_branch:W.branch?W.branch:v.seller_branch,company:M.id,company_name:v.company_name?v.company_name:M.name,contact:pe.contact,contact_person_name:pe.name,alternate_contact:pe.alternate_contact,gst_number:M.gst_number||null,pan_number:M.pan_number,billing_address:M.address,billing_state:M.state,billing_city:M.city,billing_pincode:M.pincode,address:oe.address,pincode:oe.pincode,state:oe.state,city:oe.city,place_of_supply:L.place_of_supply||v.place_of_supply,transporter_name:L.transporter_name||v.transporter_name,buyer_order_no:Q?"Verbal":void 0!==L.buyer_order_no?L.buyer_order_no:void 0!==v.buyer_order_no?v.buyer_order_no:"",buyer_order_date:L.buyer_order_date||v.buyer_order_date||Pc.someDate,payment_terms:C,delivery_terms:A,status:"Raised",products:n},e.next=7,st.updateCustomerProformaInvoiceData(v.pi_number,a);case 7:i=e.sent,c=i.data.message||"Customer Proforma Invoice update successfully",Oe(c),setTimeout(function(){o(!1),r()},300),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),_e(e.t0);case 16:return e.prev=16,p(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:Le.open,onClose:je,severity:Le.severity,message:Le.message}),a.a.createElement(Je,{open:h}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return De(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Seller Account",variant:"outlined",value:v.seller_account?v.seller_account:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(sr,{name:"seller_account",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return z(t)},options:we,getOptionLabel:function(e){return e.unit},sx:{minWidth:200},label:"Update Seller Account",value:W,style:kc})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"payment_terms",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return T(t)},options:jc.map(function(e){return e.label}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Payment Terms",value:C,style:kc})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"delivery_terms",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return I(t)},options:Lc.map(function(e){return e.label}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Delivery Terms",value:A,style:kc})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Sc,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"COMPANY"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,size:"small",label:"Company",variant:"outlined",value:M.name?M.name:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(wt.a,{required:!0,fullWidth:!0,size:"small",sx:{padding:"0",margin:"0"}},a.a.createElement(xt.a,{id:"demo-simple-select-required-label"},"Contact Name"),a.a.createElement(cn.a,{labelId:"demo-simple-select-required-label",id:"demo-simple-select-required",label:"Contact Name",onChange:function(e,t){return me(e.target.value)}},ue&&ue.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e},e?e.name:"Please First Select Company")})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,name:"alternate_contact",size:"small",label:"Alt. Contact",variant:"outlined",value:pe&&pe.alternate_contact?pe.alternate_contact:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,required:!0,name:"address",size:"small",label:"Billing Address",variant:"outlined",value:M.address?M.address:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"city",size:"small",label:"Billing City",variant:"outlined",value:M.city?M.city:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"state",size:"small",label:"Billing State",variant:"outlined",value:M.state?M.state:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"pincode",size:"small",type:"number",label:"Billing Pin Code",variant:"outlined",value:M.pincode?M.pincode:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Shipping Address"),a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Shipping Address",onChange:function(e,t){return ie(e.target.value)}},te&&te.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e},e?e.address:"Please First Select Contact")})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,disabled:!0,name:"city",size:"small",label:"Shipping City",variant:"outlined",value:oe&&oe.city?oe.city:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,disabled:!0,name:"state",size:"small",label:"Shipping State",variant:"outlined",value:oe&&oe.state?oe.state:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,disabled:!0,name:"pincode",size:"small",type:"number",label:"Shipping Pin Code",variant:"outlined",value:oe&&oe.pincode?oe.pincode:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(pr.a,{label:"Verbal",control:a.a.createElement(mr.a,{checked:Q,onChange:function(e){return H(e.target.checked)}})}),a.a.createElement(Ve,{required:!0,name:"buyer_order_no",size:"small",label:"Buyer Order No",variant:"outlined",disabled:Q,value:Q?"Verbal":void 0!==L.buyer_order_no?L.buyer_order_no:void 0!==v.buyer_order_no?v.buyer_order_no:"",onChange:Ne,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"buyer_order_date",size:"small",label:"Buyer Order Date",variant:"outlined",value:L.buyer_order_date||v.buyer_order_date||Pc.someDate,onChange:Ne,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"place_of_supply",size:"small",label:"Place of Supply",variant:"outlined",value:L.place_of_supply||v.place_of_supply,InputLabelProps:{shrink:!0},onChange:Ne})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"transporter_name",size:"small",label:"Transporter Name",variant:"outlined",value:L.transporter_name||v.transporter_name,InputLabelProps:{shrink:!0},onChange:Ne})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Sc,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),ve.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,r){return function(e,t,r){var n=Object(vr.a)(ve),a=w.find(function(e){return e.product===r});n[e].product=r,n[e].unit=a?a.unit:"",ge(n),X(!0)}(t,0,r)},options:w.map(function(e){return e.product}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name",value:e.product,style:kc})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity?e.quantity:"",onChange:function(e){return Se(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit?e.unit:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{type:"number",fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate?e.rate:"",onChange:function(e){return Se(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,type:"number",name:"amount",size:"small",label:"Amount",variant:"outlined",value:e.quantity?(e.quantity*e.rate).toFixed(2):""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"requested_date",size:"small",label:"Request Date",variant:"outlined",value:e.requested_date?e.requested_date:Pc.someDate,onChange:function(e){return Se(t,e)},InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"special_instructions",size:"small",label:"Special Instructions",variant:"outlined",value:e.special_instructions?e.special_instructions:"",onChange:function(e){return Se(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(We.a,{onClick:ke,variant:"contained",sx:{marginRight:"1em"}},"Add More..."),0!==t&&a.a.createElement(We.a,{disabled:0===t,onClick:function(){return function(e){var t=Object(vr.a)(ve);t.splice(e,1),ge(t),X(!0)}(t)},variant:"contained"},"Remove")))})),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},jc=[{label:"100% Advance",value:"100%_advance"},{label:"50% Advance, Balance Before Dispatch",value:"50%_advance_balance_before_dispatch"},{label:"30% Advance, Balance Before Dispatch",value:"30%_advance_balance_before_dispatch"},{label:"15 days along with PDC",value:"15_days_with_pdc"},{label:"30 days along with PDC",value:"30_days_with_pdc"},{label:"45 days along with PDC",value:"45_days_with_pdc"},{label:"60 days along with PDC",value:"60_days_with_pdc"},{label:"7 days",value:"7_days"},{label:"15 days",value:"15_days"},{label:"30 days",value:"30_days"},{label:"10% Advance, balance against shipping document (export)",value:"10%_advance_balance_against_shipping_document_(export)"},{label:"20% Advance, balance against shipping document (export)",value:"20%_advance_balance_against_shipping_document_(export)"},{label:"30% Advance, balance against shipping document (export)",value:"30%_advance_balance_against_shipping_document_(export)"},{label:"40% Advance, balance against shipping document (export)",value:"40%_advance_balance_against_shipping_document_(export)"},{label:"50% Advance, balance against shipping document (export)",value:"50%_advance_balance_against_shipping_document_(export)"},{label:"LC at Sight (Export)",value:"lc_at_sight_(export)"},{label:"LC 45 days (Export)",value:"lc_45_days_(export)"},{label:"TT in advance (Export)",value:"tt_in_advance_(export)"},{label:"45 days",value:"45_days"},{label:"60 days",value:"60_days"},{label:"Against Delivery",value:"against_delivery"}],Lc=[{label:"Ex-Work (Freight to pay)",value:"ex_work_(freight_to_pay)"},{label:"Transporter Warehouse (Freight to Pay)",value:"transporter_warehouse_(freight_to_pay)"},{label:"Customer Door Delivery (Freight to Pay)",value:"customer_door_delivery_(freight_to_pay)"},{label:"Customer Door Delivery (Prepaid)",value:"customer_door_delivery_(prepaid)"},{label:"Transporter Warehouse (Prepaid)",value:"transporter_warehouse_(prepaid)"},{label:"Add actual freight in invoice",value:"add_actual_freight_in_invoice"},{label:"Courier (Freight to Pay)",value:"courier_(freight_to_pay)"},{label:"Courier (Freight Add in Invoice)",value:"courier_(freight_add_in_invoice"}],Sc=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),kc={"& .MuiButtonBase-root.MuiAutocomplete-clearIndicator":{color:"blue",visibility:"visible"}},Pc={someDate:(new Date).toISOString().substring(0,10)};function Cc(){Cc=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Tc=function(e){var t=e.idForEdit,r=e.getAllLeadsPIDetails,o=e.setOpenPopup,i=Object(n.useState)(!1),f=Object(l.a)(i,2),h=f[0],p=f[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),v=d[0],g=d[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)([]),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)(""),F=Object(l.a)(I,2),G=F[0],W=F[1],z=Object(n.useState)([]),R=Object(l.a)(z,2),B=R[0],M=R[1],q=Object(n.useState)(""===v.buyer_order_no),U=Object(l.a)(q,2),V=U[0],Q=U[1],H=Object(n.useState)(!1),J=Object(l.a)(H,2),K=J[0],Z=J[1],X=Object(n.useState)([{product:"",unit:"",quantity:"",rate:"",requested_date:Fc.someDate,special_instructions:""}]),$=Object(l.a)(X,2),ee=$[0],te=$[1],re=Object(s.c)(function(e){return e.auth}),ne=re.profile,ae=gt(),oe=ae.handleSuccess,ie=ae.handleError,ce=ae.handleCloseSnackbar,le=ae.alertInfo,ue=re.sellerAccount,se=function(e,t){var r=Object(vr.a)(ee);r[e][t.target.name?t.target.name:"product"]=t.target.value?t.target.value:t.target.textContent,te(r),Z(!0)},fe=function(){var e={product:"",unit:"",quantity:"",rate:"",requested_date:Fc.someDate,special_instructions:""};te([].concat(Object(vr.a)(ee),[e]))},he=function(){var e=Object(c.a)(Cc().mark(function e(){var t;return Cc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Pn.getAllValidPriceList("all");case 4:t=e.sent,x(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie(e.t0);case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(c.a)(Cc().mark(function e(r){var n,a;return Cc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,st.getLeadsProformaInvoiceDataByID(t.pi_number);case 4:n=e.sent,g(n.data),C(n.data.payment_terms),A(n.data.delivery_terms),me(n.data.lead),[],a=n.data.products.map(function(e){return{product:e.product,pending_quantity:e.pending_quantity,requested_date:e.requested_date,special_instructions:e.special_instructions,quantity:e.quantity,rate:e.rate,amount:e.amount,unit:e.unit}}),te(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),ie(e.t0);case 17:return e.prev=17,p(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[0,14,17,20]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){he(),pe()},[]);var me=function(){var e=Object(c.a)(Cc().mark(function e(t){var r,n,a;return Cc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),r=t,e.next=5,qo.getLeadsById(r);case 5:n=e.sent,M(n.data),a=n.data.message||"Lead Data Get successfully",oe(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),ie(e.t0);case 14:return e.prev=14,p(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}));return function(t){return e.apply(this,arguments)}}(),de=function(e){var t=e.target,r=t.name,n=t.value;L(Object(u.a)({},j,Object(Y.a)({},r,n)))},ye=function(){var e=Object(c.a)(Cc().mark(function e(t){var n,a,i,c;return Cc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),p(!0),n=!0===K?ee:[],a={type:"Lead",raised_by:ne.email,raised_by_first_name:v.raised_by_first_name,raised_by_last_name:v.raised_by_last_name,seller_account:G.unit?G.unit:v.seller_account,seller_address:G.address?G.address:v.seller_address,seller_pincode:G.pincode?G.pincode:v.seller_pincode,seller_state:G.state?G.state:v.seller_state,seller_city:G.city?G.city:v.seller_city,seller_gst:G.gst_number?G.gst_number:v.seller_gst,seller_pan:G.pan_number?G.pan_number:v.seller_pan,seller_state_code:G.state_code?G.state_code:v.seller_state_code,seller_cin:G.cin_number?G.cin_number:v.seller_cin,seller_email:G.email?G.email:v.seller_email,seller_contact:G.contact?G.contact:v.seller_contact,seller_bank_name:G.bank_name?G.bank_name:v.seller_bank_name,seller_account_no:G.current_account_no?G.current_account_no:v.seller_account_no,seller_ifsc_code:G.ifsc_code?G.ifsc_code:v.seller_ifsc_code,seller_branch:G.branch?G.branch:v.seller_branch,lead:B.lead_id,contact_person_name:B.name,contact:B.contact,alternate_contact:B.alternate_contact,company_name:v.company_name?v.company_name:B.company,gst_number:B.gst_number||null,pan_number:B.pan_number,billing_address:B.address,billing_state:B.state,billing_city:B.city,billing_pincode:B.pincode,address:B.shipping_address,pincode:B.shipping_pincode,state:B.shipping_state,city:B.shipping_city,place_of_supply:j.place_of_supply||v.place_of_supply,transporter_name:j.transporter_name||v.transporter_name,buyer_order_no:V?"Verbal":void 0!==j.buyer_order_no?j.buyer_order_no:void 0!==v.buyer_order_no?v.buyer_order_no:"",buyer_order_date:j.buyer_order_date||v.buyer_order_date||Fc.someDate,payment_terms:P,delivery_terms:D,status:"Raised",products:n},e.next=7,st.updateLeadsProformaInvoiceData(v.pi_number,a);case 7:i=e.sent,c=i.data.message||"Lead Proforma Invoice update Created successfully",oe(c),setTimeout(function(){o(!1),r()},300),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),ie(e.t0);case 16:return e.prev=16,p(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:le.open,onClose:ce,severity:le.severity,message:le.message}),a.a.createElement(Je,{open:h}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return ye(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Seller Account",variant:"outlined",value:v.seller_account?v.seller_account:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(sr,{name:"seller_account",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return W(t)},options:ue,getOptionLabel:function(e){return e.unit},sx:{minWidth:200},label:"Update Seller Account",style:Ic})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"payment_terms",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return C(t)},value:P||"",options:Nc.map(function(e){return e.label}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Payment Terms",style:Ic})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"delivery_terms",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return A(t)},value:D||"",options:Dc.map(function(e){return e.label}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Delivery Terms",style:Ic})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ac,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"LEAD"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"Lead ID",size:"small",label:"Lead ID",variant:"outlined",value:B.lead_id?B.lead_id:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"contact",size:"small",label:"Contact",variant:"outlined",value:B.contact?B.contact:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"alternate_contact",size:"small",label:"Alt. Contact",variant:"outlined",value:B.alternate_contact?B.alternate_contact:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,required:!0,name:"address",size:"small",label:"Billing Address",variant:"outlined",value:B.address?B.address:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"city",size:"small",label:"Billing City",variant:"outlined",value:B.city?B.city:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"state",size:"small",label:"Billing State",variant:"outlined",value:B.state?B.state:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"pincode",size:"small",type:"number",label:"Billing Pin Code",variant:"outlined",value:B.pincode?B.pincode:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"shipping_address",size:"small",label:"Shipping Address",variant:"outlined",value:B.shipping_address?B.shipping_address:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{required:!0,fullWidth:!0,name:"shipping_pincode",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:B.shipping_pincode?B.shipping_pincode:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"shipping_city",size:"small",label:"Shipping City",variant:"outlined",value:B.shipping_city?B.shipping_city:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"shipping_state",size:"small",label:"Shipping State",variant:"outlined",value:B.shipping_state?B.shipping_state:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(pr.a,{label:"Verbal",control:a.a.createElement(mr.a,{checked:V,onChange:function(e){return Q(e.target.checked)}})}),a.a.createElement(Ve,{required:!0,name:"buyer_order_no",size:"small",label:"Buyer Order No",variant:"outlined",disabled:V,value:V?"Verbal":void 0!==j.buyer_order_no?j.buyer_order_no:void 0!==v.buyer_order_no?v.buyer_order_no:"",onChange:de,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"buyer_order_date",size:"small",label:"Buyer Order Date",variant:"outlined",value:j.buyer_order_date||v.buyer_order_date||Fc.someDate,onChange:de,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"place_of_supply",size:"small",label:"Place of Supply",variant:"outlined",value:j.place_of_supply||v.place_of_supply,InputLabelProps:{shrink:!0},onChange:de})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"transporter_name",size:"small",label:"Transporter Name",variant:"outlined",value:j.transporter_name||v.transporter_name,InputLabelProps:{shrink:!0},onChange:de})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ac,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),ee.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,r){return function(e,t,r){var n=Object(vr.a)(ee),a=w.find(function(e){return e.product===r});n[e].product=r,n[e].unit=a?a.unit:"",te(n),Z(!0)}(t,0,r)},value:e.product?e.product:"",options:w.map(function(e){return e.product}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name",style:Ic})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity?e.quantity:"",onChange:function(e){return se(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit?e.unit:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{type:"number",fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate?e.rate:"",onChange:function(e){return se(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,type:"number",name:"amount",size:"small",label:"Amount",variant:"outlined",value:e.quantity?(e.quantity*e.rate).toFixed(2):""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"requested_date",size:"small",label:"Request Date",variant:"outlined",value:e.requested_date?e.requested_date:Fc.someDate,onChange:function(e){return se(t,e)},InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"special_instructions",size:"small",label:"Special Instructions",variant:"outlined",value:e.special_instructions?e.special_instructions:"",onChange:function(e){return se(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(We.a,{onClick:fe,variant:"contained",sx:{marginRight:"1em"}},"Add More..."),0!==t&&a.a.createElement(We.a,{disabled:0===t,onClick:function(){return function(e){var t=Object(vr.a)(ee);t.splice(e,1),te(t),Z(!0)}(t)},variant:"contained"},"Remove")))})),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},Nc=[{label:"100% Advance",value:"100%_advance"},{label:"50% Advance, Balance Before Dispatch",value:"50%_advance_balance_before_dispatch"},{label:"30% Advance, Balance Before Dispatch",value:"30%_advance_balance_before_dispatch"},{label:"15 days along with PDC",value:"15_days_with_pdc"},{label:"30 days along with PDC",value:"30_days_with_pdc"},{label:"45 days along with PDC",value:"45_days_with_pdc"},{label:"60 days along with PDC",value:"60_days_with_pdc"},{label:"7 days",value:"7_days"},{label:"15 days",value:"15_days"},{label:"30 days",value:"30_days"},{label:"10% Advance, balance against shipping document (export)",value:"10%_advance_balance_against_shipping_document_(export)"},{label:"20% Advance, balance against shipping document (export)",value:"20%_advance_balance_against_shipping_document_(export)"},{label:"30% Advance, balance against shipping document (export)",value:"30%_advance_balance_against_shipping_document_(export)"},{label:"40% Advance, balance against shipping document (export)",value:"40%_advance_balance_against_shipping_document_(export)"},{label:"50% Advance, balance against shipping document (export)",value:"50%_advance_balance_against_shipping_document_(export)"},{label:"LC at Sight (Export)",value:"lc_at_sight_(export)"},{label:"LC 45 days (Export)",value:"lc_45_days_(export)"},{label:"TT in advance (Export)",value:"tt_in_advance_(export)"},{label:"45 days",value:"45_days"},{label:"60 days",value:"60_days"},{label:"Against Delivery",value:"against_delivery"}],Dc=[{label:"Ex-Work (Freight to pay)",value:"ex_work_(freight_to_pay)"},{label:"Transporter Warehouse (Freight to Pay)",value:"transporter_warehouse_(freight_to_pay)"},{label:"Customer Door Delivery (Freight to Pay)",value:"customer_door_delivery_(freight_to_pay)"},{label:"Customer Door Delivery (Prepaid)",value:"customer_door_delivery_(prepaid)"},{label:"Transporter Warehouse (Prepaid)",value:"transporter_warehouse_(prepaid)"},{label:"Add actual freight in invoice",value:"add_actual_freight_in_invoice"},{label:"Courier (Freight to Pay)",value:"courier_(freight_to_pay)"},{label:"Courier (Freight Add in Invoice)",value:"courier_(freight_add_in_invoice"}],Ac=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),Ic={"& .MuiButtonBase-root.MuiAutocomplete-clearIndicator":{color:"blue",visibility:"visible"}},Fc={someDate:(new Date).toISOString().substring(0,10)},Gc=function(e){var t=e.label,r=e.value,n=e.options,o=e.onChange,i=e.onClear;return a.a.createElement(wt.a,{fullWidth:!0,size:"small",sx:{position:"relative",minWidth:"300px",display:"flex",alignItems:"center"}},a.a.createElement(xt.a,{id:"".concat(t,"-select-label")},t),a.a.createElement(Ae.a,{sx:{display:"flex",alignItems:"center",width:"100%"}},a.a.createElement(cn.a,{labelId:"".concat(t,"-select-label"),id:"".concat(t,"-select"),name:t,label:t,value:r,onChange:o,sx:{flexGrow:1}},n.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})),a.a.createElement(d.a,{"aria-label":"clear ".concat(t),onClick:i,sx:{position:"absolute",right:"0px",top:"50%",transform:"translateY(-50%)"}},a.a.createElement(qr.a,null))))};function Wc(){Wc=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var zc=function(){var e=Object(s.b)(),t=Object(n.useRef)(null),r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(!1),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)(),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(!1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)(""),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)(""),F=Object(l.a)(I,2),W=F[0],z=F[1],R=Object(n.useState)(""),B=Object(l.a)(R,2),M=B[0],q=B[1],U=Object(n.useState)(1),Y=Object(l.a)(U,2),V=Y[0],Q=Y[1],H=Object(n.useState)(0),J=Object(l.a)(H,2),K=J[0],Z=J[1],X=Object(n.useState)([]),$=Object(l.a)(X,2),ee=$[0],te=$[1],re=Object(s.c)(function(e){return e.auth}).profile,ne=re.active_sales_user||[],ae=Object(n.useState)(!1),oe=Object(l.a)(ae,2),ie=oe[0],ce=oe[1],le=gt(),ue=le.handleError,se=le.handleCloseSnackbar,fe=le.alertInfo,he=function(){return z("")},pe=[{label:"Status",value:"status"},{label:"Type",value:"type"}].concat(Object(vr.a)(re.groups.includes("Sales Executive")?[]:[{label:"Sales Person",value:"raised_by__email"}])),me=ne.map(function(e){return{label:e.name,value:e.email}});Object(n.useEffect)(function(){var e=function(){ce(!0),C([])},t=function(){ce(!1),ye()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var de=function(){var t=Object(c.a)(Wc().mark(function t(){var r;return Wc().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,L(!0),t.next=4,st.getAllPaginateSellerAccountData("all");case 4:r=t.sent,e(G(r.data)),L(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),L(!1);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)(function(){de()},[]);var ye=Object(n.useCallback)(Object(c.a)(Wc().mark(function e(){var t;return Wc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,st.getAllPIData("active",V,D,W,M);case 4:t=e.sent,C(t.data.results),Z(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ue(e.t0);case 12:return e.prev=12,L(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[V,D,W,M]);Object(n.useEffect)(function(){ye()},[V,D,W,M]);var ve=function(e){z(e.target.value)},ge=function(){var e=Object(c.a)(Wc().mark(function e(){var t,r;return Wc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,st.getAllPIData("active","all",D,W,M);case 4:return t=e.sent,r=t.data.map(function(e){return{generation_date:e.generation_date,pi_number:e.pi_number,name_of_party:e.name_of_party,raised_by:e.raised_by,round_off_total:e.round_off_total,balance_amount:e.balance_amount,status:e.status}}),L(!1),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),ue(e.t0),console.log("while downloading Pi",e.t0);case 14:return e.prev=14,L(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(c.a)(Wc().mark(function e(){var r;return Wc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge();case 3:r=e.sent,te(r),setTimeout(function(){t.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:fe.open,onClose:se,severity:fe.severity,message:fe.message}),a.a.createElement(Co.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(ie?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Je,{open:j}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{marginBottom:"10px"},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3,md:3},a.a.createElement(Gc,{label:"Filter By",options:pe,value:D,onChange:function(e){A(e.target.value),z("")},onClear:function(){return A("")}})),"status"===D&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3,md:3},a.a.createElement(Gc,{label:"Status",options:Rc,value:W,onChange:ve,onClear:he})),"type"===D&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3,md:3},a.a.createElement(Gc,{label:"Type",options:Bc,value:W,onChange:ve,onClear:he})),"raised_by__email"===D&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3,md:3},a.a.createElement(Gc,{label:"Sales Person",options:me,value:W,onChange:ve,onClear:he})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3,md:3},a.a.createElement(Ur,{onSearch:function(e){q(e),Q(1)},onReset:function(){q(""),Q(1)}})),(re.groups.includes("Accounts")||re.groups.includes("Director"))&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(We.a,{variant:"contained",color:"secondary",className:"mx-3",onClick:be},"DownLoad CSV"),ee.length>0&&a.a.createElement(Bn.CSVLink,{data:ee,headers:[{label:"PI DATE",key:"generation_date"},{label:"PI NUMBER",key:"pi_number"},{label:"COMPANY",key:"name_of_party"},{label:"SALES PERSON",key:"raised_by"},{label:"PI AMOUNT",key:"round_off_total"},{label:"BALANCE AMOUNT",key:"balance_amount"},{label:"PI STATUS",key:"status"}],ref:t,filename:"Active Pi List.csv",target:"_blank",style:{textDecoration:"none",outline:"none",visibility:"hidden"}})))),a.a.createElement(Ae.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Active PI")),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(Mc,{align:"center"},"TYPE"),a.a.createElement(Mc,{align:"center"},"PI NUMBER"),a.a.createElement(Mc,{align:"center"},"PI DATE"),a.a.createElement(Mc,{align:"center"},"RAISED BY"),a.a.createElement(Mc,{align:"center"},"COMPANY"),a.a.createElement(Mc,{align:"center"},"BILLING CITY"),a.a.createElement(Mc,{align:"center"},"CONTACT"),a.a.createElement(Mc,{align:"center"},"STATUS"),a.a.createElement(Mc,{align:"center"},"PI AMOUNT"),a.a.createElement(Mc,{align:"center"},"BALANCE"),a.a.createElement(Mc,{align:"center"},"PAYMENT TERMS"),a.a.createElement(Mc,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,P.map(function(e,t){return a.a.createElement(qc,{key:t},a.a.createElement(Mc,{align:"center"},e.type),a.a.createElement(Mc,{align:"center"},e.pi_number),a.a.createElement(Mc,{align:"center"},e.generation_date),a.a.createElement(Mc,{align:"center"},e.raised_by),a.a.createElement(Mc,{align:"center"},e.name_of_party),a.a.createElement(Mc,{align:"center"},e.billing_city),a.a.createElement(Mc,{align:"center"},e.contact),a.a.createElement(Mc,{align:"center"},e.status),a.a.createElement(Mc,{align:"center"},e.round_off_total),a.a.createElement(Mc,{align:"center"},e.balance_amount),a.a.createElement(Mc,{align:"center"},e.payment_terms),a.a.createElement(Mc,{align:"center"},a.a.createElement(We.a,{variant:"text",onClick:function(){return x(e),void g(!0)}},"View"),"Raised"===e.status&&a.a.createElement(We.a,{variant:"text",color:"success",onClick:function(){return x(t=e),void("Customer"===t.type?u(!0):m(!0));var t}},"PI Edit")))})))),a.a.createElement(Vr,{currentPage:V,totalPages:K,handlePageChange:function(e,t){Q(t)}}))),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Customer Proforma Invoice",openPopup:i,setOpenPopup:u},a.a.createElement(_c,{getProformaInvoiceData:ye,setOpenPopup:u,idForEdit:w})),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Lead Proforma Invoice",openPopup:p,setOpenPopup:m},a.a.createElement(Tc,{getAllLeadsPIDetails:ye,setOpenPopup:m,idForEdit:w})),a.a.createElement(Ce,{fullScreen:!0,title:"View Proforma Invoice",openPopup:v,setOpenPopup:g},a.a.createElement(Ec,{idForEdit:w,getProformaInvoiceData:ye,setOpenPopup:g})))},Rc=[{label:"Raised",value:"raised"},{label:"Pending Approval",value:"pending_approval"},{label:"Approved",value:"approved"},{label:"Partially Paid",value:"partially_paid"},{label:"Fully Paid",value:"fully_paid"},{label:"Credit",value:"credit"}],Bc=[{label:"Customer",value:"customer"},{label:"Lead",value:"lead"}],Mc=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),qc=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Uc(){Uc=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Yc=function(){var e=Object(s.b)(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(),b=Object(l.a)(g,2),w=b[0],x=b[1],O=Object(n.useState)(!1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)(""),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)(""),F=Object(l.a)(I,2),W=F[0],z=F[1],R=Object(n.useState)(""),B=Object(l.a)(R,2),M=B[0],q=B[1],U=Object(n.useState)(1),Y=Object(l.a)(U,2),V=Y[0],Q=Y[1],H=Object(n.useState)(0),J=Object(l.a)(H,2),K=J[0],Z=J[1],X=Object(n.useState)(0),$=Object(l.a)(X,2),ee=$[0],te=$[1],re=Object(s.c)(function(e){return e.auth}).profile,ne=re.active_sales_user||[],ae=gt(),oe=ae.handleError,ie=ae.handleCloseSnackbar,ce=ae.alertInfo,le=function(){return z("")},ue=[{label:"Status",value:"status"},{label:"Type",value:"type"}].concat(Object(vr.a)(re.groups.includes("Sales Executive")?[]:[{label:"Sales Person",value:"raised_by__email"}])),se=ne.map(function(e){return{label:e.name,value:e.email}}),fe=function(){var t=Object(c.a)(Uc().mark(function t(){var r;return Uc().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,L(!0),t.next=4,st.getAllPaginateSellerAccountData("all");case 4:r=t.sent,e(G(r.data)),L(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),L(!1);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)(function(){fe()},[]);var he=Object(n.useCallback)(Object(c.a)(Uc().mark(function e(){var t;return Uc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,st.getAllPIData("unapproved",V,D,W,M);case 4:t=e.sent,C(t.data.results),Z(Math.ceil(t.data.count/25)),te(t.data.total_amount),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),oe(e.t0);case 13:return e.prev=13,L(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])})),[V,D,W,M]);Object(n.useEffect)(function(){he(V)},[V,D,W,M]);var pe=function(e){z(e.target.value)},me=P.map(function(e,t){return{type:e.type,pi_number:e.pi_number,generation_date:e.generation_date,customer:e.company_name,billing_city:e.billing_city,contact:e.contact,status:e.status,round_off_total:e.round_off_total,balance_amount:e.balance_amount,payment_terms:e.payment_terms}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:ce.open,onClose:ie,severity:ce.severity,message:ce.message}),a.a.createElement(Je,{open:j}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{marginBottom:"10px"},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Gc,{label:"Filter By",options:ue,value:D,onChange:function(e){A(e.target.value),z("")},onClear:function(){return A("")}})),"status"===D&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Gc,{label:"Status",options:Vc,value:W,onChange:pe,onClear:le})),"type"===D&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Gc,{label:"Type",options:Qc,value:W,onChange:pe,onClear:le})),"raised_by__email"===D&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Gc,{label:"Sales Person",options:se,value:W,onChange:pe,onClear:le})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ur,{onSearch:function(e){q(e),Q(1)},onReset:function(){q(""),Q(1)}})),ee&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",alignItems:"center"},a.a.createElement(E.a,{variant:"body1",style:{fontWeight:500,color:"#4CAF50",textTransform:"uppercase",letterSpacing:"1.2px"}},"Total PI Amount:"," ",a.a.createElement("strong",{style:{fontSize:"20px",color:"#FF5722",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"}},ee?"\u20b9 ".concat(new Intl.NumberFormat("en-IN").format(ee)):"\u20b9 0")))))),a.a.createElement(Ae.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Approve Pi")),a.a.createElement(Yn.a,{sx:{maxHeight:450,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac",borderRadius:5}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,["Type","PI Numer","PI Date","Customer","Billing City","Contact","Status","PI Amount","Balance","Payment Terms","ACTION"].map(function(e){return a.a.createElement(Hc,{align:"center"},e)}))),a.a.createElement(Hn.a,null,me.map(function(e,t){return a.a.createElement(Jc,{key:t},a.a.createElement(Hc,{align:"center"},e.type),a.a.createElement(Hc,{align:"center"},e.pi_number),a.a.createElement(Hc,{align:"center"},e.generation_date),a.a.createElement(Hc,{align:"center"},e.customer),a.a.createElement(Hc,{align:"center"},e.billing_city),a.a.createElement(Hc,{align:"center"},e.contact),a.a.createElement(Hc,{align:"center"},e.status),a.a.createElement(Hc,{align:"center"},e.round_off_total),a.a.createElement(Hc,{align:"center"},e.balance_amount),a.a.createElement(Hc,{align:"center"},e.payment_terms),a.a.createElement(Hc,{align:"center"},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",alignItems:"center",gap:4},a.a.createElement(We.a,{style:{fontSize:"12px"},variant:"outlined",color:"info",size:"small",onClick:function(){return x(e),void v(!0)}},"View"))))})))),a.a.createElement(Vr,{currentPage:V,totalPages:K,handlePageChange:function(e,t){Q(t)}}))),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Customer Proforma Invoice",openPopup:o,setOpenPopup:i},a.a.createElement(_c,{getProformaInvoiceData:he,setOpenPopup:i,idForEdit:w})),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Lead Proforma Invoice",openPopup:h,setOpenPopup:p},a.a.createElement(Tc,{getAllLeadsPIDetails:he,setOpenPopup:p,idForEdit:w})),a.a.createElement(Ce,{fullScreen:!0,title:"View Proforma Invoice",openPopup:y,setOpenPopup:v},a.a.createElement(Ec,{idForEdit:w,getProformaInvoiceData:he,setOpenPopup:v})))},Vc=[{label:"Raised",value:"raised"},{label:"Pending Approval",value:"pending_approval"},{label:"Approved",value:"approved"},{label:"Partially Paid",value:"partially_paid"},{label:"Fully Paid",value:"fully_paid"},{label:"Credit",value:"credit"}],Qc=[{label:"Customer",value:"customer"},{label:"Lead",value:"lead"}],Hc=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Jc=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Kc(){Kc=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Zc=function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getCompetitors,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(t),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useRef)(),g=Object(n.useState)(""),b=Object(l.a)(g,2),E=b[0],w=b[1],x=gt(),O=x.handleSuccess,_=x.handleError,j=x.handleCloseSnackbar,L=x.alertInfo,S=function(){var e=Object(c.a)(Kc().mark(function e(n){var a;return Kc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),h(!0),a={name:d.name},!t){e.next=11;break}return e.next=7,Kn.updateCompetitors(d.id,a);case 7:O("Competitor Updated Successfully"),setTimeout(function(){r(!1)},300),h(!1),o();case 11:e.next=20;break;case 13:e.prev=13,e.t0=e.catch(0),_(e.t0),console.log("error update color :>> ",e.t0),h(!1),e.t0.response?400===e.t0.response.status?w(e.t0.response.data.errors.name?e.t0.response.data.errors.name:e.t0.response.data.errors.non_field_errors):401===e.t0.response.status?w(e.t0.response.data.errors.code):w("Server Error"):w("No Server Response"),v.current.focus();case 20:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:L.open,onClose:j,severity:L.severity,message:L.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return S(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement("p",{style:{width:"100%",padding:10,marginBottom:10,borderRadius:4,backgroundColor:E?"red":"offscreen",textAlign:"center",color:"white",textTransform:"capitalize"},ref:v,className:E?"errmsg":"offscreen","aria-live":"assertive"},E),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Id",variant:"outlined",value:d.id||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Competitor",variant:"outlined",value:d.name||"",onChange:function(e){var t=e.target,r=t.name,n=t.value;y(Object(u.a)({},d,Object(Y.a)({},r,n)))}}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))};function Xc(){Xc=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var $c=function(e){var t=e.setOpenPopup,r=e.getCompetitors,o=Object(n.useState)(""),i=Object(l.a)(o,2),u=i[0],s=i[1],f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useRef)(),y=Object(n.useState)(""),v=Object(l.a)(y,2),g=v[0],b=v[1],E=gt(),w=E.handleSuccess,x=E.handleError,O=E.handleCloseSnackbar,_=E.alertInfo,j=function(){var e=Object(c.a)(Xc().mark(function e(n){var a;return Xc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),a={name:u},m(!0),e.next=6,Kn.createCompetitorAPI(a);case 6:w("Competitor created successfully"),setTimeout(function(){t(!1)},300),m(!1),r(),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(0),x(e.t0),m(!1),e.t0.response?400===e.t0.response.status?b(e.t0.response.data.errors.name?e.t0.response.data.errors.name:e.t0.response.data.errors.non_field_errors):401===e.t0.response.status?b(e.t0.response.data.errors.code):b("Server Error"):b("No Server Response"),d.current.focus();case 18:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:_.open,onClose:O,severity:_.severity,message:_.message}),a.a.createElement(Je,{open:p}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return j(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement("p",{style:{width:"100%",padding:10,marginBottom:10,borderRadius:4,backgroundColor:g?"red":"offscreen",textAlign:"center",color:"white",textTransform:"capitalize"},ref:d,className:g?"errmsg":"offscreen","aria-live":"assertive"},g),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"Competitors",size:"small",label:"Competitors",variant:"outlined",value:u,onChange:function(e){return s(e.target.value)}}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function el(){el=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var tl=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(0),D=Object(l.a)(N,2),A=D[0],I=D[1],F=gt(),G=F.handleError,W=F.handleCloseSnackbar,z=F.alertInfo,R=Object(n.useCallback)(Object(c.a)(el().mark(function e(){var t;return el().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Kn.getAllCompetitors(C,m);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),G(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,m]);Object(n.useEffect)(function(){R()},[C,m]);var B=r&&r.map(function(e){return e});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:z.open,onClose:W,severity:z.severity,message:z.message}),a.a.createElement(Je,{open:s}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ur,{onSearch:function(e){d(e),T(1)},onReset:function(){d(""),T(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Competitor")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(We.a,{onClick:function(){return O(!0)},variant:"contained",color:"success",startIcon:a.a.createElement(en.a,null)},"Add")))),a.a.createElement(dt,{headers:["ID","Competitor","ACTION"],data:B,openInPopup:function(e){S(e),b(!0)}}),a.a.createElement(Vr,{currentPage:C,totalPages:A,handlePageChange:function(e,t){return T(t)}}))),a.a.createElement(Ce,{title:"Create Competitor",openPopup:x,setOpenPopup:O},a.a.createElement($c,{getCompetitors:R,setOpenPopup:O})),a.a.createElement(Ce,{title:"Update Competitor",openPopup:g,setOpenPopup:b},a.a.createElement(Zc,{recordForEdit:L,setOpenPopup:b,getCompetitors:R})))};function rl(){rl=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var nl=function(){var e=Object(s.b)(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(!1),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)([]),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(""),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(""),I=Object(l.a)(A,2),F=I[0],W=I[1],z=Object(n.useState)(""),R=Object(l.a)(z,2),B=R[0],M=R[1],q=Object(n.useState)(1),U=Object(l.a)(q,2),Y=U[0],V=U[1],Q=Object(n.useState)(0),H=Object(l.a)(Q,2),J=H[0],K=H[1],Z=Object(s.c)(function(e){return e.auth}).profile,X=Z.active_sales_user||[],$=gt(),ee=$.handleError,te=$.handleCloseSnackbar,re=$.alertInfo,ne=[{label:"Status",value:"status"},{label:"Type",value:"type"}].concat(Object(vr.a)(Z.groups.includes("Sales Executive")?[]:[{label:"Sales Person",value:"raised_by__email"}])),ae=X.map(function(e){return{label:e.name,value:e.email}}),oe=function(){return W("")},ie=function(){var t=Object(c.a)(rl().mark(function t(){var r;return rl().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),t.next=4,st.getAllPaginateSellerAccountData("all");case 4:r=t.sent,e(G(r.data)),j(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),j(!1);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)(function(){ie()},[]);var ce=Object(n.useCallback)(function(){var e=Object(c.a)(rl().mark(function e(t){var r;return rl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,st.getAllPIData("price_approval",Y,N,F,B);case 4:r=e.sent,P(r.data.results),K(Math.ceil(r.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ee(e.t0);case 12:return e.prev=12,j(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t){return e.apply(this,arguments)}}(),[Y,N,F,B]);Object(n.useEffect)(function(){ce(Y)},[Y,N,F,B]);var le=function(e){W(e.target.value)},ue=k.map(function(e,t){return{type:e.type,pi_number:e.pi_number,generation_date:e.generation_date,raised_by:e.raised_by,customer:e.name_of_party,billing_city:e.billing_city,contact:e.contact,status:e.status,round_off_total:e.round_off_total,balance_amount:e.balance_amount,payment_terms:e.payment_terms}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:re.open,onClose:te,severity:re.severity,message:re.message}),a.a.createElement(Je,{open:_}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{marginBottom:"10px"},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Gc,{label:"Filter By",options:ne,value:N,onChange:function(e){D(e.target.value),W("")},onClear:function(){return D("")}})),"status"===N&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Gc,{label:"Status",options:il,value:F,onChange:le,onClear:oe})),"type"===N&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Gc,{label:"Type",options:cl,value:F,onChange:le,onClear:oe})),"raised_by__email"===N&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Gc,{label:"Sales Person",options:ae,value:F,onChange:le,onClear:oe})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ur,{onSearch:function(e){M(e),V(1)},onReset:function(){M(""),V(1)}})))),a.a.createElement(Ae.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Price Approval Pi")),a.a.createElement(Yn.a,{sx:{maxHeight:450,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac",borderRadius:5}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,["Type","PI Numer","PI Date","Raised By","Customer","Billing City","Contact","Status","PI Amount","Balance","Payment Terms","ACTION"].map(function(e){return a.a.createElement(al,{align:"center"},e)}))),a.a.createElement(Hn.a,null,ue.map(function(e,t){return a.a.createElement(ol,{key:t},a.a.createElement(al,{align:"center"},e.type),a.a.createElement(al,{align:"center"},e.pi_number),a.a.createElement(al,{align:"center"},e.generation_date),a.a.createElement(al,{align:"center"},e.raised_by),a.a.createElement(al,{align:"center"},e.customer),a.a.createElement(al,{align:"center"},e.billing_city),a.a.createElement(al,{align:"center"},e.contact),a.a.createElement(al,{align:"center"},e.status),a.a.createElement(al,{align:"center"},e.round_off_total),a.a.createElement(al,{align:"center"},e.balance_amount),a.a.createElement(al,{align:"center"},e.payment_terms),a.a.createElement(al,{align:"center"},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",alignItems:"center",gap:4},a.a.createElement(We.a,{style:{fontSize:"12px"},variant:"outlined",color:"info",size:"small",onClick:function(){return w(e),void v(!0)}},"View"))))})))),a.a.createElement(Vr,{currentPage:Y,totalPages:J,handlePageChange:function(e,t){V(t)}}))),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Customer Proforma Invoice",openPopup:o,setOpenPopup:i},a.a.createElement(_c,{getProformaInvoiceData:ce,setOpenPopup:i,idForEdit:E})),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Lead Proforma Invoice",openPopup:h,setOpenPopup:p},a.a.createElement(Tc,{getAllLeadsPIDetails:ce,setOpenPopup:p,idForEdit:E})),a.a.createElement(Ce,{fullScreen:!0,title:"View Proforma Invoice",openPopup:y,setOpenPopup:v},a.a.createElement(Ec,{idForEdit:E,getProformaInvoiceData:ce,setOpenPopup:v})))},al=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),ol=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),il=[{label:"Raised",value:"raised"},{label:"Pending Approval",value:"pending_approval"},{label:"Approved",value:"approved"},{label:"Partially Paid",value:"partially_paid"},{label:"Fully Paid",value:"fully_paid"},{label:"Credit",value:"credit"}],cl=[{label:"Customer",value:"customer"},{label:"Lead",value:"lead"}],ll=r(664),ul=r(665),sl=r(666);function fl(){fl=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var hl=function(e){var t=e.getScriptDetails,r=e.setOpenPopup,o=Object(n.useState)([]),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=function(e){var t=e.target,r=t.name,n=t.value;f(Object(u.a)({},s,Object(Y.a)({},r,n)))},v=function(){var e=Object(c.a)(fl().mark(function e(n){var a;return fl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),a={subject:s.subject,script:s.script},d(!0),e.next=6,Ke.createScriptData(a);case 6:r(!1),d(!1),t(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),d(!1),console.log("error create scripts",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:m}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return v(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"subject",size:"small",label:"Subject",variant:"outlined",value:s.subject||"",onChange:y})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"script",size:"small",label:"Script",variant:"outlined",value:s.script||"",onChange:y}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function pl(){pl=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ml=function(e){var t=e.getScriptDetails,r=e.setOpenPopup,o=e.recordForEdit,i=Object(n.useState)(o||{subject:"",script:""}),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=function(e){var t=e.target,r=t.name,n=t.value;h(Object(u.a)({},f,Object(Y.a)({},r,n)))},g=function(){var e=Object(c.a)(pl().mark(function e(n){return pl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),y(!0),e.prev=2,e.next=5,Ke.updateScriptData(f.id,{subject:f.subject,script:f.script});case 5:t(),r(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error updating scripts",e.t0);case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:d}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:g,sx:{mt:2}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"subject",size:"small",label:"Subject",variant:"outlined",value:f.subject,onChange:v,sx:{mb:2}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,minRows:4,name:"script",label:"Script",variant:"outlined",value:f.script,onChange:v,sx:{mb:2}}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"large",variant:"contained",sx:{mt:2}},"Update Script")))};function dl(){dl=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var yl=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],w=g[1],x=Object(n.useState)(null),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(""),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(1),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(0),F=Object(l.a)(A,2),G=F[0],W=F[1],z=Object(s.c)(function(e){return e.auth}).profile,R=Object(n.useCallback)(function(e){return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})},[]),B=Object(n.useCallback)(function(){var e=Object(c.a)(dl().mark(function e(t){var r,n,a,i=arguments;return dl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:k,e.prev=1,h(!0),e.next=5,Ke.getAllScriptData(t,r);case 5:n=e.sent,o(n.data.results),a=n.data.count,W(Math.ceil(a/25)),h(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error fetching scripts",e.t0),h(!1);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}(),[k]);Object(n.useEffect)(function(){B(N)},[N,k,B]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ur,{onSearch:function(e){P(e),D(1)},onReset:function(){P(""),D(1)}})),(z.groups.includes("Sales Manager")||z.groups.includes("Sales Deputy Manager")||z.groups.includes("Sales Assistant Deputy Manager")||z.groups.includes("Director"))&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{onClick:function(){return y(!0)},variant:"contained",color:"success",fullWidth:!0},"Add")))),a.a.createElement(Ae.a,{sx:{maxHeight:"500px",overflow:"auto"}},r.map(function(e,t){var r=e.script?e.script.split("\n").filter(function(e){return""!==e.trim()}):[];return a.a.createElement(ll.a,{key:e.id,sx:{margin:1}},a.a.createElement(ul.a,{expandIcon:a.a.createElement(I.a,null),"aria-controls":"panel".concat(t,"a-content"),id:"panel".concat(t,"a-header")},a.a.createElement(E.a,null,t+1,") Subject: ",e.subject)),a.a.createElement(sl.a,null,a.a.createElement(Ae.a,{sx:{marginBottom:4}},a.a.createElement(E.a,{sx:{my:2}},"Script:",r.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:t},e,a.a.createElement("br",null),a.a.createElement("br",null))})),a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Author: ",e.author||"N/A")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Updated Author: ",e.updated_author||"N/A")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Creation Date: ",R(e.creation_date))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:5},a.a.createElement(E.a,null,"Updation Date: ",R(e.updation_date))),(z.groups.includes("Sales Manager")||z.groups.includes("Sales Deputy Manager")||z.groups.includes("Sales Assistant Deputy Manager")||z.groups.includes("Director"))&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:1},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return function(e){j(e),w(!0)}(e)}},"Edit"))))))})),a.a.createElement(Ae.a,{sx:{marginBottom:4}},a.a.createElement(Vr,{currentPage:N,totalPages:G,handlePageChange:function(e,t){D(t)}})),a.a.createElement(Ce,{title:"Create Scripts",openPopup:d,setOpenPopup:y},a.a.createElement(hl,{getScriptDetails:B,setOpenPopup:y})),a.a.createElement(Ce,{title:"Update Script",openPopup:b,setOpenPopup:w},a.a.createElement(ml,{setOpenPopup:w,getScriptDetails:B,recordForEdit:_})))};function vl(){vl=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var gl=function(e){var t=e.getObjectionDetails,r=e.setOpenPopup,o=Object(n.useState)([]),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=function(e){var t=e.target,r=t.name,n=t.value;f(Object(u.a)({},s,Object(Y.a)({},r,n)))},v=function(){var e=Object(c.a)(vl().mark(function e(n){var a;return vl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),a={question:s.question,answer:s.answer},d(!0),e.next=6,Ke.createObjectionData(a);case 6:r(!1),d(!1),t(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),d(!1),console.log("error create Objection",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:m}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return v(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"question",size:"small",label:"Question",variant:"outlined",value:s.question||"",onChange:y})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"answer",size:"small",label:"Answer",variant:"outlined",value:s.answer||"",onChange:y}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function bl(){bl=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var El=function(e){var t=e.getObjectionDetails,r=e.setOpenPopup,o=e.recordForEdit,i=Object(n.useState)(o||{question:"",answer:""}),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=function(e){var t=e.target,r=t.name,n=t.value;h(Object(u.a)({},f,Object(Y.a)({},r,n)))},g=function(){var e=Object(c.a)(bl().mark(function e(n){return bl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),y(!0),e.prev=2,e.next=5,Ke.updateObjectionData(f.id,{question:f.question,answer:f.answer});case 5:t(),r(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error updating Objection",e.t0);case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:d}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:g,sx:{mt:2}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,multiline:!0,name:"question",size:"small",label:"Question",variant:"outlined",value:f.question,onChange:v,sx:{mb:2}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,multiline:!0,minRows:4,name:"answer",label:"Answer",variant:"outlined",value:f.answer,onChange:v,sx:{mb:2}}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"large",variant:"contained",sx:{mt:2}},"Update Objection")))};function wl(){wl=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var xl=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],w=g[1],x=Object(n.useState)(null),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(""),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(1),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(0),F=Object(l.a)(A,2),G=F[0],W=F[1],z=Object(s.c)(function(e){return e.auth}).profile,R=Object(n.useCallback)(function(e){return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})},[]),B=Object(n.useCallback)(function(){var e=Object(c.a)(wl().mark(function e(t){var r,n,a,i=arguments;return wl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:k,e.prev=1,h(!0),e.next=5,Ke.getAllObjectionData(t,r);case 5:n=e.sent,o(n.data.results),a=n.data.count,W(Math.ceil(a/25)),h(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error fetching scripts",e.t0),h(!1);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}(),[k]);Object(n.useEffect)(function(){B(N)},[N,k,B]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ur,{onSearch:function(e){P(e),D(1)},onReset:function(){P(""),D(1)}})),(z.groups.includes("Sales Manager")||z.groups.includes("Sales Deputy Manager")||z.groups.includes("Sales Assistant Deputy Manager")||z.groups.includes("Director"))&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{onClick:function(){return y(!0)},variant:"contained",color:"success",fullWidth:!0},"Add")))),a.a.createElement(Ae.a,{sx:{maxHeight:"500px",overflow:"auto"}},r.map(function(e,t){return a.a.createElement(ll.a,{key:e.id,sx:{margin:1}},a.a.createElement(ul.a,{expandIcon:a.a.createElement(I.a,null),"aria-controls":"panel".concat(t,"a-content"),id:"panel".concat(t,"a-header")},a.a.createElement(E.a,null,t+1,") Question: ",e.question)),a.a.createElement(sl.a,null,a.a.createElement(Ae.a,{sx:{marginBottom:4}},a.a.createElement(E.a,{sx:{my:2}},"Answer: ",e.answer),a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Author: ",e.created_by||"N/A")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Updated Author: ",e.updated_by||"N/A")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Creation Date: ",R(e.creation_date))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:5},a.a.createElement(E.a,null,"Updation Date: ",R(e.updation_date))),(z.groups.includes("Sales Manager")||z.groups.includes("Sales Deputy Manager")||z.groups.includes("Sales Assistant Deputy Manager")||z.groups.includes("Director"))&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:1},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return function(e){j(e),w(!0)}(e)}},"Edit"))))))})),a.a.createElement(Ae.a,{sx:{marginBottom:4}},a.a.createElement(Vr,{currentPage:N,totalPages:G,handlePageChange:function(e,t){D(t)}})),a.a.createElement(Ce,{title:"Create Objection",openPopup:d,setOpenPopup:y},a.a.createElement(gl,{getObjectionDetails:B,setOpenPopup:y})),a.a.createElement(Ce,{title:"Update Objection",openPopup:b,setOpenPopup:w},a.a.createElement(El,{setOpenPopup:w,getObjectionDetails:B,recordForEdit:_})))};function Ol(){Ol=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var _l=function(e){var t=e.getProductObjectionDetails,r=e.setOpenPopup,o=Object(n.useState)([]),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1];Object(n.useEffect)(function(){E()},[]);var E=function(){var e=Object(c.a)(Ol().mark(function e(){var t;return Ol().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pn.getNoDescription();case 3:t=e.sent,b(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),w=function(e){var t=e.target,r=t.name,n=t.value;f(Object(u.a)({},s,Object(Y.a)({},r,n)))},x=function(){var e=Object(c.a)(Ol().mark(function e(n){var a;return Ol().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),a={description:s.description,question:s.question,answer:s.answer},d(!0),e.next=6,Ke.createProductObjectionData(a);case 6:r(!1),d(!1),t(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),d(!1),console.log("error create Objection",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:m}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return x(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{size:"small",sx:{minWidth:180},onChange:function(e,t){w({target:{name:"description",value:t||""}})},value:s.description,options:g.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e||"No Options")},label:"Description"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"question",size:"small",label:"Question",variant:"outlined",value:s.question||"",onChange:w})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"answer",size:"small",label:"Answer",variant:"outlined",value:s.answer||"",onChange:w}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function jl(){jl=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ll=function(e){var t=e.getProductObjectionDetails,r=e.setOpenPopup,o=e.recordForEdit,i=Object(n.useState)(o||{description:"",question:"",answer:""}),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1];Object(n.useEffect)(function(){w()},[]);var w=function(){var e=Object(c.a)(jl().mark(function e(){var t;return jl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pn.getNoDescription();case 3:t=e.sent,E(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),x=function(e){var t=e.target,r=t.name,n=t.value;h(Object(u.a)({},f,Object(Y.a)({},r,n)))},O=function(){var e=Object(c.a)(jl().mark(function e(n){return jl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),y(!0),e.prev=2,e.next=5,Ke.updateProductObjectionData(f.id,{description:f.description,question:f.question,answer:f.answer});case 5:t(),r(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error updating Objection",e.t0);case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:d}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:O,sx:{mt:2}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{sx:{minWidth:180},size:"small",onChange:function(e,t){x({target:{name:"description",value:t||""}})},value:f.description,options:b.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e||"No Options")},label:"Description"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"question",size:"small",label:"Question",variant:"outlined",value:f.question,onChange:x,sx:{mb:2}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,minRows:4,name:"answer",label:"Answer",variant:"outlined",value:f.answer,onChange:x,sx:{mb:2}}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"large",variant:"contained",sx:{mt:2}},"Update Product Objection")))};function Sl(){Sl=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var kl=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],w=g[1],x=Object(n.useState)(null),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(""),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(1),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(0),F=Object(l.a)(A,2),G=F[0],W=F[1],z=Object(s.c)(function(e){return e.auth}).profile,R=Object(n.useCallback)(function(e){return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})},[]),B=Object(n.useCallback)(function(){var e=Object(c.a)(Sl().mark(function e(t){var r,n,a,i=arguments;return Sl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:k,e.prev=1,h(!0),e.next=5,Ke.getAllProductObjectionData(t,r);case 5:n=e.sent,o(n.data.results),a=n.data.count,W(Math.ceil(a/25)),h(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error fetching scripts",e.t0),h(!1);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}(),[k]);Object(n.useEffect)(function(){B(N)},[N,k,B]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ur,{onSearch:function(e){P(e),D(1)},onReset:function(){P(""),D(1)}})),(z.groups.includes("Sales Manager")||z.groups.includes("Sales Deputy Manager")||z.groups.includes("Sales Assistant Deputy Manager")||z.groups.includes("Director"))&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{onClick:function(){return y(!0)},variant:"contained",color:"success",fullWidth:!0},"Add")))),a.a.createElement(Ae.a,{sx:{maxHeight:"500px",overflow:"auto"}},r.map(function(e,t){return a.a.createElement(ll.a,{key:e.id,sx:{margin:1}},a.a.createElement(ul.a,{expandIcon:a.a.createElement(I.a,null),"aria-controls":"panel".concat(t,"a-content"),id:"panel".concat(t,"a-header")},a.a.createElement(Ae.a,{sx:{display:"flex",flexDirection:"column"}},a.a.createElement(E.a,null,t+1,") Description: ",e.description||"N/A"),a.a.createElement(E.a,null,"Question: ",e.question))),a.a.createElement(sl.a,null,a.a.createElement(Ae.a,{sx:{marginBottom:4}},a.a.createElement(E.a,{sx:{my:2}},"Answer: ",e.answer),a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Author: ",e.created_by||"N/A")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Updated Author: ",e.updated_by||"N/A")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Creation Date: ",R(e.creation_date))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:5},a.a.createElement(E.a,null,"Updation Date: ",R(e.updation_date))),(z.groups.includes("Sales Manager")||z.groups.includes("Sales Deputy Manager")||z.groups.includes("Sales Assistant Deputy Manager")||z.groups.includes("Director"))&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:1},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return function(e){j(e),w(!0)}(e)}},"Edit"))))))})),a.a.createElement(Ae.a,{sx:{marginBottom:4}},a.a.createElement(Vr,{currentPage:N,totalPages:G,handlePageChange:function(e,t){D(t)}})),a.a.createElement(Ce,{title:"Create Objection",openPopup:d,setOpenPopup:y},a.a.createElement(_l,{getProductObjectionDetails:B,setOpenPopup:y})),a.a.createElement(Ce,{title:"Update Objection",openPopup:b,setOpenPopup:w},a.a.createElement(Ll,{setOpenPopup:w,getProductObjectionDetails:B,recordForEdit:_})))},Pl=function(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),r=t[0],o=t[1];return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(Xr,{tabs:[{label:"Scripts"},{label:"Objection"},{label:"Product Objection"}],activeTab:r,onTabChange:function(e){o(e)}}),a.a.createElement("div",{style:{marginTop:"10px"}},0===r&&a.a.createElement("div",null,a.a.createElement(yl,null)),1===r&&a.a.createElement("div",null,a.a.createElement(xl,null)),2===r&&a.a.createElement("div",null,a.a.createElement(kl,null)))))},Cl=r(667),Tl=r(639),Nl=r(668),Dl=r(669),Al=Ri.d.create({page:{flexDirection:"column",padding:20},card:{margin:10,padding:10,borderWidth:1,borderColor:"#000",borderRadius:5},section:{marginBottom:10,borderBottomWidth:1,borderBottomColor:"black"},heading:{fontSize:20,fontWeight:"bold",marginBottom:10,textAlign:"center"},subheading:{fontSize:16,fontWeight:"bold",marginBottom:5},underline:{textDecoration:"underline"},keyValueContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",alignItems:"flex-start",marginBottom:5},keyValue:{width:"33%",marginBottom:5,paddingRight:5},text:{fontSize:10,marginBottom:2},dataEntryContainer:{flexDirection:"row",flexWrap:"wrap",alignItems:"flex-start",marginBottom:5},dataEntryText:{fontFamily:"Courier",fontSize:12,marginBottom:3,marginRight:5},entryContainer:{flexDirection:"row",marginBottom:3},textKey:{color:"#666666",fontWeight:"bold",fontSize:10},textValue:{color:"#000000",fontSize:10},colonStyle:{fontSize:12,marginRight:2},signatureSection:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:20},signatureBlock:{borderBottomWidth:1,borderBottomColor:"#000",marginRight:10,alignItems:"center",justifyContent:"center"},signatureText:{fontSize:12,marginTop:5,marginBottom:5,alignSelf:"center"},emailText:{alignSelf:"center"},tableRow:{flexDirection:"row",alignItems:"center",borderBottomWidth:1,borderBottomColor:"#ccc",paddingVertical:2},tableCell:{flex:1,textAlign:"center",fontSize:10,borderRightWidth:1,borderRightColor:"#ccc",paddingHorizontal:2},lastTableCell:{borderRightWidth:0},tableHeader:{fontWeight:"bold",paddingBottom:4},tableCellKey:{fontSize:12,fontWeight:"bold"},tableCellValue:{fontSize:12,flexWrap:"wrap",marginRight:2}}),Il=function(e){var t=e.recordForEdit,r=e.reviewData,n=r.call_performance,o=r.existing_customer,i=r.followup_summary,c=r.pi_summary,u=r.sales_summary,s=r.new_customer_summary,f=r.no_order_customer,h=r.conversion_ratio,p=r.pending_payments,m=r.top_customer,d=r.top_forecast_customer,y=r.today_missed_lead_order,v=r.customer_estimated_order,g=r.today_lead_estimate_order,b=r.today_missed_customer_order,E=r.month_on_month_sales,w=r.whatsapp_summary,x=r.customer_billed_today,O=r.pipeline_summary,_=(n.new_leads.month||0)+(n.existing_leads.month||0)+(n.existing_customer.month||0),j=(n.new_leads.today||0)+(n.existing_leads.today||0)+(n.existing_customer.today||0),L=(n.new_leads.last_7_days||0)+(n.existing_leads.last_7_days||0)+(n.existing_customer.last_7_days||0);return a.a.createElement(Ri.a,null,a.a.createElement(Ri.c,{style:Al.page},a.a.createElement(Ri.e,{style:Al.heading},"Sales Review"),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"Existing Customer"),a.a.createElement(Ri.f,{style:Al.keyValueContainer},a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"1) Pending Kyc:"," ",o?o.pending_kyc:0)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"2) Dead Customer:"," ",o?o.dead_customer:0)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"3) Billed Customer:"," ",o?o.billed_customer:0)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"4) Assigned Customer:"," ",o?o.assigned_customer:0)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"5) Pending Potential:"," ",o?o.pending_potential:0)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"6) Connected Customer:"," ",o?o.connected_customer:0)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"7) Not Billed Customer:"," ",o?o.not_billed_customer:0)))),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"Follow-up Summary"),a.a.createElement(Ri.f,{style:Al.keyValueContainer},a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"New Follow-up Created Today: ",i.today)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"Hot Lead Created Today: ",i.today_hot_lead)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"Follow-up Missed Today: ",i.today_missed_followup)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"Today's Missed Follow-up:"," ",i.today_missed_forecast)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"Today's Closed Hot Lead:",o?o.today_closed_hot_lead:0)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"Overdue Follow-up: ",i.overdue_followup)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"Overdue Task:",o?o.overdue_task:0)))),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"Call Summary"),a.a.createElement(Ri.f,{style:Al.tableRow},a.a.createElement(Ri.f,{style:Al.tableCell},a.a.createElement(Ri.e,{style:Al.text},"Category")),a.a.createElement(Ri.f,{style:Al.tableCell},a.a.createElement(Ri.e,{style:Al.text},"Today")),a.a.createElement(Ri.f,{style:Al.tableCell},a.a.createElement(Ri.e,{style:Al.text},"Last 7 Days Avg")),a.a.createElement(Ri.f,{style:[Al.tableCell,Al.lastTableCell]},a.a.createElement(Ri.e,{style:Al.text},"This Month"))),a.a.createElement(Ri.f,{style:Al.tableRow},a.a.createElement(Ri.f,{style:Al.tableCell},a.a.createElement(Ri.e,{style:Al.text},"New Leads:")),a.a.createElement(Ri.f,{style:Al.tableCell},a.a.createElement(Ri.e,{style:Al.text},n?n.new_leads.today:"0")),a.a.createElement(Ri.f,{style:Al.tableCell},a.a.createElement(Ri.e,{style:Al.text},n?n.new_leads.last_7_days:"0")),a.a.createElement(Ri.f,{style:[Al.tableCell,Al.lastTableCell]},a.a.createElement(Ri.e,{style:Al.text},n?n.new_leads.month:"0"))),a.a.createElement(Ri.f,{style:Al.tableRow},a.a.createElement(Ri.f,{style:Al.tableCell},a.a.createElement(Ri.e,{style:Al.text},"Existing Leads:")),a.a.createElement(Ri.f,{style:Al.tableCell},a.a.createElement(Ri.e,{style:Al.text},n?n.existing_leads.today:"0")),a.a.createElement(Ri.f,{style:Al.tableCell},a.a.createElement(Ri.e,{style:Al.text},n?n.existing_leads.last_7_days:"0")),a.a.createElement(Ri.f,{style:[Al.tableCell,Al.lastTableCell]},a.a.createElement(Ri.e,{style:Al.text},n?n.existing_leads.month:"0"))),a.a.createElement(Ri.f,{style:Al.tableRow},a.a.createElement(Ri.f,{style:Al.tableCell},a.a.createElement(Ri.e,{style:Al.text},"Existing Customer:")),a.a.createElement(Ri.f,{style:Al.tableCell},a.a.createElement(Ri.e,{style:Al.text},n?n.existing_customer.today:"0")),a.a.createElement(Ri.f,{style:Al.tableCell},a.a.createElement(Ri.e,{style:Al.text},n?n.existing_customer.last_7_days:"0")),a.a.createElement(Ri.f,{style:[Al.tableCell,Al.lastTableCell]},a.a.createElement(Ri.e,{style:Al.text},n?n.existing_customer.month:"0"))),a.a.createElement(Ri.f,{style:Al.tableRow},a.a.createElement(Ri.f,{style:Al.tableCell},a.a.createElement(Ri.e,{style:Al.text},"Total:")),a.a.createElement(Ri.f,{style:Al.tableCell},a.a.createElement(Ri.e,{style:Al.text},j)),a.a.createElement(Ri.f,{style:Al.tableCell},a.a.createElement(Ri.e,{style:Al.text},L)),a.a.createElement(Ri.f,{style:[Al.tableCell,Al.lastTableCell]},a.a.createElement(Ri.e,{style:Al.text},_)))),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"No Order Customer"),a.a.createElement(Ri.f,{style:Al.keyValueContainer},a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"0-30 days: ",f["0-30_days"])),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"30-59 days: ",f["30-59_days"])),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"60-89 days: ",f["60-89_days"])),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"90-119 days: ",f["90-119_days"])),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"Over 120 days: ",f.over_120_days)))),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"Pi Summary"),a.a.createElement(Ri.f,{style:Al.keyValueContainer},a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"1) Drop: ",c?c.drop:0)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"2) Raised: ",c?c.raised:0)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"3) Month Drop: ",c?c.month_drop:0)))),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"New Customer Summary"),a.a.createElement(Ri.f,{style:Al.keyValueContainer},a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"1) Month:"," ",s?s.month:0)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"2) Last Month:"," ",s?s.last_month:0)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"3) Sales Invoice:"," ",s?s.sales_invoice:0)))),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"Pending Payment"),a.a.createElement(Ri.f,{style:Al.tableRow},a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"PI Number"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Customer"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Date"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Amount"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell,Al.tableHeader]},"Status")),p.map(function(e,t){return a.a.createElement(Ri.f,{key:t,style:Al.tableRow},a.a.createElement(Ri.e,{style:Al.tableCell},e.pi_number),a.a.createElement(Ri.e,{style:Al.tableCell},e.customer?e.customer:"NA"),a.a.createElement(Ri.e,{style:Al.tableCell},e.date),a.a.createElement(Ri.e,{style:Al.tableCell},e.amount.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2})),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell]},e.status))})),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"Lead to Customer Ratio"),a.a.createElement(Ri.f,{style:Al.keyValueContainer},a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"Lead Count: ",h?h.lead_count:0)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"New Customer:"," ",h?h.new_customer:0)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"Conversion Ratio:"," ",h?h.conversion_ratio:0)))),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"Top Customer"),a.a.createElement(Ri.f,{style:Al.tableRow},a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Customer"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Amount"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell,Al.tableHeader]},"Billed This Month")),m.map(function(e,t){return a.a.createElement(Ri.f,{key:t,style:Al.tableRow},a.a.createElement(Ri.e,{style:Al.tableCell},e.customer),a.a.createElement(Ri.e,{style:Al.tableCell},e.amount.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2})),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell]},e.billedThisMonth?"Yes":"No"))})),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"Top Forecast Customer"),a.a.createElement(Ri.f,{style:Al.tableRow},a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Customer"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Amount"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell,Al.tableHeader]},"Billed This Month")),d.map(function(e,t){return a.a.createElement(Ri.f,{key:t,style:Al.tableRow},a.a.createElement(Ri.e,{style:Al.tableCell},e.customer),a.a.createElement(Ri.e,{style:Al.tableCell},e.amount.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2})),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell]},e.billedThisMonth?"Yes":"No"))})),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"Today Missed Customer Order"),a.a.createElement(Ri.f,{style:Al.tableRow},a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Product"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Customer"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Forecast"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Description"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell,Al.tableHeader]},"Estimated Date")),b.map(function(e,t){return a.a.createElement(Ri.f,{key:t,style:Al.tableRow},a.a.createElement(Ri.e,{style:Al.tableCell},e.product),a.a.createElement(Ri.e,{style:Al.tableCell},e.customer?e.customer:"NA"),a.a.createElement(Ri.e,{style:Al.tableCell},e.forecast),a.a.createElement(Ri.e,{style:Al.tableCell},e.description),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell]},e.estimated_date))})),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"Today Customer Estimated Order"),a.a.createElement(Ri.f,{style:Al.tableRow},a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Customer"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Quantity"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Description"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell,Al.tableHeader]},"Estimated Date")),v.map(function(e,t){return a.a.createElement(Ri.f,{key:t,style:Al.tableRow},a.a.createElement(Ri.e,{style:Al.tableCell},e.customer?e.customer:"NA"),a.a.createElement(Ri.e,{style:Al.tableCell},e.quantity),a.a.createElement(Ri.e,{style:Al.tableCell},e.description),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell]},e.estimated_date))})),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"Today Missed Lead Order"),a.a.createElement(Ri.f,{style:Al.tableRow},a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Product"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Customer"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Forecast"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Description"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell,Al.tableHeader]},"Estimated Date")),y.map(function(e,t){return a.a.createElement(Ri.f,{key:t,style:Al.tableRow},a.a.createElement(Ri.e,{style:Al.tableCell},e.product),a.a.createElement(Ri.e,{style:Al.tableCell},e.customer?e.customer:"NA"),a.a.createElement(Ri.e,{style:Al.tableCell},e.forecast),a.a.createElement(Ri.e,{style:Al.tableCell},e.description),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell]},e.estimated_date))})),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"Today Lead Estimate Order"),a.a.createElement(Ri.f,{style:Al.tableRow},a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Product"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Customer"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Forecast"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Description"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell,Al.tableHeader]},"Estimated Date")),g.map(function(e,t){return a.a.createElement(Ri.f,{key:t,style:Al.tableRow},a.a.createElement(Ri.e,{style:Al.tableCell},e.product),a.a.createElement(Ri.e,{style:Al.tableCell},e.customer?e.customer:"NA"),a.a.createElement(Ri.e,{style:Al.tableCell},e.forecast),a.a.createElement(Ri.e,{style:Al.tableCell},e.description),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell]},e.estimated_date))})),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"Sales Summary"),a.a.createElement(Ri.f,{style:Al.tableRow},a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Description"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Forecast Quantity"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Unit"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Sales Quantity"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Daily Target"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell,Al.tableHeader]},"Today PI")),u.map(function(e,t){return a.a.createElement(Ri.f,{key:t,style:Al.tableRow},a.a.createElement(Ri.e,{style:Al.tableCell},e.description),a.a.createElement(Ri.e,{style:Al.tableCell},e.forecast_quantity.toString()),a.a.createElement(Ri.e,{style:Al.tableCell},e.unit),a.a.createElement(Ri.e,{style:Al.tableCell},e.sales_quantity.toString()),a.a.createElement(Ri.e,{style:Al.tableCell},e.daily_target.toString()),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell]},Array.isArray(e.today_pi)&&e.today_pi.length>0?e.today_pi.join(", "):"N/A"))})),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"Monthly Sales"),a.a.createElement(Ri.f,{style:Al.tableRow},a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Month"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.tableHeader]},"Year"),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell,Al.tableHeader]},"Total Sales")),E.map(function(e,t){return a.a.createElement(Ri.f,{key:t,style:Al.tableRow},a.a.createElement(Ri.e,{style:Al.tableCell},e.month),a.a.createElement(Ri.e,{style:Al.tableCell},e.year),a.a.createElement(Ri.e,{style:[Al.tableCell,Al.lastTableCell]},e.total_sales.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2})))})),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"Whatsapp Summary"),a.a.createElement(Ri.f,{style:Al.keyValueContainer},a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"1) Customer Not in Group:",w?w.not_customer:0)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"2) Customer Not Having Group:",w?w.not_group:0)),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"3) Sales Person Not in Group:",w?w.not_sale_person:0)))),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"Customer Billing Today"),a.a.createElement(Ri.f,{style:Al.keyValueContainer},a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"1) Customer :"," ",x&&x.order_book__company__name?x.order_book__company__name:"N/A")),a.a.createElement(Ri.f,{style:Al.keyValue},a.a.createElement(Ri.e,{style:Al.text},"2) Amount :"," ",x&&x.amount?x.amount.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2}):"N/A")))),a.a.createElement(Ri.f,{style:Al.card},a.a.createElement(Ri.e,{style:Al.subheading},"Pipeline Summary"),a.a.createElement(Ri.f,{style:Al.section},a.a.createElement(Ri.e,{style:Al.subheading},"Hot Lead Performance"),O&&O.hot_lead_performance&&Object.entries(O.hot_lead_performance).map(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return a.a.createElement(Ri.f,{key:r,style:Al.entryContainer},a.a.createElement(Ri.e,{style:Al.textKey},r.replace(/_/g," ").replace(/^\w/,function(e){return e.toUpperCase()}),":"),a.a.createElement(Ri.e,{style:Al.textValue}," ",n))})),a.a.createElement(Ri.f,{style:Al.section},a.a.createElement(Ri.e,{style:Al.subheading},"Lead Pipeline"),O&&O.lead_pipeline&&Object.entries(O.lead_pipeline).map(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return a.a.createElement(Ri.f,{key:r,style:Al.entryContainer},a.a.createElement(Ri.e,{style:Al.textKey},r.replace(/_/g," ").replace(/^\w/,function(e){return e.toUpperCase()}),":"),a.a.createElement(Ri.e,{style:Al.textValue}," ",n))}))),a.a.createElement(Ri.f,{style:Al.signatureSection},a.a.createElement(Ri.f,{style:Al.signatureBlock},a.a.createElement(Ri.e,{style:Al.signatureText},"Sales Person"),a.a.createElement(Ri.e,{style:[Al.signatureText,Al.emailText]},t.sales_person)),a.a.createElement(Ri.f,{style:Al.signatureBlock},a.a.createElement(Ri.e,{style:Al.signatureText},"Reviewer"),a.a.createElement(Ri.e,{style:[Al.signatureText,Al.emailText]},t.reviewer)))))};function Fl(){Fl=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Gl=function(e){return e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")},Wl=function(e){var t=e.title,r=e.children,n=e.xs,o=e.sm,i=e.lg;return a.a.createElement(Fe.a,{item:!0,xs:n,sm:o,lg:i},a.a.createElement(Nl.a,{raised:!0},a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},t),a.a.createElement(y.a,{light:!0}),r)))},zl=function(e){var t=e.callPerformanceData,r=Object.values(t).reduce(function(e,t){return e.today+=t.today,e.last_7_days+=t.last_7_days,e.month+=t.month,e},{today:0,last_7_days:0,month:0});return a.a.createElement(Yn.a,null,a.a.createElement(Vn.a,null,a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,null,"Category"),a.a.createElement(qn.a,{align:"right"},"Today"),a.a.createElement(qn.a,{align:"right"},"Last 7 Days Avg"),a.a.createElement(qn.a,{align:"right"},"This Month"))),a.a.createElement(Hn.a,null,Object.entries(t).map(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return a.a.createElement(Un.a,{key:r},a.a.createElement(qn.a,{component:"th",scope:"row"},Gl(r.replace(/_/g," "))),a.a.createElement(qn.a,{align:"right"},n.today),a.a.createElement(qn.a,{align:"right"},n.last_7_days),a.a.createElement(qn.a,{align:"right"},n.month))}),a.a.createElement(Un.a,null,a.a.createElement(qn.a,{component:"th",scope:"row"},"Total"),a.a.createElement(qn.a,{align:"right"},r.today),a.a.createElement(qn.a,{align:"right"},r.last_7_days),a.a.createElement(qn.a,{align:"right"},r.month)))))},Rl=function(e){var t=e.label,r=e.count;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Dl.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",py:1}},a.a.createElement(E.a,{variant:"subtitle1"},t),a.a.createElement(E.a,{variant:"subtitle1",sx:{fontWeight:"bold"}},r)),a.a.createElement(y.a,{variant:"middle"}))},Bl=function(e){var t=e.recordForEdit,r=Object(S.a)();console.log("recordForEdit",JSON.stringify(t,null,2));var n=(t||{}).daily_sales_review,o=void 0===n?{}:n;console.log("reviewData",JSON.stringify(o,null,2));var i=o.call_performance,u=o.existing_customer,s=o.followup_summary,f=o.pi_summary,h=o.sales_summary,p=o.new_customer_summary,m=o.no_order_customer,d=o.conversion_ratio,g=o.pending_payments,b=o.top_customer,w=o.top_forecast_customer,x=o.today_missed_lead_order,O=o.customer_estimated_order,_=o.today_lead_estimate_order,j=o.today_missed_customer_order,L=o.month_on_month_sales,k=o.whatsapp_summary,P=o.customer_billed_today,C=o.pipeline_summary,T=u.assigned_customer,N=Object.entries(m),D=N.reduce(function(e,t){return e+Object(l.a)(t,2)[1]},0),A=function(){var e=Object(c.a)(Fl().mark(function e(){var r,n,i;return Fl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new zi.a,e.next=4,Object(Ri.g)(a.a.createElement(Il,{recordForEdit:t,reviewData:o}),r).toBlob();case 4:n=e.sent,(i=document.createElement("a")).href=URL.createObjectURL(n),i.download="sales_review.pdf",i.click(),document.body.removeChild(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Error exporting PDF:",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:A},"Download as PDF"),a.a.createElement("div",{style:{padding:r.spacing(3)},id:"divToPrint"},a.a.createElement(Fe.a,{container:!0,spacing:3},a.a.createElement(Wl,{title:"Customer Overview",xs:12,sm:6,lg:4},a.a.createElement(v.a,null,u?Object.entries(u).map(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return function(e,t,r){var n=Gl(e),o=t/r*100;return a.a.createElement(V.a,{key:e},a.a.createElement(H.a,{primary:n,secondary:a.a.createElement(Cl.a,{variant:"determinate",value:o})}),a.a.createElement(Tl.a,null,a.a.createElement(E.a,{variant:"caption"},"".concat(t," (").concat(o.toFixed(2),"%)"))))}(r.replace(/_/g," "),n,T)}):a.a.createElement(E.a,null,"No Customer Data Available"))),a.a.createElement(Wl,{title:"Follow-up Summary",xs:12,sm:6,lg:4},a.a.createElement(Rl,{label:"New Follow-up Created Today",count:s.today}),a.a.createElement(Rl,{label:"Hot Lead Created Today",count:s.today_hot_lead}),a.a.createElement(Rl,{label:"Follow-up Missed Today",count:s.today_missed_followup}),a.a.createElement(Rl,{label:"Today's Missed Follow-up",count:s.today_missed_forecast}),a.a.createElement(Rl,{label:"Today's Closed Hot Lead",count:s.today_closed_hot_lead}),a.a.createElement(Rl,{label:"Overdue Follow-up",count:s.overdue_followup}),a.a.createElement(Rl,{label:"Overdue Task",count:s.overdue_task})),a.a.createElement(Wl,{title:"Call Summary Overview",xs:12,sm:6,lg:4},a.a.createElement(zl,{callPerformanceData:i})),a.a.createElement(Wl,{title:"No Order Customer Overview",xs:12,sm:6,lg:4},N.length>0?N.map(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return a.a.createElement(Rl,{key:r,label:Gl(r.replace(/_/g," ")),count:n})}):a.a.createElement(E.a,{variant:"subtitle1"},"No Customer Data Available"),a.a.createElement(Ae.a,{mt:2,sx:{textAlign:"center"}},a.a.createElement(E.a,{variant:"subtitle1",color:"textPrimary"},"Total Count: ",D))),a.a.createElement(Wl,{title:"PI Summary",xs:12,sm:6,lg:4},a.a.createElement(Rl,{label:"Raised Today",count:f.raised}),a.a.createElement(Rl,{label:"PI Dropped Today",count:f.drop}),a.a.createElement(Rl,{label:"PI Drop This Month",count:f.month_drop})),a.a.createElement(Wl,{title:"New Customer Summary",xs:12,sm:6,lg:4},a.a.createElement(Rl,{label:" New Customer Last Month",count:p.last_month}),a.a.createElement(Rl,{label:"New Customer This Month",count:p.month}),a.a.createElement(Rl,{label:"New Customer Billed Today",count:p.sales_invoice})),a.a.createElement(Wl,{title:"Pending Payments",xs:12},a.a.createElement(Yn.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Vn.a,{stickyHeader:!0,"aria-label":"Pending Payment Overview"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,null,"Date"),a.a.createElement(qn.a,null,"Amount"),a.a.createElement(qn.a,null,"Status"),a.a.createElement(qn.a,null,"Customer"),a.a.createElement(qn.a,null,"PI Number"))),a.a.createElement(Hn.a,null,o&&g&&g.map(function(e,t){return a.a.createElement(Un.a,{key:t},a.a.createElement(qn.a,null,e.date),a.a.createElement(qn.a,null,e.amount.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2})),a.a.createElement(qn.a,null,e.status),a.a.createElement(qn.a,null,e.customer),a.a.createElement(qn.a,null,e.pi_number))}))))),a.a.createElement(Wl,{title:"Top Customer",xs:6},a.a.createElement(Yn.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Vn.a,{stickyHeader:!0,"aria-label":"Top Customer Overview"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,null,"Customer"),a.a.createElement(qn.a,null,"Amount"),a.a.createElement(qn.a,null,"Billed This Month"))),a.a.createElement(Hn.a,null,o&&b&&b.map(function(e,t){return a.a.createElement(Un.a,{key:t},a.a.createElement(qn.a,null,e.customer),a.a.createElement(qn.a,null,e.amount.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2})),a.a.createElement(qn.a,null,e.is_billed_this_month))}))))),a.a.createElement(Wl,{title:"Top Forecast Customer",xs:6},a.a.createElement(Yn.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Vn.a,{stickyHeader:!0,"aria-label":"Top Forecast Customer Overview"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,null,"Customer"),a.a.createElement(qn.a,null,"Amount"),a.a.createElement(qn.a,null,"Billed This Month"))),a.a.createElement(Hn.a,null,o&&w&&w.map(function(e,t){return a.a.createElement(Un.a,{key:t},a.a.createElement(qn.a,null,e.customer),a.a.createElement(qn.a,null,e.amount.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2})),a.a.createElement(qn.a,null,e.is_billed_this_month))}))))),a.a.createElement(Wl,{title:"Today Missed Customer Order",xs:6},a.a.createElement(Yn.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Vn.a,{stickyHeader:!0,"aria-label":"Missed Customer Orders"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,null,"Forecast"),a.a.createElement(qn.a,null,"Estimated Date"),a.a.createElement(qn.a,null,"Customer"),a.a.createElement(qn.a,null,"Description"),a.a.createElement(qn.a,null,"Product"))),a.a.createElement(Hn.a,null,o&&j&&j.map(function(e,t){return a.a.createElement(Un.a,{key:t},a.a.createElement(qn.a,null,e.forecast),a.a.createElement(qn.a,null,e.estimated_date),a.a.createElement(qn.a,null,e.customer),a.a.createElement(qn.a,null,e.description),a.a.createElement(qn.a,null,e.product))}))))),a.a.createElement(Wl,{title:"Today Estimate Customer Order",xs:6},a.a.createElement(Yn.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Vn.a,{stickyHeader:!0,"aria-label":"Estimate Customer Order"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,null,"Customer"),a.a.createElement(qn.a,null,"Estimated Date"),a.a.createElement(qn.a,null,"Description"),a.a.createElement(qn.a,null,"Product"),a.a.createElement(qn.a,null,"Quantity"))),a.a.createElement(Hn.a,null,o&&O&&O.map(function(e,t){return a.a.createElement(Un.a,{key:t},a.a.createElement(qn.a,null,e.customer),a.a.createElement(qn.a,null,e.estimated_date),a.a.createElement(qn.a,null,e.description),a.a.createElement(qn.a,null,e.product),a.a.createElement(qn.a,null,e.quantity))}))))),a.a.createElement(Wl,{title:"Today Missed Lead Order",xs:6},a.a.createElement(Yn.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Vn.a,{stickyHeader:!0,"aria-label":"Missed Customer Orders"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,null,"Quantity"),a.a.createElement(qn.a,null,"Anticipated Date"),a.a.createElement(qn.a,null,"Customer"),a.a.createElement(qn.a,null,"Description"),a.a.createElement(qn.a,null,"Product"))),a.a.createElement(Hn.a,null,o&&x&&x.map(function(e,t){return a.a.createElement(Un.a,{key:t},a.a.createElement(qn.a,null,e.quantity),a.a.createElement(qn.a,null,e.anticipated_date),a.a.createElement(qn.a,null,e.customer),a.a.createElement(qn.a,null,e.description),a.a.createElement(qn.a,null,e.product))}))))),a.a.createElement(Wl,{title:"Today Lead Estimate Order",xs:6},a.a.createElement(Yn.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Vn.a,{stickyHeader:!0,"aria-label":"Lead Estimate Order"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,null,"Stage"),a.a.createElement(qn.a,null,"Customer"),a.a.createElement(qn.a,null,"Anticipated Date"),a.a.createElement(qn.a,null,"Description"),a.a.createElement(qn.a,null,"Product"),a.a.createElement(qn.a,null,"Quantity"))),a.a.createElement(Hn.a,null,o&&_&&_.map(function(e,t){return a.a.createElement(Un.a,{key:t},a.a.createElement(qn.a,null,e.stage),a.a.createElement(qn.a,null,e.customer),a.a.createElement(qn.a,null,e.anticipated_date),a.a.createElement(qn.a,null,e.description),a.a.createElement(qn.a,null,e.product),a.a.createElement(qn.a,null,e.quantity))}))))),a.a.createElement(Wl,{title:"Sales Summary",xs:12},a.a.createElement(Yn.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Vn.a,{stickyHeader:!0,"aria-label":"Sales Summary Table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,null,"Description"),a.a.createElement(qn.a,null,"Forecast Quantity"),a.a.createElement(qn.a,null,"Unit"),a.a.createElement(qn.a,null,"Sales Quantity"),a.a.createElement(qn.a,null,"Daily Target"),a.a.createElement(qn.a,null,"Today PI"))),a.a.createElement(Hn.a,null,h?h.map(function(e,t){return a.a.createElement(Un.a,{key:t},a.a.createElement(qn.a,null,e.description),a.a.createElement(qn.a,null,e.forecast_quantity),a.a.createElement(qn.a,null,e.unit),a.a.createElement(qn.a,null,e.sales_quantity),a.a.createElement(qn.a,null,e.daily_target),a.a.createElement(qn.a,null,Array.isArray(e.today_pi)&&e.today_pi.length>0?e.today_pi.join(", "):"N/A"))}):a.a.createElement(E.a,null,"No Sales Summary Data Available"))))),a.a.createElement(Wl,{title:"Monthly Sales Chart",xs:12},a.a.createElement(Yn.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Vn.a,{stickyHeader:!0,"aria-label":"Monthly Sales Overview"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,null,"Month"),a.a.createElement(qn.a,null,"Year"),a.a.createElement(qn.a,null,"Total Sales"))),a.a.createElement(Hn.a,null,o&&L&&L.map(function(e,t){return a.a.createElement(Un.a,{key:t},a.a.createElement(qn.a,null,e.month),a.a.createElement(qn.a,null,e.year),a.a.createElement(qn.a,null,e.total_sales?e.total_sales.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2}):"N/A"))}))))),a.a.createElement(Wl,{title:"Lead to Customer Ratio",xs:4},a.a.createElement(Rl,{label:"Lead Count",count:d.lead_count}),a.a.createElement(Rl,{label:"New Customer",count:d.new_customer}),a.a.createElement(Rl,{label:"Conversion Ratio",count:d.conversion_ratio})),a.a.createElement(Wl,{title:"Whatsapp Summary",xs:4},a.a.createElement(Rl,{label:"Customer Not in WhatsApp Group",count:k.not_customer}),a.a.createElement(Rl,{label:"Customer Not Having WhatsApp Group",count:k.not_group}),a.a.createElement(Rl,{label:"Sales Person Not in Group",count:k.not_sale_person})),a.a.createElement(Wl,{title:"Customer Billing Today",xs:4},a.a.createElement(Rl,{label:"Customer",count:P&&P.order_book__company?P.order_book__company__name:"N/A"}),a.a.createElement(Rl,{label:"Amount",count:P&&P.amount?P.amount.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2}):"N/A"})),a.a.createElement(Wl,{title:"Pipeline Summary",xs:12},a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary",gutterBottom:!0},"Hot Lead Performance"),C&&C.hot_lead_performance&&Object.entries(C.hot_lead_performance).map(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return a.a.createElement(E.a,{variant:"body2",key:r,sx:{mb:1}},"".concat(r.replace(/_/g," ").replace(/^\w/,function(e){return e.toUpperCase()}),": ").concat(n))}),a.a.createElement(y.a,{sx:{my:2}}),a.a.createElement(E.a,{variant:"h6",color:"primary",gutterBottom:!0},"Lead Pipeline"),C&&C.lead_pipeline&&Object.entries(C.lead_pipeline).map(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return a.a.createElement(E.a,{variant:"body2",key:r,sx:{mb:1}},"".concat(r.replace(/_/g," ").replace(/^\w/,function(e){return e.toUpperCase()}),": ").concat(n))})))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"space-between",mt:4,alignItems:"center"},a.a.createElement(Ae.a,{width:"50%",textAlign:"center"},a.a.createElement(E.a,{variant:"h6"},"Sales Person"),a.a.createElement(Ae.a,{mt:2},a.a.createElement(E.a,{variant:"body1"},t.sales_person)),a.a.createElement(Ae.a,{borderBottom:1,width:"50%",mx:"auto",mt:2})),a.a.createElement(Ae.a,{width:"50%",textAlign:"center"},a.a.createElement(E.a,{variant:"h6"},"Reviewed By"),a.a.createElement(Ae.a,{mt:2},a.a.createElement(E.a,{variant:"body1"},t.reviewer)),a.a.createElement(Ae.a,{borderBottom:1,width:"50%",mx:"auto",mt:2})))))};function Ml(){Ml=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ql=function(e){var t=e.setOpenPopup,r=e.getDailySaleReviewData,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],f=i[1],h=Object(n.useState)(null),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(""),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(s.c)(function(e){return e.auth.profile}).sales_users||[],w=function(){var e=Object(c.a)(Ml().mark(function e(n){var a;return Ml().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,f(!0),a={sales_person:m},e.next=6,Ke.createDailySaleReviewData(a);case 6:t(!1),r(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error while creating sales review",e.t0),b("Error creating sales review.");case 14:return e.prev=14,f(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,10,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:u}),g&&a.a.createElement("div",{className:"error-message"},g)," ",a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:w},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{sx:{width:"100%"},size:"small",onChange:function(e,t){d(t)},value:m,options:E.map(function(e){return e.email}),getOptionLabel:function(e){return e||""},label:"Filter By Sales Person"}))),a.a.createElement(Lt,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2},text:"Submit"})))};function Ul(){Ul=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Yl=function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getDailySaleReviewData,i=Object(n.useState)(t.performance),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(""),v=Object(l.a)(y,2),g=v[0],b=v[1];Object(n.useEffect)(function(){f(t.performance)},[t]);var E=function(){var e=Object(c.a)(Ul().mark(function e(n){var a;return Ul().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,d(!0),a={performance:s},e.next=6,Ke.updateDailySaleReviewData(t.id,a);case 6:o(),r(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),b("Error updating performance data"),console.error("Error while creating sales review",e.t0);case 14:return e.prev=14,d(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,10,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:m}),g&&a.a.createElement("div",null,g),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:E},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{size:"small",sx:{width:300,marginRight:"10px"},onChange:function(e,t){return f(t)},value:s,options:["On Track","Under Performing","Over Performing"].map(function(e){return e}),getOptionLabel:function(e){return e},label:"Performance"}))),a.a.createElement(Lt,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2},text:"Submit"})))};function Vl(){Vl=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ql=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=e.sales_users||[],r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],f=Object(n.useState)([]),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(!1),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(""),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(!1),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)(null),N=Object(l.a)(T,2),D=N[0],A=N[1],I="".concat((new Date).getFullYear(),"-").concat(((new Date).getMonth()+1).toString().padStart(2,"0")),F=Object(n.useState)(I),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useState)(null),B=Object(l.a)(R,2),M=B[0],q=B[1],U=Object(n.useCallback)(function(){var e=Object(c.a)(Vl().mark(function e(t){var r,n,a,o=arguments;return Vl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:M,n=o.length>2&&void 0!==o[2]?o[2]:j,u(!0),e.prev=3,console.log("selectedYearMonth in api",W),e.next=7,Ke.getDailySaleReviewData(t,r,n);case 7:a=e.sent,console.log("response",a),a&&a.data&&m(a.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("Error fetching daily sales review data",e.t0);case 15:return e.prev=15,u(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[3,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[M,j]);Object(n.useEffect)(function(){U(W)},[W,U]);var Y=function(){var e=Object(c.a)(Vl().mark(function e(t){var r;return Vl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Ke.getDailySaleReviewById(t.id);case 4:r=e.sent,console.log("response",r),r&&r.data&&A(r.data),C(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error",e.t0);case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:i}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",marginBottom:"10px"},!e.groups.includes("Sales Executive")&&a.a.createElement(Ve,{size:"small",type:"month",label:"Filter By Month and Year",value:W,onChange:function(e){return z(e.target.value)},sx:{width:300,marginRight:"10px"}}),!e.groups.includes("Sales Executive")&&a.a.createElement(sr,{size:"small",sx:{width:300,marginRight:"10px"},onChange:function(e,t){return function(e){q(e),U(W,e,j)}(t)},value:M,options:t.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"}),a.a.createElement(Ve,{size:"small",label:"Search",variant:"outlined",value:j,onChange:function(e){return L(e.target.value)},sx:{marginRight:"10px"}}),a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return U(W,M,j)},sx:{marginRight:"10px"}},"Search"),a.a.createElement(We.a,{variant:"contained",color:"secondary",onClick:function(){L(""),U(W,M,"")}},"Reset"),!e.groups.includes("Sales Executive")&&a.a.createElement(We.a,{variant:"contained",color:"success",onClick:function(){return g(!0)},sx:{marginLeft:"10px"}},"Add")),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Sales Review")),a.a.createElement(Yn.a,{component:ut.a},a.a.createElement(Vn.a,{sx:{minWidth:700},"aria-label":"customized table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,["Id","Sales Person","Reviewd By","Reporting Manager","Date","Performance","Action"].map(function(e){return a.a.createElement(Hl,{align:"center",key:e},e)}))),a.a.createElement(Hn.a,null,p.map(function(t,r){return a.a.createElement(Jl,{key:t.id||r},a.a.createElement(Hl,{align:"center"},t.id),a.a.createElement(Hl,{align:"center"},t.sales_person),a.a.createElement(Hl,{align:"center"},t.reviewer),a.a.createElement(Hl,{align:"center"},t.reporting_manager),a.a.createElement(Hl,{align:"center"},t.review_date),a.a.createElement(Hl,{align:"center"},t.performance),a.a.createElement(Hl,{align:"center"},a.a.createElement(We.a,{onClick:function(){return Y(t)}},"View"),!e.groups.includes("Sales Executive")&&a.a.createElement(We.a,{color:"secondary",onClick:function(){return e=t,console.log("item",e.id),A(e),void x(!0);var e}},"Edit")))})))),a.a.createElement(Ce,{maxwidth:"xl",title:"Create Sale Review",openPopup:v,setOpenPopup:g},a.a.createElement(ql,{setOpenPopup:g,getDailySaleReviewData:U})),a.a.createElement(Ce,{fullScreen:!0,title:"View Sale Review",openPopup:P,setOpenPopup:C},a.a.createElement(Bl,{setOpenPopup:C,recordForEdit:D})),a.a.createElement(Ce,{maxwidth:"xl",title:"Update Performace",openPopup:w,setOpenPopup:x},a.a.createElement(Yl,{setOpenPopup:x,recordForEdit:D,getDailySaleReviewData:U})))))},Hl=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),Jl=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Kl={getDesignationsData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("api/hr/designation/?".concat(r.toString()))},addDesignation:function(e){return ge.post("/api/hr/designation/",e)},updateDesignations:function(e,t){return console.log("data",t),ge.patch("/api/hr/designation/".concat(e,"/"),t)},deleteDesignations:function(e,t){return ge.delete("/api/hr/designation/".concat(e,"/"),t)},getDepartment:function(){return ge.get("/api/hr/department/")},addDepartment:function(e){return ge.post("/api/hr/department/",{department:e})},updateDepartment:function(e,t){return ge.patch("/api/hr/department/".concat(e,"/"),t)},getSource:function(){return ge.get("/api/hr/source/")},addSource:function(e){return ge.post("/api/hr/source/",{name:e.name})},updateSource:function(e,t){return console.log("data",t),ge.patch("/api/hr/source/".concat(e,"/"),{name:t.name})},getLocation:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/hr/location/?".concat(r.toString()))},addLocation:function(e){return ge.post("/api/hr/location/",e)},updateLocation:function(e,t){return ge.patch("/api/hr/location/".concat(e,"/"),t)},getLocationList:function(){return ge.get("/api/hr/location/?type=list")},getJobOpening:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("search",t),r&&n.append("stage",r),ge.get("/api/hr/job-opening/?stage=Open&".concat(n.toString()))},getJobOpeningById:function(e){return ge.get("/api/hr/job-opening/".concat(e,"/"))},addJobOpening:function(e){return ge.post("/api/hr/job-opening/",e)},updateJobOpening:function(e,t){return ge.patch("/api/hr/job-opening/".concat(e,"/"),t)},getApplicants:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Screening",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Open",i=arguments.length>6?arguments[6]:void 0,c=new URLSearchParams;return e&&c.append("page",e),t&&c.append("search",t),r&&c.append("job__designation__designation",r),n&&c.append("job__department__department",n),null!==a&&void 0!==a&&c.append("stage",a),null!==o&&void 0!==o&&c.append("status",o),i&&c.append("date",i),ge.get("api/hr/applicant/?".concat(c.toString()))},getCandidateProfile:function(e){return ge.get("/api/hr/applicant/".concat(e,"/"))},addApplicant:function(e){return ge.post("/api/hr/applicant/",e)},updateApplicant:function(e,t){return ge.patch("/api/hr/applicant/".concat(e,"/"),t)},getInterviewStatus:function(){return ge.get("/api/hr/applicant/?status=Shortlisted")},addInterviewDate:function(e){return ge.post("/api/hr/interview-details/",e)},getInterviewDate:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("stage",t),r&&n.append("status",r),ge.get("/api/hr/interview-details/?".concat(n.toString()))},updateInterviewDate:function(e,t){return ge.patch("/api/hr/interview-details/".concat(e,"/"),t)},getOfferStatus:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("api/hr/applicant/?stage=Offer".concat(r.toString()))},updateOfferStatus:function(e,t){return ge.patch("/api/hr/interview-details/".concat(e,"/?stage=Selected"),t)},getMisReport:function(){return ge.get("/api/hr/mis-report/")},getRejectedCandidates:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Rejected",n=arguments.length>3?arguments[3]:void 0,a=new URLSearchParams;return e&&a.append("page",e),t&&a.append("search",t),r&&a.append("status",r),n&&a.append("job__designation__designation",n),ge.get("api/hr/applicant/?".concat(a.toString()))},updateRejectedCandidates:function(e){return ge.post("/api/hr/interview-details/",e)},createAttribute:function(e){return ge.post("/api/hr/attribute/",e)},getAttribute:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/hr/attribute/?".concat(r.toString()))},getAttributeList:function(){return ge.get("/api/hr/attribute/attibute_list/")},getUserGroupList:function(){return ge.get("/api/user/groups/group_list/")},createCompetancyAttribute:function(e){return ge.post("/api/hr/competency-attribute/",e)},UpdateCompetancyAttribute:function(e,t){return ge.patch("/api/hr/competency-attribute/".concat(e,"/"),t)},getCompentancyAttribute:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/hr/competency-attribute/?".concat(r.toString()))},createRoleClarity:function(e){return ge.post("/api/hr/role/",e)},UpdateRoleClarity:function(e,t){return ge.patch("/api/hr/role/".concat(e,"/"),t)},getRoleClarity:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/hr/role/?".concat(r.toString()))},createJobDescription:function(e){return ge.post("/api/hr/job-description/",e)},UpdateJobDescription:function(e,t){return ge.patch("/api/hr/job-description/".concat(e,"/"),t)},getJobDescription:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/hr/job-description/?".concat(r.toString()))},createMCQQuetion:function(e){return ge.post("api/hr/mcq/",e)},UpdateMCQQuetion:function(e,t){return ge.patch("api/hr/mcq/".concat(e,"/"),t)},getMCQQuetion:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("designation__designation",t),ge.get("/api/hr/mcq/?".concat(r.toString()))},deleteMCQQuestion:function(e){return ge.delete("/api/hr/mcq/".concat(e,"/"))},getCompetitorCandidates:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),ge.get("/api/hr/applicant/?is_competitor=true&".concat(r.toString()))},getDepartmentList:function(){return ge.get("/api/hr/department/?type=list")},getDesginationList:function(){return ge.get("/api/hr/designation/?type=list")},createInterviewQuestionAndanswwer:function(e){return ge.post("/api/hr/interview-question/",e)},getInterviewQuestionAndAnswer:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("designation__designation",t),r&&n.append("interview_type",r),ge.get("/api/hr/interview-question/?".concat(n.toString()))},UpdateInterviewQuestionandanswwer:function(e,t){return ge.patch("/api/hr/interview-question/".concat(e,"/"),t)},DeteteInterviewQuestionandanswwer:function(e){return ge.delete("/api/hr/interview-question/".concat(e,"/"))},handleGetDataFromCVAndCheckATS:function(e){return ge.post("/api/hr/ats/",e)},sendAutomatedMessage:function(e){return ge.post("/api/hr/whatsapp-email/",e)},bulkATScandidates:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("job__designation__designation",t),ge.get("/api/hr/bulk-ats/?".concat(r.toString()))},SendbulkEamilTocandidates:function(e){return ge.post("/api/hr/send-bulk-email/",e)},getAssessementDetails:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("search",t),r&&n.append("job__designation__designation",r),ge.get("/api/hr/interview/?".concat(n.toString()))},getAssessementResultDetails:function(e){return ge.post("/api/hr/question-answer/applicant_result/",e)},createCandidateFollowup:function(e){return ge.post("/api/hr/applicant-followup/",e)},getCandidateFollowup:function(e,t,r,n){var a=new URLSearchParams;return e&&a.append("page",e),t&&a.append("search",t),r&&a.append("applicant__job__designation__designation",r),n&&a.append("type",n),ge.get("/api/hr/applicant-followup/?".concat(a.toString()))},CandidateDoneFollowup:function(e,t){return ge.patch("/api/hr/applicant-followup/".concat(e,"/"),t)},getCandidates:function(){return ge.get("/api/master/model-option/?page=all&model_master__name=Applicant Followup Status")},getRevisedDataHrFollowup:function(){return ge.get("/api/hr/applicant-followup/revised_followup_date/")}};function Zl(){Zl=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Xl=function(e){var t=e.addNewJobOpening,r=(e.setOpenCreatePopup,Object(n.useState)({closing_date:null,designation:"",department:"",location:"",position:"",no_of_openings:0,pending_openings:0,salary_ranges:"",notes:""})),o=Object(l.a)(r,2),i=o[0],s=o[1],f=Object(n.useState)([]),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)([]),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=function(){var e=Object(c.a)(Zl().mark(function e(){var t;return Zl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.getLocationList();case 3:t=e.sent,console.log("location",t.data),x(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to fetch locationName",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){var e=function(){var e=Object(c.a)(Zl().mark(function e(){var t;return Zl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get("/api/hr/designation/?type=list");case 3:t=e.sent,console.log("API Response:",t.data),m(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching designations:",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(c.a)(Zl().mark(function e(){var t;return Zl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get("/api/user/users/?is_active=True");case 3:t=e.sent,Array.isArray(t.data.users)&&g(t.data.users.map(function(e){return e.email})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching Emails:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();e(),O(),t()},[]);var _=function(e,t){var r,n=t||e.target.value,a=e.target.name||e.target.id.split("-")[0];s(Object(u.a)({},i,(r={},Object(Y.a)(r,a,n),Object(Y.a)(r,"pending_openings",i.no_of_openings),r)))};return Object(n.useEffect)(function(){if(i.designation){var e=p.find(function(e){return e.designation===i.designation});e&&e.department!==i.department&&s(function(t){return Object(u.a)({},t,{department:e.department})})}},[i.designation]),a.a.createElement(Ae.a,null,a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{style:{minWidth:220},size:"small",onChange:function(e,t){s(Object(u.a)({},i,{designation:t}))},name:"designation",options:p.map(function(e){return e.designation}),getOptionLabel:function(e){return e||""},label:"Designation",value:i.designation})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{size:"small",type:"text",name:"department",label:"Department",value:i.department||"",onChange:_,fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{id:"location",size:"small",options:w.map(function(e){return e.name}),fullWidth:!0,label:"Location",value:i.location,onChange:function(e,t){_(e,t)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{size:"small",value:i.position,onChange:function(e,t){_({target:{name:"position",value:t}})},options:["New","Replacement","Backup"],label:"Position"})),"Replacement"===i.position&&a.a.createElement(sr,{size:"small",id:"replacement_user",options:v,fullWidth:!0,label:"Replacement Email",value:i.replacement_user,onChange:function(e,t){s(Object(u.a)({},i,{replacement_user:t}))}}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{size:"small",type:"number",name:"no_of_openings",label:"No Of Vacancies",value:i.no_of_openings||"",onChange:_,fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{size:"small",id:"salary_ranges",options:["0.6 LPA - 1.2 LPA","1.2 LPA - 1.8 LPA","1.8 LPA - 2.4 LPA","2.4 LPA - 3.0 LPA","3.0 LPA - 3.6 LPA","3.6 LPA - 4.2 LPA","4.8 LPA - 6.0 LPA","7.2 LPA - 9.6 LPA","9.6 LPA - 12 LPA","12 LPA - 15 LPA","15 LPA - 18 LPA","18 LPA - 21 LPA","21 LPA - 24 LPA","24 LPA - Above"],fullWidth:!0,label:"Salary Range",value:i.salary_ranges,onChange:function(e,t){_(e,t)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{size:"small",label:"Notes",name:"notes",fullWidth:!0,multiline:!0,rows:4,value:i.notes,onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){t(i)}},"Add Job Opening"))))};function $l(){$l=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var eu=function(e){var t=e.recordForEdit,r=e.updateJobOpening,o=e.setOpenUpdatePopup,i=Object(n.useState)(t||{}),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),d=m[0],y=m[1];Object(n.useEffect)(function(){var e=function(){var e=Object(c.a)($l().mark(function e(){var t;return $l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get("/api/user/users/?is_active=True");case 3:t=e.sent,Array.isArray(t.data.users)&&y(t.data.users.map(function(e){return e.email})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching Emails:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();null!=t&&h(t),e()},[t]);var v=function(e){var t=e.target,r=t.name,n=t.value;h(Object(u.a)({},f,Object(Y.a)({},r,n)))},g=function(){var e=Object(c.a)($l().mark(function e(t){return $l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!f||!f.id){e.next=7;break}return""===f.closing_date&&(f.closing_date=null),e.next=6,r(f.id,f);case 6:o(!1);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error updating job opening:",e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("form",{onSubmit:g},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{size:"small",label:"Date Of Closing",name:"closing_date",fullWidth:!0,type:"date",value:f.closing_date||null,onChange:v,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{size:"small",name:"no_of_openings",label:"No Of Vacancies",value:f.no_of_openings||"",onChange:v,fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{size:"small",id:"salary_ranges",options:["0.6 LPA - 1.2 LPA","1.2 LPA - 1.8 LPA","1.8 LPA - 2.4 LPA","2.4 LPA - 3.0 LPA","3.0 LPA - 3.6 LPA","3.6 LPA - 4.2 LPA","4.8 LPA - 6.0 LPA","7.2 LPA - 9.6 LPA","9.6 LPA - 12 LPA","12 LPA - 15 LPA","15 LPA - 18 LPA","18 LPA - 21 LPA","21 LPA - 24 LPA","24 LPA - Above"],fullWidth:!0,label:"Salary Range",value:f.salary_ranges||"",onChange:function(e,t){h(Object(u.a)({},f,{salary_ranges:t}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{size:"small",value:f.position,onChange:function(e,t){v({target:{name:"position",value:t}})},options:["New","Replacement","Backup"],label:"Position"})),"Replacement"===f.position&&a.a.createElement(sr,{size:"small",id:"replacement_user",options:d,fullWidth:!0,label:"Replacement Email",value:f.replacement_user,onChange:function(e,t){h(Object(u.a)({},f,{replacement_user:t}))}}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex",justifyContent:"flex-end",mt:2},a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary"},"Update Job Opening")))))},tu=function(e){var t=e.percent,r=e.misssingKeyWords,o=e.text,i=void 0===o?"":o,c=e.speed,u=void 0===c?10:c,s=Object(n.useState)(""),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1];return Object(n.useEffect)(function(){if(p(""),v(!1),"string"===typeof i){var e=0;return function t(){e<i.length?(p(function(t){return t+i[e]}),e+=1,setTimeout(t,u)):v(!0)}(),function(){v(!0)}}console.warn("Invalid text prop:",i)},[i,u]),a.a.createElement("div",{className:"typo-animation-container"},a.a.createElement("div",{className:"percent-container"},a.a.createElement("span",{className:"final-thoughts-label"},"Match Percentage :"),a.a.createElement("span",{className:"percent-value"},t,"%")),a.a.createElement("div",{className:"keywords-container"},a.a.createElement("span",{className:"keywords-label"},"Missing Keywords :"),a.a.createElement("ul",{className:"keywords-list"},r&&r.map(function(e,t){return a.a.createElement("li",{key:t,className:"keyword-item"},e)}))),a.a.createElement("span",{className:"final-thoughts-label"},"Final Thoughts :"),a.a.createElement("span",{style:{fontWeight:300,opacity:.8,fontSize:"14.4px"}},h),!y&&a.a.createElement("span",{className:"cursor"},"|"))};function ru(){ru=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var nu=function(e){var t=e.row,r=e.contact,o=e.closeDialog,i=e.setIsFollowupDone,u=e.getInterviewData,s=e.setOpenApplicantListPopup,f=Object(n.useState)(""),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(""),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)(""),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(!1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],T=gt(),N=T.handleSuccess,D=T.handleError,A=T.handleCloseSnackbar,I=T.alertInfo,F=function(){var e=Object(c.a)(ru().mark(function e(n){var a;return ru().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={date:p,time:v,interviewer:w,status:"Schedule",stage:"Round1",applicant:r||t.contact},e.prev=2,L(!0),e.next=6,Kl.addInterviewDate(a);case 6:N("Interview Scheduled Successfully"),setTimeout(function(){"function"===typeof o&&o(),"function"===typeof u&&u(),"function"===typeof i&&i(!1),"function"===typeof s&&s(!1)},500),L(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),L(!1),D("Error scheduling interview"),console.error("Error scheduling interview:",e.t0);case 16:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){(function(){var e=Object(c.a)(ru().mark(function e(){var t;return ru().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get("/api/user/users/?is_active=True");case 3:t=e.sent,Array.isArray(t.data.users)&&C(t.data.users),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching Email:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}})()()},[]),a.a.createElement("form",{onSubmit:F,style:{width:"100%",marginTop:"20px"}},a.a.createElement(Je,{open:j}),a.a.createElement(yt,{open:I.open,onClose:A,severity:I.severity,message:I.message}),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{size:"small",label:"Interview Date",type:"date",fullWidth:!0,value:p,onChange:function(e){return m(e.target.value)},InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:v,onChange:function(e,t){g(t)},options:["11 AM to 1 PM","1 PM to 3 PM","3 PM TO 5 PM"],label:"Interview Time"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return function(e,t){x(t)}(0,t)},name:"email",options:P.map(function(e){return e.email}),getOptionLabel:function(e){return"".concat(e)},label:"Interviewer Email"}))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"flex-end",mt:2,gap:3},"function"===typeof s&&a.a.createElement(We.a,{fullwidth:!0,variant:"contained",color:"error",onClick:function(){return s(!1)}},"Cancel"),a.a.createElement(We.a,{fullwidth:!0,type:"submit",variant:"contained",color:"primary"},"Schedule Interview")))};function au(){au=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ou=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),iu=function(e){var t=e.jobOpeningId,r=e.setOpenApplicantListPopup,o=Object(n.useState)(null),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)({job:t.job_id,name:"",contact:"",email:"",qualification:"",current_location:"",current_salary:"",expected_salary:"",spoken_english:"",source:"",is_competitor:!1,cv:null}),p=Object(l.a)(h,2),m=p[0],v=p[1],g=Object(n.useState)({applicant:s||"",call_status:"",notes:"",applicant_status:""}),b=Object(l.a)(g,2),w=b[0],x=b[1],O=Object(n.useState)(!1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(!1),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)([]),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)(null),F=Object(l.a)(I,2),G=F[0],W=F[1],z=Object(n.useState)({message:"",severity:"",open:!1}),R=Object(l.a)(z,2),B=R[0],M=R[1],q=Object(n.useState)([]),U=Object(l.a)(q,2),V=U[0],Q=U[1],H=Object(n.useState)(!1),J=Object(l.a)(H,2),K=J[0],Z=J[1];Object(n.useEffect)(function(){(function(){var e=Object(c.a)(au().mark(function e(){var t;return au().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get("/api/hr/source/");case 3:t=e.sent,Array.isArray(t.data)&&A(t.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),M({open:!0,message:e.t0.message||"Error fetching designations",severity:"error"}),console.error("Error fetching designations:",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}})()()},[]);var X=function(e,t,r){if(r)v(function(e){return Object(u.a)({},e,Object(Y.a)({},r,t))});else{var n=e.target,a=n.name,o=n.value;"contact"!==a||o.startsWith("+91")||(o="+91".concat(o)),v(function(e){return Object(u.a)({},e,Object(Y.a)({},a,o))})}},$=function(){var e=Object(c.a)(au().mark(function e(){var t,r,n;return au().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),(t=new FormData).append("job",m.job),t.append("cv",m.cv),e.next=7,Kl.handleGetDataFromCVAndCheckATS(t);case 7:200===(r=e.sent).status?(n=r.data||{},v(function(e){return Object(u.a)({},e,{match_percentage:n.match_percentage&&!isNaN(parseFloat(n.match_percentage))?parseFloat(n.match_percentage):null,keywords_missing:n.keywords_missing||[],final_thoughts:n.final_thoughts||"",name:n.name||"",email:n.email||"",contact:n.phone?"+91".concat(n.phone):"",qualification:n.highest_education||""})}),C(!0)):M({open:!0,message:"Error: Received status ".concat(r.status),severity:"error"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),M({open:!0,message:e.t0.response.data.message||"Error getting data from CV",severity:"error"}),console.error("Error getting data from CV",e.t0);case 15:return e.prev=15,L(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,11,15,18]])}));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(c.a)(au().mark(function e(t){var r,n,a;return au().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),L(!0),r=new FormData,Object.keys(m).forEach(function(e){var t=m[e];"keywords_missing"!==e||t||(t=[]),t&&r.append(e,Array.isArray(t)?JSON.stringify(t):t)}),e.prev=4,e.next=7,Kl.addApplicant(r);case 7:201===(n=e.sent).status&&(a=n.data,M({open:!0,message:a.message||"Applicant created successfully",severity:"success"}),f(a.contact),v(function(e){return Object(u.a)({},e,{name:"",email:"",contact:"",qualification:"",current_location:"",current_salary:"",expected_salary:"",spoken_english:"",source:"",is_competitor:!1,cv:null})})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),M({open:!0,message:e.t0.response.data.message||"Error creating applicant",severity:"error"}),console.error("Error creating applicant:",e.t0);case 15:return e.prev=15,L(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[4,11,15,18]])}));return function(t){return e.apply(this,arguments)}}(),te=function(e,t,r){x(function(e){return Object(u.a)({},e,Object(Y.a)({},r,t))})},re=function(){var e=Object(c.a)(au().mark(function e(t){var n,a,o;return au().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s){e.next=4;break}return M({open:!0,message:"Contact number is required",severity:"error"}),e.abrupt("return");case 4:return e.prev=4,L(!0),n={applicant:s||"",call_status:w.call_status,applicant_status:w.applicant_status,notes:w.notes},e.next=9,Kl.createCandidateFollowup(n);case 9:a=e.sent,o=a.data,201===a.status&&(M({open:!0,message:"Followup created successfully",severity:"success"}),!0===o.success?Z(!0):r(!1)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),M({open:!0,message:e.t0.response.data.message||"Error creating followup",severity:"error"}),console.error("Error creating followup:",e.t0);case 18:return e.prev=18,L(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[4,14,18,21]])}));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){(function(){var e=Object(c.a)(au().mark(function e(){var t;return au().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,Kl.getCandidates();case 4:t=e.sent,Q(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,L(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}})()()},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:B.open,message:B.message,severity:B.severity,onClose:function(){M({open:!1})}}),a.a.createElement(Je,{open:j}),a.a.createElement(at.a,{component:"form",onSubmit:ee,noValidate:!0,sx:{mt:1,height:"70vh",overflowY:"auto"}},a.a.createElement(Ae.a,null,a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ye.a,{size:"small",label:"Name of Candidate",name:"name",fullWidth:!0,value:m.name,onChange:X})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ye.a,{size:"small",label:"Phone Number",name:"contact",fullWidth:!0,value:m.contact,onChange:X})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ye.a,{size:"small",label:"Email Address",name:"email",fullWidth:!0,value:m.email,onChange:X})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ye.a,{size:"small",label:"Highest Education Qualification",name:"qualification",fullWidth:!0,value:m.qualification,onChange:X})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{size:"small",style:{minWidth:220},onChange:function(e,t){return X({target:{name:"source",value:t}},t)},options:D.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Candidate Source",value:m.source})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ye.a,{size:"small",fullWidth:!0,label:"Current Location",name:"current_location",value:m.current_location,onChange:X})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ye.a,{size:"small",label:"Annual Salary",name:"current_salary",fullWidth:!0,value:m.current_salary,onChange:X})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{size:"small",id:"expected_salary",options:["0.6 LPA - 1.2 LPA","1.2 LPA - 1.8 LPA","1.8 LPA - 2.4 LPA","2.4 LPA - 3.0 LPA","3.0 LPA - 3.6 LPA","3.6 LPA - 4.8 LPA","4.8 LPA - 6.0 LPA","7.2 LPA - 9.6 LPA","9.6 LPA - 12 LPA","12 LPA - 15 LPA","15 LPA - 18 LPA","18 LPA - 21 LPA","21 LPA - 24 LPA","24 LPA - Above"],renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Expected Annual Salary"}))},value:m.expected_salary,onChange:function(e,t){X(e,t,"expected_salary")},label:"Expected Salary"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{size:"small",id:"spoken_english",options:["Bad","Average","Good"],renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Spoken English"}))},value:m.spoken_english,onChange:function(e,t){v(function(e){return Object(u.a)({},e,{spoken_english:t})})},label:"Spoken English"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(We.a,{variant:"outlined",color:"secondary",component:"label",fullWidth:!0,size:"small"},"Upload CV",a.a.createElement("input",{type:"file",hidden:!0,accept:".pdf,.doc,.docx",onChange:function(e){var t=e.target.files[0];if(t&&["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(t.type))if(v(function(e){return Object(u.a)({},e,{cv:t})}),"application/pdf"===t.type){var r=URL.createObjectURL(t);W(r)}else W(null);else M({open:!0,message:"Invalid file type. Please upload a PDF or DOC file",severity:"error"}),e.target.value=null}})),G&&a.a.createElement(Ae.a,{mt:2,position:"relative"},a.a.createElement(E.a,{variant:"body1"},"CV Preview:"),a.a.createElement(d.a,{"aria-label":"close",size:"small",onClick:function(){v(function(e){return Object(u.a)({},e,{cv:null})}),W(null)},style:{position:"absolute",right:0,top:0}},a.a.createElement(_e.a,null)),a.a.createElement("embed",{src:G,width:"100%",height:"150px",type:"application/pdf"}))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(pr.a,{control:a.a.createElement(mr.a,{checked:v.is_competitor,onChange:function(e){return v(function(t){return Object(u.a)({},t,{is_competitor:e.target.checked})})}}),label:"Is Competitor"})),P&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(tu,{percent:m.match_percentage,text:m.final_thoughts,speed:10,misssingKeyWords:m.keywords_missing})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(We.a,{variant:"contained",color:"success",component:"label",fullWidth:!0,onClick:$,disabled:P},"eluavate resume")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary"},"Add Applicant")),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ou,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Follow up"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{size:"small",id:"call_status",name:"call_status",options:["Connected","Disconnected"],renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Call Status"}))},value:w.call_status,onChange:function(e,t){return te(0,t,"call_status")},label:"Call Status"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{size:"small",id:"applicant_status",options:V,getOptionLabel:function(e){return e.name},renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Applicant Status"}))},value:V.find(function(e){return e.id===w.applicant_status})||null,onChange:function(e,t){return te(0,t?t.id:null,"applicant_status")}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{size:"small",label:"Notes",name:"notes",fullWidth:!0,value:w.notes,onChange:function(e){var t=e.target,r=t.name,n=t.value;x(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})}}))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"flex-end",mt:2},a.a.createElement(We.a,{fullWidth:!0,onClick:re,variant:"contained",color:"secondary"},"Add Followup"))),a.a.createElement(Ce,{openPopup:K,setOpenPopup:Z,title:"Schedule Interview",maxWidth:"md"},a.a.createElement(nu,{setIsFollowupDone:Z,contact:s,setOpenApplicantListPopup:r}))))};function cu(){cu=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var lu=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(null),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(null),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(!1),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(s.c)(function(e){return e.auth}).profile.groups.includes("Sales Manager"),A=Object(n.useState)(1),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useState)(""),z=Object(l.a)(W,2),R=z[0],B=z[1],M=Object(n.useState)(0),q=Object(l.a)(M,2),U=q[0],Y=q[1],V=Object(n.useState)(""),Q=Object(l.a)(V,2),H=Q[0],J=Q[1],K=gt(),Z=K.handleSuccess,X=K.handleError,$=K.handleCloseSnackbar,ee=K.alertInfo,te=Object(n.useCallback)(function(){var e=Object(c.a)(cu().mark(function e(t){var r,n,a,i=arguments;return cu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:R,e.prev=1,o(!0),e.next=5,Kl.getJobOpening(t,r,H);case 5:n=e.sent,h(n.data.results),a=n.data.count,Y(Math.ceil(a/25)),o(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),X(e.t0),console.error("Error fetching job openings:",e.t0);case 16:return e.prev=16,o(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[1,12,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[R,H]);Object(n.useEffect)(function(){te(F,R)},[F,R,H,te]);var re=function(){var e=Object(c.a)(cu().mark(function e(t){return cu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kl.addJobOpening(t);case 4:te(),Z("Job Opening added successfully"),setTimeout(function(){y(!1)},300),o(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),X(e.t0),console.error("Error adding job opening:",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(c.a)(cu().mark(function e(t,r){return cu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kl.updateJobOpening(t,r);case 4:te(),Z("Job Opening Updated successfully"),setTimeout(function(){y(!1)},300),o(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),X(e.t0),console.error("Error updating job opening:",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}));return function(t,r){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:ee.open,onClose:$,severity:ee.severity,message:ee.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ur,{onSearch:function(e){B(e),G(1)},onReset:function(){B(""),G(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{fullWidth:!0,name:"stage",size:"small",disablePortal:!0,id:"combo-box-stage",onChange:function(e,t){return J(t)},options:["Open","Closed"],getOptionLabel:function(e){return e},label:"Filter By Stage"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return y(!0)}},"Add")))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Job Openings")),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(uu,{align:"center"},"Job ID"),a.a.createElement(uu,{align:"center"},"Date of Opening"),a.a.createElement(uu,{align:"center"},"Designation"),a.a.createElement(uu,{align:"center"},"Location"),a.a.createElement(uu,{align:"center"},"Salary Range"),a.a.createElement(uu,{align:"center"},"Stage"),a.a.createElement(uu,{align:"center"},"Date of Closing"),a.a.createElement(uu,{align:"center"},"Days Open"),a.a.createElement(uu,{align:"center"},"No Of Vacancies"),a.a.createElement(uu,{align:"center"},"Pending Vacancies"," "),a.a.createElement(uu,{align:"center"},"Action "))),a.a.createElement(Hn.a,null,f.map(function(e,t){return a.a.createElement(su,{key:t},a.a.createElement(uu,{align:"center"},e.job_id),a.a.createElement(uu,{align:"center"},e.opening_date),a.a.createElement(uu,{align:"center"},e.designation),a.a.createElement(uu,{align:"center"},e.location),a.a.createElement(uu,{align:"center"},e.salary_ranges),a.a.createElement(uu,{align:"center"},e.stage),a.a.createElement(uu,{align:"center"},e.closing_date),a.a.createElement(uu,{align:"center"},e.days_open),a.a.createElement(uu,{align:"center"},e.no_of_openings),a.a.createElement(uu,{align:"center"},e.pending_openings),a.a.createElement(uu,{align:"center"},a.a.createElement(We.a,{color:"success",size:"small",onClick:function(){return _(e),void E(!0)}},"View"),a.a.createElement(We.a,{color:"info",size:"small",onClick:function(){return k(e),void N(!0)}},"Add Candidate")))})))),a.a.createElement(Vr,{currentPage:F,totalPages:U,handlePageChange:function(e,t){G(t)}}),!D&&a.a.createElement(Ce,{title:"Add New Applicant",openPopup:T,setOpenPopup:N},a.a.createElement(iu,{jobOpeningId:S,setOpenApplicantListPopup:N})),a.a.createElement(Ce,{title:"Add New Job Opening",openPopup:d,setOpenPopup:y},a.a.createElement(Xl,{addNewJobOpening:re})),a.a.createElement(Ce,{title:"Edit Job Opening",openPopup:b,setOpenPopup:E},a.a.createElement(eu,{recordForEdit:O,updateJobOpening:ne,setOpenUpdatePopup:E,fetchJobOpenings:te})))))},uu=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),su=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),fu=r(670);function hu(){hu=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var pu=function(e){var t=e.row,r=e.closeDialog,o=e.onUpdateComplete,i=Object(n.useState)(t?t.status:""),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(t&&t.joining_date?t.joining_date:null),p=Object(l.a)(h,2),m=p[0],d=p[1],y=gt(),v=y.handleSuccess,g=y.handleError,b=y.handleCloseSnackbar,E=y.alertInfo,w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1];Object(n.useEffect)(function(){"Rejected"===s&&d("")},[s]);var P=function(){var e=Object(c.a)(hu().mark(function e(){var n;return hu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={status:s,email:t.email,contact:t.contact,doj:m||null,stage:"Offer",rejection_reason:"Rejected"===s?O:null},e.prev=1,k(!0),e.next=5,Kl.updateApplicant(t.id,n);case 5:v("Offer status updated successfully!"),setTimeout(function(){r(),o()},500),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),g("Error updating offer status:");case 12:return e.prev=12,k(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,9,12,15]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(Fe.a,{container:!0,spacing:2,sx:{padding:"20px"}},a.a.createElement(Je,{open:S}),a.a.createElement(yt,{open:E.open,onClose:b,severity:E.severity,message:E.message}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{value:s,onChange:function(e,t){f(t)},options:["Sent","Accepted","Rejected","Joined"],label:"Offer Status",fullWidth:!0})),"Rejected"===s&&a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{value:O,onChange:function(e,t){_(t)},options:["Candidate is not interested in the offer want higher offer.","Candidate had a negative reference.","Candidate didn\u2019t give correct last salary."],label:"Rejection Reason",fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{label:"Joining Date",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:m,onChange:function(e){d(e.target.value)},disabled:"Rejected"===s})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(fu.a,null,a.a.createElement(We.a,{onClick:r,color:"primary"},"Cancel"),a.a.createElement(We.a,{onClick:P,color:"primary"},"Update"))))};function mu(){mu=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var du=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(null),v=Object(l.a)(y,2),g=v[0],b=v[1],E=function(){var e=Object(c.a)(mu().mark(function e(){var t;return mu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Kl.getOfferStatus();case 4:t=e.sent,d(t.data.results),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching offers:",e.t0);case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){E()},[]);var w=function(){o(!1)};return a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Je,{open:s}),a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{flexGrow:1,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Offer Status")),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(yu,{align:"center"},"Candidate Name"),a.a.createElement(yu,{align:"center"},"Email"),a.a.createElement(yu,{align:"center"},"Phone Number"),a.a.createElement(yu,{align:"center"},"Designation"),a.a.createElement(yu,{align:"center"},"Location"),a.a.createElement(yu,{align:"center"},"Stage"),a.a.createElement(yu,{align:"center"},"Status"),a.a.createElement(yu,{align:"center"},"Joining Date"),a.a.createElement(yu,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,m.map(function(e,t){return a.a.createElement(vu,{key:t},a.a.createElement(yu,{align:"center"},e.name),a.a.createElement(yu,{align:"center"},e.email),a.a.createElement(yu,{align:"center"},e.contact),a.a.createElement(yu,{align:"center"},e.designation),a.a.createElement(yu,{align:"center"},e.current_location),a.a.createElement(yu,{align:"center"},e.stage),a.a.createElement(yu,{align:"center"},e.status),a.a.createElement(yu,{align:"center"},e.doj),a.a.createElement(yu,{align:"center"},a.a.createElement(We.a,{variant:"outlined",color:"info",size:"small",onClick:function(){return function(e){b(e),o(!0)}(e)}},"View")))})))),a.a.createElement(je.a,{open:r,onClose:w,"aria-labelledby":"form-dialog-title"},a.a.createElement(Le.a,{id:"form-dialog-title"},"Offer Status Update"),a.a.createElement(Se.a,null,a.a.createElement(pu,{row:g,closeDialog:w,onUpdateComplete:E})))))},yu=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),vu=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),gu=r(671),bu=r(315),Eu=r.n(bu),wu=r(316),xu=r.n(wu),Ou=r(125),_u=r(277);function ju(){ju=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Lu=function(e){var t=e.candidateData,r=e.setOpenCandidatePopup,o=e.getCandidateProfile,i=e.fetchApplicants,s=Object(n.useState)({name:t.name||"",contact:t.contact||"",email:t.email||"",status:t.status||""}),f=Object(l.a)(s,2),h=f[0],p=f[1],m=gt(),d=m.handleSuccess,y=m.handleError,v=m.handleCloseSnackbar,g=m.alertInfo,b=Object(n.useState)(!1),E=Object(l.a)(b,2),w=E[0],x=E[1],O=function(e,t){var r=e.target||{},n=r.name,a=r.value;"contact"!==n||a.startsWith("+91")||(a="+91".concat(a)),p(function(e){return Object(u.a)({},e,Object(Y.a)({},n,void 0!==t?t:a))})},_=function(){var e=Object(c.a)(ju().mark(function e(n){return ju().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,x(!0),e.next=5,Kl.updateApplicant(t.id,h);case 5:setTimeout(function(){d("Successfully updated"),o(),i(),r(!1)},500),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error updating applicant:",e.t0),y("Error in update applicant");case 12:return e.prev=12,x(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,8,12,15]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:w}),a.a.createElement(yt,{open:g.open,onClose:v,severity:g.severity,message:g.message}),a.a.createElement(at.a,{component:"form",onSubmit:_,noValidate:!0,sx:{mt:1,padding:"20px",backgroundColor:"#f5f5f5",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"8px",height:"70vh",overflowY:"auto"}},a.a.createElement(Ae.a,null,a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{size:"small",label:"Name of Candidate",name:"name",fullWidth:!0,value:h.name||"",onChange:O})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{size:"small",label:"Phone Number",name:"contact",fullWidth:!0,value:h.contact||"",onChange:O})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{size:"small",label:"Email Address",name:"email",fullWidth:!0,value:h.email||"",onChange:O})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(sr,{name:"status",size:"small",disablePortal:!0,id:"combo-box-description",onChange:function(e,t){p(function(e){return Object(u.a)({},e,{status:t})})},value:h.status||"",options:Su,getOptionLabel:function(e){return e},label:"Status"})),"Rejected"===h.status&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(sr,{name:"rejection_reason",size:"small",disablePortal:!0,id:"combo-box-description",onChange:function(e,t){return p(function(e){return Object(u.a)({},e,{rejection_reason:t})})},options:ku,getOptionLabel:function(e){return e},label:"rejection_reason"}))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"flex-end",mt:2},a.a.createElement(We.a,{fullwidth:!0,variant:"contained",color:"primary",onClick:_},"Update Applicant")))))},Su=["Shortlisted","Rejected","Not Interested"],ku=["Insufficient Technical Knowledge","Poor Problem-Solving Skills","Lack of Practical Experience","Poor Communication Skills","Cultural Mismatch","Lack of Enthusiasm or Interest","Inadequate Responses to Behavioral Questions","Inconsistent Career Goals","Negative Team Feedback","Poor Performance in Team Exercises","Unprofessional Behavior","Overconfidence or Arrogance","Failed Technical Assessments","Background Check Issues","Better Fit Found"],Pu=r(314),Cu=r.n(Pu);function Tu(){Tu=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Nu=function(e){var t=e.candidate,r=e.onUploadSuccess,o=Object(n.useState)(null),i=Object(l.a)(o,2),u=i[0],s=i[1],f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],y=Object(n.useState)(null),v=Object(l.a)(y,2),g=v[0],b=v[1],w=Object(n.useState)({message:"",severity:"",open:!1}),x=Object(l.a)(w,2),O=x[0],_=x[1],j=function(){var e=Object(c.a)(Tu().mark(function e(){var n,a;return Tu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=25;break}return(n=new FormData).append("cv",u),n.append("email",t.email),n.append("contact",t.contact),e.prev=5,m(!0),e.next=9,Kl.updateApplicant(t.id,n);case 9:a=e.sent,console.log("CV upload response",a.data),_({message:"CV uploaded successfully",open:!0,severity:"success"}),r(),b(null),s(null),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),_({message:"Failed to upload CV",open:!0,severity:"error"});case 20:return e.prev=20,m(!1),e.finish(20);case 23:e.next=26;break;case 25:_({message:"Please select a file first",open:!0,severity:"warning"});case 26:case"end":return e.stop()}},e,null,[[5,17,20,23]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:p}),a.a.createElement($e,{open:O.open,message:O.message,severity:O.severity,onClose:function(){_({open:!1})}}),a.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files[0];if(s(t),t){var r=URL.createObjectURL(t);b(r)}},style:{display:"none"},id:"upload-cv-input"}),a.a.createElement("label",{htmlFor:"upload-cv-input"},a.a.createElement(gu.a,{title:"Select CV"},a.a.createElement(d.a,{color:"primary",component:"span"},a.a.createElement(Cu.a,null)))),a.a.createElement(We.a,{variant:"contained",color:"secondary",size:"small",onClick:j,style:{marginLeft:"5px"}},"Submit"),g&&a.a.createElement(Ae.a,{mt:2},u.type.startsWith("image/")?a.a.createElement("img",{src:g,alt:"Preview",style:{maxWidth:"100%",height:"auto"}}):"application/pdf"===u.type?a.a.createElement(E.a,null,a.a.createElement("a",{href:g,target:"_blank",rel:"noopener noreferrer"},"Preview PDF")):a.a.createElement(E.a,null,a.a.createElement("a",{href:g,target:"_blank",rel:"noopener noreferrer"},"Preview File"))))},Du=r(233),Au=r.n(Du),Iu=r(232),Fu=r.n(Iu);function Gu(){Gu=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Wu=function(e){var t=e.candidateData,r=e.fetchApplicants,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],s=i[1],f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],v=Object(n.useState)({}),g=Object(l.a)(v,2),b=g[0],w=g[1],x=Object(n.useState)({message:"",severity:"",open:!1}),O=Object(l.a)(x,2),_=O[0],j=O[1],L=function(){var e=Object(c.a)(Gu().mark(function e(){var r;return Gu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Kl.getCandidateProfile(t.id);case 4:r=e.sent,w(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error",e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){L()},[t.id]);var S=function(){var e=Object(c.a)(Gu().mark(function e(t){var n;return Gu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),n={contact:b.contact,email:b.email,designation:b.designation,type:"whatsapp",name:b.name},e.next=5,Kl.sendAutomatedMessage(n);case 5:200===e.sent.status&&(j({message:"Whatsapp message has been sent successfully",severity:"success",open:!0}),r()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),j({message:e.t0&&e.t0.response.data.message||"Error sending Whatsapp Message",severity:"error",open:!0}),console.error("Error sending Whatsapp Message:",e.t0);case 13:return e.prev=13,m(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,9,13,16]])}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(Gu().mark(function e(t){var n;return Gu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),n={contact:b.contact,email:b.email,designation:b.designation,type:"email",name:b.name},e.next=5,Kl.sendAutomatedMessage(n);case 5:200===e.sent.status&&(j({message:"Email has been sent successfully",severity:"success",open:!0}),r()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),j({message:e.t0&&e.t0.response.data.message||"Error sending Email Message",severity:"error",open:!0}),console.error("Error sending Email Message:",e.t0);case 13:return e.prev=13,m(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,9,13,16]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(at.a,{maxWidth:"md"},a.a.createElement($e,{open:_.open,message:_.message,severity:_.severity,onClose:function(){j({open:!1})}}),a.a.createElement(Je,{open:p}),a.a.createElement(Nl.a,{sx:{boxShadow:3,borderRadius:3,overflow:"hidden",marginBottom:4}},a.a.createElement(Dl.a,null,a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:2,display:"flex",justifyContent:"center"},a.a.createElement(Ie.a,{sx:{bgcolor:Ou.a[500],width:50,height:50,fontSize:40}},a.a.createElement(Eu.a,{sx:{fontSize:40}}))),a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(E.a,{variant:"h5",fontWeight:"bold"},b.name||"N/A"),a.a.createElement(E.a,{color:"textSecondary"},b.designation||"No Designation")),a.a.createElement(Fe.a,{item:!0,xs:12,md:4,display:"flex",justifyContent:"space-between",alignItems:"center"},a.a.createElement(Ae.a,{textAlign:"center",width:"50%"},a.a.createElement(E.a,{variant:"body1",color:"textSecondary"},"Stage"),a.a.createElement(lr.a,{label:b.stage||"Screening",color:"primary",variant:"outlined",sx:{fontWeight:"bold",mt:1}})),a.a.createElement(Ae.a,{textAlign:"center",width:"50%"},a.a.createElement(E.a,{variant:"body1",color:"textSecondary"},"Status"),a.a.createElement(lr.a,{label:b.status||"Open",color:"secondary",variant:"outlined",sx:{fontWeight:"bold",mt:1}}))),a.a.createElement(Fe.a,{item:!0,xs:12,md:2,mt:3},a.a.createElement(gu.a,{title:"Edit Profile"},a.a.createElement(d.a,{onClick:function(){return s(!0)},sx:{bgcolor:_u.a[200]}},a.a.createElement(xu.a,null))))),a.a.createElement(y.a,{sx:{my:3}}),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,{variant:"body2",sx:{mb:1}},a.a.createElement("strong",null,"Email:")," ",b.email||"N/A"),a.a.createElement(E.a,{variant:"body2",sx:{mb:1}},a.a.createElement("strong",null,"Contact:")," ",b.contact||"N/A"),a.a.createElement(E.a,{variant:"body2",sx:{mb:1}},a.a.createElement("strong",null,"Department:")," ",b.department||"N/A"),a.a.createElement(E.a,{variant:"body2",sx:{mb:1}},a.a.createElement("strong",null,"Job ID:")," ",b.job||"N/A")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,{variant:"body2",sx:{mb:1}},a.a.createElement("strong",null,"Location:")," ",b.location||"N/A"),a.a.createElement(E.a,{variant:"body2",sx:{mb:1}},a.a.createElement("strong",null,"Current Location:")," ",b.current_location||"N/A"),a.a.createElement(E.a,{variant:"body2",sx:{mb:1}},a.a.createElement("strong",null,"Current LPA:")," ",b.current_salary||"N/A"),a.a.createElement(E.a,{variant:"body2",sx:{mb:1}},a.a.createElement("strong",null,"Expected Salary:")," ",b.expected_salary||"N/A"))),a.a.createElement(Fe.a,{container:!0,spacing:2,sx:{mt:3}},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,{variant:"body2",sx:{mb:1}},a.a.createElement("strong",null,"Spoken English:")," ",b.spoken_english||"N/A"),a.a.createElement(E.a,{variant:"body2",sx:{mb:1}},a.a.createElement("strong",null,"Qualification:")," ",b.qualification||"N/A"),a.a.createElement(E.a,{variant:"body2",sx:{mb:1}},a.a.createElement("strong",null,"Source:")," ",b.source||"N/A"),a.a.createElement(E.a,{variant:"body2",sx:{mb:1}},a.a.createElement("strong",null,"Created By:")," ",b.created_by||"N/A")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,{variant:"body2",sx:{mb:1}},a.a.createElement("strong",null,"Resume Match:")," ",b.match_percentage&&"".concat(b.match_percentage," %")||"N/A"),a.a.createElement(E.a,{variant:"body2",sx:{display:"flex",alignItems:"center",mb:1}},a.a.createElement("strong",null,"WhatsApp Send:"),a.a.createElement(gu.a,{onClick:S,title:b.is_whatsapp_sent?"Resend WhatsApp":"Send WhatsApp"},a.a.createElement(We.a,{size:"small",variant:b.is_whatsapp_sent?"outlined":"text",color:b.is_whatsapp_sent?"success":"primary",startIcon:b.is_whatsapp_sent?a.a.createElement(Fu.a,null):a.a.createElement(Au.a,null),sx:{ml:1}},b.is_whatsapp_sent?"Resend":"Send"))),a.a.createElement(E.a,{variant:"body2",sx:{display:"flex",alignItems:"center",mb:1}},a.a.createElement("strong",null,"Email Send:"),a.a.createElement(gu.a,{onClick:k,title:b.is_email_sent?"Resend Email":"Send Email"},a.a.createElement(We.a,{size:"small",variant:b.is_email_sent?"outlined":"text",color:b.is_email_sent?"success":"secondary",startIcon:b.is_email_sent?a.a.createElement(Fu.a,null):a.a.createElement(Au.a,null),sx:{ml:1}},b.is_email_sent?"Resend":"Send"))))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"20px",sx:{mt:3}},a.a.createElement(We.a,{variant:"contained",color:"primary",startIcon:a.a.createElement(Fi.a,null),onClick:function(){if(b.cv){var e=b.cv,r=document.createElement("a");r.href=e,r.download="".concat(t.name).concat(t.id,".resume"),r.target="_blank",r.rel="noopener noreferrer",document.body.appendChild(r),r.click(),document.body.removeChild(r)}else j({message:"CV is not uploaded for this candidate",open:!0,severity:"error"})},size:"small"},"View CV"),a.a.createElement(Nu,{candidate:b,onUploadSuccess:L})))),a.a.createElement(Ce,{maxWidth:"md",title:"Update Candidate Profile",openPopup:u,setOpenPopup:s},a.a.createElement(Lu,{getCandidateProfile:L,candidateData:b,fetchApplicants:r,setOpenCandidatePopup:s})))};function zu(){zu=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ru=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(null),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(""),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(1),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(0),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)([]),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useState)([]),M=Object(l.a)(B,2),q=M[0],U=M[1],V=Object(n.useState)(!1),Q=Object(l.a)(V,2),H=Q[0],J=Q[1],K=Object(n.useState)({message:"",severity:"",open:!1}),Z=Object(l.a)(K,2),X=Z[0],$=Z[1],ee=Object(n.useState)({designations:"",department:"",stage:"",status:"",date:""}),te=Object(l.a)(ee,2),re=te[0],ne=te[1];Object(n.useEffect)(function(){var e=function(){var e=Object(c.a)(zu().mark(function e(){var t;return zu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get("/api/hr/designation/?type=list");case 3:t=e.sent,console.log("API Response:",t.data),R(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching designations:",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(c.a)(zu().mark(function e(){var t,r;return zu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get("/api/hr/department/");case 3:t=e.sent,r=t.data.filter(function(e){return null!=e.department}),U(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching departments:",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}();e(),t()},[]);var ae=function(){var e=Object(c.a)(zu().mark(function e(){var t,r;return zu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kl.getApplicants(T,S,re.designations,re.department,re.stage,re.status,re.date);case 4:t=e.sent,h(t.data.results),r=t.data.count,F(Math.ceil(r/25)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),$({message:e.t0.response.data.error,severity:"error",open:!0}),console.error("Error fetching applicants:",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){ae()},[T,S,re.designations,re.department,re.stage,re.status,re.date]);var oe=function(){var e=Object(c.a)(zu().mark(function e(t){return zu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kl.addApplicant(t);case 4:ae(),y(!1),o(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error adding applicant:",e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t){return e.apply(this,arguments)}}(),ie=function(e,t,r){ne(function(e){return Object(u.a)({},e,Object(Y.a)({},r,t))})},ce=function(){var e=Object(c.a)(zu().mark(function e(t){var r;return zu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),r={contact:t.contact,email:t.email,designation:t.designation,type:"whatsapp",name:t.name},e.next=5,Kl.sendAutomatedMessage(r);case 5:200===e.sent.status&&($({message:"Whatsapp message has been sent successfully",severity:"success",open:!0}),ae()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),$({message:e.t0&&e.t0.response.data.message||"Error sending Whatsapp Message",severity:"error",open:!0}),console.error("Error sending Whatsapp Message:",e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,9,13,16]])}));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(c.a)(zu().mark(function e(t){var r;return zu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),r={contact:t.contact,email:t.email,designation:t.designation,type:"email",name:t.name},e.next=5,Kl.sendAutomatedMessage(r);case 5:200===e.sent.status&&($({message:"Email has been sent successfully",severity:"success",open:!0}),ae()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),$({message:e.t0&&e.t0.response.data.message||"Error sending Email Message",severity:"error",open:!0}),console.error("Error sending Email Message:",e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,9,13,16]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:r}),a.a.createElement($e,{open:X.open,message:X.message,severity:X.severity,onClose:function(){$({open:!1})}}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ur,{onSearch:function(e){k(e),N(1)},onReset:function(){k(""),N(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:10},a.a.createElement(Ae.a,{display:"flex",gap:"2rem"},a.a.createElement(sr,{fullWidth:!0,name:"designations",size:"small",disablePortal:!0,id:"combo-box-stage",onChange:function(e,t){return ie(0,t,"designations")},options:z.map(function(e){return e.designation}),getOptionLabel:function(e){return e},label:"Filter By Designation"}),a.a.createElement(sr,{fullWidth:!0,name:"department",size:"small",disablePortal:!0,id:"combo-box-status",onChange:function(e,t){return ie(0,t,"department")},options:q.map(function(e){return e.department}),getOptionLabel:function(e){return e},label:"Filter By Department"}),a.a.createElement(sr,{fullWidth:!0,name:"stage",size:"small",disablePortal:!0,id:"combo-box-status",onChange:function(e,t){return ie(0,t,"stage")},options:qu,getOptionLabel:function(e){return e},label:"Filter By Stage"}))))),a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",mb:3},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{fullWidth:!0,name:"date",size:"small",disablePortal:!0,id:"combo-box-date",onChange:function(e,t){return ie(0,t,"date")},options:Uu,getOptionLabel:function(e){return e},label:"Filter By Date"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Candidate List"))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{fullWidth:!0,name:"status",size:"small",disablePortal:!0,id:"combo-box-status",onChange:function(e,t){return ie(0,t,"status")},options:Yu,getOptionLabel:function(e){return e},label:"Filter By Status"}))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(Bu,{align:"center"},"Job ID"),a.a.createElement(Bu,{align:"center"},"Date"),a.a.createElement(Bu,{align:"center"},"Name"),a.a.createElement(Bu,{align:"center"},"Phone"),a.a.createElement(Bu,{align:"center"},"Designation"),a.a.createElement(Bu,{align:"center"},"Stage"),a.a.createElement(Bu,{align:"center"},"Status"),a.a.createElement(Bu,{align:"center"},"Send WhatsApp/Email"),a.a.createElement(Bu,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,f.map(function(e,t){return a.a.createElement(Mu,{key:t},a.a.createElement(Bu,{align:"center"},e.job.join(" ")),a.a.createElement(Bu,{align:"center"},e.creation_date),a.a.createElement(Bu,{align:"center"},e.name),a.a.createElement(Bu,{align:"center"},e.contact),a.a.createElement(Bu,{align:"center"},e.designation),a.a.createElement(Bu,{align:"center"},e.stage),a.a.createElement(Bu,{align:"center"},e.status),a.a.createElement(Bu,{align:"center"},a.a.createElement(We.a,{variant:"text",color:"success",size:"small",onClick:function(){return ce(e)}},e.is_whatsapp_sent?"Resend Whatsapp":"Send Whatsapp"),a.a.createElement(We.a,{variant:"text",color:"secondary",size:"small",onClick:function(){return le(e)}},e.is_email_sent?"Resend Email":"Send Email")),a.a.createElement(Bu,{align:"center"},a.a.createElement(We.a,{variant:"text",color:"info",size:"small",onClick:function(){return _(e),void E(!0)}},"View"),"Shortlisted"===e.status&&"Screening"===e.stage&&a.a.createElement(We.a,{variant:"text",color:"success",size:"small",marginTop:"5px",onClick:function(){return t=e,J(!0),void _(t.contact);var t}},"Schedule Interview")))})))),a.a.createElement(Vr,{currentPage:T,totalPages:I,handlePageChange:function(e,t){N(t)}}),a.a.createElement(Ce,{title:"Add New Applicant",openPopup:d,setOpenPopup:y},a.a.createElement(iu,{addNewApplicant:oe,onApplicantAdded:function(){ae(),y(!1)}})),a.a.createElement(Ce,{fullScreen:!0,title:"Candidate Details",openPopup:b,setOpenPopup:E},a.a.createElement(Wu,{fetchApplicants:ae,candidateData:O})),a.a.createElement(Ce,{openPopup:H,setOpenPopup:J,title:"Schedule Interview",maxWidth:"md"},a.a.createElement(nu,{setIsFollowupDone:J,contact:O,getInterviewData:ae})))))},Bu=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Mu=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),qu=["Screening","Round1","Round2"],Uu=["Today","Yesterday","Last 10 days","Last 5 days","Last 15 days","Last 1 month"],Yu=["Shortlisted","Selected","Schedule","Reschedule","Rejected"];function Vu(){Vu=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Qu=["Selected","Rejected"],Hu=["Insufficient Technical Knowledge","Poor Problem-Solving Skills","Lack of Practical Experience","Poor Communication Skills","Cultural Mismatch","Lack of Enthusiasm or Interest","Inadequate Responses to Behavioral Questions","Inconsistent Career Goals","Negative Team Feedback","Poor Performance in Team Exercises","Unprofessional Behavior","Overconfidence or Arrogance","Failed Technical Assessments","Background Check Issues","Better Fit Found"],Ju=function(e){var t=e.row,r=e.closeDialog,o=e.fetchCandidates,i=Object(n.useState)({rejection_reason:t.rejection_reason||"",status:t.status||"",stage:t.stage,applicant:t.applicant}),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=gt(),g=v.handleSuccess,b=v.handleError,E=v.handleCloseSnackbar,w=v.alertInfo;Object(n.useEffect)(function(){h({rejection_reason:t.rejection_reason||"",status:t.status||"",stage:t.stage,applicant:t.applicant})},[t]),console.log(t);var x=function(e,t){h(function(r){return Object(u.a)({},r,Object(Y.a)({},e,t))})},O=function(){var e=Object(c.a)(Vu().mark(function e(){var n,a,i,c,l;return Vu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.status,a=f.rejection_reason,i=f.stage,c=f.applicant,l=Object(u.a)({status:n,stage:i,applicant:c},"Rejected"===n&&{rejection_reason:a}),e.prev=2,y(!0),e.next=6,Kl.updateInterviewDate(t.id,l);case 6:g("Interviews status updated successfully"),setTimeout(function(){r(),o()},500),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Error updating interview details:",e.t0),b(e.t0||"Error updating interview details");case 14:return e.prev=14,y(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,10,14,17]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:w.open,onClose:E,severity:w.severity,message:w.message}),a.a.createElement(Je,{open:d}),a.a.createElement(sr,{value:f.status,onChange:function(e,t){return x("status",t)},options:Qu,getOptionLabel:function(e){return e},label:"Status",fullWidth:!0}),"Rejected"===f.status&&a.a.createElement(sr,{value:f.rejection_reason,onChange:function(e,t){return x("rejection_reason",t)},options:Hu,label:"Rejected Reason",fullWidth:!0}),a.a.createElement(fu.a,null,a.a.createElement(We.a,{onClick:O,color:"primary"},"Update")))};function Ku(){Ku=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Zu=function(e){var t=e.row,r=e.closeDialog,o=e.fetchCandidates,i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(""),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=gt(),P=k.handleSuccess,C=k.handleError,T=k.handleCloseSnackbar,N=k.alertInfo,D=function(){var e=Object(c.a)(Ku().mark(function e(n){var a;return Ku().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={applicant:t.applicant,date:s,time:m,interviewer:g,status:"Schedule",stage:"Round2"},e.prev=2,O(!0),e.next=6,Kl.addInterviewDate(a);case 6:P("Interview Scheduled Successfully"),setTimeout(function(){r(),o()},500),O(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),O(!1),C("Error scheduling interview"),console.error("Error scheduling interview:",e.t0);case 16:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){(function(){var e=Object(c.a)(Ku().mark(function e(){var t;return Ku().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get("/api/user/users/?is_active=True");case 3:t=e.sent,Array.isArray(t.data.users)&&S(t.data.users),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching Email:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}})()()},[]),a.a.createElement("form",{onSubmit:D,style:{width:"100%",marginTop:"20px"}},a.a.createElement(Je,{open:x}),a.a.createElement(yt,{open:N.open,onClose:T,severity:N.severity,message:N.message}),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{size:"small",label:"Interview Date",type:"date",fullWidth:!0,value:s,onChange:function(e){return f(e.target.value)},InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:m,onChange:function(e,t){d(t)},options:["11 AM to 1 PM","1 PM to 3 PM","3 PM TO 5 PM"],label:"Interview Time"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return function(e,t){b(t)}(0,t)},name:"email",options:L.map(function(e){return e.email}),getOptionLabel:function(e){return"".concat(e)},label:"Interviewer Email"}))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"flex-end",mt:2},a.a.createElement(fu.a,null,a.a.createElement(We.a,{onClick:r,color:"error",variant:"outlined"},"Cancel"),a.a.createElement(We.a,{fullwidth:!0,type:"submit",variant:"contained",color:"primary"},"Schedule Interview"))))};function Xu(){Xu=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var $u=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(null),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(0),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)({stage:"Round1",status:"Schedule"}),A=Object(l.a)(D,2),I=A[0],F=A[1],G=function(){var e=Object(c.a)(Xu().mark(function e(){var t;return Xu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,Kl.getInterviewDate(S,I.stage,I.status);case 4:t=e.sent,E(t.data.results),N(Math.ceil(t.data.count/25)),y(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),y(!1),console.error("Error fetching candidates:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){G()},[S,I.stage,I.status]);var W=function(){o(!1),h(!1)},z=b.map(function(e){return{id:e.id,name:e.name,email:e.email,applicant:e.applicant,interview_date:e.date,interview_time:e.time,designation:e.designation,interviewer_name:e.interviewer_name,stage:e.stage,status:e.status}}),R=function(e,t,r){F(function(e){return Object(u.a)({},e,Object(Y.a)({},r,t))}),k(1)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:d}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",marginBottom:"10px",width:"600px",gap:"2rem"},a.a.createElement(sr,{fullWidth:!0,name:"stage",size:"small",disablePortal:!0,id:"combo-box-stage",onChange:function(e,t){return R(0,t,"stage")},options:es,value:I.stage,getOptionLabel:function(e){return e},label:"Filter By Stage"}),a.a.createElement(sr,{fullWidth:!0,name:"status",size:"small",disablePortal:!0,id:"combo-box-status",onChange:function(e,t){return R(0,t,"status")},options:ts,value:I.status,getOptionLabel:function(e){return e},label:"Filter By Status"})),a.a.createElement(Ae.a,{flexGrow:1,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Interview Status")),a.a.createElement(dt,{headers:["Id","Candidate Name","Email","Contact","Interiew Date","Interview Time","Designation","Interviewer Name","Stage","Status","Action"],data:z,openInPopup:function(e){_(e),o(!0)},ScheduleInterviewPopup:function(e){_(e),h(!0)}}),a.a.createElement(je.a,{open:f,onClose:W,"aria-labelledby":"form-dialog-title"},a.a.createElement(Le.a,{id:"form-dialog-title"},"Schedule interview for the second round"),a.a.createElement(Se.a,null,a.a.createElement(Zu,{row:O,closeDialog:W,fetchCandidates:G}))),a.a.createElement(Ce,{maxWidth:"lg",title:"Update Interview Status",openPopup:r,setOpenPopup:o},a.a.createElement(Ju,{row:O,closeDialog:W,fetchCandidates:G})),a.a.createElement(Vr,{totalPages:T,currentPage:S,handlePageChange:function(e,t){k(t)}}))))},es=["Round1","Round2"],ts=["Schedule","Selected","Reschedule"];function rs(){rs=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ns=function(e){var t=e.row,r=e.closeDialog,o=e.fetchRejectedCandidates,i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(t.interview_date||""),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(t.interview_time||""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(t.interviewer_name||""),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(""),P=Object(l.a)(k,2),C=P[0],T=P[1];Object(n.useEffect)(function(){b(t.interview_date||""),O(t.interview_time||""),S(t.interviewer_name||"")},[t]);var N=function(){var e=Object(c.a)(rs().mark(function e(){var n;return rs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={date:g,time:x,interviewer:L,stage:C,status:"Reschedule",applicant:t.contact},e.prev=1,d(!0),e.next=5,Kl.updateRejectedCandidates(n);case 5:r(),o(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),d(!1),console.error("Error updating interview details:",e.t0);case 13:return e.prev=13,d(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){(function(){var e=Object(c.a)(rs().mark(function e(){var t;return rs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get("/api/user/users/?is_active=True");case 3:t=e.sent,Array.isArray(t.data.users)&&f(t.data.users),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching Email:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}})()()},[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:m}),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{value:C,onChange:function(e,t){T(t)},options:["Round1","Round2"],label:"Stage",margin:"dense",fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{size:"small",label:"Interview Date",type:"date",fullWidth:!0,value:g,onChange:function(e){return b(e.target.value)},InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{style:{minWidth:220},size:"small",value:x,onChange:function(e,t){O(t)},options:["11 AM to 1 PM","1 PM to 3 PM","3 PM TO 5 PM"],label:"Interview Time"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{style:{minWidth:220},size:"small",onChange:function(e,t){return function(e,t){S(t)}(0,t)},name:"email",options:s.map(function(e){return e.email}),getOptionLabel:function(e){return"".concat(e)},label:"Interviewer Email"})),a.a.createElement(fu.a,null,a.a.createElement(We.a,{onClick:r,color:"primary"},"Cancel"),a.a.createElement(We.a,{onClick:N,color:"primary"},"Update"))))};function as(){as=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var os=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(null),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],w=g[1],x=Object(n.useState)(""),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(!1),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(1),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(0),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useState)({designation:"",status:""}),z=Object(l.a)(W,2),R=z[0],B=z[1],M=function(){var e=Object(c.a)(as().mark(function e(){var t,r;return as().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=4,Kl.getRejectedCandidates(N,_,R.status?R.status:"Rejected",R.designation);case 4:t=e.sent,o(t.data.results),r=t.data.count,G(Math.ceil(r/25)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching rejected candidates:",e.t0);case 13:return e.prev=13,P(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){(function(){var e=Object(c.a)(as().mark(function e(){var t;return as().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get("/api/hr/designation/?type=list");case 3:t=e.sent,console.log("API Response:",t.data),h(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching designations:",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}})()()},[]),Object(n.useEffect)(function(){M()},[N,_,R]);var q=function(){w(!1)},U=function(e,t,r){console.log(t,r),B(function(e){return Object(u.a)({},e,Object(Y.a)({},r,t))}),D(1)};return a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Je,{open:k}),a.a.createElement(ut.a,{sx:{m:3,p:3,display:"flex",flexDirection:"column"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(Ur,{onSearch:function(e){j(e),D(1)},onReset:function(){j(""),D(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(E.a,{variant:"h5",component:"div",sx:{textAlign:"center"}},"Rejected Candidates")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",alignItems:"center",gap:2},a.a.createElement(sr,{fullWidth:!0,size:"small",disablePortal:!0,id:"combo-box-stage",onChange:function(e,t){return U(0,t,"designation")},value:R.designation,options:f.map(function(e){return e.designation}),getOptionLabel:function(e){return e},label:"Filter By Designation"}),a.a.createElement(sr,{fullWidth:!0,size:"small",disablePortal:!0,id:"combo-box-stage",value:R.status,onChange:function(e,t){return U(0,t,"status")},options:["Rejected","Not Interested"],getOptionLabel:function(e){return e},label:"Filter By Status"})))),a.a.createElement(Ae.a,{style:{marginTop:"20px"}},a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(is,{align:"center"},"Name"),a.a.createElement(is,{align:"center"},"Contact"),a.a.createElement(is,{align:"center"},"Email"),a.a.createElement(is,{align:"center"},"Designation "),a.a.createElement(is,{align:"center"},"Stage"),a.a.createElement(is,{align:"center"},"Status"),a.a.createElement(is,{align:"center"},"Rejection Reason"),a.a.createElement(is,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,r.map(function(e,t){return a.a.createElement(cs,{key:t},a.a.createElement(is,{align:"center"},e.name),a.a.createElement(is,{align:"center"},e.contact),a.a.createElement(is,{align:"center"},e.email),a.a.createElement(is,{align:"center"},e.designation),a.a.createElement(is,{align:"center"},e.stage),a.a.createElement(is,{align:"center"},e.status),a.a.createElement(is,{align:"center"},e.rejection_reason),a.a.createElement(is,{align:"center"},a.a.createElement(We.a,{onClick:function(){return function(e){y(e),w(!0)}(e)}},"View")))})))),a.a.createElement(Vr,{currentPage:N,totalPages:F,handlePageChange:function(e,t){D(t)}}),a.a.createElement(je.a,{open:b,onClose:q,"aria-labelledby":"form-dialog-title"},a.a.createElement(Le.a,{id:"form-dialog-title"},"Reschedule Interview"),a.a.createElement(Se.a,null,a.a.createElement(ns,{row:d,closeDialog:q,fetchRejectedCandidates:M}))))))},is=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),cs=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function ls(){ls=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var us=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)({message:"",severity:"",open:!1}),w=Object(l.a)(E,2),x=w[0],O=w[1],_=function(){var e=Object(c.a)(ls().mark(function e(){var t,r,n=arguments;return ls().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]?n[0]:0,e.prev=1,d(!0),e.next=5,Kl.getCompetitorCandidates();case 5:t=e.sent,o(t.data.results),r=t.data.count,b(Math.ceil(r/25)),d(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error fetching competitorData:",e.t0);case 15:return e.prev=15,d(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,12,15,18]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){_(s)},[s]),a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:x.open,message:x.message,severity:x.severity,onClose:function(){O({open:!1})}}),a.a.createElement(Je,{open:m}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{flexGrow:1,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Competitor Candidates")),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(ss,{align:"center"},"Candidate Name"),a.a.createElement(ss,{align:"center"},"Email"),a.a.createElement(ss,{align:"center"},"Phone Number"),a.a.createElement(ss,{align:"center"},"Location"),a.a.createElement(ss,{align:"center"},"Is Competitor"),a.a.createElement(ss,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,r.map(function(e,t){return a.a.createElement(fs,{key:t},a.a.createElement(ss,{align:"center"},e.name),a.a.createElement(ss,{align:"center"},e.email),a.a.createElement(ss,{align:"center"},e.contact),a.a.createElement(ss,{align:"center"},e.location),a.a.createElement(ss,{align:"center"},e.is_competitor?"Yes":"No"),a.a.createElement(ss,{align:"center"},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return function(e){if(e.cv){var t=e.cv,r=document.createElement("a");r.href=t,r.download="".concat(e.name).concat(e.id,".resume"),r.target="_blank",r.rel="noopener noreferrer",document.body.appendChild(r),r.click(),document.body.removeChild(r)}else O({message:"CV is not uploaded for this candidate",open:!0,severity:"error"})}(e)}},"View CV")))})))),a.a.createElement(Vr,{currentPage:s,totalPages:g,handlePageChange:function(e,t){f(t)}}))))},ss=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),fs=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),hs=function(e){var t=e.data,r=function(e){return a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",color:"#444",borderBottom:"2px solid #ddd",paddingBottom:"8px",mb:2}},e)},n=function(e,t){return a.a.createElement(E.a,{variant:"body1"},a.a.createElement("strong",null,e,":")," ",t||"N/A")};return a.a.createElement(ut.a,{elevation:3,sx:{p:2,mx:"auto",backgroundColor:"#f9f9f9",borderRadius:3,boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)"}},a.a.createElement(Fe.a,{container:!0,spacing:4},a.a.createElement(Fe.a,{item:!0,xs:12},r("Personal Information"),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:6},n("Full Name",t.name),n("Contact",t.contact),n("Father or Husband Name",t.f_or_h_name),n("Date of Birth",t.dob),n("Place of Birth",t.place_of_birth)),a.a.createElement(Fe.a,{item:!0,xs:6},n("Nationality",t.nationality),n("Religion",t.religion),n("Marital Status",t.marital_status),n("Gender",t.gender)))),a.a.createElement(Fe.a,{item:!0,xs:12},r("Address Details"),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:6},n("Present Address","".concat(t.present_address.address,", ").concat(t.present_address.city,", ").concat(t.present_address.state,", ").concat(t.present_address.country," - ").concat(t.present_address.pincode))),a.a.createElement(Fe.a,{item:!0,xs:6},n("Permanent Address","".concat(t.permanent_address.address,", ").concat(t.permanent_address.city,", ").concat(t.permanent_address.state,", ").concat(t.permanent_address.country," - ").concat(t.permanent_address.pincode))))),a.a.createElement(Fe.a,{item:!0,xs:12},r("Education"),a.a.createElement(Fe.a,{container:!0,spacing:2},t.eq.map(function(e,t){return a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,key:t},a.a.createElement(Ae.a,{sx:{p:2,backgroundColor:"#fff",borderRadius:2,boxShadow:"0px 2px 6px rgba(0, 0, 0, 0.1)"}},n("School/College",e.school_or_college_name),n("Board/University",e.board_or_university),n("Examination",e.examination),n("Subject",e.subject),n("Year",e.year)))}))),a.a.createElement(Fe.a,{item:!0,xs:12},r("Work Experience"),a.a.createElement(Fe.a,{container:!0,spacing:2},t.experience.map(function(e,t){return a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,key:t},a.a.createElement(Ae.a,{sx:{p:2,backgroundColor:"#fff",borderRadius:2,boxShadow:"0px 2px 6px rgba(0, 0, 0, 0.1)"}},n("Post Held",e.post_held),n("Period","".concat(e.period," years")),n("Starting Salary","\u20b9".concat(e.starting_salary)),n("Last Salary","\u20b9".concat(e.last_salary)),n("Reason for Leaving",e.reason_for_leaving),n("Employer Name & Address",e.employer_name_and_address)))}))),a.a.createElement(Fe.a,{item:!0,xs:12},r("Family Details"),a.a.createElement(Fe.a,{container:!0,spacing:2},t.family_members.map(function(e,t){return a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,key:t},a.a.createElement(Ae.a,{sx:{p:2,backgroundColor:"#fff",borderRadius:2,boxShadow:"0px 2px 6px rgba(0, 0, 0, 0.1)"}},n("Name",e.name),n("Relation",e.relation),n("Age",e.dob_or_age)))}))),a.a.createElement(Fe.a,{item:!0,xs:12},r("Other Info"),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:6},a.a.createElement(Ae.a,{sx:{p:2,backgroundColor:"#fff",borderRadius:2,boxShadow:"0px 2px 6px rgba(0, 0, 0, 0.1)"}},n("Expected Salary","\u20b9".concat(t.expected_salary)),n("Joining Days",t.joining_days),n("Technical Qualification",t.technical_qualification),n("Relative in Company",t.relative_in_company.has_relative?"Yes":"No"),t.relative_in_company.relationship&&n("Relationship with Relative",t.relative_in_company.relationship))))),a.a.createElement(Fe.a,{item:!0,xs:12},r("References"),a.a.createElement(Fe.a,{container:!0,spacing:2},t.references.map(function(e,t){return a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,key:t},a.a.createElement(Ae.a,{sx:{p:2,backgroundColor:"#fff",borderRadius:2,boxShadow:"0px 2px 6px rgba(0, 0, 0, 0.1)"}},n("Name",e.name),n("Contact",e.contact_number),n("Address",e.address)))})))))};function ps(){ps=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ms=function(e){var t=e.result,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)([]),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)({message:"",severity:"",open:!1}),d=Object(l.a)(m,2),v=d[0],g=d[1],b=function(){var e=Object(c.a)(ps().mark(function e(){var r;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Kl.getAssessementResultDetails({contact:t.contact});case 4:r=e.sent,p(r.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching assessment data:",e.t0),g({message:"Failed to load assessment results.",severity:"error",open:!0});case 12:return e.prev=12,u(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,8,12,15]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){t.contact&&b()},[t.contact]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:i}),a.a.createElement($e,{open:v.open,message:v.message,severity:v.severity,onClose:function(){g({open:!1})}}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{elevation:3,sx:{p:3,mx:"auto",my:4,backgroundColor:"#f9f9f9",borderRadius:3}},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",mb:3},a.a.createElement(E.a,{variant:"h5",sx:{fontWeight:"bold",color:"#333"}},"Interview Assessment Results")),a.a.createElement(y.a,{sx:{my:2}}),a.a.createElement(Yn.a,{sx:{maxHeight:450,"&::-webkit-scrollbar":{width:10},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac",borderRadius:5}}},a.a.createElement(Vn.a,{sx:{minWidth:800},stickyHeader:!0,"aria-label":"Assessment Results"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(ds,{align:"center"},"Question"),a.a.createElement(ds,{align:"center"},"Correct Answer"),a.a.createElement(ds,{align:"center"},"Candidate Answer"),a.a.createElement(ds,{align:"center"},"Correctness"))),a.a.createElement(Hn.a,null,h.q_a&&h.q_a.length>0?h.q_a.map(function(e,t){return a.a.createElement(ys,{key:t},a.a.createElement(ds,{align:"center"},e.question),a.a.createElement(ds,{align:"center"},e.correct_answer),a.a.createElement(ds,{align:"center"},e.answer),a.a.createElement(ds,{align:"center",sx:{color:e.status?"green":"red",fontWeight:"bold"}},e.status?"Correct":"Wrong"))}):a.a.createElement(ys,null,a.a.createElement(ds,{align:"center",colSpan:3},"No assessment data available."))))),a.a.createElement(Ae.a,{mt:3,sx:{p:2,backgroundColor:"#fff",borderRadius:2,boxShadow:"0px 2px 6px rgba(0,0,0,0.1)"}},a.a.createElement(E.a,{variant:"body1",align:"center",sx:{mb:1}},a.a.createElement("strong",null,"Total Questions:")," ",h.no_of_question||0),a.a.createElement(E.a,{variant:"body1",align:"center"},a.a.createElement("strong",null,"Total Correct Answers:")," ",h.no_of_answer||0)))))},ds=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),ys=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function vs(){vs=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var gs=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)({}),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(0),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)([]),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useState)(""),B=Object(l.a)(R,2),M=B[0],q=B[1],U=Object(n.useState)({message:"",severity:"",open:!1}),Y=Object(l.a)(U,2),V=Y[0],Q=Y[1],H=function(){var e=Object(c.a)(vs().mark(function e(){var t,r;return vs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kl.getAssessementDetails(C,s,M);case 4:t=e.sent,S(t.data.results),r=t.data.count,I(Math.ceil(r/25)),o(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching assesementData:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){H()},[C,s,M]),Object(n.useEffect)(function(){(function(){var e=Object(c.a)(vs().mark(function e(){var t;return vs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get("/api/hr/designation/?type=list");case 3:t=e.sent,z(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching designations:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}})()()},[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:r}),a.a.createElement($e,{open:V.open,message:V.message,severity:V.severity,onClose:function(){Q({open:!1})}}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",mb:3},a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(Ur,{onSearch:function(e){f(e),T(1)},onReset:function(){f(""),T(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{fontSize:"22px",color:"rgb(34, 34, 34)",fontWeight:600,textAlign:"center"}},"Assesement Details"))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{fullWidth:!0,name:"stage",size:"small",disablePortal:!0,id:"combo-box-stage",onChange:function(e,t){return q(t)},options:W.map(function(e){return e.designation}),getOptionLabel:function(e){return e},label:"Filter By Designation"}))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(bs,{align:"center"},"Name"),a.a.createElement(bs,{align:"center"},"Designation"),a.a.createElement(bs,{align:"center"},"Phone"),a.a.createElement(bs,{align:"center"},"Email"),a.a.createElement(bs,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,L.map(function(e,t){return a.a.createElement(Es,{key:t},a.a.createElement(bs,{align:"center"},e.name),a.a.createElement(bs,{align:"center"},e.designation),a.a.createElement(bs,{align:"center"},e.contact),a.a.createElement(bs,{align:"center"},e.email),a.a.createElement(bs,{align:"center"},a.a.createElement(Ae.a,{display:"flex",gap:2,alignItems:"center",justifyContent:"center"},a.a.createElement(We.a,{variant:"outlined",size:"small",color:"primary",onClick:function(){return function(e){d(!0),O(e)}(e)}},"View"),a.a.createElement(We.a,{variant:"outlined",size:"small",color:"secondary",onClick:function(){return function(e){d(!1),O(e),b(!0)}(e)}},"Assesement Result"))))})))),a.a.createElement(Vr,{currentPage:C,totalPages:A,handlePageChange:function(e,t){T(t)}})),a.a.createElement(Ce,{fullScreen:!0,title:"Assessment Details",openPopup:m,setOpenPopup:d},a.a.createElement(hs,{data:x})),a.a.createElement(Ce,{fullScreen:!0,openPopup:g,setOpenPopup:b},a.a.createElement(ms,{result:x}))))},bs=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Es=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function ws(){ws=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var xs=function(e){var t=e.dataRecord,r=e.setOpenUpdatePopup,o=e.getInterviewDatas,i=Object(n.useState)([]),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)({}),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)({message:"",severity:"",open:!1}),L=Object(l.a)(j,2),S=L[0],k=L[1];Object(n.useEffect)(function(){(function(){var e=Object(c.a)(ws().mark(function e(){var t;return ws().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,Kl.getCandidates();case 4:t=e.sent,h(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,E(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}})()()},[]);var P=function(e,t,r){y(function(e){return Object(u.a)({},e,Object(Y.a)({},r,t))})},C=function(){var e=Object(c.a)(ws().mark(function e(n){var a,i,c;return ws().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!t||t.applicant){e.next=4;break}return k({open:!0,message:"Contact number is required",severity:"error"}),e.abrupt("return");case 4:return e.prev=4,E(!0),a={applicant:t.applicant?t.applicant:"",call_status:d.call_status,applicant_status:d.applicant_status,notes:d.notes},e.next=9,Kl.createCandidateFollowup(a);case 9:i=e.sent,c=i.data,201===i.status&&(k({open:!0,message:"Followup created successfully",severity:"success"}),!0===c.success?_(!0):(r(!1),o())),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),k({open:!0,message:e.t0.response.data.message||"Error creating followup",severity:"error"}),console.error("Error creating followup:",e.t0);case 18:return e.prev=18,E(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[4,14,18,21]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:b}),a.a.createElement($e,{open:S.open,message:S.message,severity:S.severity,onClose:function(){k({open:!1})}}),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{size:"small",id:"call_status",name:"call_status",options:["Connected","Disconnected"],renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Call Status"}))},value:d.call_status,onChange:function(e,t){return P(0,t,"call_status")},label:"Call Status"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{size:"small",id:"applicant_status",options:f,getOptionLabel:function(e){return e.name},renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Applicant Status"}))},value:f.find(function(e){return e.id===d.applicant_status})||null,onChange:function(e,t){return P(0,t?t.id:null,"applicant_status")}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{size:"small",label:"Notes",name:"notes",fullWidth:!0,value:d.notes,onChange:function(e){var t=e.target,r=t.name,n=t.value;y(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})}}))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"flex-end",mt:2},a.a.createElement(We.a,{fullWidth:!0,onClick:C,variant:"contained",color:"secondary"},"Add Followup")),a.a.createElement(Ce,{openPopup:O,setOpenPopup:_,title:"Schedule Interview",maxWidth:"md"},a.a.createElement(nu,{setIsFollowupDone:_,contact:t&&t.applicant,setOpenApplicantListPopup:r,getInterviewDatas:o})))};function Os(){Os=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var _s=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(null),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(0),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)([]),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)(""),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useState)("Today"),B=Object(l.a)(R,2),M=B[0],q=B[1],U=Object(n.useState)({message:"",severity:"",open:!1}),Y=Object(l.a)(U,2),V=Y[0],Q=Y[1],H=function(){var e=Object(c.a)(Os().mark(function e(){var t,r;return Os().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kl.getCandidateFollowup(L,s,W,M);case 4:t=e.sent,d(t.data.results),r=t.data.count,T(Math.ceil(r/25)),o(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching followupData:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){H()},[L,s,s,W,M]),Object(n.useEffect)(function(){(function(){var e=Object(c.a)(Os().mark(function e(){var t;return Os().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get("/api/hr/designation/?type=list");case 3:t=e.sent,I(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching designations:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}})()()},[]);var J=function(){var e=Object(c.a)(Os().mark(function e(t){var r,n,a;return Os().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.prev=1,o(!0),n={status:"Completed"},e.next=6,Kl.CandidateDoneFollowup(r,n);case 6:200===(a=e.sent).status&&(Q({open:!0,message:a.data.message||"Followup marked as completed successfully",severity:"success"}),H()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),Q({open:!0,message:e.t0.response.data.message||"Something went wrong!",severity:"error"});case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(Os().mark(function e(){return Os().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kl.getRevisedDataHrFollowup();case 4:200===e.sent.status&&H(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:r}),a.a.createElement($e,{open:V.open,message:V.message,severity:V.severity,onClose:function(){Q({open:!1})}}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",mb:3},a.a.createElement(Fe.a,{item:!0,xs:12,md:2},a.a.createElement(Ur,{onSearch:function(e){f(e),S(1)},onReset:function(){f(""),S(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(sr,{fullWidth:!0,name:"stage",size:"small",disablePortal:!0,id:"combo-box-stage",value:W,onChange:function(e,t){return z(t),void S(1)},options:A.map(function(e){return e.designation}),getOptionLabel:function(e){return e},label:"Filter By Designation"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3,textAlign:"center"},a.a.createElement("h3",{style:{fontSize:"22px",color:"rgb(34, 34, 34)",fontWeight:600}},"Candidates Follow-up")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:5},a.a.createElement(Fe.a,{container:!0,spacing:1,alignItems:"center"},"Today"===M&&a.a.createElement(Fe.a,{item:!0,xs:4},a.a.createElement(We.a,{variant:"outlined",color:"primary",onClick:K},"Revised Date")),a.a.createElement(Fe.a,{item:!0,xs:8},a.a.createElement(sr,{fullWidth:!0,size:"small",disablePortal:!0,id:"combo-box-stage",onChange:function(e,t){return q(t),void S(1)},options:["Today","Upcoming","All"],value:M,getOptionLabel:function(e){return e},label:"Filter By Follow-up Type"}))))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(js,{align:"center"},"Candidate Name"),a.a.createElement(js,{align:"center"},"Designation"),a.a.createElement(js,{align:"center"},"Phone"),a.a.createElement(js,{align:"center"},"Email"),a.a.createElement(js,{align:"center"},"Stage"),a.a.createElement(js,{align:"center"},"Status"),a.a.createElement(js,{align:"center"},"Follow Status"),a.a.createElement(js,{align:"center"},"Call Status"),a.a.createElement(js,{align:"center"},"Notes"),a.a.createElement(js,{align:"center"},"Next Followup date"),"Today"===M&&a.a.createElement(js,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,m.map(function(e,t){return a.a.createElement(Ls,{key:t},a.a.createElement(js,{align:"center"},e.name),a.a.createElement(js,{align:"center"},e.designation),a.a.createElement(js,{align:"center"},e.applicant),a.a.createElement(js,{align:"center"},e.email),a.a.createElement(js,{align:"center"},e.stage),a.a.createElement(js,{align:"center"},e.round_status),a.a.createElement(js,{align:"center"},e.status),a.a.createElement(js,{align:"center"},e.call_status),a.a.createElement(js,{align:"center"},e.notes),a.a.createElement(js,{align:"center"},e.followup_date),"Today"===M&&a.a.createElement(js,{align:"center"},a.a.createElement(Ae.a,{display:"flex",gap:2,alignItems:"center",justifyContent:"end"},"Rejected"!==e.round_status&&"Today"===M&&("Disconnected"===e.call_status||"Shortlisted"===e.round_status)&&a.a.createElement(We.a,{variant:"outlined",size:"small",color:"primary",onClick:function(){return b(e),void O(!0)}},"View"),"Today"===M&&a.a.createElement(We.a,{variant:"contained",size:"small",color:"success",onClick:function(){return J(e)}},"Done"))))})))),a.a.createElement(Vr,{currentPage:L,totalPages:C,handlePageChange:function(e,t){S(t)}}),a.a.createElement(Ce,{maxWidth:"md",title:"Add Follow-up",openPopup:x,setOpenPopup:O},a.a.createElement(xs,{dataRecord:g,setOpenUpdatePopup:O,getInterviewDatas:H})))))},js=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Ls=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Ss=function(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(s.c)(function(e){return e.auth}).profile.groups.includes("Sales Manager"),c=i?[{label:"Job Opening"}]:[{label:"Job Opening"},{label:"Applicant List"},{label:"Candidates Followup"},{label:"Interview Status"},{label:"Offer Status"},{label:"Rejected Candidate"},{label:"Assesment Details"},{label:"Competitor"}];return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(Xr,{tabs:c,activeTab:r,onTabChange:function(e){o(e)}}),a.a.createElement("div",{style:{marginTop:"10px"}},0===r&&a.a.createElement("div",null,a.a.createElement(lu,null)),!i&&a.a.createElement(a.a.Fragment,null,1===r&&a.a.createElement("div",null,a.a.createElement(Ru,null)),2===r&&a.a.createElement("div",null,a.a.createElement(_s,null)),3===r&&a.a.createElement("div",null,a.a.createElement($u,null)),4===r&&a.a.createElement("div",null,a.a.createElement(du,null)),5===r&&a.a.createElement("div",null,a.a.createElement(os,null)),6===r&&a.a.createElement("div",null,a.a.createElement(gs,null)),7===r&&a.a.createElement("div",null,a.a.createElement(us,null))))))};function ks(){ks=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ps=function(e){var t=e.setOpenPopup,r=e.getCurrencyDetails,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=function(e){var t=e.target,r=t.name,n=t.value;d(Object(u.a)({},m,Object(Y.a)({},r,n)))},v=function(){var e=Object(c.a)(ks().mark(function e(n){var a;return ks().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),f(!0),e.prev=2,e.next=5,Kr.createCurrencyData(m);case 5:(a=e.sent)&&a.data&&(r(),t(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error creating currency data",e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:s}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:v,sx:{mt:1}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Currency",variant:"outlined",value:m.name||"",onChange:y})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"symbol",size:"small",label:"Symbol",variant:"outlined",value:m.symbol||"",onChange:y}))),a.a.createElement(Lt,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},text:"Sign In"})))};function Cs(){Cs=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ts=function(e){var t=e.setOpenPopup,r=e.selectedRow,o=e.getCurrencyDetails,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(r),m=Object(l.a)(p,2),d=m[0],y=m[1],v=function(e){var t=e.target,r=t.name,n=t.value;y(Object(u.a)({},d,Object(Y.a)({},r,n)))},g=function(){var e=Object(c.a)(Cs().mark(function e(n){var a;return Cs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),h(!0),e.prev=2,e.next=5,Kr.updateCurrencyData(r.id,d);case 5:(a=e.sent)&&a.data&&(o(),t(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error updating currency data",e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return g(e)},sx:{mt:1}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Currency",variant:"outlined",value:d.name||"",onChange:v})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"symbol",size:"small",label:"Symbol",variant:"outlined",value:d.symbol||"",onChange:v}))),a.a.createElement(Lt,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},text:"Sign In"})))};function Ns(){Ns=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ds=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)({}),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(""),j=Object(l.a)(_,2),L=j[0],S=j[1];Object(n.useEffect)(function(){k()},[]);var k=function(){var e=Object(c.a)(Ns().mark(function e(){var t;return Ns().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,Kr.getCurrencyData();case 4:(t=e.sent)&&t.data&&f(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching daily sales review data",e.t0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[1,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),P=s.filter(function(e){return e.name.toLowerCase().includes(L.toLowerCase())});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{marginBottom:"10px"},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,md:6,lg:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Search",variant:"outlined",value:L,onChange:function(e){S(e.target.value)},sx:{marginRight:"10px"}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:2},a.a.createElement(We.a,{fullWidth:!0,variant:"contained",color:"success",onClick:function(){return d(!0)},sx:{marginLeft:"10px"}},"Add")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:2},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Currency")))),a.a.createElement(Yn.a,{sx:{maxHeight:400,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Is,null,a.a.createElement(As,{align:"center"},"Currency"),a.a.createElement(As,{align:"center"},"Symbol"),a.a.createElement(As,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,P.map(function(e,t){return a.a.createElement(Is,{key:t},a.a.createElement(As,{align:"center"},e.name),a.a.createElement(As,{align:"center"},e.symbol),a.a.createElement(As,{align:"center"},a.a.createElement(We.a,{sx:{color:"#1976d2"},onClick:function(){return function(e){b(!0),O(e)}(e)}},"View")))})))))),a.a.createElement(Ce,{maxwidth:"xl",title:"Currency Create",openPopup:m,setOpenPopup:d},a.a.createElement(Ps,{setOpenPopup:d,getCurrencyDetails:k})),a.a.createElement(Ce,{maxwidth:"xl",title:"Currency Update",openPopup:g,setOpenPopup:b},a.a.createElement(Ts,{setOpenPopup:b,selectedRow:x,getCurrencyDetails:k})))},As=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),Is=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Fs(){Fs=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Gs=Object(n.memo)(function(e){var t=e.currentPage,r=e.searchQuery,o=e.setOpenPopup,i=e.getPhysicalInventoryData,f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)({}),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],T=gt(),N=T.handleSuccess,D=T.handleError,A=T.handleCloseSnackbar,I=T.alertInfo,F=Object(s.c)(function(e){return e.auth}).profile,G=function(){var e=Object(c.a)(Fs().mark(function e(t){var r,n;return Fs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,r="Store"===t?Kr.getAllConsStoresInventoryData:Kr.getAllConsProductionInventoryData,e.next=5,r();case 5:n=e.sent,C(n.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),D(e.t0);case 12:return e.prev=12,m(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,9,12,15]])}));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(Fs().mark(function e(){var t;return Fs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Pn.getAllProduct();case 4:t=e.sent,x(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("error Product",e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(Fs().mark(function e(){var t;return Fs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,st.getAllPaginateSellerAccountData("all");case 4:t=e.sent,L(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("error Seller Account",e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){W(),z()},[]);var R=Object(n.useCallback)(function(e,t){g(function(r){return"type"===e&&(C([]),G(t)),Object(u.a)({},r,Object(Y.a)({},e,t))})},[]),B=Object(n.useCallback)(function(e,t){var r=P.find(function(e){return e.product__name===t&&e.seller_account===v.seller_unit});g(function(e){return Object(u.a)({},e,{product:t,pending_quantity:r?r.quantity:"0"})})},[P,v.seller_unit]),M=Object(n.useCallback)(function(e,t){var r=P.find(function(e){return e.seller_account===t&&e.product__name===v.product});g(function(e){return Object(u.a)({},e,{seller_unit:t,pending_quantity:r?r.quantity:0})})},[P,v.product]),q=function(e,t){var r=parseInt(e,10)-parseInt(t,10);return r>0?"Gain":r<0?"Loss":"No Change"};Object(n.useEffect)(function(){var e=q(v.physical_quantity,v.pending_quantity);g(function(t){return Object(u.a)({},t,{gnl:e})})},[v.physical_quantity,v.pending_quantity,q]);var U=Object(n.useCallback)(function(){var e=Object(c.a)(Fs().mark(function e(n){var a,c;return Fs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),m(!0),e.prev=2,a=Object(u.a)({},v,{gnl:v.gnl},"0"===v.pending_quantity&&{rate:Number(v.rate)}),e.next=6,Kr.createPhysical(a);case 6:c=e.sent,N(c.data.message||"Physical Inventory Created successfully"),setTimeout(function(){o(!1),i(t,r)},300),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),D(e.t0);case 14:return e.prev=14,m(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,11,14,17]])}));return function(t){return e.apply(this,arguments)}}(),[v,t,r]),V=F.groups.includes("Accounts")||F.groups.includes("Director")&&"0"===v.pending_quantity;return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:I.open,onClose:A,severity:I.severity,message:I.message}),a.a.createElement(Je,{open:p}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:U},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{size:"small",disablePortal:!0,id:"type-selector",value:v.type||"",options:Ws,getOptionLabel:function(e){return e},onChange:function(e,t){return R("type",t)},label:"Type"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{size:"small",disablePortal:!0,id:"seller-unit-selector",value:v.seller_unit||"",options:j.map(function(e){return e.unit}),getOptionLabel:function(e){return e},onChange:M,label:"Seller Unit"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{size:"small",disablePortal:!0,id:"product-selector",value:v.product||"",options:w.map(function(e){return e.name}),getOptionLabel:function(e){return e},onChange:B,label:"Product"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Pending Quantity",variant:"outlined",value:v.pending_quantity||"",InputProps:{readOnly:!0}})),V&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"rate",type:"number",label:"Rate",variant:"outlined",value:v.rate,onChange:function(e){return R("rate",e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Physical Quantity",variant:"outlined",value:v.physical_quantity||"",onChange:function(e){var t=e.target.value;g(function(e){return Object(u.a)({},e,{physical_quantity:t})})}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Gain/Loss",variant:"outlined",value:v.gnl||"",InputProps:{readOnly:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,size:"small",label:"Reason",variant:"outlined",value:v.reason||"",onChange:function(e){return R("reason",e.target.value)}}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Create")))}),Ws=["Store","Production"];function zs(){zs=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Rs=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(0),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(""),P=Object(l.a)(k,2),C=P[0],T=P[1],N=gt(),D=N.handleError,A=N.handleCloseSnackbar,I=N.alertInfo,F=Object(n.useCallback)(Object(c.a)(zs().mark(function e(){var t;return zs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,Kr.getPhysical(x,C);case 4:t=e.sent,d(t.data.results),S(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),D(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,9,12,15]])})),[x,C]);Object(n.useEffect)(function(){F()},[x,C,F]);var G=m.map(function(e,t){return{creation_date:e.creation_date,created_by:e.created_by,type:e.type,product:e.product,unit:e.unit,batch_no:e.batch_no,seller_unit:e.seller_unit,pending_quantity:e.pending_quantity,physical_quantity:e.physical_quantity,gnl:e.gnl,change_qty:e.change_qty,reason:e.reason}}),W=Object(n.useRef)(null),z=function(){var e=Object(c.a)(zs().mark(function e(){var t,r;return zs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kr.getPhysical("all",C);case 4:return t=e.sent,r=t.data.map(function(e){return{id:e.id,date:e.creation_date,user:e.created_by,type:e.type,product:e.product,unit:e.unit,batch_no:e.batch_no,seller_unit:e.seller_unit,pending_quantity:e.pending_quantity,physical_quantity:e.physical_quantity,gnl:e.gnl,change_qty:e.change_qty,reason:e.reason}}),o(!1),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),D(e.t0),console.log("while downloading Price list",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(c.a)(zs().mark(function e(){var t;return zs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z();case 3:t=e.sent,b(t),setTimeout(function(){W.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:I.open,onClose:A,severity:I.severity,message:I.message}),a.a.createElement(Je,{open:r}),a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(Fe.a,{container:!0,alignItems:"center",spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,md:4,lg:4},a.a.createElement(Ur,{onSearch:function(e){T(e),O(1)},onReset:function(){T(""),O(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:5,md:5,lg:5,sx:{textAlign:{xs:"center",sm:"center"}}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Physical Inventory")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3,md:3,lg:3,sx:{textAlign:"end"}},a.a.createElement(We.a,{variant:"contained",color:"info",className:"mx-4",onClick:R},"DownLoad"),a.a.createElement(We.a,{onClick:function(){return f(!0)},variant:"contained",color:"success"},"Add"),g.length>0&&a.a.createElement(Bn.CSVLink,{data:g,headers:[{label:"ID",key:"id"},{label:"Date",key:"date"},{label:"User",key:"user"},{label:"Type",key:"type"},{label:"Product",key:"product"},{label:"Unit",key:"unit"},{label:"Batch No",key:"batch_no"},{label:"Seller Unit",key:"seller_unit"},{label:"Pending Qty",key:"pending_quantity"},{label:"Physical Quantity",key:"physical_quantity"},{label:"GnL",key:"gnl"},{label:"Change Quantity",key:"change_qty"},{label:"Reason",key:"reason"}],ref:W,filename:"Physical inventory.csv",target:"_blank",style:{textDecoration:"none",outline:"none",visibility:"hidden"}})))),a.a.createElement(dt,{headers:["DATE","USER","TYPE","PRODUCT","UNIT","BATCH NO","SELLER UNIT","PENDING QUANTITY","PHYSICAL QUANTITY","GNL","CHANGED QUANTITY","REASON"],data:G,openInPopup:null,openInPopup2:null}),a.a.createElement(Vr,{totalPages:L,currentPage:x,handlePageChange:function(e,t){O(t)}})),a.a.createElement(Ce,{maxWidth:"xl",title:"Create Physical Inventory",openPopup:s,setOpenPopup:f},a.a.createElement(Gs,{currentPage:x,searchQuery:C,setOpenPopup:f,getPhysicalInventoryData:F})))},Bs=r(138),Ms=r.n(Bs),qs=r(139),Us=r.n(qs);function Ys(){Ys=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Vs=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getleads,o=e.currentPage,i=e.filterQuery,f=e.filterSelectedQuery,h=e.searchQuery,p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],v=m[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],O=Object(n.useState)({estd_year:(new Date).getFullYear().toString()}),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)([]),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)([]),F=Object(l.a)(I,2),G=F[0],W=F[1],z=Object(n.useState)([]),R=Object(l.a)(z,2),B=R[0],M=R[1],q=gt(),U=q.handleSuccess,V=q.handleError,Q=q.handleCloseSnackbar,H=q.alertInfo,J=Object(n.useState)({message:"",severity:"",open:!1}),K=Object(l.a)(J,2),Z=K[0],X=K[1],$=Object(s.c)(function(e){return e.auth}).profile;Object(n.useEffect)(function(){$&&$.groups&&($.groups.includes("Sales Executive")||$.groups.includes("Business Development Execution")||$.groups.includes("Customer Service")?W(Array({email:$.email})):W($.active_sales_user))},[$.email]);var ee=function(){var e=Object(c.a)(Ys().mark(function e(){var t,r,n;return Ys().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,j.origin_type){e.next=4;break}return X({message:"Please select customer origin type before validating pincode",severity:"error",open:!0}),e.abrupt("return");case 4:if("International"!==j.origin_type||j.country){e.next=7;break}return X({message:"Please select country before validating pincode",severity:"error",open:!0}),e.abrupt("return");case 7:return v(!0),t=j.country,r=j.pincode,e.next=12,xa.getCountryDataByPincode(t,r);case 12:0===(n=e.sent).data.length?(X({message:"This Pin Code does not exist ! First Create the Pin code in the master country",severity:"error",open:!0}),L(Object(u.a)({},j,{state:"",city:"",country:""}))):(X({message:"Pin code is valid",severity:"success",open:!0}),L(Object(u.a)({},j,{state:n.data[0].state,city:n.data[0].city_name,country:n.data[0].country}))),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("error",e.t0),X({message:"Error fetching country data by pincode",severity:"error",open:!0});case 20:return e.prev=20,v(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[0,16,20,23]])}));return function(){return e.apply(this,arguments)}}(),te=function(e){var t,r=e.target,n=r.name,a=r.value,o=a;("gst_number"!==n&&"pan_number"!==n||(o=a.toUpperCase()),"name"===n)?L(Object(u.a)({},j,(t={},Object(Y.a)(t,n,o),Object(Y.a)(t,"purchase_decision_maker",o),t))):L(Object(u.a)({},j,Object(Y.a)({},n,o)))},re=function(){var e=Object(c.a)(Ys().mark(function e(t,r){var n,a;return Ys().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(L(Object(u.a)({},j,Object(Y.a)({},t,r))),"International"!==r){e.next=17;break}return e.prev=2,v(!0),e.next=6,xa.getAllMasterCountries("all");case 6:n=e.sent,a=n.data.filter(function(e){return"India"!==e.name}),M(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log("Error in getting country data by pincode");case 14:return e.prev=14,v(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,11,14,17]])}));return function(t,r){return e.apply(this,arguments)}}(),ne=function(){var e=Object(c.a)(Ys().mark(function e(){var t;return Ys().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pn.getNoDescription();case 3:t=e.sent,A(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(c.a)(Ys().mark(function e(){var t;return Ys().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qo.getAllRefernces();case 3:t=e.sent,C(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){ne(),ae()},[]);var oe=Object(n.useCallback)(function(){var e=Object(c.a)(Ys().mark(function e(n){var a,c,l;return Ys().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),v(!0),a={name:j.name,alternate_contact_name:j.alternate_contact_name,email:j.email,alternate_email:j.alternate_email,contact:j.contact||null,alternate_contact:j.alternate_contact||null,business_type:j.business_type,description:j.description||[],assigned_to:j.assigned_to,references:j.references,company:j.company,gst_number:j.gst_number||null,pan_number:j.pan_number||null,address:j.address,origin_type:j.origin_type||null,city:j.city,state:j.state,country:j.country,pincode:j.pincode||null,shipping_address:!0===E?j.address:j.shipping_address,shipping_city:!0===E?j.city:j.shipping_city,shipping_state:!0===E?j.state:j.shipping_state,shipping_pincode:!0===E?j.pincode||null:j.shipping_pincode||null,type_of_customer:j.type_of_customer,website:j.website,approx_annual_turnover:j.approx_annual_turnover,industrial_list:"Industrial Customer"===j.type_of_customer?j.industrial_list:null,category:"Distribution Customer"===j.type_of_customer?j.category:null,distribution_type:"Distribution Customer"===j.type_of_customer?j.distribution_type:null,main_distribution:"Distribution Customer"===j.type_of_customer?j.main_distribution:null,estd_year:j.estd_year,purchase_decision_maker:j.purchase_decision_maker},e.next=6,qo.createLeads(a);case 6:c=e.sent,l=c.data.message||"Leads Created successfully",U(l),setTimeout(function(){t(!1),r(o,i,f,h)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),V(e.t0);case 15:return e.prev=15,v(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[j,o,i,f,h]),ie=function(e){return/^[0-9]{2}[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}[1-9A-Za-z]{1}Z[0-9A-Za-z]{1}$/.test(e)},ce=function(e){return/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/.test(e)};return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:Z.open,message:Z.message,severity:Z.severity,onClose:function(){X({open:!1})}}),a.a.createElement(yt,{open:H.open,onClose:Q,severity:H.severity,message:H.message}),a.a.createElement(Je,{open:d}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return oe(e)},sx:{mt:1}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Qs,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Basic Details"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Name",variant:"outlined",value:j.name?j.name:"",onChange:te})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"alternate_contact_name",size:"small",label:"Alternate Contact Name",variant:"outlined",value:j.alternate_contact_name,onChange:te})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"email",size:"small",label:"Email",variant:"outlined",value:j.email,onChange:te})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"alternate_email",size:"small",label:"Alternate Email",variant:"outlined",value:j.alternate_email,onChange:te})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(un.a,{specialLabel:"Contact",inputStyle:{height:"15px",minWidth:"300px"},country:"in",onChange:function(e){var t=e.startsWith("+")?e:"+"+e;re("contact",t)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(un.a,{specialLabel:"Alternate Contact",inputStyle:{height:"15px",minWidth:"300px"},country:"in",onChange:function(e){var t=e.startsWith("+")?e:"+"+e;re("alternate_contact",t)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Busniess Type"),a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Busniess Type",onChange:function(e,t){return re("business_type",e.target.value)}},Ya.LeadBusinessTypeData.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.label},e.label)})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{style:{minWidth:220},size:"small",onChange:function(e,t){return re("references",t)},options:P.map(function(e){return e.source}),getOptionLabel:function(e){return"".concat(e)},label:"Reference"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{fullWidth:!0,size:"small",id:"grouped-demo",onChange:function(e,t){return re("assigned_to",t)},options:G.map(function(e){return e.email})||[],getOptionLabel:function(e){return e},label:"Assignied To"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{size:"small",value:j.description,onChange:function(e,t){re("description",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:D.map(function(e){return e.name}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Description",placeholder:"Description"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Qs,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Company Details"})))),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(a.a.Fragment,null,a.a.createElement(wt.a,null,a.a.createElement(Qr.a,{id:"demo-row-radio-buttons-group-label"},"Customer Type"),a.a.createElement(Hr.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:j.origin_type||"",onChange:function(e){return re("origin_type",e.target.value)}},a.a.createElement(pr.a,{value:"Domestic",control:a.a.createElement(Jr.a,null),label:"Domestic"}),a.a.createElement(pr.a,{value:"International",control:a.a.createElement(Jr.a,null),label:"International"}))))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"company",size:"small",label:"Company",variant:"outlined",value:j.company,onChange:te})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"gst_number",size:"small",label:"Gst Number",variant:"outlined",value:j.gst_number,onChange:te,error:j.gst_number&&!ie(j.gst_number),helperText:j.gst_number&&!ie(j.gst_number)&&"Invalid GST Number"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"pan_number",size:"small",label:"Pan Number",variant:"outlined",value:j.pan_number,onChange:te,error:j.pan_number&&!ce(j.pan_number),helperText:j.pan_number&&!ce(j.pan_number)&&"Invalid PAN Number"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:j.address,onChange:te})),"International"===j.origin_type?a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){re("country",t)},value:j.country||"",options:B&&B.map(function(e){return e.name}),label:"Country"})):a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Country",name:"country",variant:"outlined",value:j.country||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"city",size:"small",label:"State",variant:"outlined",value:j.state||null,InputLabelProps:{shrink:!0},disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"city",size:"small",label:"City",variant:"outlined",value:j.city||null,InputLabelProps:{shrink:!0},disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{sx:{minWidth:"170px"},name:"pincode",size:"small",label:"Pin Code",variant:"outlined",value:j.pincode,onChange:te}),a.a.createElement(We.a,{size:"small",onClick:ee,variant:"contained",sx:{marginLeft:"1rem"}},"Validate")),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Qs,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Shipping Details"})))),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(pr.a,{control:a.a.createElement(mr.a,{checked:E,onChange:function(e){w(e.target.checked)},inputProps:{"aria-label":"controlled"}}),label:"Same as Billing Address"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"shipping_address",size:"small",label:"Shipping Address",variant:"outlined",value:!0===E?j.address:j.shipping_address||"",onChange:te})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"shipping_pincode",size:"small",label:"Pin Code",variant:"outlined",value:!0===E?j.pincode:j.shipping_pincode||"",onChange:te})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"shipping_city",size:"small",label:"Shipping City",variant:"outlined",value:!0===E?j.city:j.shipping_city||"",onChange:te})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return re("shipping_state",t)},name:"shipping_state",value:E?j.state:j.shipping_state||"",options:Ya.StateOption.map(function(e){return e.value}),getOptionLabel:function(e){return e},label:"Shipping State"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Qs,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"KYC Details"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(a.a.Fragment,null,a.a.createElement(wt.a,null,a.a.createElement(Qr.a,{id:"demo-row-radio-buttons-group-label"},"Type of Customer"),a.a.createElement(Hr.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:j.type_of_customer,onChange:function(e){return re("type_of_customer",e.target.value)}},a.a.createElement(pr.a,{value:"Industrial Customer",control:a.a.createElement(Jr.a,null),label:"Industrial Customer"}),a.a.createElement(pr.a,{value:"Distribution Customer",control:a.a.createElement(Jr.a,null),label:"Distribution Customer"}))))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"website",size:"small",label:"Website",variant:"outlined",value:j.website,onChange:te})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"estd_year",size:"small",label:"Established Year",placeholder:"YYYY",value:j.estd_year||"",onChange:te})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"approx_annual_turnover",size:"small",label:"Approx Annual Turnover",variant:"outlined",value:j.approx_annual_turnover,onChange:te})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"purchase_decision_maker",size:"small",label:"Purchase Decision Maker",variant:"outlined",value:j.name||""})),"Industrial Customer"===j.type_of_customer&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return re("industrial_list",t)},value:j.industrial_list||"",options:Ya.IndustriesList.map(function(e){return e.label}),getOptionLabel:function(e){return e},label:"Industrial List"})),"Distribution Customer"===j.type_of_customer&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return re("distribution_type",t)},value:j?j.distribution_type:"",options:Ya.DistributionTypeOption.map(function(e){return e.label}),getOptionLabel:function(e){return e},label:"Distribution Type"})),"Distribution Customer"===j.type_of_customer&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",value:j.category||[],onChange:function(e,t){re("category",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:Ya.CategoryOption.map(function(e){return e.label}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Category",placeholder:"Category"}))}})),"Distribution Customer"===j.type_of_customer&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",value:j.main_distribution||[],onChange:function(e,t){re("main_distribution",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:Ya.MainDistribution.map(function(e){return e.label}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Main Distribution",placeholder:"Main Distribution"}))}}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:3,mb:2,textAlign:"right"}},"Submit")))}),Qs=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})});function Hs(){Hs=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Js=function(e){var t=e.setOpenPopup,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],f=Object(n.useState)(""),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(""),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(!1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(!1),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)([]),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(s.c)(function(e){return e.auth}).profile.active_sales_user||[];Object(n.useEffect)(function(){F()},[]);var F=function(){var e=Object(c.a)(Hs().mark(function e(){var t,r,n;return Hs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),t=["Director","Customer Service","Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Sales Manager without Leads"],e.next=5,qo.getAllAssignedUser();case 5:r=e.sent,n=r.data.filter(function(e){return e.groups.some(function(e){return t.includes(e)})}),x(n),u(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),u(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(c.a)(Hs().mark(function e(r){var n;return Hs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),r.preventDefault(),n={assign_from:p,assign_to:v,states:D.map(function(e){return e.value})},e.next=6,qo.BulkLeadAssign(n);case 6:t(!1),u(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),u(!1);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),W=function(e,t,r){return!e&&r?"Field cannot be empty":e===t?"Assign From will not be the same as Assign To":""};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:i}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:G},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ur.a,{multiple:!0,fullWidth:!0,size:"small",value:D,onChange:function(e,t){A(t)},options:[{value:"Andhra Pradesh"},{value:"Arunachal Pradesh"},{value:"Assam"},{value:"Bihar"},{value:"Chhattisgarh"},{value:"Goa"},{value:"Gujarat"},{value:"Haryana"},{value:"Himachal Pradesh"},{value:"Jharkhand"},{value:"Karnataka"},{value:"Kerala"},{value:"Madhya Pradesh"},{value:"Maharashtra"},{value:"Manipur"},{value:"Meghalaya"},{value:"Mizoram"},{value:"Nagaland"},{value:"Odisha"},{value:"Punjab"},{value:"Rajasthan"},{value:"Sikkim"},{value:"Tamil Nadu"},{value:"Telangana"},{value:"Tripura"},{value:"Uttar Pradesh"},{value:"Uttarakhand"},{value:"West Bengal"},{value:"Delhi"},{value:"Jammu & Kashmir"},{value:"Ladakh"}],getOptionLabel:function(e){return e.value},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Select States"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{fullWidth:!0,size:"small",id:"grouped-demo",value:p?w.find(function(e){return e.employee_id===p}):null,onChange:function(e,t){m(t&&t.employee_id||""),j||L(!0)},options:w,getOptionLabel:function(e){return e.name||""},isOptionEqualToValue:function(e,t){return e.employee_id===t},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Assign From",error:j&&(p===v||!p),helperText:W(p,v,j),onBlur:function(){return L(!0)}}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{fullWidth:!0,size:"small",id:"grouped-demo",value:v&&I.find(function(e){return e.employee_id===v})||null,onChange:function(e,t){g(t&&t.employee_id||""),P||C(!0)},options:I,getOptionLabel:function(e){return e.name||""},isOptionEqualToValue:function(e,t){return e.employee_id===t},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Assign To",error:P&&(p===v||!v),helperText:W(v,p,P),onBlur:function(){return C(!0)}}))}}))),a.a.createElement(Lt,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},text:"Assign"})))},Ks={someDate:function(){var e=new Date,t=new Date;return t.setDate(e.getDate()+5),t.toISOString().substring(0,10)}()},Zs=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Object(n.useState)(e),o=Object(l.a)(a,2),i=o[0],c=o[1],s=Object(n.useCallback)(function(e,r,n){var a=Object(vr.a)(i),o=t.find(function(e){return e.product__name===n});a[e]=Object(u.a)({},a[e],{product:n,unit:o?o.unit:""}),c(a)},[i,t]),f=Object(n.useCallback)(function(e,t){var r=Object(vr.a)(i);r[e][t.target.name]=t.target.value,c(r)},[i]),h=Object(n.useCallback)(function(){var e={product:"",unit:"",quantity:"",rate:"",requested_date:Ks.someDate,special_instructions:""};c(function(t){return[].concat(Object(vr.a)(t),[e])})},[]),p=Object(n.useCallback)(function(e){c(function(t){return t.filter(function(t,r){return r!==e})})},[]);return{products:Object(n.useMemo)(function(){return r?i.map(function(e){return Object(u.a)({},e,{amount:e.quantity&&e.rate?(Number(e.quantity)*Number(e.rate)).toFixed(2):"0.00"})}):i},[i,r]),handleAutocompleteChange:s,handleFormChange:f,addFields:h,removeFields:p}};function Xs(){Xs=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var $s=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),ef={"& .MuiButtonBase-root.MuiAutocomplete-clearIndicator":{color:"blue",visibility:"visible"}},tf={someDate:(new Date).toISOString().substring(0,10)},rf=function(e){var t=e.setOpenPopup,r=e.leadsByID,o=Object(n.useState)([]),i=Object(l.a)(o,2),h=i[0],p=i[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),v=d[0],g=d[1],b=gt(),w=b.handleSuccess,x=b.handleError,O=b.handleCloseSnackbar,_=b.alertInfo,j=Zs([{product:"",quantity:"",rate:"",unit:"",requested_date:tf.someDate,special_instructions:""}],h,!0),L=j.handleAutocompleteChange,S=j.handleFormChange,k=j.addFields,P=j.removeFields,C=j.products,T=Object(f.n)(),N=Object(n.useState)(!1),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)(!1),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useState)(!1),B=Object(l.a)(R,2),M=B[0],q=B[1],U=Object(n.useState)([]),V=Object(l.a)(U,2),Q=V[0],H=V[1],J=Object(n.useState)(""),K=Object(l.a)(J,2),Z=K[0],X=K[1],$=Object(n.useState)([]),ee=Object(l.a)($,2),te=ee[0],re=ee[1],ne=Object(n.useState)([]),ae=Object(l.a)(ne,2),oe=ae[0],ie=ae[1],ce=Object(n.useState)(),le=Object(l.a)(ce,2),ue=le[0],se=le[1],fe=Object(n.useState)(!0),he=Object(l.a)(fe,2),pe=he[0],me=he[1],de=Object(n.useState)(!1),ye=Object(l.a)(de,2),ve=ye[0],ge=ye[1],be=Object(n.useState)([]),Ee=Object(l.a)(be,2),we=Ee[0],xe=Ee[1],Oe=Object(n.useState)([]),_e=Object(l.a)(Oe,2),je=_e[0],Le=_e[1],Se=Object(s.c)(function(e){return e.auth}).profile,ke=function(e){var t=e.target,r=t.name,n=t.value;H(Object(u.a)({},Q,Object(Y.a)({},r,n)))},Pe=Object(n.useState)(300),Te=Object(l.a)(Pe,2),Ne=Te[0],De=Te[1];Object(n.useEffect)(function(){if(!(Ne<=0)){var e=setInterval(function(){De(function(e){return e-1})},1e3);return function(){return clearInterval(e)}}t(!1)},[Ne,t]);var Ie=Object(n.useCallback)(Object(c.a)(Xs().mark(function e(){var t;return Xs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pn.getProductPriceList();case 3:t=e.sent,p(t.data.products),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("error potential",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),[]),Ge=function(){var e=Object(c.a)(Xs().mark(function e(){var t;return Xs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,st.getAllPaginateSellerAccountData("all");case 3:t=e.sent,Le(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error fetching seller account data:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){Ge(),Ie()},[]);var ze=function(){var e=Object(c.a)(Xs().mark(function e(t){var r;return Xs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qo.getLeadsById(t);case 3:r=e.sent,xe(r.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(c.a)(Xs().mark(function e(){var t,r;return Xs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.prev=1,e.next=4,Kr.getCurrencyData();case 4:(t=e.sent)&&t.data&&(r=t.data,g(r),"Domestic"!==we.origin_type||we.currency||xe(function(e){return Object(u.a)({},e,{currency:"INR"})})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),x(e.t0),console.error("Error fetching currency data",e.t0);case 12:return e.prev=12,q(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,8,12,15]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){Re(),r&&ze(r)},[]);var Be=function(){var e=Object(c.a)(Xs().mark(function e(t){var r,n,a;return Xs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),Q.transporter_name){e.next=3;break}return e.abrupt("return",alert("Transporter name is required"));case 3:if(r={type:"Lead",raised_by:Se.email,raised_by_first_name:Se.first_name,raised_by_last_name:Se.last_name,seller_account:Z.unit,seller_address:Z.address,seller_pincode:Z.pincode,seller_state:Z.state,seller_city:Z.city,seller_gst:Z.gst_number||null,seller_pan:Z.pan_number,seller_state_code:Z.state_code,seller_cin:Z.cin_number,seller_email:Z.email,seller_contact:Z.contact,seller_bank_name:Z.bank_name,seller_account_no:Z.current_account_no,seller_ifsc_code:Z.ifsc_code,seller_branch:Z.branch,lead:we.lead_id,contact_person_name:we.name,contact:we.contact,alternate_contact:we.alternate_contact,company_name:we.company,gst_number:we.gst_number||null,pan_number:we.pan_number,billing_address:we.address,billing_state:we.state,billing_city:we.city,billing_pincode:we.pincode,address:we.shipping_address,pincode:we.shipping_pincode,state:we.shipping_state,city:we.shipping_city,place_of_supply:Q.place_of_supply,transporter_name:Q.transporter_name,buyer_order_no:!0===pe?"verbal":Q.buyer_order_no,buyer_order_date:Q.buyer_order_date?Q.buyer_order_date:tf.someDate,payment_terms:te,delivery_terms:oe,status:ve?"Price Approval":"Approved",price_approval:ve,products:C},"International"===we.origin_type?r.currency=we.currency:r.currency="INR",e.prev=5,q(!0),null!==(o=we).contact&&null!==o.address&&null!==o.state&&null!==o.city&&null!==o.pincode&&null!==o.shipping_address&&null!==o.shipping_state&&null!==o.shipping_city&&null!==o.shipping_pincode&&null!==o.type_of_customer&&"Domestic"===o.origin_type?null!==o.pan_number||null!==o.gst_number:null!=o.company){e.next=12;break}return se(we.lead_id),I(!0),e.abrupt("return");case 12:return e.next=14,st.createLeadsProformaInvoiceData(r);case 14:n=e.sent,a=n.data.message||"Proforma Invoice created successfully!",w(a),setTimeout(function(){T("/invoice/active-pi")},300),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(5),x(e.t0),console.error("Creating Lead PI error",e.t0);case 24:return e.prev=24,q(!1),e.finish(24);case 27:case"end":return e.stop()}var o},e,null,[[5,20,24,27]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(yt,{open:_.open,onClose:O,severity:_.severity,message:_.message}),a.a.createElement(Je,{open:M}),a.a.createElement("p",null,"Time Left: ",function(e){var t=Math.floor(e/60),r=e%60;return"".concat(String(t).padStart(2,"0"),":").concat(String(r).padStart(2,"0"))}(Ne)),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return Be(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"seller_account",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return X(t)},options:je,getOptionLabel:function(e){return e.unit},sx:{minWidth:300},label:"Seller Account",style:ef})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"payment_terms",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return re(t)},options:nf.map(function(e){return e.label}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Payment Terms",style:ef})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"delivery_terms",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return ie(t)},options:af.map(function(e){return e.label}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Delivery Terms",style:ef})),"International"===we.origin_type&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",disablePortal:!0,id:"currency-autocomplete",value:v.find(function(e){return e.name===we.currency})||null,onChange:function(e,t){return xe(Object(u.a)({},we,{currency:t.name}))},options:v.map(function(e){return e}),getOptionLabel:function(e){return"".concat(e.name," (").concat(e.symbol,")")},sx:{minWidth:300},label:"Currency"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement($s,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"LEAD"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"Lead ID",size:"small",label:"Lead ID",variant:"outlined",value:we.lead_id?we.lead_id:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"contact",size:"small",label:"Contact",variant:"outlined",value:we.contact?we.contact:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"alternate_contact",size:"small",label:"Alt. Contact",variant:"outlined",value:we.alternate_contact?we.alternate_contact:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,required:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:we.address?we.address:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"city",size:"small",label:"City",variant:"outlined",value:we.city?we.city:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"state",size:"small",label:"State",variant:"outlined",value:we.state?we.state:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"pincode",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:we.pincode?we.pincode:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"shipping_address",size:"small",label:"Shipping Address",variant:"outlined",value:we.shipping_address?we.shipping_address:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{required:!0,fullWidth:!0,name:"shipping_pincode",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:we.shipping_pincode?we.shipping_pincode:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"shipping_city",size:"small",label:"Shipping City",variant:"outlined",value:we.shipping_city?we.shipping_city:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"shipping_state",size:"small",label:"Shipping State",variant:"outlined",value:we.shipping_state?we.shipping_state:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(pr.a,{label:"Verbal",control:a.a.createElement(mr.a,{checked:pe,onChange:function(e){return me(e.target.checked)}})}),a.a.createElement(Ve,{required:!0,name:"buyer_order_no",size:"small",label:"Buyer Order No",variant:"outlined",disabled:!0===pe,value:!0===pe?"Verbal":Q.buyer_order_no?Q.buyer_order_no:"",onChange:ke,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"buyer_order_date",size:"small",label:"Buyer Order Date",variant:"outlined",value:Q.buyer_order_date?Q.buyer_order_date:tf.someDate,onChange:ke,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"place_of_supply",size:"small",label:"Place of Supply",variant:"outlined",value:Q.place_of_supply,onChange:ke})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"transporter_name",size:"small",label:"Transporter Name",variant:"outlined",value:Q.transporter_name,onChange:ke})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement($s,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(pr.a,{label:"Price Approval",control:a.a.createElement(mr.a,{checked:ve,onChange:function(e){return ge(e.target.checked)}})})),C.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,r){return L(t,e,r)},options:h.map(function(e){return e.product__name}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name",style:ef})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity,onChange:function(e){return S(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{type:"number",fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",onChange:function(e){return S(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,type:"number",name:"amount",size:"small",label:"Amount",variant:"outlined",value:(e.quantity*e.rate).toFixed(2)})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"requested_date",size:"small",label:"Request Date",variant:"outlined",value:e.requested_date||tf.someDate,onChange:function(e){return S(t,e)},InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"special_instructions",size:"small",label:"Special Instructions",variant:"outlined",value:e.special_instructions||"",onChange:function(e){return S(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,alignContent:"right"},0!==t&&a.a.createElement(We.a,{disabled:0===t,onClick:function(){return P(t)},variant:"contained"},"Remove")))}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(We.a,{onClick:k,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Lead Details",openPopup:A,setOpenPopup:I},a.a.createElement(E.a,null,'"Kindly update all Shipping Details & Laeds Details in required field"'),a.a.createElement(We.a,{variant:"contained",onClick:function(){return t(!1)}},"Update Leads")),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Leads",openPopup:W,setOpenPopup:z},a.a.createElement(Pi,{recordForEdit:ue,setOpenPopup:z})))},nf=[{label:"100% Advance",value:"100%_advance"},{label:"50% Advance, Balance Before Dispatch",value:"50%_advance_balance_before_dispatch"},{label:"30% Advance, Balance Before Dispatch",value:"30%_advance_balance_before_dispatch"},{label:"7 days along with PDC",value:"7_days_with_pdc"},{label:"10 days along with PDC",value:"10_days_with_pdc"},{label:"15 days along with PDC",value:"15_days_with_pdc"},{label:"30 days along with PDC",value:"30_days_with_pdc"},{label:"45 days along with PDC",value:"45_days_with_pdc"},{label:"60 days along with PDC",value:"60_days_with_pdc"},{label:"7 days",value:"7_days"},{label:"15 days",value:"15_days"},{label:"30 days",value:"30_days"},{label:"10% Advance, balance against shipping document (export)",value:"10%_advance_balance_against_shipping_document_(export)"},{label:"20% Advance, balance against shipping document (export)",value:"20%_advance_balance_against_shipping_document_(export)"},{label:"30% Advance, balance against shipping document (export)",value:"30%_advance_balance_against_shipping_document_(export)"},{label:"40% Advance, balance against shipping document (export)",value:"40%_advance_balance_against_shipping_document_(export)"},{label:"50% Advance, balance against shipping document (export)",value:"50%_advance_balance_against_shipping_document_(export)"},{label:"LC at Sight (Export)",value:"lc_at_sight_(export)"},{label:"LC 45 days (Export)",value:"lc_45_days_(export)"},{label:"TT in advance (Export)",value:"tt_in_advance_(export)"},{label:"45 days",value:"45_days"},{label:"60 days",value:"60_days"},{label:"Against Delivery",value:"against_delivery"}],af=[{label:"Ex-Work (Freight to pay)",value:"ex_work_(freight_to_pay)"},{label:"Transporter Warehouse (Freight to Pay)",value:"transporter_warehouse_(freight_to_pay)"},{label:"Customer Door Delivery (Freight to Pay)",value:"customer_door_delivery_(freight_to_pay)"},{label:"Customer Door Delivery (Prepaid)",value:"customer_door_delivery_(prepaid)"},{label:"Transporter Warehouse (Prepaid)",value:"transporter_warehouse_(prepaid)"},{label:"Add actual freight in invoice",value:"add_actual_freight_in_invoice"},{label:"Courier (Freight to Pay)",value:"courier_(freight_to_pay)"},{label:"Courier (Freight Add in Invoice)",value:"courier_(freight_add_in_invoice"}];function of(){of=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var cf=Object(n.memo)(function(e){var t=e.getleads,r=e.leadsByID,o=e.setOpenPopup,i=e.currentPage,s=e.filterQuery,f=e.filterSelectedQuery,h=e.searchQuery,p=Object(n.useState)({lead:r,product:"",month:"",quantity:""}),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)([]),L=Object(l.a)(j,2),S=L[0],k=L[1],P=gt(),C=P.handleSuccess,T=P.handleError,N=P.handleCloseSnackbar,D=P.alertInfo;Object(n.useEffect)(function(){k(A()),I()},[]);var A=function(){for(var e=["January","February","March","April","May","June","July","August","September","October","November","December"],t=[],r=new Date,n=1;n<=2;n++){var a=new Date(r.getFullYear(),r.getMonth()+n,1);t.push(e[a.getMonth()])}return t},I=function(){var e=Object(c.a)(of().mark(function e(){var t;return of().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pn.getAllValidPriceList("all");case 3:t=e.sent,_(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("error product",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),F=Object(n.useCallback)(function(){var e=Object(c.a)(of().mark(function e(r){var n,a;return of().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.preventDefault(),E(!0),e.next=5,qo.createLeadForecast(d);case 5:n=e.sent,a=n.data.message||"Leads Created successfully",C(a),setTimeout(function(){o(!1),t(i,s,f,h)},300),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),T(e.t0);case 14:return e.prev=14,E(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}));return function(t){return e.apply(this,arguments)}}(),[d,i,s,f,h]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:D.open,onClose:N,severity:D.severity,message:D.message}),a.a.createElement(Je,{open:b}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return F(e)},sx:{mt:1}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){y(Object(u.a)({},d,{product:t}))},options:O.map(function(e){return e.product}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{name:"month",size:"small",disablePortal:!0,id:"month-autocomplete",value:d.month,onChange:function(e,t){return y(Object(u.a)({},d,{month:t}))},options:S,sx:{minWidth:300},label:"Month"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Quantity",name:"quantity",type:"number",value:d.quantity,onChange:function(e){var t=e.target,r=t.name,n=t.value;y(Object(u.a)({},d,Object(Y.a)({},r,n)))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex",justifyContent:"flex-end"},a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:3,mb:2,textAlign:"right"}},"Submit"))))))});function lf(){lf=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var uf=function(e){var t=e.editforedc,r=e.setLoaderPopup;console.log("editforEdc",t);var o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)({message:"",severity:"",open:!1}),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)({type:"Lead",id:t.lead_id,edc_customer:""}),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useCallback)(Object(c.a)(lf().mark(function e(){var t;return lf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Kn.getAllEdc();case 4:t=e.sent,b(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),m({severity:"error",message:"Failed",open:!0});case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])})),[]);Object(n.useEffect)(function(){_()},[]);var j=function(){var e=Object(c.a)(lf().mark(function e(t){var n,a,o;return lf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),n=Object(u.a)({},x),f(!0),e.next=6,Kn.CreateEDC_Customer(n);case 6:a=e.sent,d({message:a.data.message||"Assign EDC successfully",severity:"success",open:!0}),setTimeout(function(){r(!1)},300),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),o=e.t0.response.data.message||"Assign EDC failed",d({message:o,severity:"error",open:!0});case 15:return e.prev=15,f(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,11,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:m.open,message:m.message,severity:m.severity,onClose:function(){d({open:!1})}}),a.a.createElement(Je,{loader:s}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:j,style:{minWidth:"550px"}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(sr,{name:"edc",size:"small",disablePortal:!0,id:"combo-box-demo",options:g.map(function(e){return e.name}),getOptionLabel:function(e){return e},onChange:function(e,t){O(function(e){return Object(u.a)({},e,{edc_customer:t})})},fullWidth:!0,label:"EDC"}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function sf(){sf=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ff=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(""),m=Object(l.a)(p,2),y=m[0],v=m[1],g=Object(n.useState)(null),b=Object(l.a)(g,2),w=b[0],O=b[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(0),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)(!1),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useState)(!1),B=Object(l.a)(R,2),M=B[0],q=B[1],U=Object(n.useState)(!1),Y=Object(l.a)(U,2),V=Y[0],Q=Y[1],H=Object(n.useState)(!1),J=Object(l.a)(H,2),K=J[0],Z=J[1],X=Object(n.useState)([]),$=Object(l.a)(X,2),ee=$[0],te=$[1],re=Object(n.useState)(!1),ne=Object(l.a)(re,2),ae=ne[0],oe=ne[1],ie=Object(n.useState)(!1),ce=Object(l.a)(ie,2),le=ce[0],ue=ce[1],se=Object(n.useState)(null),fe=Object(l.a)(se,2),he=fe[0],pe=fe[1],me=Object(n.useState)([]),de=Object(l.a)(me,2),ye=de[0],ve=de[1],ge=Object(n.useState)([]),be=Object(l.a)(ge,2),Ee=be[0],we=be[1],xe=Object(n.useState)(!1),Oe=Object(l.a)(xe,2),_e=Oe[0],je=Oe[1],Le=Object(n.useState)(!1),Se=Object(l.a)(Le,2),ke=Se[0],Pe=Se[1],Te=Object(n.useState)(),Ne=Object(l.a)(Te,2),De=Ne[0],Ie=Ne[1],Ge=Object(s.c)(function(e){return e.auth}).profile,ze=Object(n.useState)(!1),Re=Object(l.a)(ze,2),Be=Re[0],Me=Re[1],qe=Object(s.c)(function(e){return e.auth}),Ue=qe.active_sales_user||[],Ye=qe.profile,Ve=gt(),Qe=Ve.handleError,He=Ve.handleCloseSnackbar,Ke=Ve.alertInfo,Ze=[{label:"References",value:"references__source"},{label:"Description",value:"description__name"}].concat(Object(vr.a)(Ge.groups.includes("Sales Executive")?[]:[{label:"Assigned To",value:"assigned_to__email"}]));Object(n.useEffect)(function(){var e=function(){Me(!0),o([])},t=function(){Me(!1),nt()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var Xe=function(){var e=Object(c.a)(sf().mark(function e(t){var r,n;return sf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,v(t),!t.includes("references__source")){e.next=7;break}return e.next=5,qo.getAllRefernces();case 5:r=e.sent,ve(r.data);case 7:if(!t.includes("description__name")){e.next=12;break}return e.next=10,Pn.getNoDescription();case 10:n=e.sent,we(n.data);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),Qe(e.t0);case 17:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=Object(c.a)(sf().mark(function e(t,r){var n,a;return sf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=ee.includes(r.lead_id),te(n?function(e){return e.filter(function(e){return e!==r.lead_id})}:function(e){return[].concat(Object(vr.a)(e),[r.lead_id])}),e.prev=3,h(!0),a={pinned:!n,description:r.description||[]},e.next=8,qo.updateLeads(r.lead_id,a);case 8:nt(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),Qe(e.t0);case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[3,11,14,17]])}));return function(t,r){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){nt()},[C,w,L]);var et,tt,rt,nt=Object(n.useCallback)(Object(c.a)(sf().mark(function e(){var t;return sf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,qo.getAllLeads(C,"new",y,w,L);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Qe(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,w,L]),at=r.map(function(e){var t="";switch(e.priority){case"High":t="#ffcccc";break;case"Medium":t="#ccccff";break;case"Low":t="#ffffcc";break;default:t="#ffffff"}return{priority:t}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:Ke.open,onClose:He,severity:Ke.severity,message:Ke.message}),a.a.createElement(Co.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(Be?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Je,{open:f}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{mb:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Fliter By"),a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"values",label:"Fliter By",value:y,onChange:function(e){return Xe(e.target.value)}},Ze.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),y&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},y&&(et="assigned_to__email"===y?"Assigned To":"references__source"===y?"Reference":"stage"===y?"Stage":"description__name"===y?"Description":"",tt="assigned_to__email"===y?Ue.map(function(e){return e.email}):"references__source"===y?ye.map(function(e){return e.source}):"stage"===y?hf.map(function(e){return e.value}):"description__name"===y?Ee.map(function(e){return e.name}):[],rt=function(e){O(e),T(1)},a.a.createElement(sr,{fullWidth:!0,size:"small",onChange:function(e,t){return rt(t)},options:tt,getOptionLabel:function(e){return e},label:et}))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(Ur,{onSearch:function(e){S(e),T(1)},onReset:function(){S(""),T(1)}})),a.a.createElement(Fe.a,{item:!0,xs:6,sm:3,md:1.5},(Ye.groups.includes("Director")||Ye.groups.includes("Sales Manager"))&&a.a.createElement(We.a,{variant:"contained",onClick:function(){return je(!0)}},"Assign Bulk")),a.a.createElement(Fe.a,{item:!0,xs:6,sm:3,md:1.5},a.a.createElement(We.a,{variant:"contained",color:"success",onClick:function(){return q(!0)}},"Add")))),a.a.createElement(Ae.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2}},a.a.createElement(Fe.a,{container:!0,justifyContent:"center"},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"h3",component:"h3",sx:{textAlign:"center",fontSize:"24px",fontWeight:800,color:"rgb(34, 34, 34)"}},"New Leads")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(mf,null,(Ye.groups.includes("Sales Executive")||Ye.groups.includes("Business Development Executive")?["COMPANY","NAME","CONTACT","ALTERNATE CONTACT","CITY","STATE","PRIORITY","STAGE","ASSIGNED BY","PIN","ACTION"]:["COMPANY","NAME","CONTACT","ALTERNATE CONTACT","CITY","STATE","PRIORITY","STAGE","ASSIGNED BY","ASSIGNED TO","PIN","ACTION"]).map(function(e){return a.a.createElement(pf,{key:e,align:"center"},e)}))),a.a.createElement(Hn.a,null,r.map(function(e,t){return a.a.createElement(mf,{key:e.i,style:{backgroundColor:at[t]&&at[t].priority||"",cursor:"pointer","&:hover":{backgroundColor:"#f5f5f5"},"&.pinned-row":{backgroundColor:"#e0e0e0"}},className:ee.includes(e.lead_id)?"pinned-row":""},a.a.createElement(pf,{align:"center"},e.company),a.a.createElement(pf,{align:"center"},e.name),a.a.createElement(pf,{align:"center"},e.contact),a.a.createElement(pf,{align:"center"},e.alternate_contact),a.a.createElement(pf,{align:"center"},e.city),a.a.createElement(pf,{align:"center"},e.state),a.a.createElement(pf,{align:"center"},e.priority),a.a.createElement(pf,{align:"center"},e.stage),a.a.createElement(pf,{align:"center"},e.assigned_by),!(Ye.groups.includes("Sales Executive")||Ye.groups.includes("Business Development Executive"))&&a.a.createElement(pf,{align:"center"},e.assigned_name),a.a.createElement(pf,{align:"center"},a.a.createElement(d.a,{onClick:function(t){return $e(t,e)},style:{transform:"rotate(45deg)"}},e.pinned?a.a.createElement(Ms.a,null):a.a.createElement(Us.a,null))),a.a.createElement(pf,{align:"center"},a.a.createElement(We.a,{onClick:function(){return pe(e.lead_id),void z(!0)}},"View"),",",a.a.createElement(We.a,{onClick:function(){return pe(e.lead_id),void Q(!0)}},"Activity"),",",a.a.createElement(We.a,{onClick:function(){return pe(e.lead_id),void Z(!0)}},"Potential"),",",a.a.createElement(We.a,{onClick:function(){return pe(e.lead_id),void oe(!0)}},"PI"),",",a.a.createElement(We.a,{onClick:function(){return pe(e.lead_id),void ue(!0)}},"Forecast"),a.a.createElement(We.a,{onClick:function(){return Ie(e),void Pe(!0)}},"Assign to EDC")))})))),a.a.createElement(Vr,{totalPages:A,currentPage:C,handlePageChange:function(e,t){T(t)}}))),a.a.createElement(Ce,{fullScreen:!0,title:"Create Leads",openPopup:M,setOpenPopup:q},a.a.createElement(Vs,{getleads:nt,setOpenPopup:q,currentPage:C,filterQuery:y,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(Ce,{fullScreen:!0,title:"Update Leads",openPopup:W,setOpenPopup:z},a.a.createElement(Pi,{leadsByID:he,setOpenPopup:z,getAllleadsData:nt,currentPage:C,filterQuery:y,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(Ce,{maxWidth:"xl",title:"Create Activity",openPopup:V,setOpenPopup:Q},a.a.createElement(xi,{getleads:nt,leadsByID:he,setOpenPopup:Q,getLeadByID:null,currentPage:C,filterQuery:y,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(Ce,{maxWidth:"lg",title:"Create Potential",openPopup:K,setOpenPopup:Z},a.a.createElement(Li,{getleads:nt,getLeadByID:null,leadsByID:he,setOpenPopup:Z,currentPage:C,filterQuery:y,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(Ce,{fullScreen:!0,title:"Create Leads Proforma Invoice",openPopup:ae,setOpenPopup:oe},a.a.createElement(rf,{leadsByID:he,setOpenPopup:oe})),a.a.createElement(Ce,{title:"Create Lead Forecast",openPopup:le,setOpenPopup:ue},a.a.createElement(cf,{getleads:nt,leadsByID:he,setOpenPopup:ue,currentPage:C,filterQuery:y,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(Ce,{maxWidth:"lg",title:"Assign Bulk Lead to another Employee",openPopup:_e,setOpenPopup:je},a.a.createElement(Js,{setOpenPopup:je})),a.a.createElement(Ce,{maxWidth:"lg",title:"Assign to Exclusive Distribution Customer",openPopup:ke,setOpenPopup:Pe},a.a.createElement(uf,{setOpenPopup:Pe,editforedc:De})))},hf=[{label:"New",value:"new"},{label:"Open",value:"open"},{label:"Opportunity",value:"opportunity"},{label:"Potential",value:"potential"},{label:"Interested",value:"interested"},{label:"Converted",value:"converted"},{label:"Not Interested",value:"not_interested"},{label:"Close",value:"close"}],pf=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),mf=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0},"& > td, & > th":{padding:4},"& > td:first-child, & > th:first-child":{paddingLeft:4},"& > td:last-child, & > th:last-child":{paddingRight:4},"&:hover":{backgroundColor:"lightgray !important"}}});function df(){df=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var yf=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(""),m=Object(l.a)(p,2),y=m[0],v=m[1],g=Object(n.useState)(null),b=Object(l.a)(g,2),w=b[0],O=b[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(0),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)(!1),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useState)(!1),B=Object(l.a)(R,2),M=B[0],q=B[1],U=Object(n.useState)(!1),Y=Object(l.a)(U,2),V=Y[0],Q=Y[1],H=Object(n.useState)(!1),J=Object(l.a)(H,2),K=J[0],Z=J[1],X=Object(n.useState)([]),$=Object(l.a)(X,2),ee=$[0],te=$[1],re=Object(n.useState)(!1),ne=Object(l.a)(re,2),ae=ne[0],oe=ne[1],ie=Object(n.useState)(!1),ce=Object(l.a)(ie,2),le=ce[0],ue=ce[1],se=Object(n.useState)(!1),fe=Object(l.a)(se,2),he=fe[0],pe=fe[1],me=Object(n.useState)(),de=Object(l.a)(me,2),ye=de[0],ve=de[1],ge=Object(n.useState)(null),be=Object(l.a)(ge,2),Ee=be[0],we=be[1],xe=Object(n.useState)([]),Oe=Object(l.a)(xe,2),_e=Oe[0],je=Oe[1],Le=Object(n.useState)([]),Se=Object(l.a)(Le,2),ke=Se[0],Pe=Se[1],Te=Object(n.useState)(!1),Ne=Object(l.a)(Te,2),De=Ne[0],Ie=Ne[1],Ge=Object(s.c)(function(e){return e.auth}).profile,ze=Object(n.useState)(!1),Re=Object(l.a)(ze,2),Be=Re[0],Me=Re[1],qe=Ge.sales_users||[],Ue=Object(s.c)(function(e){return e.auth}).profile,Ye=gt(),Ve=Ye.handleError,Qe=Ye.handleCloseSnackbar,He=Ye.alertInfo,Ke=[{label:"References",value:"references__source"},{label:"Description",value:"description__name"},{label:"Stage",value:"stage"}].concat(Object(vr.a)(Ge.groups.includes("Sales Executive")?[]:[{label:"Assigned To",value:"assigned_to__email"}]));Object(n.useEffect)(function(){var e=function(){Me(!0),o([])},t=function(){Me(!1),rt()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var Ze=function(){var e=Object(c.a)(df().mark(function e(t){var r,n;return df().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h(!0),v(t),!t.includes("references__source")){e.next=8;break}return e.next=6,qo.getAllRefernces();case 6:r=e.sent,je(r.data);case 8:if(!t.includes("description__name")){e.next=13;break}return e.next=11,Pn.getNoDescription();case 11:n=e.sent,Pe(n.data);case 13:h(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("error",e.t0),h(!1);case 20:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(c.a)(df().mark(function e(t,r){var n,a;return df().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=ee.includes(r.lead_id),te(n?function(e){return e.filter(function(e){return e!==r.lead_id})}:function(e){return[].concat(Object(vr.a)(e),[r.lead_id])}),e.prev=3,h(!0),a={pinned:!n,description:r.description||[]},e.next=8,qo.updateLeads(r.lead_id,a);case 8:rt(),h(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("error :>> ",e.t0),h(!1);case 16:case"end":return e.stop()}},e,null,[[3,12]])}));return function(t,r){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){rt()},[C,w,L]);var $e,et,tt,rt=Object(n.useCallback)(Object(c.a)(df().mark(function e(){var t;return df().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,qo.getAllLeads(C,"others",y,w,L);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Ve(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,w,L]),nt=r.map(function(e){var t="";switch(e.priority){case"High":t="#ffcccc";break;case"Medium":t="#ccccff";break;case"Low":t="#ffffcc";break;default:t="#ffffff"}return{priority:t}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:He.open,onClose:Qe,severity:He.severity,message:He.message}),a.a.createElement(Co.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(Be?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Je,{open:f}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{mb:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Fliter By"),a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"values",label:"Fliter By",value:y,onChange:function(e){return Ze(e.target.value)}},Ke.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),y&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},y&&($e="assigned_to__email"===y?"Assigned To":"references__source"===y?"Reference":"stage"===y?"Stage":"description__name"===y?"Description":"",et="assigned_to__email"===y?qe.map(function(e){return e.email}):"references__source"===y?_e.map(function(e){return e.source}):"stage"===y?vf.map(function(e){return e.value}):"description__name"===y?ke.map(function(e){return e.name}):[],tt=function(e){O(e),T(1)},a.a.createElement(sr,{fullWidth:!0,size:"small",onChange:function(e,t){return tt(t)},options:et,getOptionLabel:function(e){return e},label:$e}))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(Ur,{onSearch:function(e){S(e),T(1)},onReset:function(){S(""),T(1)}})),a.a.createElement(Fe.a,{item:!0,xs:6,sm:3,md:1.5},(Ue.groups.includes("Director")||Ue.groups.includes("Sales Manager"))&&a.a.createElement(We.a,{variant:"contained",onClick:function(){return Ie(!0)}},"Assign Bulk")),a.a.createElement(Fe.a,{item:!0,xs:6,sm:3,md:1.5},a.a.createElement(We.a,{variant:"contained",color:"success",onClick:function(){return q(!0)}},"Add")))),a.a.createElement(Ae.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2}},a.a.createElement(Fe.a,{container:!0,justifyContent:"center"},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"h3",component:"h3",sx:{textAlign:"center",fontSize:"24px",fontWeight:800,color:"rgb(34, 34, 34)"}},"Opened Leads")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(bf,null,(Ue.groups.includes("Sales Executive")||Ue.groups.includes("Business Development Executive")?["COMPANY","NAME","CONTACT","ALTERNATE CONTACT","CITY","STATE","PRIORITY","STAGE","ASSIGNED BY","PIN","ACTION"]:["COMPANY","NAME","CONTACT","ALTERNATE CONTACT","CITY","STATE","PRIORITY","STAGE","ASSIGNED BY","ASSIGNED TO","PIN","ACTION"]).map(function(e){return a.a.createElement(gf,{key:e,align:"center"},e)}))),a.a.createElement(Hn.a,null,r.map(function(e,t){return a.a.createElement(bf,{key:e.i,style:{backgroundColor:nt[t]&&nt[t].priority||"",cursor:"pointer","&:hover":{backgroundColor:"#f5f5f5"},"&.pinned-row":{backgroundColor:"#e0e0e0"}},className:ee.includes(e.lead_id)?"pinned-row":""},a.a.createElement(gf,{align:"center"},e.company),a.a.createElement(gf,{align:"center"},e.name),a.a.createElement(gf,{align:"center"},e.contact),a.a.createElement(gf,{align:"center"},e.alternate_contact),a.a.createElement(gf,{align:"center"},e.city),a.a.createElement(gf,{align:"center"},e.state),a.a.createElement(gf,{align:"center"},e.priority),a.a.createElement(gf,{align:"center"},e.stage),a.a.createElement(gf,{align:"center"},e.assigned_by),!(Ue.groups.includes("Sales Executive")||Ue.groups.includes("Business Development Executive"))&&a.a.createElement(gf,{align:"center"},e.assigned_name),a.a.createElement(gf,{align:"center"},a.a.createElement(d.a,{onClick:function(t){return Xe(t,e)},style:{transform:"rotate(45deg)"}},e.pinned?a.a.createElement(Ms.a,null):a.a.createElement(Us.a,null))),a.a.createElement(gf,{align:"center"},a.a.createElement(We.a,{onClick:function(){return we(e.lead_id),void z(!0)}},"View"),",",a.a.createElement(We.a,{onClick:function(){return we(e.lead_id),void Q(!0)}},"Activity"),",",a.a.createElement(We.a,{onClick:function(){return we(e.lead_id),void Z(!0)}},"Potential"),",",a.a.createElement(We.a,{onClick:function(){return we(e.lead_id),void oe(!0)}},"PI"),","," ",a.a.createElement(We.a,{onClick:function(){return we(e.lead_id),void ue(!0)}},"Forecast"),(Ue.groups.includes("Sales Manager")||Ue.groups.includes("Director"))&&a.a.createElement(We.a,{color:"secondary",variant:"text",onClick:function(){return ve(e),void pe(!0)}},"Assign EDC")))})))),a.a.createElement(Vr,{totalPages:A,currentPage:C,handlePageChange:function(e,t){T(t)}}))),a.a.createElement(Ce,{fullScreen:!0,title:"Create Leads",openPopup:M,setOpenPopup:q},a.a.createElement(Vs,{getleads:rt,setOpenPopup:q,currentPage:C,filterQuery:y,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(Ce,{fullScreen:!0,title:"Update Leads",openPopup:W,setOpenPopup:z},a.a.createElement(Pi,{leadsByID:Ee,setOpenPopup:z,getAllleadsData:rt,currentPage:C,filterQuery:y,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(Ce,{maxWidth:"xl",title:"Create Activity",openPopup:V,setOpenPopup:Q},a.a.createElement(xi,{getleads:rt,leadsByID:Ee,setOpenPopup:Q,getLeadByID:null,currentPage:C,filterQuery:y,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(Ce,{maxWidth:"lg",title:"Create Potential",openPopup:K,setOpenPopup:Z},a.a.createElement(Li,{getleads:rt,getLeadByID:null,leadsByID:Ee,setOpenPopup:Z,currentPage:C,filterQuery:y,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(Ce,{fullScreen:!0,title:"Create Leads Proforma Invoice",openPopup:ae,setOpenPopup:oe},a.a.createElement(rf,{leadsByID:Ee,setOpenPopup:oe})),a.a.createElement(Ce,{title:"Create Lead Forecast",openPopup:le,setOpenPopup:ue},a.a.createElement(cf,{getleads:rt,leadsByID:Ee,setOpenPopup:ue,currentPage:C,filterQuery:y,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(Ce,{maxWidth:"lg",title:"Assign Bulk Lead to another Employee",openPopup:De,setOpenPopup:Ie},a.a.createElement(Js,{setOpenPopup:Ie})),a.a.createElement(Ce,{maxWidth:"lg",title:"Assign to Exclusive Distribution Customer",openPopup:he,setOpenPopup:pe},a.a.createElement(uf,{setOpenPopup:pe,editforedc:ye})))},vf=[{label:"Open",value:"open"},{label:"Opportunity",value:"opportunity"},{label:"Potential",value:"potential"}],gf=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),bf=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0},"& > td, & > th":{padding:4},"& > td:first-child, & > th:first-child":{paddingLeft:4},"& > td:last-child, & > th:last-child":{paddingRight:4},"&:hover":{backgroundColor:"lightgray !important"}}});function Ef(){Ef=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var wf=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(""),m=Object(l.a)(p,2),y=m[0],v=m[1],g=Object(n.useState)(null),b=Object(l.a)(g,2),w=b[0],O=b[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(0),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)(!1),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useState)(!1),B=Object(l.a)(R,2),M=B[0],q=B[1],U=Object(n.useState)(!1),Y=Object(l.a)(U,2),V=Y[0],Q=Y[1],H=Object(n.useState)(!1),J=Object(l.a)(H,2),K=J[0],Z=J[1],X=Object(n.useState)([]),$=Object(l.a)(X,2),ee=$[0],te=$[1],re=Object(n.useState)(!1),ne=Object(l.a)(re,2),ae=ne[0],oe=ne[1],ie=Object(n.useState)(!1),ce=Object(l.a)(ie,2),le=ce[0],ue=ce[1],se=Object(n.useState)(null),fe=Object(l.a)(se,2),he=fe[0],pe=fe[1],me=Object(n.useState)([]),de=Object(l.a)(me,2),ye=de[0],ve=de[1],ge=Object(n.useState)([]),be=Object(l.a)(ge,2),Ee=be[0],we=be[1],xe=Object(n.useState)(!1),Oe=Object(l.a)(xe,2),_e=Oe[0],je=Oe[1],Le=Object(n.useState)(!1),Se=Object(l.a)(Le,2),ke=Se[0],Pe=Se[1],Te=Object(n.useState)(),Ne=Object(l.a)(Te,2),De=Ne[0],Ie=Ne[1],Ge=Object(s.c)(function(e){return e.auth}).profile,ze=Object(n.useState)(!1),Re=Object(l.a)(ze,2),Be=Re[0],Me=Re[1],qe=Ge.active_sales_user||[],Ue=gt(),Ye=Ue.handleError,Ve=Ue.handleCloseSnackbar,Qe=Ue.alertInfo,He=[{label:"References",value:"references__source"},{label:"Description",value:"description__name"}].concat(Object(vr.a)(Ge.groups.includes("Sales Executive")?[]:[{label:"Assigned To",value:"assigned_to__email"}]));Object(n.useEffect)(function(){var e=function(){Me(!0),o([])},t=function(){Me(!1),tt()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var Ke=function(){var e=Object(c.a)(Ef().mark(function e(t){var r,n;return Ef().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h(!0),v(t),!t.includes("references__source")){e.next=8;break}return e.next=6,qo.getAllRefernces();case 6:r=e.sent,ve(r.data);case 8:if(!t.includes("description__name")){e.next=13;break}return e.next=11,Pn.getNoDescription();case 11:n=e.sent,we(n.data);case 13:h(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("error",e.t0),h(!1);case 20:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(c.a)(Ef().mark(function e(t,r){var n,a;return Ef().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=ee.includes(r.lead_id),te(n?function(e){return e.filter(function(e){return e!==r.lead_id})}:function(e){return[].concat(Object(vr.a)(e),[r.lead_id])}),e.prev=3,h(!0),a={pinned:!n,description:r.description||[]},e.next=8,qo.updateLeads(r.lead_id,a);case 8:tt(),h(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("error :>> ",e.t0),h(!1);case 16:case"end":return e.stop()}},e,null,[[3,12]])}));return function(t,r){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){tt()},[C,w,L]);var Xe,$e,et,tt=Object(n.useCallback)(Object(c.a)(Ef().mark(function e(){var t;return Ef().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,qo.getAllLeads(C,"hot","-lead_id",y,w,L);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Ye(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,w,L]),rt=r.map(function(e){var t="";switch(e.priority){case"High":t="#ffcccc";break;case"Medium":t="#ccccff";break;case"Low":t="#ffffcc";break;default:t="#ffffff"}return{priority:t}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:Qe.open,onClose:Ve,severity:Qe.severity,message:Qe.message}),a.a.createElement(Co.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(Be?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Je,{open:f}),"x",a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{mb:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Fliter By"),a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"values",label:"Fliter By",value:y,onChange:function(e){return Ke(e.target.value)}},He.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),y&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},y&&(Xe="assigned_to__email"===y?"Assigned To":"references__source"===y?"Reference":"stage"===y?"Stage":"description__name"===y?"Description":"",$e="assigned_to__email"===y?qe.map(function(e){return e.email}):"references__source"===y?ye.map(function(e){return e.source}):"stage"===y?xf.map(function(e){return e.value}):"description__name"===y?Ee.map(function(e){return e.name}):[],et=function(e){O(e),T(1)},a.a.createElement(sr,{fullWidth:!0,size:"small",onChange:function(e,t){return et(t)},options:$e,getOptionLabel:function(e){return e},label:Xe}))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(Ur,{onSearch:function(e){S(e),T(1)},onReset:function(){S(""),T(1)}})),a.a.createElement(Fe.a,{item:!0,xs:6,sm:3,md:1.5},(Ge.groups.includes("Director")||Ge.groups.includes("Sales Manager")||Ge.groups.includes("Sales Deputy Manager")||Ge.groups.includes("Sales Assistant Deputy Manager"))&&a.a.createElement(We.a,{variant:"contained",onClick:function(){return je(!0)}},"Assign Bulk")),a.a.createElement(Fe.a,{item:!0,xs:6,sm:3,md:1.5},a.a.createElement(We.a,{variant:"contained",color:"success",onClick:function(){return q(!0)}},"Add")))),a.a.createElement(Ae.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2}},a.a.createElement(Fe.a,{container:!0,justifyContent:"center"},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"h3",component:"h3",sx:{textAlign:"center",fontSize:"24px",fontWeight:800,color:"rgb(34, 34, 34)"}},"Hot Leads")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(_f,null,(Ge.groups.includes("Sales Executive")||Ge.groups.includes("Business Development Executive")?["COMPANY","NAME","CONTACT","ALTERNATE CONTACT","CITY","STATE","PRIORITY","STAGE","ASSIGNED BY","PIN","ACTION"]:["COMPANY","NAME","CONTACT","ALTERNATE CONTACT","CITY","STATE","PRIORITY","STAGE","ASSIGNED BY","ASSIGNED TO","PIN","ACTION"]).map(function(e){return a.a.createElement(Of,{key:e,align:"center"},e)}))),a.a.createElement(Hn.a,null,r.map(function(e,t){return a.a.createElement(_f,{key:e.i,style:{backgroundColor:rt[t]&&rt[t].priority||"",cursor:"pointer","&:hover":{backgroundColor:"#f5f5f5"},"&.pinned-row":{backgroundColor:"#e0e0e0"}},className:ee.includes(e.lead_id)?"pinned-row":""},a.a.createElement(Of,{align:"center"},e.company),a.a.createElement(Of,{align:"center"},e.name),a.a.createElement(Of,{align:"center"},e.contact),a.a.createElement(Of,{align:"center"},e.alternate_contact),a.a.createElement(Of,{align:"center"},e.city),a.a.createElement(Of,{align:"center"},e.state),a.a.createElement(Of,{align:"center"},e.priority),a.a.createElement(Of,{align:"center"},e.stage),a.a.createElement(Of,{align:"center"},e.assigned_by),!(Ge.groups.includes("Sales Executive")||Ge.groups.includes("Business Development Executive"))&&a.a.createElement(Of,{align:"center"},e.assigned_name),a.a.createElement(Of,{align:"center"},a.a.createElement(d.a,{onClick:function(t){return Ze(t,e)},style:{transform:"rotate(45deg)"}},e.pinned?a.a.createElement(Ms.a,null):a.a.createElement(Us.a,null))),a.a.createElement(Of,{align:"center"},a.a.createElement(We.a,{onClick:function(){return pe(e.lead_id),void z(!0)}},"View"),",",a.a.createElement(We.a,{onClick:function(){return pe(e.lead_id),void Q(!0)}},"Activity"),",",a.a.createElement(We.a,{onClick:function(){return pe(e.lead_id),void Z(!0)}},"Potential"),",",a.a.createElement(We.a,{onClick:function(){return pe(e.lead_id),void oe(!0)}},"PI"),","," ",a.a.createElement(We.a,{onClick:function(){return pe(e.lead_id),void ue(!0)}},"Forecast"),(Ge.groups.includes("Sales Manager")||Ge.groups.includes("Director"))&&a.a.createElement(We.a,{color:"secondary",variant:"text",onClick:function(){return Ie(e),void Pe(!0)}},"Assign EDC")))})))),a.a.createElement(Vr,{totalPages:A,currentPage:C,handlePageChange:function(e,t){T(t)}}))),a.a.createElement(Ce,{fullScreen:!0,title:"Create Leads",openPopup:M,setOpenPopup:q},a.a.createElement(Vs,{getleads:tt,setOpenPopup:q,currentPage:C,filterQuery:y,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(Ce,{fullScreen:!0,title:"Update Leads",openPopup:W,setOpenPopup:z},a.a.createElement(Pi,{leadsByID:he,setOpenPopup:z,getAllleadsData:tt,currentPage:C,filterQuery:y,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(Ce,{maxWidth:"xl",title:"Create Activity",openPopup:V,setOpenPopup:Q},a.a.createElement(xi,{getleads:tt,leadsByID:he,setOpenPopup:Q,getLeadByID:null,currentPage:C,filterQuery:y,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(Ce,{maxWidth:"lg",title:"Create Potential",openPopup:K,setOpenPopup:Z},a.a.createElement(Li,{getleads:tt,getLeadByID:null,leadsByID:he,setOpenPopup:Z,currentPage:C,filterQuery:y,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(Ce,{fullScreen:!0,title:"Create Leads Proforma Invoice",openPopup:ae,setOpenPopup:oe},a.a.createElement(rf,{leadsByID:he,setOpenPopup:oe})),a.a.createElement(Ce,{title:"Create Lead Forecast",openPopup:le,setOpenPopup:ue},a.a.createElement(cf,{getleads:tt,leadsByID:he,setOpenPopup:ue,currentPage:C,filterQuery:y,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(Ce,{maxWidth:"lg",title:"Assign Bulk Lead to another Employee",openPopup:_e,setOpenPopup:je},a.a.createElement(Js,{setOpenPopup:je})),a.a.createElement(Ce,{maxWidth:"lg",title:"Assign to Exclusive Distribution Customer",openPopup:ke,setOpenPopup:Pe},a.a.createElement(uf,{setOpenPopup:Pe,editforedc:De})))},xf=[{label:"New",value:"new"},{label:"Open",value:"open"},{label:"Opportunity",value:"opportunity"},{label:"Potential",value:"potential"},{label:"Interested",value:"interested"},{label:"Converted",value:"converted"},{label:"Not Interested",value:"not_interested"},{label:"Close",value:"close"}],Of=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),_f=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0},"& > td, & > th":{padding:4},"& > td:first-child, & > th:first-child":{paddingLeft:4},"& > td:last-child, & > th:last-child":{paddingRight:4},"&:hover":{backgroundColor:"lightgray !important"}}});function jf(){jf=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Lf=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(""),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(null),g=Object(l.a)(v,2),b=g[0],w=g[1],O=Object(n.useState)(null),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(1),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)(0),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)(!1),F=Object(l.a)(I,2),G=F[0],W=F[1],z=Object(n.useState)(!1),R=Object(l.a)(z,2),B=R[0],M=R[1],q=Object(n.useState)(!1),U=Object(l.a)(q,2),Y=U[0],V=U[1],Q=Object(n.useState)(!1),H=Object(l.a)(Q,2),J=H[0],K=H[1],Z=Object(n.useState)(null),X=Object(l.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)([]),re=Object(l.a)(te,2),ne=re[0],ae=re[1],oe=Object(n.useState)([]),ie=Object(l.a)(oe,2),ce=ie[0],le=ie[1],ue=Object(n.useState)(!1),se=Object(l.a)(ue,2),fe=se[0],he=se[1],pe=Object(s.c)(function(e){return e.auth}).profile,me=pe.active_sales_user||[],de=gt(),ye=de.handleError,ve=de.handleCloseSnackbar,ge=de.alertInfo,be=function(){var e=Object(c.a)(jf().mark(function e(t){var r,n;return jf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h(!0),y(t),!t.includes("references__source")){e.next=8;break}return e.next=6,qo.getAllRefernces();case 6:r=e.sent,ae(r.data);case 8:if(!t.includes("description__name")){e.next=13;break}return e.next=11,Pn.getNoDescription();case 11:n=e.sent,le(n.data);case 13:h(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("error",e.t0),h(!1);case 20:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){Oe()},[P,b,j]);var Ee,we,xe,Oe=Object(n.useCallback)(Object(c.a)(jf().mark(function e(){var t;return jf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,qo.getAllLeads(P,"close",d,b,j);case 4:t=e.sent,o(t.data.results),A(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ye(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[P,b,j]),_e=r.map(function(e){var t="";switch(e.priority){case"High":t="#ffcccc";break;case"Medium":t="#ccccff";break;case"Low":t="#ffffcc";break;default:t="#ffffff"}return{priority:t}}),je=r.map(function(e,t){return{id:e.lead_id,company:e.company,name:e.name,contact:e.contact,alternate_contact:e.alternate_contact,city:e.city,state:e.state,priority:e.priority,stage:e.stage,assigned_to:e.assigned_to}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:ge.open,onClose:ve,severity:ge.severity,message:ge.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{mb:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Fliter By"),a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"values",label:"Fliter By",value:d,onChange:function(e){return be(e.target.value)}},Sf.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),d&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},d&&(Ee="assigned_to__email"===d?"Assigned To":"references__source"===d?"Reference":"stage"===d?"Stage":"description__name"===d?"Description":"",we="assigned_to__email"===d?me.map(function(e){return e.email}):"references__source"===d?ne.map(function(e){return e.source}):"stage"===d?kf.map(function(e){return e.value}):"description__name"===d?ce.map(function(e){return e.name}):[],xe=function(e){w(e),C(1)},a.a.createElement(sr,{fullWidth:!0,size:"small",onChange:function(e,t){return xe(t)},options:we,getOptionLabel:function(e){return e},label:Ee}))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(Ur,{onSearch:function(e){L(e),C(1)},onReset:function(){L(""),C(1)}})),a.a.createElement(Fe.a,{item:!0,xs:6,sm:3,md:1.5},(pe.groups.includes("Director")||pe.groups.includes("Sales Manager")||pe.groups.includes("Sales Deputy Manager")||pe.groups.includes("Sales Assistant Deputy Manager"))&&a.a.createElement(We.a,{variant:"contained",onClick:function(){return he(!0)}},"Assign Bulk")),a.a.createElement(Fe.a,{item:!0,xs:6,sm:3,md:1.5},a.a.createElement(We.a,{variant:"contained",color:"success",onClick:function(){return M(!0)}},"Add")))),a.a.createElement(Ae.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2}},a.a.createElement(Fe.a,{container:!0,justifyContent:"center"},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"h3",component:"h3",sx:{textAlign:"center",fontSize:"24px",fontWeight:800,color:"rgb(34, 34, 34)"}},"Dropped Leads")))),a.a.createElement(dt,{headers:["ID","COMPANY","NAME","CONTACT","ALTERNATE CONTACT","CITY","STATE","PRIORITY","STAGE","ASSIGNED TO","ACTION"],data:je,openInPopup:function(e){ee(e.id),W(!0)},openInPopup2:function(e){ee(e.id),V(!0)},openInPopup3:function(e){ee(e.id),K(!0)},openInPopup4:null,ButtonText:"Activity",ButtonText1:"Potential",PriorityColor:_e,Styles:{paddingLeft:"10px",paddingRight:"10px"}}),a.a.createElement(Vr,{totalPages:D,currentPage:P,handlePageChange:function(e,t){C(t)}}))),a.a.createElement(Ce,{fullScreen:!0,title:"Create Leads",openPopup:B,setOpenPopup:M},a.a.createElement(Vs,{getleads:Oe,setOpenPopup:M,currentPage:P,filterQuery:d,filterSelectedQuery:b,searchQuery:j})),a.a.createElement(Ce,{fullScreen:!0,title:"Update Leads",openPopup:G,setOpenPopup:W},a.a.createElement(Pi,{leadsByID:$,setOpenPopup:W,getAllleadsData:Oe,currentPage:P,filterQuery:d,filterSelectedQuery:b,searchQuery:j})),a.a.createElement(Ce,{maxWidth:"xl",title:"Create Activity",openPopup:Y,setOpenPopup:V},a.a.createElement(xi,{getleads:Oe,leadsByID:$,setOpenPopup:V,getLeadByID:null,currentPage:P,filterQuery:d,filterSelectedQuery:b,searchQuery:j})),a.a.createElement(Ce,{maxWidth:"lg",title:"Create Potential",openPopup:J,setOpenPopup:K},a.a.createElement(Li,{getleads:Oe,getLeadByID:null,leadsByID:$,setOpenPopup:K,currentPage:P,filterQuery:d,filterSelectedQuery:b,searchQuery:j})),a.a.createElement(Ce,{maxWidth:"lg",title:"Assign Bulk Lead to another Employee",openPopup:fe,setOpenPopup:he},a.a.createElement(Js,{setOpenPopup:he})))},Sf=[{label:"References",value:"references__source"},{label:"Description",value:"description__name"},{label:"Assigned To",value:"assigned_to__email"}],kf=[{label:"New",value:"new"},{label:"Open",value:"open"},{label:"Opportunity",value:"opportunity"},{label:"Potential",value:"potential"},{label:"Interested",value:"interested"},{label:"Converted",value:"converted"},{label:"Not Interested",value:"not_interested"},{label:"Close",value:"close"}];function Pf(){Pf=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Cf=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)("gst_number"),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(""),g=Object(l.a)(v,2),b=g[0],w=g[1],O=Object(n.useState)(1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(0),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)(!1),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)(!1),F=Object(l.a)(I,2),G=F[0],W=F[1],z=Object(n.useState)(!1),R=Object(l.a)(z,2),B=R[0],M=R[1],q=Object(n.useState)(!1),U=Object(l.a)(q,2),Y=U[0],V=U[1],Q=Object(n.useState)(null),H=Object(l.a)(Q,2),J=H[0],K=H[1],Z=Object(n.useState)(!1),X=Object(l.a)(Z,2),$=X[0],ee=X[1],te=Object(s.c)(function(e){return e.auth}).profile,re=gt(),ne=re.handleError,ae=re.handleCloseSnackbar,oe=re.alertInfo;Object(n.useEffect)(function(){ie()},[j,d,b]);var ie=Object(n.useCallback)(Object(c.a)(Pf().mark(function e(){var t;return Pf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,qo.getAllDuplicateLeads(j,d,b);case 4:t=e.sent,o(t.data.results),C(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ne(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[j,d,b]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:oe.open,onClose:ae,severity:oe.severity,message:oe.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{mb:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(wt.a,{fullWidth:!0,sx:{maxWidth:"300px"},size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Fliter By"),a.a.createElement(cn.a,{labelId:"demso-simple-select-label",id:"demo-simple-select",name:"values",label:"Fliter By",value:d,onChange:function(e){return function(e){y(e.target.value),L(1)}(e)}},Tf.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(Ur,{onSearch:function(e){w(e),L(1)},onReset:function(){w(""),L(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:2},(te.groups.includes("Director")||te.groups.includes("Sales Manager")||te.groups.includes("Sales Deputy Manager"))&&a.a.createElement("button",{onClick:function(){return ee(!0)},className:"btn btn-primary me-2",size:"small"},"Assign Bulk Lead")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:1},a.a.createElement(We.a,{onClick:function(){return W(!0)},variant:"contained",color:"success"},"Add")))),a.a.createElement(Ae.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2}},a.a.createElement(Fe.a,{container:!0,justifyContent:"center"},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"h3",component:"h3",sx:{textAlign:"center",fontSize:"24px",fontWeight:800,color:"rgb(34, 34, 34)"}},"Duplicates Leads")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(Nf,{align:"center"},"COMPANY"),a.a.createElement(Nf,{align:"center"},"NAME"),a.a.createElement(Nf,{align:"center"},"CONTACT"),a.a.createElement(Nf,{align:"center"},"ALT. CONTACT"),a.a.createElement(Nf,{align:"center"},"CITY"),a.a.createElement(Nf,{align:"center"},"STATE"),a.a.createElement(Nf,{align:"center"},"GST NO."),a.a.createElement(Nf,{align:"center"},"PAN NO."),a.a.createElement(Nf,{align:"center"},"ASSIGNED TO"),a.a.createElement(Nf,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,r.map(function(e,t){return a.a.createElement(Df,{key:t},a.a.createElement(Nf,{align:"center"},e.company),a.a.createElement(Nf,{align:"center"},e.name),a.a.createElement(Nf,{align:"center"},e.contact),a.a.createElement(Nf,{align:"center"},e.alternate_contact),a.a.createElement(Nf,{align:"center"},e.city),a.a.createElement(Nf,{align:"center"},e.state),a.a.createElement(Nf,{align:"center"},e.gst_number),a.a.createElement(Nf,{align:"center"},e.pan_number),a.a.createElement(Nf,{align:"center"},e.assigned_to),a.a.createElement(Nf,{align:"center",style:{width:"200px"}},a.a.createElement("div",{style:{color:"blue"},onClick:function(){return K(e.lead_id),void A(!0)}},"View"),a.a.createElement("div",{style:{color:"green"},onClick:function(){return K(e.lead_id),void M(!0)}},"Activity"),a.a.createElement("div",{style:{color:"red"},onClick:function(){return K(e.lead_id),void V(!0)}},"Potential")))})))),a.a.createElement(Vr,{totalPages:P,currentPage:j,handlePageChange:function(e,t){L(t)}}))),a.a.createElement(Ce,{fullScreen:!0,title:"Create Leads",openPopup:G,setOpenPopup:W},a.a.createElement(Vs,{getleads:ie,setOpenPopup:W,currentPage:j,filterQuery:d,filterSelectedQuery:b,searchQuery:null})),a.a.createElement(Ce,{fullScreen:!0,title:"Update Leads",openPopup:D,setOpenPopup:A},a.a.createElement(Pi,{leadsByID:J,setOpenPopup:A,getAllleadsData:ie,currentPage:j,filterQuery:d,filterSelectedQuery:b,searchQuery:null})),a.a.createElement(Ce,{maxWidth:"xl",title:"Create Activity",openPopup:B,setOpenPopup:M},a.a.createElement(xi,{getleads:ie,leadsByID:J,setOpenPopup:M,getLeadByID:null,currentPage:j,filterQuery:d,filterSelectedQuery:b,searchQuery:null})),a.a.createElement(Ce,{maxWidth:"lg",title:"Create Potential",openPopup:Y,setOpenPopup:V},a.a.createElement(Li,{getleads:ie,getLeadByID:null,leadsByID:J,setOpenPopup:V,currentPage:j,filterQuery:d,filterSelectedQuery:b,searchQuery:null})),a.a.createElement(Ce,{maxWidth:"lg",title:"Assign Bulk Lead to another Employee",openPopup:$,setOpenPopup:ee},a.a.createElement(Js,{setOpenPopup:ee})))},Tf=[{label:"Gst Number",value:"gst_number"},{label:"Contact",value:"contact"},{label:"Alt Contact",value:"alternate_contact"},{label:"Email",value:"email"},{label:"Company",value:"company"},{label:"Pan No",value:"pan_number"}],Nf=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),Df=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Af(){Af=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var If=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(""),g=Object(l.a)(v,2),b=g[0],w=g[1],x=Object(n.useState)(""),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(""),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(1),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(0),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useState)(!1),z=Object(l.a)(W,2),R=z[0],B=z[1],M=Object(n.useState)(null),q=Object(l.a)(M,2),U=q[0],Y=q[1],V=Object(n.useState)([]),Q=Object(l.a)(V,2),H=Q[0],J=Q[1],K=Object(n.useState)(null),Z=Object(l.a)(K,2),X=Z[0],$=Z[1],ee=Object(n.useState)([]),te=Object(l.a)(ee,2),re=te[0],ne=te[1],ae=Object(n.useState)([]),oe=Object(l.a)(ae,2),ie=oe[0],ce=oe[1],le=Object(n.useRef)(null),ue=gt(),se=ue.handleSuccess,fe=ue.handleError,he=ue.handleCloseSnackbar,pe=ue.alertInfo,me=Object(s.c)(function(e){return e.auth}).profile,de=me.active_sales_user||[],ye=function(){var e=Object(c.a)(Af().mark(function e(t){var r;return Af().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,qo.getAllRefernces();case 4:r=e.sent,J(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){ye()},[]),Object(n.useEffect)(function(){be()},[N,b,_]);var ve=function(){var e=Object(c.a)(Af().mark(function e(){var t,r;return Af().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,qo.getAllUnassignedData("all",b,_);case 4:return t=e.sent,r=t.data.map(function(e){return{name:e.name,date_time:e.date_time,contact:e.contact,query_product_name:e.query_product_name,assigned_to:e.assigned_to,company:e.company,references:e.references,city:e.city,state:e.state}}),h(!1),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),fe(e.t0),console.log("while downloading Price list",e.t0);case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(c.a)(Af().mark(function e(){var t;return Af().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve();case 3:t=e.sent,ce(t),setTimeout(function(){le.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),be=Object(n.useCallback)(Object(c.a)(Af().mark(function e(){var t;return Af().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,qo.getAllUnassignedData(N,b,_);case 4:t=e.sent,o(t.data.results),G(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),fe(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[N,b,_]),Ee=function(){var e=Object(c.a)(Af().mark(function e(t){var r,n,a;return Af().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,h(!0),r={lead_id:re,assign_to:k},e.next=6,qo.AssignMultipleLeads(r);case 6:n=e.sent,a=n.data.message,se(a),setTimeout(function(){y(!1),be(),ne([])},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),fe(e.t0);case 15:return e.prev=15,h(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,12,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:pe.open,onClose:he,severity:pe.severity,message:pe.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{mb:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(sr,{size:"small",value:b,onChange:function(e,t){return w(t)},options:H.map(function(e){return e.source}),getOptionLabel:function(e){return e},label:"Filter By References"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(Ur,{onSearch:function(e){j(e),D(1)},onReset:function(){j(""),D(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},re.length>0&&a.a.createElement(We.a,{variant:"contained",onClick:function(){return Y(re),void y(!0)}},"Assign")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},(me.groups.includes("Director")||me.groups.includes("Digital Marketing"))&&a.a.createElement(We.a,{variant:"contained",color:"secondary",className:"mx-3",onClick:ge},"DownLoad CSV"),ie.length>0&&a.a.createElement(Bn.CSVLink,{data:ie,headers:[{label:"Date Time",key:"date_time"},{label:"Name",key:"name"},{label:"Contact",key:"contact"},{label:"Product Name",key:"query_product_name"},{label:"Assign To",key:"assigned_to"},{label:"Company",key:"company"},{label:"References",key:"references"},{label:"City",key:"city"},{label:"State",key:"state"}],ref:le,filename:"UnassignLeads.csv",target:"_blank",style:{textDecoration:"none",outline:"none",visibility:"hidden"}})))),a.a.createElement(Ae.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2}},a.a.createElement(Fe.a,{container:!0,justifyContent:"center"},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"h3",component:"h3",sx:{textAlign:"center",fontSize:"24px",fontWeight:800,color:"rgb(34, 34, 34)"}},"UnAssigned Leads")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(Ff,{align:"center"},"Checkbox"),a.a.createElement(Ff,{align:"center"},"NAME"),a.a.createElement(Ff,{align:"center"},"CONTACT"),a.a.createElement(Ff,{align:"center"},"PRODUCT"),a.a.createElement(Ff,{align:"center"},"DATE"),a.a.createElement(Ff,{align:"center"},"COMPANY"),a.a.createElement(Ff,{align:"center"},"REFERENCE"),a.a.createElement(Ff,{align:"center"},"CITY"),a.a.createElement(Ff,{align:"center"},"STATE"),a.a.createElement(Ff,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,r.map(function(e,t){return a.a.createElement(Gf,{key:t},a.a.createElement(Ff,{align:"center"},a.a.createElement(mr.a,{checked:re.includes(e.lead_id),onChange:function(){return t=e.lead_id,void ne(function(e){return e.some(function(e){return e===t})?e.filter(function(e){return e!==t}):[].concat(Object(vr.a)(e),[t])});var t},inputProps:{"aria-label":"controlled"}})),a.a.createElement(Ff,{align:"center"},e.name),a.a.createElement(Ff,{align:"center"},e.contact),a.a.createElement(Ff,{align:"center"},e.query_product_name),a.a.createElement(Ff,{align:"center"},Ra()(e.date_time).format("YYYY-MM-DD H:mm:ss")),a.a.createElement(Ff,{align:"center"},e.company),a.a.createElement(Ff,{align:"center"},e.references),a.a.createElement(Ff,{align:"center"},e.city),a.a.createElement(Ff,{align:"center"},e.state),a.a.createElement(Ff,{align:"center"},a.a.createElement(We.a,{variant:"text",onClick:function(){return $(e.lead_id),void B(!0)}},"View")))})))),a.a.createElement(Vr,{totalPages:F,currentPage:N,handlePageChange:function(e,t){D(t)}}))),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Leads",openPopup:R,setOpenPopup:B},a.a.createElement(Pi,{leadsByID:X,setOpenPopup:B,getAllleadsData:be,currentPage:N,filterQuery:b,filterSelectedQuery:_,searchQuery:null})),a.a.createElement(Ce,{maxWidth:"xl",title:"Assigned To",openPopup:d,setOpenPopup:y},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:U?U.assigned_to:"-",onChange:function(e,t){return P(t)},options:de.map(function(e){return e.email}),getOptionLabel:function(e){return"".concat(e)},label:"Assign To"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{variant:"contained",color:"success",onClick:function(e){return Ee(e)}},"Submit")))))},Ff=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),Gf=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Wf(){Wf=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var zf=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h="".concat((new Date).getFullYear(),"-").concat(((new Date).getMonth()+1).toString().padStart(2,"0")),p=Object(n.useState)(h),m=Object(l.a)(p,2),d=m[0],y=m[1],v=function(){var e=Object(c.a)(Wf().mark(function e(){var t;return Wf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,qo.getIndiaMartLeads(d);case 4:t=e.sent,f(t.data),o(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),o(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){v()},[d]);var g=s.filter(function(e){var t=new Date(e.date_time__date);return"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"))===d});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",marginBottom:"10px"},a.a.createElement(Ve,{size:"small",type:"month",label:"Filter By Month and Year",value:d,onChange:function(e){return y(e.target.value)},sx:{width:200,marginRight:"15rem"}}),a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"IndiaMart Leads")),a.a.createElement(Yn.a,{sx:{maxHeight:440}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Bf,null,["Date","Direct Lead","Buy Lead","Call Lead","Total Lead"].map(function(e){return a.a.createElement(Rf,{key:e,align:"center"},e)}))),a.a.createElement(Hn.a,null,g.map(function(e,t){return a.a.createElement(Bf,{key:t},a.a.createElement(Rf,{align:"center"},e.date_time__date),a.a.createElement(Rf,{align:"center"},e.direct_leads||0),a.a.createElement(Rf,{align:"center"},e.buy_leads||0),a.a.createElement(Rf,{align:"center"},e.call_leads||0),a.a.createElement(Rf,{align:"center"},e.total_leads||0))})))))))},Rf=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),Bf=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Mf(){Mf=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var qf=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)({references:"",contact:"",name:"",stage:"new",city:"",query_product_name:""}),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)({message:"",severity:"",open:!1}),g=Object(l.a)(v,2),b=g[0],w=g[1],x=function(){var e=Object(c.a)(Mf().mark(function e(t){var r;return Mf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,qo.getAllRefernces();case 4:r=e.sent,h(r.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error",e.t0),o(!1);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,8,12,15]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){x()},[]);var O=function(e){var t=e.target,r=t.name,n=t.value;y(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},_=function(){var e=Object(c.a)(Mf().mark(function e(t){var r,n;return Mf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),d.contact&&d.name){e.next=4;break}return w({message:"Please fill in all required fields",severity:"warning",open:!0}),e.abrupt("return");case 4:return e.prev=4,(r=Object(u.a)({},d)).contact.startsWith("+91")||(r.contact="+91".concat(r.contact)),o(!0),e.next=10,qo.createJustDialLeads(r);case 10:201===(n=e.sent).status&&(w({message:n.message||"Just Dial lead has been created successfully",severity:"success",open:!0}),y(function(e){return Object(u.a)({},e,{contact:"",name:"",city:"",query_product_name:""})})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),w({message:e.t0.response.data.message||"Failed to create Just Dial lead",severity:"error",open:!0});case 17:return e.prev=17,o(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[4,14,17,20]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:r}),a.a.createElement($e,{open:b.open,message:b.message,severity:b.severity,onClose:function(){w({open:!1})}}),a.a.createElement(Fe.a,{container:!0,justifyContent:"center",alignItems:"start",style:{minHeight:"100vh",marginTop:"2rem"}},a.a.createElement(Fe.a,{item:!0,xs:12,sm:8,md:6},a.a.createElement(ut.a,{elevation:3,style:{padding:"1rem"}},a.a.createElement(E.a,{variant:"h5",align:"center",gutterBottom:!0},"Create Just Dial Lead"),a.a.createElement("form",{onSubmit:_},a.a.createElement(Fe.a,{container:!0,spacing:3},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{size:"small",fullWidth:!0,value:d.references,name:"references",onChange:function(e,t){return function(e){y(function(t){return Object(u.a)({},t,{references:e})})}(t)},options:f.map(function(e){return e.source}),getOptionLabel:function(e){return e},label:"Filter By References"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,label:"Name",name:"name",required:!0,variant:"outlined",size:"small",value:d.name,onChange:O})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,label:"Contact",type:"number",name:"contact",required:!0,variant:"outlined",size:"small",value:d.contact,onChange:O})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,label:"City",name:"city",variant:"outlined",size:"small",value:d.city,onChange:O})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,label:"Query Product Name",name:"query_product_name",variant:"outlined",size:"small",value:d.query_product_name,onChange:O}))),a.a.createElement(Ae.a,{mt:3,display:"flex",justifyContent:"center"},a.a.createElement(We.a,{type:"submit",variant:"contained",color:"primary"},"Submit")))))))};function Uf(){Uf=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Yf=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(0),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(""),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(""),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(""),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useRef)(null),G=Object(n.useState)([]),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useState)({message:"",severity:"",open:!1}),M=Object(l.a)(B,2),q=M[0],U=M[1],Y=function(){var e=Object(c.a)(Uf().mark(function e(){var t,r;return Uf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,qo.LeadsRecordDatas(g,s,L,C);case 4:t=e.sent,d(t.data.results),r=t.data.count,O(Math.ceil(r/25)),o(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching leadsData:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(Uf().mark(function e(t){var r;return Uf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,qo.getAllRefernces();case 4:r=e.sent,R(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error",e.t0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){V()},[]),Object(n.useEffect)(function(){Y()},[g,s,L,C]);var Q=function(){var e=Object(c.a)(Uf().mark(function e(){var t,r;return Uf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,qo.LeadsRecordDatas("all",s,L,C);case 4:return t=e.sent,r=t.data.map(function(e){return{date_time:e.date_time,company:e.company,contact:e.contact,assigned_by:e.assigned_by,assigned_to:e.assigned_to,name:e.name,stage:e.stage,source:e.source,updation_date:e.updation_date}}),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log("while downloading Price list",e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(c.a)(Uf().mark(function e(){var t;return Uf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q();case 3:t=e.sent,I(t),setTimeout(function(){F.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:r}),a.a.createElement($e,{open:q.open,message:q.message,severity:q.severity,onClose:function(){U({open:!1})}}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",mb:3},a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(We.a,{variant:"contained",color:"secondary",onClick:H},"DownLoad CSV"),A.length>0&&a.a.createElement(Bn.CSVLink,{data:A,headers:[{label:"Creation Date",key:"date_time"},{label:"Company",key:"company"},{label:"Contact",key:"contact"},{label:"Assigned By",key:"assigned_by"},{label:"Assigned To",key:"assigned_to"},{label:"Name",key:"name"},{label:"Stage",key:"stage"},{label:"Source",key:"source"},{label:"Updation Date",key:"updation_date"}],ref:F,filename:"Lead Record.csv",target:"_blank",style:{textDecoration:"none",outline:"none",visibility:"hidden"}}),a.a.createElement(Ur,{onSearch:function(e){f(e),b(1)},onReset:function(){f(""),b(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{fontSize:"22px",color:"rgb(34, 34, 34)",fontWeight:600,textAlign:"center"}},"Leads Record"))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(sr,{fullWidth:!0,name:"stage",size:"small",disablePortal:!0,id:"combo-box-stage",value:L,onChange:function(e,t){return S(t),void b(1)},options:Hf,getOptionLabel:function(e){return e},label:"Filter By Stage"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(sr,{fullWidth:!0,size:"small",disablePortal:!0,id:"combo-box-stage",value:C,onChange:function(e,t){return T(t),void b(1)},options:z.map(function(e){return e.source}),getOptionLabel:function(e){return e},label:"Filter By References"}))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(Vf,{align:"center"},"Creation Date"),a.a.createElement(Vf,{align:"center"},"Company Name"),a.a.createElement(Vf,{align:"center"},"Contact"),a.a.createElement(Vf,{align:"center"},"Assigned By"),a.a.createElement(Vf,{align:"center"},"Assigned To"),a.a.createElement(Vf,{align:"center"},"Contact Person"),a.a.createElement(Vf,{align:"center"},"Stage"),a.a.createElement(Vf,{align:"center"},"Source"),a.a.createElement(Vf,{align:"center"},"Updated Date"))),a.a.createElement(Hn.a,null,m.map(function(e,t){return a.a.createElement(Qf,{key:t},a.a.createElement(Vf,{align:"center"},e.date_time),a.a.createElement(Vf,{align:"center"},e.company),a.a.createElement(Vf,{align:"center"},e.contact),a.a.createElement(Vf,{align:"center"},e.assigned_by),a.a.createElement(Vf,{align:"center"},e.assigned_to),a.a.createElement(Vf,{align:"center"},e.name),a.a.createElement(Vf,{align:"center"},e.stage),a.a.createElement(Vf,{align:"center"},e.source),a.a.createElement(Vf,{align:"center"},e.updation_date))})))),a.a.createElement(Vr,{currentPage:g,totalPages:x,handlePageChange:function(e,t){b(t)}}))))},Vf=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Qf=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Hf=["new","open","opportunity","potential","interested","converted","not_interested","close","duplicate"],Jf=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})},r=t("Director","Sales Manager","Sales Deputy Manager","Business Development Manager"),o=t("Sales Assistant Deputy Manager"),i=t("Sales Executive","Business Development Executive","Customer Service"),c=t("Sales Manager without Leads"),u=t("Sales Manager with Leads"),f=t("Customer Service"),h=t("Director","Digital Marketing"),p=t("Digital Marketing"),m=Object(n.useMemo)(function(){return[{label:"New Leads",visible:r||o||i||c||u||f,index:0,component:a.a.createElement(ff,null)},{label:"Opened Leads",visible:r||o||i||c||u||f,index:1,component:a.a.createElement(yf,null)},{label:"Hot Leads",visible:r||o||i||c||u||f,index:2,component:a.a.createElement(wf,null)},{label:"Dropped Leads",visible:r||o,index:3,component:a.a.createElement(Lf,null)},{label:"Duplicate Leads",visible:r||o,index:4,component:a.a.createElement(Cf,null)},{label:"Unassigned Leads",visible:r||o||u||p,index:5,component:a.a.createElement(If,null)},{label:"Indiamart Leads",visible:r||p,index:6,component:a.a.createElement(zf,null)},{label:"Just Dial Leads",visible:h,index:7,component:a.a.createElement(qf,null)},{label:"Leads Record",visible:h,index:8,component:a.a.createElement(Yf,null)}]},[r,o,i,c,u,f,h]),d=Object(n.useMemo)(function(){return m.filter(function(e){return e.visible})},[m]),y=Object(n.useMemo)(function(){return d.map(function(e){return e.index})},[d]),v=Object(n.useState)(y[0]||0),g=Object(l.a)(v,2),b=g[0],E=g[1];return Object(n.useEffect)(function(){y.includes(b)||E(y[0]||0)},[y,b]),a.a.createElement("div",null,a.a.createElement(Xr,{tabs:d,activeTab:b,onTabChange:function(e){return E(y[e])}}),y.includes(b)&&a.a.createElement("div",null,d.find(function(e){return e.index===b}).component))};function Kf(){Kf=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Zf=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getColours,o=e.currentPage,i=e.searchQuery,u=Object(n.useState)(""),s=Object(l.a)(u,2),f=s[0],h=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=gt(),g=v.handleSuccess,b=v.handleError,E=v.handleCloseSnackbar,w=v.alertInfo,x=Object(n.useCallback)(function(){var e=Object(c.a)(Kf().mark(function e(n){var a,c,l;return Kf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),a={name:f},y(!0),e.next=6,Pn.createColour(a);case 6:c=e.sent,l=c.data.message||"Colour Created successfully",g(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),b(e.t0);case 15:return e.prev=15,y(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[f,o,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:w.open,onClose:E,severity:w.severity,message:w.message}),a.a.createElement(Je,{open:d}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return x(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"colour",size:"small",label:"Colour",variant:"outlined",value:f,onChange:function(e){return h(e.target.value)}}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function Xf(){Xf=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var $f=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getColours,i=e.currentPage,s=e.searchQuery,f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(t),y=Object(l.a)(d,2),v=y[0],g=y[1],b=gt(),E=b.handleSuccess,w=b.handleError,x=b.handleCloseSnackbar,O=b.alertInfo,_=Object(n.useCallback)(function(){var e=Object(c.a)(Xf().mark(function e(n){var a,c,l;return Xf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),m(!0),a={name:v.name},!t){e.next=11;break}return e.next=7,Pn.updateColour(v.id,a);case 7:c=e.sent,l=c.data.message||"Colour updated successfully",E(l),setTimeout(function(){r(!1),o(i,s)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),w(e.t0);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[v,i,s]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:O.open,onClose:x,severity:O.severity,message:O.message}),a.a.createElement(Je,{open:p}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Id",variant:"outlined",value:t.id||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Colour",variant:"outlined",value:v.name||"",onChange:function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},v,Object(Y.a)({},r,n)))}}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function eh(){eh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var th=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(0),D=Object(l.a)(N,2),A=D[0],I=D[1],F=gt(),G=F.handleError,W=F.handleCloseSnackbar,z=F.alertInfo,R=Object(n.useCallback)(Object(c.a)(eh().mark(function e(){var t;return eh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Pn.getAllColour(C,m);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),G(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,m]);Object(n.useEffect)(function(){R()},[C,m]);var B=r.map(function(e){return e});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:z.open,onClose:W,severity:z.severity,message:z.message}),a.a.createElement(Je,{open:s}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(Ur,{onSearch:function(e){d(e),T(1)},onReset:function(){d(""),T(1)}})),a.a.createElement(Ae.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Colour")),a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(We.a,{onClick:function(){return O(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(dt,{headers:["ID","COLOUR","ACTION"],data:B,openInPopup:function(e){S(e),b(!0)}}),a.a.createElement(Vr,{totalPages:A,currentPage:C,handlePageChange:function(e,t){T(t)}}))),a.a.createElement(Ce,{title:"Create Colour",openPopup:x,setOpenPopup:O,currentPage:C,searchQuery:m},a.a.createElement(Zf,{getColours:R,setOpenPopup:O})),a.a.createElement(Ce,{title:"Update Colour",openPopup:g,setOpenPopup:b},a.a.createElement($f,{recordForEdit:L,setOpenPopup:b,getColours:R,currentPage:C,searchQuery:m})))};function rh(){rh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var nh=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getBrandList,o=e.currentPage,i=e.searchQuery,s=Object(n.useState)([]),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=gt(),b=g.handleSuccess,E=g.handleError,w=g.handleCloseSnackbar,x=g.alertInfo,O=function(e){var t=e.target,r=t.name,n=t.value;p(Object(u.a)({},h,Object(Y.a)({},r,n)))},_=Object(n.useCallback)(function(){var e=Object(c.a)(rh().mark(function e(n){var a,c,l;return rh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),v(!0),a={name:h.name,short_name:h.shortName},e.next=6,Pn.createBrand(a);case 6:c=e.sent,l=c.data.message||"Brand Created successfully",b(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),E(e.t0);case 15:return e.prev=15,v(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[h,o,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:x.open,onClose:w,severity:x.severity,message:x.message}),a.a.createElement(Je,{open:y}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Brand",variant:"outlined",value:h.name,onChange:O})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"shortName",size:"small",label:"Short Name",variant:"outlined",value:h.shortName,onChange:O}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function ah(){ah=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var oh=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getBrandList,i=e.currentPage,s=e.searchQuery,f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(t),y=Object(l.a)(d,2),v=y[0],g=y[1],b=gt(),E=b.handleSuccess,w=b.handleError,x=b.handleCloseSnackbar,O=b.alertInfo,_=function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},v,Object(Y.a)({},r,n)))},j=Object(n.useCallback)(function(){var e=Object(c.a)(ah().mark(function e(n){var a,c,l;return ah().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),m(!0),a={name:v.name,short_name:v.short_name},!t){e.next=11;break}return e.next=7,Pn.updateBrand(v.id,a);case 7:c=e.sent,l=c.data.message||"Brand updated successfully",E(l),setTimeout(function(){r(!1),o(i,s)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),w(e.t0);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[v,i,s]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:O.open,onClose:x,severity:O.severity,message:O.message}),a.a.createElement(Je,{open:p}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return j(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"ID",variant:"outlined",value:v.id||""})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Brand",variant:"outlined",value:v.name||"",onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"short_name",size:"small",label:"Short Name",variant:"outlined",value:v.short_name||"",onChange:_}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function ih(){ih=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ch=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(0),D=Object(l.a)(N,2),A=D[0],I=D[1],F=gt(),G=F.handleError,W=F.handleCloseSnackbar,z=F.alertInfo,R=Object(n.useCallback)(Object(c.a)(ih().mark(function e(){var t;return ih().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Pn.getAllBrand(C,m);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),G(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,m]);Object(n.useEffect)(function(){R()},[C,m]);var B=r.map(function(e){return e});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:z.open,onClose:W,severity:z.severity,message:z.message}),a.a.createElement(Je,{open:s}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(Ur,{onSearch:function(e){d(e),T(1)},onReset:function(){d(""),T(1)}})),a.a.createElement(Ae.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Brand")),a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(We.a,{onClick:function(){return O(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(dt,{headers:["ID","BRAND","SHORT NAME","ACTION"],data:B,openInPopup:function(e){S(e),b(!0)}}),a.a.createElement(Vr,{totalPages:A,currentPage:C,handlePageChange:function(e,t){T(t)}}))),a.a.createElement(Ce,{title:"Create Brand",openPopup:x,setOpenPopup:O,currentPage:C,searchQuery:m},a.a.createElement(nh,{getBrandList:R,setOpenPopup:O})),a.a.createElement(Ce,{title:"Update Brand",openPopup:g,setOpenPopup:b},a.a.createElement(oh,{recordForEdit:L,setOpenPopup:b,getBrandList:R,currentPage:C,searchQuery:m})))};function lh(){lh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var uh=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getBasicUnit,o=e.currentPage,i=e.searchQuery,s=Object(n.useState)([]),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=gt(),b=g.handleSuccess,E=g.handleError,w=g.handleCloseSnackbar,x=g.alertInfo,O=function(e){var t=e.target,r=t.name,n=t.value;p(Object(u.a)({},h,Object(Y.a)({},r,n)))},_=Object(n.useCallback)(function(){var e=Object(c.a)(lh().mark(function e(n){var a,c,l;return lh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),v(!0),a={name:h.name,short_name:h.shortName},e.next=6,Pn.createBasicUnit(a);case 6:c=e.sent,l=c.data.message||"Basic Unit Created successfully",b(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),E(e.t0);case 15:return e.prev=15,v(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[h,o,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:x.open,onClose:w,severity:x.severity,message:x.message}),a.a.createElement(Je,{open:y}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Basic Unit",variant:"outlined",value:h.name,onChange:O})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"shortName",size:"small",label:"Short Name",variant:"outlined",value:h.shortName,onChange:O}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function sh(){sh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var fh=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getBasicUnit,i=e.currentPage,s=e.searchQuery,f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(t),y=Object(l.a)(d,2),v=y[0],g=y[1],b=gt(),E=b.handleSuccess,w=b.handleError,x=b.handleCloseSnackbar,O=b.alertInfo,_=function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},v,Object(Y.a)({},r,n)))},j=Object(n.useCallback)(function(){var e=Object(c.a)(sh().mark(function e(n){var a,c,l;return sh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),m(!0),a={name:v.name,short_name:v.short_name},!t){e.next=11;break}return e.next=7,Pn.updateBasicUnit(v.id,a);case 7:c=e.sent,l=c.data.message||"Basic Unit updated successfully",E(l),setTimeout(function(){r(!1),o(i,s)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),w(e.t0);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}());return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:O.open,onClose:x,severity:O.severity,message:O.message}),a.a.createElement(Je,{open:p}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return j(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Id",variant:"outlined",value:t.id||""})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Basic Unit",variant:"outlined",value:v.name||"",onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"short_name",size:"small",label:"Short Name",variant:"outlined",value:v.short_name||"",onChange:_}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function hh(){hh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ph=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(0),D=Object(l.a)(N,2),A=D[0],I=D[1],F=gt(),G=F.handleError,W=F.handleCloseSnackbar,z=F.alertInfo,R=Object(n.useCallback)(Object(c.a)(hh().mark(function e(){var t;return hh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Pn.getAllBasicUnit(C,m);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),G(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,m]);Object(n.useEffect)(function(){R()},[C,m]);var B=r.map(function(e){return e});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:z.open,onClose:W,severity:z.severity,message:z.message}),a.a.createElement(Je,{open:s}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(Ur,{onSearch:function(e){d(e),T(1)},onReset:function(){d(""),T(1)}})),a.a.createElement(Ae.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Basic Unit")),a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(We.a,{onClick:function(){return O(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(dt,{headers:["ID","BASIC UNIT","SHORT NAME","ACTION"],data:B,openInPopup:function(e){S(e),b(!0)}}),a.a.createElement(Vr,{totalPages:A,currentPage:C,handlePageChange:function(e,t){T(t)}}))),a.a.createElement(Ce,{title:"Create Basic Unit",openPopup:x,setOpenPopup:O},a.a.createElement(uh,{getBasicUnit:R,setOpenPopup:O,currentPage:C,searchQuery:m})),a.a.createElement(Ce,{title:"Update Basic Unit",openPopup:g,setOpenPopup:b},a.a.createElement(fh,{recordForEdit:L,setOpenPopup:b,getBasicUnit:R,currentPage:C,searchQuery:m})))};function mh(){mh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var dh=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getUnits,o=e.currentPage,i=e.searchQuery,s=Object(n.useState)([]),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=gt(),b=g.handleSuccess,E=g.handleError,w=g.handleCloseSnackbar,x=g.alertInfo,O=function(e){var t=e.target,r=t.name,n=t.value;p(Object(u.a)({},h,Object(Y.a)({},r,n)))},_=Object(n.useCallback)(function(){var e=Object(c.a)(mh().mark(function e(n){var a,c,l;return mh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),v(!0),a={name:h.name,short_name:h.shortName},e.next=6,Pn.createUnit(a);case 6:c=e.sent,l=c.data.message||"Unit Created successfully",b(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),E(e.t0);case 15:return e.prev=15,v(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[h,o,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:x.open,onClose:w,severity:x.severity,message:x.message}),a.a.createElement(Je,{open:y}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Unit",variant:"outlined",value:h.name,onChange:O})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"shortName",size:"small",label:"Short Name",variant:"outlined",value:h.shortName,onChange:O}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function yh(){yh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var vh=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getUnits,i=e.currentPage,s=e.searchQuery,f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(t),y=Object(l.a)(d,2),v=y[0],g=y[1],b=gt(),E=b.handleSuccess,w=b.handleError,x=b.handleCloseSnackbar,O=b.alertInfo,_=function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},v,Object(Y.a)({},r,n)))},j=Object(n.useCallback)(function(){var e=Object(c.a)(yh().mark(function e(n){var a,c,l;return yh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),m(!0),a={name:v.name,short_name:v.short_name},!t){e.next=11;break}return e.next=7,Pn.updateUnit(v.id,a);case 7:c=e.sent,l=c.data.message||"Unit updated successfully",E(l),setTimeout(function(){r(!1),o(i,s)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),w(e.t0);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[v,i,s]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:O.open,onClose:x,severity:O.severity,message:O.message}),a.a.createElement(Je,{open:p}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return j(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Id",variant:"outlined",value:t.id||""})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Unit",variant:"outlined",value:v.name||"",onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"short_name",size:"small",label:"Short Name",variant:"outlined",value:v.short_name||"",onChange:_}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function gh(){gh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var bh=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(0),D=Object(l.a)(N,2),A=D[0],I=D[1],F=gt(),G=F.handleError,W=F.handleCloseSnackbar,z=F.alertInfo,R=Object(n.useCallback)(Object(c.a)(gh().mark(function e(){var t;return gh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Pn.getAllUnit(C,m);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),G(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,m]);Object(n.useEffect)(function(){R()},[C,m]);var B=r.map(function(e){return e});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:z.open,onClose:W,severity:z.severity,message:z.message}),a.a.createElement(Je,{open:s}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(Ur,{onSearch:function(e){d(e),T(1)},onReset:function(){d(""),T(1)}})),a.a.createElement(Ae.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Unit")),a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(We.a,{onClick:function(){return O(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(dt,{headers:["ID","UNIT","SHORT NAME","ACTION"],data:B,openInPopup:function(e){S(e),b(!0)}}),a.a.createElement(Vr,{totalPages:A,currentPage:C,handlePageChange:function(e,t){T(t)}}))),a.a.createElement(Ce,{title:"Create Unit",openPopup:x,setOpenPopup:O,currentPage:C,searchQuery:m},a.a.createElement(dh,{getUnits:R,setOpenPopup:O})),a.a.createElement(Ce,{title:"Update Unit",openPopup:g,setOpenPopup:b},a.a.createElement(vh,{recordForEdit:L,setOpenPopup:b,getUnits:R,currentPage:C,searchQuery:m})))};function Eh(){Eh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var wh=function(e){var t=e.setOpenPopup,r=e.getPackingUnits,o=e.currentPage,i=e.searchQuery,s=Object(n.useState)([]),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=gt(),b=g.handleSuccess,E=g.handleError,w=g.handleCloseSnackbar,x=g.alertInfo,O=function(e){var t=e.target,r=t.name,n=t.value;p(Object(u.a)({},h,Object(Y.a)({},r,n)))},_=function(){var e=Object(c.a)(Eh().mark(function e(n){var a,c,l;return Eh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),v(!0),a={name:h.name,short_name:h.shortName},e.next=6,Pn.createPackingUnit(a);case 6:c=e.sent,l=c.data.message||"Packing Unit Created successfully",b(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),E(e.t0);case 15:return e.prev=15,v(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:x.open,onClose:w,severity:x.severity,message:x.message}),a.a.createElement(Je,{open:y}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Packing Unit",variant:"outlined",value:h.name,onChange:O})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"shortName",size:"small",label:"Short Name",variant:"outlined",value:h.shortName,onChange:O}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function xh(){xh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Oh=function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getPackingUnits,i=e.currentPage,s=e.searchQuery,f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(t),y=Object(l.a)(d,2),v=y[0],g=y[1],b=gt(),E=b.handleSuccess,w=b.handleError,x=b.handleCloseSnackbar,O=b.alertInfo,_=function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},v,Object(Y.a)({},r,n)))},j=function(){var e=Object(c.a)(xh().mark(function e(n){var a,c,l;return xh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),m(!0),a={name:v.name,short_name:v.short_name},!t){e.next=11;break}return e.next=7,Pn.updatePackingUnit(v.id,a);case 7:c=e.sent,l=c.data.message||"Packing Unit updated successfully",E(l),setTimeout(function(){r(!1),o(i,s)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),w(e.t0);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:O.open,onClose:x,severity:O.severity,message:O.message}),a.a.createElement(Je,{open:p}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return j(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Id",variant:"outlined",value:t.id||""})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Packing Unit",variant:"outlined",value:v.name||"",onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"short_name",size:"small",label:"Short Name",variant:"outlined",value:v.short_name||"",onChange:_}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))};function _h(){_h=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var jh=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(0),D=Object(l.a)(N,2),A=D[0],I=D[1],F=gt(),G=F.handleError,W=F.handleCloseSnackbar,z=F.alertInfo;Object(n.useEffect)(function(){R(C,m)},[C,m]);var R=Object(n.useCallback)(function(){var e=Object(c.a)(_h().mark(function e(t,r){var n;return _h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Pn.getAllPackingUnit(t,r);case 4:n=e.sent,o(n.data.results),I(Math.ceil(n.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),G(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,r){return e.apply(this,arguments)}}(),[]),B=r.map(function(e){return e});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:z.open,onClose:W,severity:z.severity,message:z.message}),a.a.createElement(Je,{open:s}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(Ur,{onSearch:function(e){d(e),T(1)},onReset:function(){d(""),T(1)}})),a.a.createElement(Ae.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Packing Unit")),a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(We.a,{onClick:function(){return O(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(dt,{headers:["ID","PACKING UNIT","SHORT NAME","ACTION"],data:B,openInPopup:function(e){S(e),b(!0)}}),a.a.createElement(Vr,{totalPages:A,currentPage:C,handlePageChange:function(e,t){T(t)}}))),a.a.createElement(Ce,{title:"Create Packing Unit",openPopup:x,setOpenPopup:O},a.a.createElement(wh,{getPackingUnits:R,setOpenPopup:O,currentPage:C,searchQuery:m})),a.a.createElement(Ce,{title:"Update Packing Unit",openPopup:g,setOpenPopup:b},a.a.createElement(Oh,{recordForEdit:L,setOpenPopup:b,getPackingUnits:R,currentPage:C,searchQuery:m})))};function Lh(){Lh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Sh=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getDescriptions,o=e.currentPage,i=e.searchQuery,s=Object(n.useState)([]),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=gt(),b=g.handleSuccess,E=g.handleError,w=g.handleCloseSnackbar,O=g.alertInfo,_=function(e){var t=e.target,r=t.name,n=t.value;p(Object(u.a)({},h,Object(Y.a)({},r,n)))},j=Object(n.useCallback)(function(){var e=Object(c.a)(Lh().mark(function e(n){var a,c,l;return Lh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),v(!0),a={name:h.name,consumable:h.consumable},e.next=6,Pn.createDescription(a);case 6:c=e.sent,l=c.data.message||"Description Created successfully",b(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),E(e.t0);case 15:return e.prev=15,v(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[h,o,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:O.open,onClose:w,severity:O.severity,message:O.message}),a.a.createElement(Je,{open:y}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return j(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Description",variant:"outlined",value:h.name,onChange:_})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-select-small"},"Consumable"),a.a.createElement(cn.a,{labelId:"demo-select-small",id:"demo-select-small",label:"Consumable",name:"consumable",onChange:_},a.a.createElement(x.a,{value:"Yes"},"Yes "),a.a.createElement(x.a,{value:"No"},"No "))))),a.a.createElement(We.a,{type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function kh(){kh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ph=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getDescriptions,i=e.currentPage,s=e.searchQuery,f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(t),y=Object(l.a)(d,2),v=y[0],g=y[1],b=gt(),E=b.handleSuccess,w=b.handleError,x=b.handleCloseSnackbar,O=b.alertInfo,_=Object(n.useCallback)(function(){var e=Object(c.a)(kh().mark(function e(n){var a,c,l;return kh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),m(!0),a={name:v.name,consumable:v.consumable},!t){e.next=11;break}return e.next=7,Pn.updateDescription(v.id,a);case 7:c=e.sent,l=c.data.message||"Description updated successfully",E(l),setTimeout(function(){r(!1),o(i,s)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),w(e.t0);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[v,i,s]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:O.open,onClose:x,severity:O.severity,message:O.message}),a.a.createElement(Je,{open:p}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Id",variant:"outlined",value:t.id||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Description",variant:"outlined",value:v.name||"",onChange:function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},v,Object(Y.a)({},r,n)))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Consumable",variant:"outlined",value:v.consumable||""}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function Ch(){Ch=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Th=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(0),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)([]),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useRef)(null),B=gt(),M=B.handleError,q=B.handleCloseSnackbar,U=B.alertInfo,Y=function(){var e=Object(c.a)(Ch().mark(function e(){var t;return Ch().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V();case 3:t=e.sent,z(t),setTimeout(function(){R.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(Ch().mark(function e(){var t,r;return Ch().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f(!0),!m){e.next=8;break}return e.next=5,Pn.getAllDescription("all",m);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Pn.getAllDescription("all");case 10:t=e.sent;case 11:return r=t.data.map(function(e){return{id:e.id,name:e.name,consumable:e.consumable}}),f(!1),e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,f(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])}));return function(){return e.apply(this,arguments)}}(),Q=Object(n.useCallback)(Object(c.a)(Ch().mark(function e(){var t;return Ch().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Pn.getAllDescription(C,m);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),M(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,m]);Object(n.useEffect)(function(){Q()},[C,m]);var H=r.map(function(e){return{id:e.id,name:e.name,consumable:e.consumable}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:U.open,onClose:q,severity:U.severity,message:U.message}),a.a.createElement(Je,{open:s}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(Ur,{onSearch:function(e){d(e),T(1)},onReset:function(){d(""),T(1)}})),a.a.createElement(Ae.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Description")),a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(We.a,{onClick:function(){return O(!0)},variant:"contained",color:"success"},"Add"),a.a.createElement(We.a,{variant:"contained",onClick:Y},"Download CSV"),W.length>0&&a.a.createElement(Bn.CSVLink,{data:W,headers:[{label:"ID",key:"id"},{label:"DESCRIPTION",key:"name"},{label:"CONSUMABLE",key:"consumable"}],ref:R,filename:"Description.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}}))),a.a.createElement(dt,{headers:["ID","DESCRIPTION","CONSUMABLE","ACTION"],data:H,openInPopup:function(e){S(e),b(!0)}}),a.a.createElement(Vr,{totalPages:A,currentPage:C,handlePageChange:function(e,t){T(t)}}))),a.a.createElement(Ce,{title:"Create Description",openPopup:x,setOpenPopup:O},a.a.createElement(Sh,{getDescriptions:Q,setOpenPopup:O,currentPage:C,searchQuery:m})),a.a.createElement(Ce,{title:"Update Description",openPopup:g,setOpenPopup:b},a.a.createElement(Ph,{recordForEdit:L,setOpenPopup:b,getDescriptions:Q,currentPage:C,searchQuery:m})))};function Nh(){Nh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Dh=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getproductCodes,i=e.currentPage,s=e.searchQuery,f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)([]),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)(t),E=Object(l.a)(b,2),w=E[0],x=E[1],O=gt(),_=O.handleSuccess,j=O.handleError,L=O.handleCloseSnackbar,S=O.alertInfo;Object(n.useEffect)(function(){k()},[]);var k=function(){var e=Object(c.a)(Nh().mark(function e(){var t;return Nh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Pn.getNoDescription();case 4:t=e.sent,g(t.data),m(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error",e.t0),m(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),P=Object(n.useCallback)(function(){var e=Object(c.a)(Nh().mark(function e(n){var a,c,l;return Nh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),m(!0),a={code:w.code,description:w.description},!t){e.next=11;break}return e.next=7,Pn.updateProductCode(w.id,a);case 7:c=e.sent,l=c.data.message||"Product Code updated successfully",_(l),setTimeout(function(){r(!1),o(i,s)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),j(e.t0);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[w,i,s]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:S.open,onClose:L,severity:S.severity,message:S.message}),a.a.createElement(Je,{open:p}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return P(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"code",size:"small",label:"Code",variant:"outlined",value:w.code||"",onChange:function(e,t){x(function(e){return Object(u.a)({},e,{code:t})})}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{disablePortal:!0,sx:{minWidth:225},size:"small",disableClearable:!0,value:w.description,onChange:function(e,t){x(function(e){return Object(u.a)({},e,{description:t})})},options:v.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Description"}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function Ah(){Ah=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ih=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getproductCodes,o=e.currentPage,i=e.searchQuery,s=Object(n.useState)(""),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(!1),O=Object(l.a)(x,2),_=O[0],j=O[1],L=gt(),S=L.handleSuccess,k=L.handleError,P=L.handleCloseSnackbar,C=L.alertInfo;Object(n.useEffect)(function(){T()},[]);var T=function(){var e=Object(c.a)(Ah().mark(function e(){var t;return Ah().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pn.getNoDescription();case 3:t=e.sent,v(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error No Description Fetching Data",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),N=Object(n.useCallback)(function(){var e=Object(c.a)(Ah().mark(function e(n){var a,c,l;return Ah().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),j(!0),a={code:E.code,description:h},e.next=6,Pn.createProductCode(a);case 6:c=e.sent,l=c.data.message||"Product Code Created successfully",S(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),k(e.t0);case 15:return e.prev=15,j(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[E,h,o,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:C.open,onClose:P,severity:C.severity,message:C.message}),a.a.createElement(Je,{open:_}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return N(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{name:"code",fullWidth:!0,size:"small",label:"Code",variant:"outlined",value:E.code,onChange:function(e){var t=e.target,r=t.name,n=t.value;w(Object(u.a)({},E,Object(Y.a)({},r,n)))}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return p(t)},name:"description",options:y.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Description"}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function Fh(){Fh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Gh=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(0),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)([]),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useRef)(null),B=gt(),M=B.handleError,q=B.handleCloseSnackbar,U=B.alertInfo,Y=function(){var e=Object(c.a)(Fh().mark(function e(){var t;return Fh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V();case 3:t=e.sent,z(t),setTimeout(function(){R.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(Fh().mark(function e(){var t,r;return Fh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f(!0),!m){e.next=8;break}return e.next=5,Pn.getAllProductCode("all",m);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Pn.getAllProductCode("all");case 10:t=e.sent;case 11:return r=t.data.map(function(e){return{id:e.id,code:e.code,description:e.description}}),f(!1),e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,f(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])}));return function(){return e.apply(this,arguments)}}(),Q=Object(n.useCallback)(Object(c.a)(Fh().mark(function e(){var t;return Fh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Pn.getAllProductCode(C,m);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),M(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,m]);Object(n.useEffect)(function(){Q()},[C,m]);var H=r.map(function(e){return e});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:U.open,onClose:q,severity:U.severity,message:U.message}),a.a.createElement(Je,{open:s}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(Ur,{onSearch:function(e){d(e),T(1)},onReset:function(){d(""),T(1)}})),a.a.createElement(Ae.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Product Code")),a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(We.a,{onClick:function(){return O(!0)},variant:"contained",color:"success"},"Add"),a.a.createElement(We.a,{variant:"contained",onClick:Y},"Download CSV"),W.length>0&&a.a.createElement(Bn.CSVLink,{data:W,headers:[{label:"ID",key:"id"},{label:"CODE",key:"code"},{label:"DESCRIPTION",key:"description"}],ref:R,filename:"Product Code.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}}))),a.a.createElement(dt,{headers:["ID","CODE","DESCRIPTION","ACTION"],data:H,openInPopup:function(e){S(e),b(!0)}}),a.a.createElement(Vr,{totalPages:A,currentPage:C,handlePageChange:function(e,t){T(t)}}))),a.a.createElement(Ce,{title:"Create Product Code",openPopup:x,setOpenPopup:O},a.a.createElement(Ih,{getproductCodes:Q,setOpenPopup:O,currentPage:C,searchQuery:m})),a.a.createElement(Ce,{title:"Update Product Code",openPopup:g,setOpenPopup:b},a.a.createElement(Dh,{recordForEdit:L,setOpenPopup:b,getproductCodes:Q,currentPage:C,searchQuery:m})))};function Wh(){Wh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function zh(e,t,r,n){for(var a=0;a<e.length;a++)if(e[a][t]===r)return e[a][n]}var Rh=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getRawMaterials,o=e.currentPage,i=e.searchQuery,f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)([]),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(s.c)(function(e){return e.auth}),E=b.brandAllData,w=b.colourAllData,x=b.productCodeAllData,O=b.unitAllData,_=gt(),j=_.handleSuccess,L=_.handleError,S=_.handleCloseSnackbar,k=_.alertInfo,P=zh(E,"name",v.brand||null,"short_name"),C=zh(x,"code",v.productcode,"description"),T="".concat(v.productcode||"","-").concat(v.color||"","-").concat(P||"","-").concat(v.size||""),N=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;g(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},[]),D=v.gst/2,A=Object(n.useCallback)(function(){var e=Object(c.a)(Wh().mark(function e(n){var a,c,l;return Wh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),m(!0),a={name:T,size:v.size,unit:v.unit,color:v.color,brand:v.brand,productcode:v.productcode,description:C,shelf_life:v.shelf_life,hsn_code:v.hsn_code,gst:v.gst,cgst:D,sgst:D,type:"raw-materials"},e.next=6,Pn.createRawMaterials(a);case 6:c=e.sent,l=c.data.message||"Raw Materials Created successfully",j(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),L(e.t0);case 15:return e.prev=15,m(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[v,T,D,o,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:k.open,onClose:S,severity:k.severity,message:k.message}),a.a.createElement(Je,{open:p}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return A(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"Name",size:"small",label:"Name",variant:"outlined",value:T,onChange:N})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"size",size:"small",label:"Size",variant:"outlined",value:v.size,onChange:N})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:v.unit||"",onChange:function(e,t){g(function(e){return Object(u.a)({},e,{unit:t})})},options:O.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Unit"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:v.color||"",onChange:function(e,t){g(function(e){return Object(u.a)({},e,{color:t})})},options:w.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Colour"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:v.brand||"",onChange:function(e,t){g(function(e){return Object(u.a)({},e,{brand:t})})},options:E.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"brand"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:v.productcode||"",onChange:function(e,t){g(function(e){return Object(u.a)({},e,{productcode:t})})},options:x.map(function(e){return e.code}),getOptionLabel:function(e){return"".concat(e)},label:"Product Code"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Description",variant:"outlined",value:C||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"shelf_life",label:"Shelf Life (Month)",variant:"outlined",value:v.shelf_life||"",onChange:N})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"hsn_code",size:"small",label:"Hsn Code",variant:"outlined",value:v.hsn_code,onChange:N})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"gst",type:"number",size:"small",label:"IGST %",variant:"outlined",value:v.gst,onChange:N})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"CGST",variant:"outlined",value:D?"".concat(D,"%"):""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"SGST",variant:"outlined",value:D?"".concat(D,"%"):""}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function Bh(){Bh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function Mh(e,t,r,n){for(var a=0;a<e.length;a++)if(e[a][t]===r)return e[a][n]}var qh=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getRawMaterials,i=e.currentPage,f=e.searchQuery,h=Object(n.useState)(t),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(s.c)(function(e){return e.auth}),w=E.brandAllData,x=E.colourAllData,O=E.productCodeAllData,_=E.unitAllData,j=gt(),L=j.handleSuccess,S=j.handleError,k=j.handleCloseSnackbar,P=j.alertInfo,C=Mh(w,"name",m.brand,"short_name"),T="".concat(m.productcode||"","-").concat(m.color||"","-").concat(C||"","-").concat(m.size||""),N=Mh(O,"code",m.productcode,"description"),D=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;d(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},[]),A=JSON.stringify(m.gst/2),I=Object(n.useCallback)(function(){var e=Object(c.a)(Bh().mark(function e(n){var a,c,l;return Bh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),b(!0),a={name:T,unit:m.unit,size:m.size,color:m.color,brand:m.brand,productcode:m.productcode,description:N,shelf_life:m.shelf_life,hsn_code:m.hsn_code,gst:m.gst,cgst:A,sgst:A,type:"raw-materials"},!t){e.next=11;break}return e.next=7,Pn.updateRawMaterials(m.id,a);case 7:c=e.sent,l=c.data.message||"Raw Materials updated successfully",L(l),setTimeout(function(){r(!1),o(i,f)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),S(e.t0);case 16:return e.prev=16,b(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[m,T,A,i,f]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:P.open,onClose:k,severity:P.severity,message:P.message}),a.a.createElement(Je,{open:g}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return I(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Raw Material",variant:"outlined",value:m.name||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Update Raw Material",variant:"outlined",value:T||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"size",size:"small",label:"Size",variant:"outlined",value:m.size||"",onChange:D})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:m.unit||"",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{unit:t})})},options:_.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Unit"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:m.color||"",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{color:t})})},options:x.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Colour"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:m.brand||"",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{brand:t})})},options:w.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Brand"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:m.productcode||"",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{productcode:t})})},options:O.map(function(e){return e.code}),getOptionLabel:function(e){return"".concat(e)},label:"Product Code"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Description",variant:"outlined",value:N||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"shelf_life",label:"Shelf Life (Month)",variant:"outlined",value:m.shelf_life||"",onChange:D})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"hsn_code",size:"small",label:"Hsn Code",variant:"outlined",value:m.hsn_code||"",onChange:D})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"gst",type:"number",size:"small",label:"IGST %",variant:"outlined",value:m.gst||"",onChange:D})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"CGST",variant:"outlined",value:A?"".concat(A,"%"):""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"SGST",variant:"outlined",value:A?"".concat(A,"%"):""}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function Uh(){Uh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Yh=function(){var e=Object(s.b)(),t=Object(n.useState)([]),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),h=f[0],p=f[1],m=Object(n.useState)(""),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(0),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(!1),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(!1),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(null),I=Object(l.a)(A,2),F=I[0],G=I[1],W=gt(),q=W.handleError,U=W.handleCloseSnackbar,Y=W.alertInfo,V=Object(n.useState)([]),Q=Object(l.a)(V,2),H=Q[0],J=Q[1],K=Object(n.useRef)(null),Z=function(){var e=Object(c.a)(Uh().mark(function e(){var t;return Uh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X();case 3:t=e.sent,J(t),setTimeout(function(){K.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(Uh().mark(function e(){var t,r;return Uh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p(!0),!y){e.next=8;break}return e.next=5,Pn.getAllRawMaterials("all",y);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Pn.getAllRawMaterials("all");case 10:t=e.sent;case 11:return r=t.data.map(function(e){return{id:e.id,name:e.name,productcode:e.productcode,color:e.color,unit:e.unit,brand:e.brand,size:e.size,description:e.description,hsn_code:e.hsn_code,gst:e.gst,sgst:e.sgst,cgst:e.cgst,type:e.type}}),p(!1),e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,p(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])}));return function(){return e.apply(this,arguments)}}(),$=function(){var t=Object(c.a)(Uh().mark(function t(){var r;return Uh().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pn.getAllBrand("all");case 3:r=t.sent,e(z(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error finishGoods :>> ",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),ee=function(){var t=Object(c.a)(Uh().mark(function t(){var r;return Uh().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pn.getAllColour("all");case 3:r=t.sent,e(R(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("err Colour FinishGoods :>> ",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),te=function(){var t=Object(c.a)(Uh().mark(function t(){var r;return Uh().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pn.getAllProductCode("all");case 3:r=t.sent,e(M(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error ProductCode finishGoods",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),re=function(){var t=Object(c.a)(Uh().mark(function t(){var r;return Uh().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pn.getAllUnit("all");case 3:r=t.sent,e(B(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error unit finishGoods",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)(function(){$(),ee(),te(),re()},[]);var ne=Object(n.useCallback)(Object(c.a)(Uh().mark(function e(){var t;return Uh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Pn.getAllRawMaterials(E,y);case 4:t=e.sent,i(t.data.results),j(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),q(e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[E,y]);Object(n.useEffect)(function(){ne()},[E,y]);var ae=o.map(function(e){return{id:e.id,name:e.name,unit:e.unit,productcode:e.productcode,description:e.description,shelf_life:e.shelf_life,hsn_code:e.hsn_code,gst:e.gst}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:Y.open,onClose:U,severity:Y.severity,message:Y.message}),a.a.createElement(Je,{open:h}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(Ur,{onSearch:function(e){v(e),w(1)},onReset:function(){v(""),w(1)}})),a.a.createElement(Ae.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Raw Materials")),a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(We.a,{onClick:function(){return D(!0)},variant:"contained",color:"success"},"Add"),a.a.createElement(We.a,{variant:"contained",onClick:Z},"Download CSV"),H.length>0&&a.a.createElement(Bn.CSVLink,{data:H,headers:[{label:"ID",key:"id"},{label:"RAW MATERIAL",key:"name"},{label:"PRODUCT CODE",key:"productcode"},{label:"COLOR",key:"color"},{label:"UNIT",key:"unit"},{label:"BRAND",key:"brand"},{label:"SIZE",key:"size"},{label:"DESCRIPTION",key:"description"},{label:"HSN CODE",key:"hsn_code"},{label:"GST%",key:"gst"},{label:"SGST",key:"sgst"},{label:"CGST",key:"cgst"},{label:"TYPE",key:"type"}],ref:K,filename:"Raw Material.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}}))),a.a.createElement(dt,{headers:["ID","RAW MATERIALS","UNIT","PRODUCT CODE","DESCRIPTION","SHELF LIFE","HSN CODE","GST%","ACTION"],data:ae,openInPopup:function(e){var t=o.find(function(t){return t.id===e.id});G(t||{}),P(!0)}}),a.a.createElement(Vr,{totalPages:_,currentPage:E,handlePageChange:function(e,t){w(t)}}))),a.a.createElement(Ce,{maxWidth:"xl",title:"Create Raw Materials",openPopup:N,setOpenPopup:D},a.a.createElement(Rh,{getRawMaterials:ne,setOpenPopup:D,currentPage:E,searchQuery:y})),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Raw Materials",openPopup:k,setOpenPopup:P},a.a.createElement(qh,{recordForEdit:F,setOpenPopup:P,getRawMaterials:ne,currentPage:E,searchQuery:y})))};function Vh(){Vh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function Qh(e,t,r,n){for(var a=0;a<e.length;a++)if(e[a][t]===r)return e[a][n]}var Hh=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getFinishGoods,o=e.currentPage,i=e.searchQuery,f=Object(n.useState)([]),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(!1),y=Object(l.a)(d,2),v=y[0],g=y[1],b=p.gst/2,E=Object(s.c)(function(e){return e.auth}),w=E.brandAllData,x=E.colourAllData,O=E.packingunitAllData,_=E.productCodeAllData,j=E.basicunitAllData,L=E.unitAllData,S=gt(),k=S.handleSuccess,P=S.handleError,C=S.handleCloseSnackbar,T=S.alertInfo,N=Qh(w,"name",p.brand||"","short_name"),D=Qh(_,"code",p.product_code||"","description"),A=Qh(O,"name",p.packing_unit,"short_name"),I=Object(n.useMemo)(function(){var e=[p.product_code,p.color,N,p.size,p.unit_quantity,A].filter(function(e){return e}).join("-");return p.packing_unit_quantity&&e?e+=p.packing_unit_quantity:p.packing_unit_quantity&&(e=p.packing_unit_quantity),e},[p,N,A]),F=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;m(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},[]),G=Object(n.useCallback)(function(){var e=Object(c.a)(Vh().mark(function e(n){var a,c,l;return Vh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),g(!0),a={name:I,size:p.size,basic_unit:p.basic_unit,unit:p.unit,unit_quantity:p.unit_quantity,packing_unit:p.packing_unit,packing_unit_quantity:p.packing_unit_quantity,color:p.color,brand:p.brand,productcode:p.product_code,description:D,shelf_life:p.shelf_life,hsn_code:p.hsn_code,gst:p.gst,cgst:b,sgst:b,type:"finished-goods"},e.next=6,Pn.createFinishGoods(a);case 6:c=e.sent,l=c.data.message||"Finish Goods updated successfully",k(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),P(e.t0);case 15:return e.prev=15,g(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[p,I,b,o,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:T.open,onClose:C,severity:T.severity,message:T.message}),a.a.createElement(Je,{open:v}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return G(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"Name",size:"small",label:"Name",variant:"outlined",value:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"size",size:"small",label:"Size",variant:"outlined",value:p.size,onChange:F})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:p.unit||"",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{unit:t})})},options:L.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Unit"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"unit_quantity",size:"small",label:"Unit Quantity",variant:"outlined",value:p.unit_quantity,onChange:F})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:p.packing_unit||"",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{packing_unit:t})})},options:O.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Packing Unit"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"packing_unit_quantity",size:"small",label:"Packing Unit Quantity",variant:"outlined",value:p.packing_unit_quantity,onChange:F})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:p.basic_unit||"",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{basic_unit:t})})},options:j.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Basic Unit"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:p.color||"",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{color:t})})},options:x.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Colour"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:p.brand||"",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{brand:t})})},options:w.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"brand"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:p.product_code||"",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{product_code:t})})},options:_.map(function(e){return e.code}),getOptionLabel:function(e){return"".concat(e)},label:"Product Code"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Description",variant:"outlined",value:D||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"shelf_life",label:"Shelf Life (Month)",variant:"outlined",value:p.shelf_life||"",onChange:F})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"hsn_code",size:"small",label:"Hsn Code",variant:"outlined",value:p.hsn_code||"",onChange:F})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"gst",size:"small",type:"number",label:"IGST %",variant:"outlined",value:p.gst,onChange:F})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"CGST",variant:"outlined",value:b?"".concat(b,"%"):""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"SGST",variant:"outlined",value:b?"".concat(b,"%"):""}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function Jh(){Jh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function Kh(e,t,r,n){for(var a=0;a<e.length;a++)if(e[a][t]===r)return e[a][n]}var Zh=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getFinishGoods,i=e.currentPage,f=e.searchQuery,h=Object(n.useState)(t),p=Object(l.a)(h,2),m=p[0],d=p[1],y=JSON.stringify(m.gst/2),v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(s.c)(function(e){return e.auth}),x=w.brandAllData,O=w.colourAllData,_=w.packingunitAllData,j=w.productCodeAllData,L=w.basicunitAllData,S=w.unitAllData,k=gt(),P=k.handleSuccess,C=k.handleError,T=k.handleCloseSnackbar,N=k.alertInfo,D=Kh(x,"name",m.brand,"short_name"),A=Kh(j,"code",m.productcode,"description"),I=Kh(_,"name",m.packing_unit,"short_name"),F=Object(n.useMemo)(function(){var e=[m.productcode,m.color,D,m.size,m.unit_quantity,I].filter(function(e){return e}).join("-");return m.packing_unit_quantity&&e?e+=m.packing_unit_quantity:m.packing_unit_quantity&&(e=m.packing_unit_quantity),e},[m,D,I]),G=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;d(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},[]),W=Object(n.useCallback)(function(){var e=Object(c.a)(Jh().mark(function e(n){var a,c,l;return Jh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),E(!0),a={name:F,size:m.size,basic_unit:m.basic_unit,unit:m.unit,unit_quantity:m.unit_quantity,packing_unit:m.packing_unit,packing_unit_quantity:m.packing_unit_quantity,color:m.color,brand:m.brand,productcode:m.productcode,description:A,shelf_life:m.shelf_life,hsn_code:m.hsn_code,gst:m.gst,cgst:y,sgst:y,type:"finished-goods"},!t){e.next=11;break}return e.next=7,Pn.updateFinishGoods(m.id,a);case 7:c=e.sent,l=c.data.message||"Finish Goods updated successfully",P(l),setTimeout(function(){r(!1),o(i,f)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),C(e.t0);case 16:return e.prev=16,E(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[m,F,y,i,f]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:N.open,onClose:T,severity:N.severity,message:N.message}),a.a.createElement(Je,{open:b}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return W(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Name",variant:"outlined",value:m.name||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"Name",size:"small",label:"Update Name",variant:"outlined",value:F||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:m.basic_unit||"",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{basic_unit:t})})},options:L.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Basic Unit"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:m.unit||"",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{unit:t})})},options:S.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Unit"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:m.packing_unit||"",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{packing_unit:t})})},options:_.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:" Packing Unit"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"unit_quantity",size:"small",label:"Unit Quantity",variant:"outlined",value:m.unit_quantity||"",onChange:G})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"packing_unit_quantity",size:"small",label:"Packing Unit Quantity",variant:"outlined",value:m.packing_unit_quantity?m.packing_unit_quantity:"",onChange:G})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:m.color||"",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{color:t})})},options:O.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Colour"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:m.brand||"",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{brand:t})})},options:x.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Brand"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:m.productcode||"",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{productcode:t})})},options:j.map(function(e){return e.code}),getOptionLabel:function(e){return"".concat(e)},label:"Product Code"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Description",variant:"outlined",value:A||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"shelf_life",label:"Shelf Life (Month)",variant:"outlined",value:m.shelf_life||"",onChange:G})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"size",size:"small",label:"Size",variant:"outlined",value:m.size||"",onChange:G})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"hsn_code",size:"small",label:"Hsn Code",variant:"outlined",value:m.hsn_code||"",onChange:G})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"gst",type:"number",size:"small",label:"IGST %",variant:"outlined",value:m.gst||"",onChange:G})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"CGST",variant:"outlined",value:y?"".concat(y,"%"):""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"SGST",variant:"outlined",value:y?"".concat(y,"%"):""}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function Xh(){Xh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var $h=function(){var e=Object(s.b)(),t=Object(n.useState)([]),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),h=f[0],p=f[1],m=Object(n.useState)(""),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(0),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(!1),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(!1),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(null),I=Object(l.a)(A,2),F=I[0],G=I[1],W=gt(),q=W.handleError,U=W.handleCloseSnackbar,Y=W.alertInfo,V=Object(n.useState)([]),Q=Object(l.a)(V,2),H=Q[0],J=Q[1],K=Object(n.useRef)(null),Z=function(){var e=Object(c.a)(Xh().mark(function e(){var t;return Xh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X();case 3:t=e.sent,J(t),setTimeout(function(){K.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(Xh().mark(function e(){var t,r;return Xh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p(!0),!y){e.next=8;break}return e.next=5,Pn.getAllFinishGoods("all",y);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Pn.getAllFinishGoods("all");case 10:t=e.sent;case 11:return r=t.data.map(function(e){return{id:e.id,name:e.name,productcode:e.productcode,color:e.color,unit:e.unit,unit_quantity:e.unit_quantity,basic_unit:e.basic_unit,brand:e.brand,size:e.size,description:e.description,shelf_life:e.shelf_life,additional_description:e.additional_description,packing_unit:e.packing_unit,packing_unit_quantity:e.packing_unit_quantity,hsn_code:e.hsn_code,gst:e.gst,sgst:e.sgst,cgst:e.cgst,type:e.type}}),p(!1),e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,p(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])}));return function(){return e.apply(this,arguments)}}(),$=function(){var t=Object(c.a)(Xh().mark(function t(){var r;return Xh().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pn.getAllPackingUnit("all");case 3:r=t.sent,e({type:"PACKING_UNIT",payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error PackingUnit finishGoods",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),ee=function(){var t=Object(c.a)(Xh().mark(function t(){var r;return Xh().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pn.getAllBrand("all");case 3:r=t.sent,e(z(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error finishGoods :>> ",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),te=function(){var t=Object(c.a)(Xh().mark(function t(){var r;return Xh().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pn.getAllColour("all");case 3:r=t.sent,e(R(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("err Colour FinishGoods :>> ",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),re=function(){var t=Object(c.a)(Xh().mark(function t(){var r;return Xh().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pn.getAllProductCode("all");case 3:r=t.sent,e(M(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error ProductCode finishGoods",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),ne=function(){var t=Object(c.a)(Xh().mark(function t(){var r;return Xh().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pn.getAllUnit("all");case 3:r=t.sent,e(B(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error unit finishGoods",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),ae=function(){var t=Object(c.a)(Xh().mark(function t(){var r;return Xh().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pn.getAllBasicUnit("all");case 3:r=t.sent,e({type:"BASIC_UNIT",payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error :>> ",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)(function(){$(),ee(),te(),re(),ne(),ae()},[]);var oe=Object(n.useCallback)(Object(c.a)(Xh().mark(function e(){var t;return Xh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Pn.getAllFinishGoods(E,y);case 4:t=e.sent,i(t.data.results),j(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),q(e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[E,y]);Object(n.useEffect)(function(){oe()},[E,y]);var ie=o.map(function(e){return{id:e.id,name:e.name,unit:e.unit,brand:e.brand,productcode:e.productcode,description:e.description,shelf_life:e.shelf_life,hsn_code:e.hsn_code,gst:e.gst}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:Y.open,onClose:U,severity:Y.severity,message:Y.message}),a.a.createElement(Je,{open:h}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(Ur,{onSearch:function(e){v(e),w(1)},onReset:function(){v(""),w(1)}})),a.a.createElement(Ae.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Finish Goods")),a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(We.a,{onClick:function(){return D(!0)},variant:"contained",color:"success"},"Add"),a.a.createElement(We.a,{variant:"contained",onClick:Z},"Download CSV"),H.length>0&&a.a.createElement(Bn.CSVLink,{data:H,headers:[{label:"ID",key:"id"},{label:"FINISH GOODS",key:"name"},{label:"PRODUCT CODE",key:"productcode"},{label:"COLOR",key:"color"},{label:"UNIT",key:"unit"},{label:"UNIT QUANTITY",key:"unit_quantity"},{label:"BASIC UNIT",key:"basic_unit"},{label:"BRAND",key:"brand"},{label:"SIZE",key:"size"},{label:"DESCRIPTION",key:"description"},{label:"SHELF LIFE",key:"shelf_life"},{label:"ADD.DESCRIPTION",key:"additional_description"},{label:"PACKING UNIT",key:"packing_unit"},{label:"PACKING UNIT QUANTITY",key:"packing_unit_quantity"},{label:"HSN CODE",key:"hsn_code"},{label:"GST%",key:"gst"},{label:"SGST",key:"sgst"},{label:"CGST",key:"cgst"},{label:"TYPE",key:"type"}],ref:K,filename:"Finish Goods.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}}))),a.a.createElement(dt,{headers:["ID","FINISH GOODS","UNIT","BRAND","PRODUCT CODE","DESCRIPTION","SHELF LIFE","HSN CODE","GST%","ACTION"],data:ie,openInPopup:function(e){var t=o.find(function(t){return t.id===e.id});G(t||{}),P(!0)}}),a.a.createElement(Vr,{totalPages:_,currentPage:E,handlePageChange:function(e,t){w(t)}}))),a.a.createElement(Ce,{maxWidth:"xl",title:"Create FinishGoods",openPopup:N,setOpenPopup:D},a.a.createElement(Hh,{getFinishGoods:oe,setOpenPopup:D,currentPage:E,searchQuery:y})),a.a.createElement(Ce,{maxWidth:"xl",title:"Update FinishGoods",openPopup:k,setOpenPopup:P},a.a.createElement(Zh,{recordForEdit:F,setOpenPopup:P,getFinishGoods:oe,currentPage:E,searchQuery:y})))};function ep(){ep=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function tp(e,t,r,n){for(var a=0;a<e.length;a++)if(e[a][t]===r)return e[a][n]}var rp=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getconsumables,o=e.descriptionOptions,i=e.currentPage,f=e.searchQuery,h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(s.c)(function(e){return e.auth}),w=E.brandAllData,x=E.unitAllData,O=gt(),_=O.handleSuccess,j=O.handleError,L=O.handleCloseSnackbar,S=O.alertInfo,k=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;d(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},[]),P=tp(w,"name",m.brand,"short_name"),C=tp(o,"name",m.description,"auto_number"),T="".concat(m.description||"","-").concat(C||"","-").concat(P||""),N=Object(n.useCallback)(function(){var e=Object(c.a)(ep().mark(function e(n){var a,o,c;return ep().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),b(!0),a={name:T,description:m.description,unit:m.unit,brand:m.brand,size:m.size,additional_description:m.addDsc,shelf_life:m.shelf_life,hsn_code:m.hsn_code,gst:m.gst,cgst:D,sgst:D,type:"consumables"},e.next=6,Pn.createConsumable(a);case 6:o=e.sent,c=o.data.message||"Product Code Created successfully",_(c),setTimeout(function(){t(!1),r(i,f)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),j(e.t0);case 15:return e.prev=15,b(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[m,i,f]),D=m.gst/2;return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:S.open,onClose:L,severity:S.severity,message:S.message}),a.a.createElement(Je,{open:g}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return N(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"code",size:"small",label:"Name",variant:"outlined",value:T,onChange:k})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{description:t})})},options:o.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"description"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"shelf_life",label:"Shelf Life (Month)",variant:"outlined",value:m.shelf_life||"",onChange:k})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{unit:t})})},options:x.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Unit"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{brand:t})})},options:w.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Brand"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"size",size:"small",label:"size",variant:"outlined",value:m.size,onChange:k})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"hsn_code",size:"small",label:"Hsn Code",variant:"outlined",value:m.hsn_code,onChange:k})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"gst",type:"number",size:"small",label:"IGST %",variant:"outlined",value:m.gst,onChange:k})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"CGST",variant:"outlined",value:D?"".concat(D,"%"):""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"SGST",variant:"outlined",value:D?"".concat(D,"%"):""}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function np(){np=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ap=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getconsumables,i=e.currentPage,f=e.searchQuery,h=e.descriptionOptions,p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(t),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(s.c)(function(e){return e.auth}),x=w.brandAllData,O=w.unitAllData,_=gt(),j=_.handleSuccess,L=_.handleError,S=_.handleCloseSnackbar,k=_.alertInfo,P=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;E(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},[]),C=function(e,t,r,n){for(var a=0;a<e.length;a++)if(e[a][t]===r)return e[a][n]}(x,"name",b.brand||"","short_name"),T=Object(n.useMemo)(function(){var e=b.name||"",t=e.indexOf("-"),r=e.indexOf("-",t+1),n=e.slice(t+1,r);return[b.description,n||"-",C||"-"].join("-")},[b,C]),N=JSON.stringify(b.gst/2),D=Object(n.useCallback)(function(){var e=Object(c.a)(np().mark(function e(n){var a,c,l,s;return np().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,y(!0),a=b.gst/2,c=Object(u.a)({},b,{name:T,cgst:a,sgst:a,type:"consumables"}),!t){e.next=12;break}return e.next=8,Pn.updateConsumable(b.id,c);case 8:l=e.sent,s=l.data.message||"Consumable updated successfully",j(s),setTimeout(function(){r(!1),o(i,f)},300);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),L(e.t0);case 17:return e.prev=17,y(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[1,14,17,20]])}));return function(t){return e.apply(this,arguments)}}(),[b,T,N,i,f]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:k.open,onClose:S,severity:k.severity,message:k.message}),a.a.createElement(Je,{open:d}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return D(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Name",variant:"outlined",value:b.name||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Product Code",variant:"outlined",value:T||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"size",size:"small",label:"size",variant:"outlined",value:b.size||"",onChange:P})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:b.unit||"",onChange:function(e,t){E(function(e){return Object(u.a)({},e,{unit:t})})},options:O.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Unit"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:b.description||"",onChange:function(e,t){E(function(e){return Object(u.a)({},e,{description:t})})},options:h.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Description"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",value:b.brand||"",onChange:function(e,t){E(function(e){return Object(u.a)({},e,{brand:t})})},options:x.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Brand"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"additional_description",size:"small",label:"Additional Descriptionj",variant:"outlined",value:b.additional_description||"",onChange:P})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"shelf_life",label:"Shelf Life (Month)",variant:"outlined",value:b.shelf_life||"",onChange:P})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"hsn_code",size:"small",label:"Hsn Code",variant:"outlined",value:b.hsn_code||"",onChange:P})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"gst",type:"number",size:"small",label:"IGST %",variant:"outlined",value:b.gst||"",onChange:P})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"CGST",variant:"outlined",value:N?"".concat(N,"%"):""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"SGST",variant:"outlined",value:N?"".concat(N,"%"):""}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function op(){op=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ip=function(){var e=Object(s.b)(),t=Object(n.useState)([]),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),h=f[0],p=f[1],m=Object(n.useState)(""),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(!1),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(null),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(1),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(0),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useState)([]),R=Object(l.a)(W,2),M=R[0],q=R[1],U=Object(n.useState)([]),Y=Object(l.a)(U,2),V=Y[0],Q=Y[1],H=gt(),J=H.handleError,K=H.handleCloseSnackbar,Z=H.alertInfo,X=Object(n.useRef)(null),$=function(){var e=Object(c.a)(op().mark(function e(){var t;return op().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee();case 3:t=e.sent,q(t),setTimeout(function(){X.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(c.a)(op().mark(function e(){var t,r;return op().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p(!0),!y){e.next=8;break}return e.next=5,Pn.getAllConsumable("all",y);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Pn.getAllConsumable("all");case 10:t=e.sent;case 11:return r=t.data.map(function(e){return{id:e.id,name:e.name,unit:e.unit,brand:e.brand,size:e.size,description:e.description,additional_description:e.additional_description,shelf_life:e.shelf_life,hsn_code:e.hsn_code,gst:e.gst,sgst:e.sgst,cgst:e.cgst,type:e.type}}),p(!1),e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,p(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])}));return function(){return e.apply(this,arguments)}}(),te=function(){var t=Object(c.a)(op().mark(function t(){var r;return op().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pn.getAllBrand("all");case 3:r=t.sent,e(z(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error finishGoods :>> ",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),re=function(){var t=Object(c.a)(op().mark(function t(){var r;return op().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pn.getAllUnit("all");case 3:r=t.sent,e(B(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error unit finishGoods",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),ne=function(){var e=Object(c.a)(op().mark(function e(){var t;return op().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pn.getYesDescription();case 3:t=e.sent,console.log("desc res",t),Q(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error in Description Api",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){te(),re(),ne()},[]);var ae=Object(n.useCallback)(Object(c.a)(op().mark(function e(){var t;return op().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Pn.getAllConsumable(N,y);case 4:t=e.sent,i(t.data.results),G(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),J(e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[N,y]);Object(n.useEffect)(function(){ae()},[N,y]);var oe=o.map(function(e){return{id:e.id,name:e.name,unit:e.unit,brand:e.brand,size:e.size,additional_description:e.additional_description,shelf_life:e.shelf_life,hsn_code:e.hsn_code,gst:e.gst}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:Z.open,onClose:K,severity:Z.severity,message:Z.message}),a.a.createElement(Je,{open:h}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(Ur,{onSearch:function(e){v(e),D(1)},onReset:function(){v(""),D(1)}})),a.a.createElement(Ae.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Consumable")),a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(We.a,{onClick:function(){return j(!0)},variant:"contained",color:"success"},"Add"),a.a.createElement(We.a,{variant:"contained",onClick:$},"Download CSV"),M.length>0&&a.a.createElement(Bn.CSVLink,{data:M,headers:[{label:"ID",key:"id"},{label:"CONSUMABLE",key:"name"},{label:"UNIT",key:"unit"},{label:"BRAND",key:"brand"},{label:"SIZE",key:"size"},{label:"DESCRIPTION",key:"description"},{label:"ADD.DESCRIPTION",key:"additional_description"},{label:"SHELF LIFE",key:"shelf_life"},{label:"HSN CODE",key:"hsn_code"},{label:"GST%",key:"gst"},{label:"SGST",key:"sgst"},{label:"CGST",key:"cgst"},{label:"TYPE",key:"type"}],ref:X,filename:"Consumable.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}}))),a.a.createElement(dt,{headers:["ID","CONSUMABLE","UNIT","BRAND","SIZE","ADDITIONAL DESC","SHELF LIFE","HSN CODE","GST%","ACTION"],data:oe,openInPopup:function(e){var t=o.find(function(t){return t.id===e.id});P(t||{}),w(!0)}}),a.a.createElement(Vr,{totalPages:F,currentPage:N,handlePageChange:function(e,t){D(t)}}))),a.a.createElement(Ce,{maxWidth:"xl",title:"Create Consumable",openPopup:_,setOpenPopup:j},a.a.createElement(rp,{getconsumables:ae,setOpenPopup:j,descriptionOptions:V,currentPage:N,searchQuery:y})),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Consumable",openPopup:E,setOpenPopup:w},a.a.createElement(ap,{recordForEdit:k,setOpenPopup:w,getconsumables:ae,descriptionOptions:V,currentPage:N,searchQuery:y})))},cp=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}("Director","Accounts","Accounts Billing Department","Accounts Executive"),r=Object(n.useState)(t?0:4),o=Object(l.a)(r,2),i=o[0],c=o[1],u=[{label:"Raw Materials",visible:t,index:0},{label:"Finish Goods",visible:t,index:1},{label:"Consumable",visible:t,index:2},{label:"Description",visible:t,index:3},{label:"Product Code",visible:t,index:4},{label:"Brand",visible:t,index:5},{label:"Color",visible:t,index:6},{label:"Unit",visible:t,index:7},{label:"Packing Unit",visible:t,index:8},{label:"Basic Unit",visible:t,index:9}].filter(function(e){return e.visible}),f=u.map(function(e){return e.index}),h={0:a.a.createElement(Yh,null),1:a.a.createElement($h,null),2:a.a.createElement(ip,null),3:a.a.createElement(Th,null),4:a.a.createElement(Gh,null),5:a.a.createElement(ch,null),6:a.a.createElement(th,null),7:a.a.createElement(bh,null),8:a.a.createElement(jh,null),9:a.a.createElement(ph,null)};return a.a.createElement("div",null,a.a.createElement(Xr,{tabs:u,activeTab:i,onTabChange:function(e){return c(f[e])}}),f.includes(i)&&a.a.createElement("div",null,h[i]))};function lp(){lp=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var up=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getPriceList,i=e.product,s=e.currentPage,f=e.filterQuery,h=e.searchQuery,p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(t),g=Object(l.a)(v,2),b=g[0],E=g[1],w=gt(),x=w.handleSuccess,O=w.handleError,_=w.handleCloseSnackbar,j=w.alertInfo,L=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;E(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},[]),S=b.slab1<b.slab2,k=Object(n.useCallback)(function(){var e=Object(c.a)(lp().mark(function e(n){var a,i,c;return lp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),y(!0),a={product:b.product,slab1:b.slab1,slab1_price:b.slab1_price,slab2:b.slab2,slab2_price:b.slab2_price,slab3_price:b.slab3_price,validity:b.validity,discontinued:b.discontinued},!t){e.next=11;break}return e.next=7,Pn.updatePriceList(b.id,a);case 7:i=e.sent,c=i.data.message||"Price List Created successfully",x(c),setTimeout(function(){r(!1),o(s,f,h)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),O(e.t0);case 16:return e.prev=16,y(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[b,s,h]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:j.open,onClose:_,severity:j.severity,message:j.message}),a.a.createElement(Je,{open:d}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return k(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{sx:{minWidth:180},size:"small",value:b.product||"",onChange:function(e,t){E(function(e){return Object(u.a)({},e,{product:t})})},options:i.map(function(e){return e.name}),getOptionLabel:function(e){return e},label:"Product Name"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"slab1",size:"small",label:"Slab 1",variant:"outlined",value:b.slab1||"",error:""===b.slab1,helperText:""===b.slab1?"this field is required.":"",onChange:L})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"slab1_price",size:"small",label:"Slab1 Price",variant:"outlined",value:b.slab1_price||"",onChange:L})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"slab2",size:"small",label:"Slab 2",variant:"outlined",value:b.slab2||"",error:!1===S||""===S,helperText:!1===S||""===b.slab2?"slab2 must be greater than slab1":" ",onChange:L})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"slab2_price",size:"small",label:"Slab2 Price",variant:"outlined",value:b.slab2_price||"",onChange:L})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"slab3_price",size:"small",label:"Slab3  Price",variant:"outlined",value:b.slab3_price||"",onChange:L})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"validity",size:"small",label:"Validity",variant:"outlined",value:b.validity||"",onChange:L,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(pr.a,{control:a.a.createElement(Ei.a,{checked:b.discontinued,onChange:function(e,t){E(function(e){return Object(u.a)({},e,{discontinued:t})})},name:"validity"}),label:"Discontinued"}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function sp(){sp=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var fp=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getPriceList,o=e.product,i=e.currentPage,s=e.filterQuery,f=e.searchQuery,h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(),w=Object(l.a)(E,2),x=w[0],O=w[1],_=gt(),j=_.handleSuccess,L=_.handleError,S=_.handleCloseSnackbar,k=_.alertInfo,P=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;d(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},[]),C=m.slab1<m.slab2,T=Object(n.useCallback)(function(){var e=Object(c.a)(sp().mark(function e(n){var a,o,c,l;return sp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),a=m.slab1<m.slab2,O(a),console.log("validate",x),o={product:m.product,slab1:m.slab1,slab1_price:m.slab1_price,slab2:m.slab2,slab2_price:m.slab2_price,slab3_price:m.slab3_price,validity:m.validity,discontinued:!1},b(!0),e.next=9,Pn.createPriceList(o);case 9:c=e.sent,l=c.data.message||"Price List Updated successfully",j(l),setTimeout(function(){t(!1),r(i,s,f)},300),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),L(e.t0);case 18:return e.prev=18,b(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[0,15,18,21]])}));return function(t){return e.apply(this,arguments)}}(),[m,i,f]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:k.open,onClose:S,severity:k.severity,message:k.message}),a.a.createElement(Je,{open:g}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return T(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{sx:{minWidth:180},size:"small",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{product:t})})},value:m.product,options:o.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e||"No Options")},label:"Product"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{required:!0,fullWidth:!0,name:"slab1",size:"small",label:"Slab 1",variant:"outlined",value:m.slab1,error:""===m.slab1,helperText:""===m.slab1?"this field is required.":"",onChange:P})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"slab1_price",size:"small",label:"Slab1 Price",variant:"outlined",value:m.slab1_price,onChange:P})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{required:!0,fullWidth:!0,name:"slab2",size:"small",label:"Slab 2",type:"number",variant:"outlined",value:m.slab2,error:!1===C||""===C,helperText:!1===C||""===m.slab2?"slab2 must be greater than slab1":" ",onChange:P})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"slab2_price",size:"small",label:"Slab2 Price",variant:"outlined",value:m.slab2_price,onChange:P})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"slab3_price",size:"small",label:"Slab3  Price",variant:"outlined",value:m.slab3_price,onChange:P})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"validity",size:"small",label:"Validity",variant:"outlined",value:m.validity,onChange:P,InputLabelProps:{shrink:!0}}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function hp(){hp=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var pp=function(e){var t=e.setOpenCSVFile,r=e.getProduct,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],s=i[1],f=Object(n.useRef)(null),h=Object(n.useState)(null),p=Object(l.a)(h,2),m=p[0],d=p[1],v=gt(),g=v.handleSuccess,b=v.handleError,E=v.handleCloseSnackbar,w=v.alertInfo,x=function(){var e=Object(c.a)(hp().mark(function e(n){var a;return hp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),m){e.next=4;break}return b("Please select a csv file"),e.abrupt("return",!1);case 4:return(a=new FormData).append("file",m),e.prev=6,s(!0),e.next=10,Pn.uploadCSVFile(a);case 10:g("File uploaded successfully"),setTimeout(function(){t(!1),r()},500),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),console.error("Error uploading file:",e.t0),b(e.t0);case 18:return e.prev=18,s(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[6,14,18,21]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:w.open,onClose:E,severity:w.severity,message:w.message}),a.a.createElement(Je,{open:u}),a.a.createElement(Fe.a,{item:!0,sx:12,width:{width:"400px"}},a.a.createElement("form",{onSubmit:x},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(We.a,{variant:"text",color:"primary",onClick:function(){f.current.click()}},"Choose the csv file"),m&&a.a.createElement("storng",null,m.name),a.a.createElement("input",{type:"file",ref:f,onChange:function(e){d(e.target.files[0]),console.log(e.target.files[0])},accept:".csv",style:{display:"none"}}),a.a.createElement(y.a,null)),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(We.a,{type:"submit",variant:"contained",color:"primary"},"Upload CSV"))))))};function mp(){mp=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var dp=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(""),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(null),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(1),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)(0),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useState)([]),B=Object(l.a)(R,2),M=B[0],q=B[1],U=Object(n.useState)([]),Y=Object(l.a)(U,2),V=Y[0],Q=Y[1],H=Object(n.useState)(!1),J=Object(l.a)(H,2),K=J[0],Z=J[1],X=gt(),$=X.handleError,ee=X.handleCloseSnackbar,te=X.alertInfo,re=Object(n.useRef)(null),ne=function(){var e=Object(c.a)(mp().mark(function e(){var t;return mp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Pn.getAllProduct();case 4:t=e.sent,q(t.data),f(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error Product in pricelist",e.t0),f(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){ne()},[]);var ae=function(){var e=Object(c.a)(mp().mark(function e(){var t,r;return mp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Pn.getAllPriceList("all",g,m);case 4:return t=e.sent,r=t.data.map(function(e){return{id:e.id,product:e.product,slab1:e.slab1,slab1_price:e.slab1_price,slab2:e.slab2,slab2_price:e.slab2_price,slab3_price:e.slab3_price,validity:e.validity,discontinued:e.discontinued,description:e.description}}),console.log("data",r),f(!1),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),$(e.t0),console.log("while downloading Price list",e.t0);case 15:return e.prev=15,f(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,11,15,18]])}));return function(){return e.apply(this,arguments)}}(),oe=Object(n.useCallback)(Object(c.a)(mp().mark(function e(){var t;return mp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Pn.getAllPriceList(A,g,m);case 4:t=e.sent,o(t.data.results),z(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),$(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[A,g,m]);Object(n.useEffect)(function(){oe()},[A,g,m]);var ie=r.map(function(e){return{id:e.id,product:e.product,slab1:e.slab1,slab1_price:e.slab1_price,slab2:e.slab2,slab2_price:e.slab2_price,slab3_price:e.slab3_price,validity:e.validity,discontinued:e.discontinued,description:e.description}}),ce=function(){var e=Object(c.a)(mp().mark(function e(){var t;return mp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae();case 3:t=e.sent,Q(t),setTimeout(function(){re.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:te.open,onClose:ee,severity:te.severity,message:te.message}),a.a.createElement(Je,{open:s}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{flexGrow:1,p:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,md:4,lg:4},a.a.createElement(Ae.a,{sx:{display:"flex",width:"100%",mt:1,alignItems:"center"}},a.a.createElement(sr,{sx:{flexGrow:1,mr:1},size:"small",value:g,onChange:function(e,t){return b(t),void I(1)},options:yp,getOptionLabel:function(e){return e},label:"Filter By Description"}),a.a.createElement(Ur,{sx:{flexGrow:1},onSearch:function(e){d(e),I(1)},onReset:function(){d(""),I(1)}}))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2,style:{display:"flex",justifyContent:"center",alignItems:"center"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Price List")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,sx:{display:"flex",justifyContent:"end",alignItems:"center",gap:"10px"}},a.a.createElement(We.a,{type:"button",variant:"contained",color:"info",onClick:function(){return Z(!0)},style:{marginRight:"10px"}},"Upload CSV File"),a.a.createElement(We.a,{variant:"contained",color:"secondary",className:"mx-3",onClick:ce},"DownLoad CSV"),V.length>0&&a.a.createElement(Bn.CSVLink,{data:V,headers:[{label:"ID",key:"id"},{label:"Product",key:"product"},{label:"Slab1",key:"slab1"},{label:"Slab1 Price",key:"slab1_price"},{label:"Slab2",key:"slab2"},{label:"Slab2 Price",key:"slab2_price"},{label:"Slab3 Price",key:"slab3_price"},{label:"Validity",key:"validity"},{label:"Discontinued",key:"discontinued"},{label:"Description",key:"description"}],ref:re,filename:"Price List.csv",target:"_blank",style:{textDecoration:"none",outline:"none",visibility:"hidden"}}),a.a.createElement(We.a,{variant:"contained",color:"success",onClick:function(){return S(!0)}},"Add")))),a.a.createElement(dt,{headers:["ID","Product","Slab1","Slab1 Price","Slab2","Slab2 Price","Slab3 Price","Validity","Discontinued","Description","Action"],data:ie,openInPopup:function(e){T(e),O(!0)},openInPopup2:null,openInPopup3:null,openInPopup4:null}),a.a.createElement(Vr,{totalPages:W,currentPage:A,handlePageChange:function(e,t){I(t)}}))),a.a.createElement(Ce,{title:"Create Price List",openPopup:L,setOpenPopup:S},a.a.createElement(fp,{getPriceList:oe,setOpenPopup:S,product:M,currentPage:A,filterQuery:g,searchQuery:m})),a.a.createElement(Ce,{title:"Update Price List",openPopup:x,setOpenPopup:O},a.a.createElement(up,{recordForEdit:C,setOpenPopup:O,getPriceList:oe,product:M,currentPage:A,filterQuery:g,searchQuery:m})),a.a.createElement(Ce,{title:"Upload Price List CSV file",openPopup:K,setOpenPopup:Z},a.a.createElement(pp,{setOpenCSVFile:Z,getProduct:ne})))},yp=["valid","expired"];function vp(){vp=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var gp=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)([]),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(0),S=Object(l.a)(L,2),k=S[0],P=S[1];Object(n.useEffect)(function(){t&&C()},[t]);var C=function(){var e=Object(c.a)(vp().mark(function e(){var r;return vp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Kn.getCompanyDataById(t);case 4:r=e.sent,p(r.data.bank),v(r.data.contacts),w(r.data.warehouse),j(r.data.security_cheque),u(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),u(!1),console.log("company data by id error",e.t0);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:i}),a.a.createElement("div",null,a.a.createElement(Xr,{tabs:[{label:"Bank"},{label:"Contact"},{label:"WareHouse"},{label:"Security Cheques"}],activeTab:k,onTabChange:function(e){P(e)}}),a.a.createElement("div",{style:{marginTop:"10px"}},0===k&&a.a.createElement("div",null,a.a.createElement(aa,{bankData:h,open:i,getAllCompanyDetailsByID:C,recordForEdit:t})),1===k&&a.a.createElement("div",null,a.a.createElement(wa,{contactData:y,open:i,getAllCompanyDetailsByID:C,recordForEdit:t})),2===k&&a.a.createElement("div",null,a.a.createElement(Ca,{contactData:y,wareHousedata:E,open:i,getAllCompanyDetailsByID:C,recordForEdit:t})),3===k&&a.a.createElement("div",null,a.a.createElement(ro,{securityChequedata:_,open:i,getAllCompanyDetailsByID:C,recordForEdit:t})))))};function bp(){bp=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ep=function(e){var t=e.getAllCompanyDetails,r=e.setOpenPopup,o=Object(n.useState)(!1),i=Object(l.a)(o,2),f=i[0],h=i[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],v=m[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(""),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)([]),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)({message:"",severity:"",open:!1}),F=Object(l.a)(I,2),G=F[0],z=F[1],R=Object(s.b)(),B=function(e){var t=e.target,r=t.name,n=t.value,a="gst_number"===r||"pan_number"===r?n.toUpperCase():n;w(Object(u.a)({},E,Object(Y.a)({},r,a)))},M=function(){var e=Object(c.a)(bp().mark(function e(t,r){var n,a;return bp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w(Object(u.a)({},E,Object(Y.a)({},t,r))),"International"!==r){e.next=17;break}return e.prev=2,v(!0),e.next=6,xa.getAllMasterCountries("all");case 6:n=e.sent,a=n.data.filter(function(e){return"India"!==e.name}),L(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log("Error in getting country data by pincode");case 14:return e.prev=14,v(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,11,14,17]])}));return function(t,r){return e.apply(this,arguments)}}(),q=function(){var e=Object(c.a)(bp().mark(function e(){var t,r,n;return bp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,v(!0),E.origin_type){e.next=5;break}return z({message:"Please select customer origin type before validating pincode",severity:"error",open:!0}),e.abrupt("return");case 5:if("International"!==E.origin_type||E.country){e.next=8;break}return z({message:"Please select country before validating pincode",severity:"error",open:!0}),e.abrupt("return");case 8:return t=E.pincode,r=E.country,e.next=12,xa.getCountryDataByPincode(r,t);case 12:0===(n=e.sent).data.length?(z({message:"This Pin Code does not exist ! First Create the Pin code in the master country",severity:"error",open:!0}),w(Object(u.a)({},E,{state:"",city:"",country:""}))):(z({message:"Pin code is valid",severity:"success",open:!0}),w(Object(u.a)({},E,{state:n.data[0].state,city:n.data[0].city_name,country:n.data[0].country,pin_code:n.data[0].id}))),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("error",e.t0),z({message:"Error fetching country data by pincode",severity:"error",open:!0});case 20:return e.prev=20,v(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[0,16,20,23]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){U()},[]);var U=function(){var e=Object(c.a)(bp().mark(function e(t){var r;return bp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,qo.getAllAssignedUser();case 4:r=e.sent,A(r.data),v(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error",e.t0),v(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),V=function(e){return/^[0-9]{2}[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}[1-9A-Za-z]{1}Z[0-9A-Za-z]{1}$/.test(e)},Q=function(e){return/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/.test(e)},H=function(){var e=Object(c.a)(bp().mark(function e(t){var r,n;return bp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),v(!0),r={name:E.name,address:E.address,pincode:E.pincode,country:E.country,state:E.state,city:E.city,pin_code:E.pin_code,gst_number:E.gst_number||null,pan_number:E.pan_number||null,business_type:E.business_type,assigned_to:E.assigned_to||[],type_of_customer:E.type_of_customer,website:E.website,estd_year:E.estd_year,approx_annual_turnover:E.approx_annual_turnover,purchase_decision_maker:E.purchase_decision_maker||null,industrial_list:E.industrial_list||null,distribution_type:E.distribution_type||null,category:E.category||[],main_distribution:E.main_distribution||[],origin_type:E.origin_type||null},e.next=6,Kn.createCompanyData(r);case 6:n=e.sent,C(n.data.company_id),J(n.data.company_id),v(!1),z({message:"Company created successfully",severity:"success",open:!0}),setTimeout(function(){h(!0)},700),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("createing company detail error",e.t0),v(!1);case 18:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(bp().mark(function e(t){var r;return bp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,Kn.getCompanyDataById(t);case 4:r=e.sent,R(W(r.data.name)),v(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),v(!1),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:d}),a.a.createElement($e,{open:G.open,message:G.message,severity:G.severity,onClose:function(){z({open:!1})}}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return H(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(wp,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Company Details"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"name",size:"small",label:"Company Name",variant:"outlined",value:E.name,onChange:B})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Business Type"),a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Busniess Type",onChange:function(e,t){return M("business_type",e.target.value)}},Ya.CustomerBusinessTypeData.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{sx:{minWidth:"200px"},name:"pincode",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:E.pincode,onChange:B}),a.a.createElement(We.a,{onClick:q,variant:"contained",sx:{marginLeft:"1rem"}},"Validate")),"International"===E.origin_type?a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){M("country",t)},value:E.country||"",options:j&&j.map(function(e){return e.name}),label:"Country"})):a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Country",name:"country",variant:"outlined",value:E.country||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"State",variant:"outlined",value:E.state||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"City",variant:"outlined",value:E.city||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"gst_number",label:"GST No.",variant:"outlined",value:E.gst_number,onChange:B,error:E.gst_number&&!V(E.gst_number),helperText:E.gst_number&&!V(E.gst_number)&&"Invalid GST Number"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,size:"small",name:"pan_number",label:"Pan No.",variant:"outlined",value:E.pan_number,onChange:B,error:E.pan_number&&!Q(E.pan_number),helperText:E.pan_number&&!Q(E.pan_number)&&"Invalid PAN Number"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{size:"small",value:E.assigned_to||[],onChange:function(e,t){M("assigned_to",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:D.map(function(e){return e.email}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},label:"Assign To",placeholder:"Assign To"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:E.address,onChange:B})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(wp,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"KYC Details"})))),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(a.a.Fragment,null,a.a.createElement(wt.a,null,a.a.createElement(Qr.a,{id:"demo-row-radio-buttons-group-label"},"Customer Type"),a.a.createElement(Hr.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:E.origin_type||"",onChange:function(e){return M("origin_type",e.target.value)}},a.a.createElement(pr.a,{value:"Domestic",control:a.a.createElement(Jr.a,null),label:"Domestic"}),a.a.createElement(pr.a,{value:"International",control:a.a.createElement(Jr.a,null),label:"International"}))))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(wt.a,null,a.a.createElement(Qr.a,{id:"demo-row-radio-buttons-group-label"},"Type of Customer"),a.a.createElement(Hr.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:E.type_of_customer||"",onChange:function(e){return M("type_of_customer",e.target.value)}},a.a.createElement(pr.a,{value:"Industrial Customer",control:a.a.createElement(Jr.a,null),label:"Industrial Customer"}),a.a.createElement(pr.a,{value:"Distribution Customer",control:a.a.createElement(Jr.a,null),label:"Distribution Customer"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"website",size:"small",label:"Website",variant:"outlined",value:E.website,onChange:B})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"estd_year",size:"small",label:"Established Year",placeholder:"YYYY",value:E.estd_year||"",onChange:B})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"approx_annual_turnover",size:"small",label:"Approx Annual Turnover",variant:"outlined",value:E.approx_annual_turnover,onChange:B})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"purchase_decision_maker",size:"small",label:"Purchase Decision Maker",variant:"outlined",value:E.name||"",onChange:B})),"Industrial Customer"===E.type_of_customer&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){M("industrial_list",t)},value:E.industrial_list||"",options:Ya.IndustriesList.map(function(e){return e.label}),label:"Industrial List"})),"Distribution Customer"===E.type_of_customer&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{sx:{minWidth:220},size:"small",onChange:function(e,t){M("distribution_type",t)},value:E.distribution_type||"",options:Ya.DistributionTypeOption.map(function(e){return e.label}),label:"Distribution Type"})),"Distribution Customer"===E.type_of_customer&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",value:E.category||[],onChange:function(e,t){M("category",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:Ya.CategoryOption.map(function(e){return e.label}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},label:"Category",placeholder:"Category"})),"Distribution Customer"===E.type_of_customer&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",value:E.main_distribution||[],onChange:function(e,t){M("main_distribution",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:Ya.MainDistribution.map(function(e){return e.label}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},label:"Main Distribution",placeholder:"Main Distribution"}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")),a.a.createElement(Ce,{maxWidth:"lg",title:"Create Customer",openPopup:f,setOpenPopup:r},a.a.createElement(gp,{setOpenPopup:h,getAllCompanyDetails:t,recordForEdit:P})))},wp=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})});function xp(){xp=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Op=function(e){var t=e.setOpenPopup,r=e.setOpenSnackbar,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],f=i[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(""),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(!1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)([]),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)([]),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(s.c)(function(e){return e.auth}).profile.sales_customer_user||[];Object(n.useEffect)(function(){B()},[]);var B=function(){var e=Object(c.a)(xp().mark(function e(t){var r;return xp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,qo.getAllAssignedUser();case 4:r=e.sent,O(r.data),f(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error",e.t0),f(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(c.a)(xp().mark(function e(n){var a;return xp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),n.preventDefault(),a={assign_from:m,assign_to:g,states:A.map(function(e){return e.value})},e.next=6,Kn.BulkCustomerAssign(a);case 6:t(!1),f(!1),r(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),f(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),q=function(e,t,r){return!e&&r?"Field cannot be empty":e===t?"Assign From will not be the same as Assign To":""},U=function(){var e=Object(c.a)(xp().mark(function e(){var t;return xp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,xa.getAllMasterStates("all");case 4:t=e.sent,z(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error getting all states");case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){U()},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:u}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:M},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ur.a,{multiple:!0,fullWidth:!0,size:"small",value:A,onChange:function(e,t){I(t)},options:W,getOptionLabel:function(e){return e.name},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Select State(s)"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{fullWidth:!0,size:"small",id:"grouped-demo",value:m,onChange:function(e,t){d(t),L||S(!0)},options:x.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Assign From",renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Assign From",error:L&&(m===g||!m),helperText:q(m,g,L),onBlur:function(){return S(!0)}}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{fullWidth:!0,size:"small",id:"grouped-demo",value:g,onChange:function(e,t){b(t),C||T(!0)},options:R.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Assign To",renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Assign To",error:C&&(m===g||!g),helperText:q(g,m,C),onBlur:function(){return T(!0)}}))}}))),a.a.createElement(Lt,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},text:"Assign"})))},_p=r(653);function jp(){jp=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Lp=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),Sp={"& .MuiButtonBase-root.MuiAutocomplete-clearIndicator":{color:"blue",visibility:"visible"}},kp={someDate:function(){var e=new Date,t=new Date;return t.setDate(e.getDate()+7),t.toISOString().substring(0,10)}()},Pp=function(e){var t=e.recordForEdit,r=e.rowData,o=e.setOpenPopup,i=Object(n.useState)([]),h=Object(l.a)(i,2),p=h[0],m=h[1],d=Object(n.useState)(null),v=Object(l.a)(d,2),g=v[0],b=v[1],w=gt(),O=w.handleSuccess,_=w.handleError,j=w.handleCloseSnackbar,L=w.alertInfo,S=Zs([{product:"",quantity:"",rate:"",unit:"",requested_date:kp.someDate,special_instructions:""}],p,!0),k=S.handleAutocompleteChange,P=S.handleFormChange,C=S.addFields,T=S.removeFields,N=S.products,D=Object(f.n)(),A=Object(n.useState)(!1),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useState)(!1),z=Object(l.a)(W,2),R=z[0],B=z[1],M=Object(n.useState)(!1),q=Object(l.a)(M,2),U=q[0],V=q[1],Q=Object(n.useState)({}),H=Object(l.a)(Q,2),J=H[0],K=H[1],Z=Object(n.useState)(""),X=Object(l.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)(""),re=Object(l.a)(te,2),ne=re[0],ae=re[1],oe=Object(n.useState)(""),ie=Object(l.a)(oe,2),ce=ie[0],le=ie[1],ue=Object(n.useState)(""),se=Object(l.a)(ue,2),fe=se[0],he=se[1],pe=Object(n.useState)([]),me=Object(l.a)(pe,2),de=me[0],ye=me[1],ve=Object(n.useState)([]),ge=Object(l.a)(ve,2),be=ge[0],Ee=ge[1],we=Object(n.useState)([]),xe=Object(l.a)(we,2),Oe=xe[0],_e=xe[1],je=Object(n.useState)([]),Le=Object(l.a)(je,2),Se=Le[0],ke=Le[1],Pe=Object(n.useState)(!0),Te=Object(l.a)(Pe,2),Ne=Te[0],De=Te[1],Ie=Object(n.useState)(!1),Ge=Object(l.a)(Ie,2),ze=Ge[0],Re=Ge[1],Be=Object(n.useState)([]),Me=Object(l.a)(Be,2),qe=Me[0],Ue=Me[1],Ye=Object(n.useState)([]),Qe=Object(l.a)(Ye,2),He=Qe[0],Ke=Qe[1],Ze=Object(n.useState)([]),Xe=Object(l.a)(Ze,2),$e=Xe[0],et=Xe[1],tt=Object(n.useState)(null),rt=Object(l.a)(tt,2),nt=rt[0],at=rt[1],ot=Object(s.c)(function(e){return e.auth}).profile,it=function(e){var t=e.target,r=t.name,n=t.value;K(Object(u.a)({},J,Object(Y.a)({},r,n))),at(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},ct=(new Date).toISOString().slice(0,10),lt=Object(n.useState)(300),ut=Object(l.a)(lt,2),ft=ut[0],ht=ut[1];Object(n.useEffect)(function(){if(!(ft<=0)){var e=setInterval(function(){ht(function(e){return e-1})},1e3);return function(){return clearInterval(e)}}o(!1)},[ft,o]);var pt=Object(n.useCallback)(Object(c.a)(jp().mark(function e(){var t;return jp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pn.getProductPriceList();case 3:t=e.sent,m(t.data.products),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("error potential",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),[]),mt=function(){var e=Object(c.a)(jp().mark(function e(){var t;return jp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,st.getAllPaginateSellerAccountData("all");case 3:t=e.sent,Ue(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error fetching seller account data:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),dt=function(){var e=Object(c.a)(jp().mark(function e(){var t;return jp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,st.getBillingAddressbyCustomer(r.name);case 3:t=e.sent,Ke(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error fetching customer billing address data:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){dt()},[r]),Object(n.useEffect)(function(){mt(),pt()},[]);var vt=function(){var e=Object(c.a)(jp().mark(function e(){var r,n,a,o;return jp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([Kn.getCompanyDataByIdWithType(t,"contacts"),Kn.getCompanyDataByIdWithType(t,"warehouse")]);case 3:r=e.sent,n=Object(l.a)(r,2),a=n[0],o=n[1],Ee(a.data.contacts),_e(o.data.warehouse),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),V(!1),console.log("company data by id error",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),bt=function(){var e=Object(c.a)(jp().mark(function e(){var r;return jp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kn.getCompanyDataById(t);case 3:r=e.sent,ye(r.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("company data by id error",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),Et=function(){var e=Object(c.a)(jp().mark(function e(t,n,a){var o;return jp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ee(n),e.prev=1,V(!0),e.next=5,Kn.getCustomerLastPi(r&&r.name,n.unit);case 5:o=e.sent,at(o.data||{}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("error getting last pi",e.t0);case 12:return e.prev=12,V(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,9,12,15]])}));return function(t,r,n){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(c.a)(jp().mark(function e(){var t,n;return jp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.prev=1,e.next=4,Kr.getCurrencyData();case 4:(t=e.sent)&&t.data&&(n=t.data,et(n),"Domestic"!==r.origin_type||J.currency||K(function(e){return Object(u.a)({},e,{currency:"INR"})})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),_(e.t0),console.error("Error fetching currency data",e.t0);case 12:return e.prev=12,V(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,8,12,15]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){bt(),vt(),"International"===r.origin_type&&Ot()},[R]);var _t=function(){var e=Object(c.a)(jp().mark(function e(t){var n,a,o,i;return jp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=null!==fe.contact&&null!==Se.address&&null!==Se.state&&null!==Se.city&&null!==Se.pincode,a={type:"Customer",raised_by:ot.email,raised_by_first_name:ot.first_name,raised_by_last_name:ot.last_name,seller_account:$.unit,seller_address:$.address,seller_pincode:$.pincode,seller_state:$.state,seller_city:$.city,seller_gst:$.gst_number,seller_pan:$.pan_number,seller_state_code:$.state_code,seller_cin:$.cin_number,seller_email:$.email,seller_contact:$.contact,seller_bank_name:$.bank_name,seller_account_no:$.current_account_no,seller_ifsc_code:$.ifsc_code,seller_branch:$.branch,company:de.id,company_name:"Exclusive Distribution Customer"===r.type_of_customer?Se.company:de.name,contact:fe.contact,contact_person_name:fe.name,alternate_contact:fe.alternate_contact,gst_number:de.gst_number||null,pan_number:de.pan_number,billing_address:de.address,billing_state:de.state,billing_city:de.city,billing_pincode:de.pincode,address:"Exclusive Distribution Customer"===r.type_of_customer?Se.customer_address:Se.address,pincode:Se.pincode,state:Se.state,city:Se.city,place_of_supply:J.place_of_supply||nt&&nt.place_of_supply,transporter_name:J.transporter_name||nt&&nt.transporter_name,buyer_order_no:!0===Ne?"verbal":J.buyer_order_no,buyer_order_date:J.buyer_order_date?J.buyer_order_date:ct,payment_terms:ne||nt&&nt.payment_terms,delivery_terms:ce||nt&&nt.delivery_terms,status:ze?"Price Approval":"Approved",price_approval:ze,products:N.map(function(e,t){return Object(u.a)({},e,{rate:e.rate||g[t]&&g[t].rate,special_instructions:e.special_instructions||g[t]&&g[t].special_instructions})}),warehouse_person_name:Se.contact_name},"International"===r.origin_type?a.currency=J.currency:a.currency="INR",e.prev=4,V(!0),n){e.next=9;break}return G(!0),e.abrupt("return");case 9:return e.next=11,st.createCustomerProformaInvoiceData(a);case 11:o=e.sent,i=o.data.message||"Proforma Invoice created successfully!",O(i),setTimeout(function(){D("/invoice/active-pi")},300),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),_(e.t0);case 20:return e.prev=20,V(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[4,17,20,23]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(yt,{open:L.open,onClose:j,severity:L.severity,message:L.message}),a.a.createElement(Je,{open:U}),a.a.createElement("p",null,"Time Left: ",function(e){var t=Math.floor(e/60),r=e%60;return"".concat(String(t).padStart(2,"0"),":").concat(String(r).padStart(2,"0"))}(ft)),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return _t(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"seller_account",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:Et,options:qe.map(function(e){return e}),getOptionLabel:function(e){return e.unit},sx:{minWidth:300},label:"Seller Account",style:Sp})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"payment_terms",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return ae(t)},options:Cp.map(function(e){return e.label}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Payment Terms",value:""===ne?nt&&nt.payment_terms:ne,style:Sp})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"delivery_terms",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return le(t)},options:Tp.map(function(e){return e.label}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Delivery Terms",value:""===ce?nt&&nt.delivery_terms:ce,style:Sp})),"International"===r.origin_type&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",disablePortal:!0,id:"currency-autocomplete",value:$e.find(function(e){return e.name===J.currency})||null,onChange:function(e,t){return K(Object(u.a)({},J,{currency:t.name}))},options:$e.map(function(e){return e}),getOptionLabel:function(e){return"".concat(e.name," (").concat(e.symbol,")")},sx:{minWidth:300},label:"Currency"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Lp,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"CUSTOMER"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"company",size:"small",label:"Company",variant:"outlined",value:de.name?de.name:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(wt.a,{required:!0,fullWidth:!0,size:"small",sx:{padding:"0",margin:"0"}},a.a.createElement(xt.a,{id:"demo-simple-select-required-label"},"Contact Name"),a.a.createElement(cn.a,{labelId:"demo-simple-select-required-label",id:"demo-simple-select-required",label:"Contact Name",value:fe||be.find(function(e){return e.name===nt&&nt.contact_person_name}),onChange:function(e){return he(e.target.value)},renderValue:function(e){return e?e.name:""}},be.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e},e.name||"Please First Select Company")})),a.a.createElement(_p.a,null,"First select Company Name"))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,name:"contact",size:"small",label:"Contact",variant:"outlined",value:fe&&fe.contact?fe.contact:nt&&nt.contact?nt.contact:"",InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,name:"alternate_contact",size:"small",label:"Alt. Contact",variant:"outlined",value:Se&&Se.contact_number?Se.contact_number:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,multiline:!0,required:!0,name:"address",size:"small",label:"Billing Address",variant:"outlined",value:de.address?de.address:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,required:!0,name:"city",size:"small",label:"Billing City",variant:"outlined",value:de.city?de.city:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,required:!0,name:"state",size:"small",label:"Billing State",variant:"outlined",value:de.state?de.state:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,required:!0,name:"pincode",size:"small",type:"number",label:"Billing Pin Code",variant:"outlined",value:de.pincode?de.pincode:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Shipping Address"),"Exclusive Distribution Customer"===r.type_of_customer?a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Shipping Address",onChange:function(e,t){return ke(e.target.value)}},Oe&&He.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e},e?e.customer_address:"Please First Select Contact")})):a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Shipping Address",onChange:function(e,t){return ke(e.target.value)}},Oe&&Oe.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e},e?e.address:"Please First Select Contact")})),a.a.createElement(Np,null,"first select Contact"))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,disabled:!0,name:"city",size:"small",label:"Shipping City",variant:"outlined",value:Se&&Se.city?Se.city:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,disabled:!0,name:"state",size:"small",label:"Shipping State",variant:"outlined",value:Se&&Se.state?Se.state:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,required:!0,disabled:!0,name:"pincode",size:"small",type:"number",label:"Shipping Pin Code",variant:"outlined",value:Se&&Se.pincode?Se.pincode:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(pr.a,{label:"Verbal",control:a.a.createElement(mr.a,{checked:Ne,onChange:function(e){return De(e.target.checked)}})}),a.a.createElement(Ve,{required:!0,name:"buyer_order_no",size:"small",label:"Buyer Order No",variant:"outlined",disabled:!0===Ne,value:!0===Ne?"Verbal":J.buyer_order_no?J.buyer_order_no:"",onChange:it,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"buyer_order_date",size:"small",label:"Buyer Order Date",variant:"outlined",value:J.buyer_order_date?J.buyer_order_date:ct,onChange:it,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"place_of_supply",size:"small",label:"Place of Supply",variant:"outlined",InputLabelProps:{shrink:!0},value:J.place_of_supply?J.place_of_supply:nt&&nt.place_of_supply,onChange:it})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"transporter_name",size:"small",label:"Transporter Name",variant:"outlined",InputLabelProps:{shrink:!0},value:J.transporter_name?J.transporter_name:nt&&nt.transporter_name,onChange:it})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Lp,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(pr.a,{label:"Price Approval",control:a.a.createElement(mr.a,{checked:ze,onChange:function(e){return Re(e.target.checked)}})})),N.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{key:t,item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-".concat(t),onChange:function(){var e=Object(c.a)(jp().mark(function e(n,a){var o;return jp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k(t,n,a),$){e.next=3;break}return e.abrupt("return",alert("Please select seller unit first! "));case 3:if(!a){e.next=18;break}return e.prev=4,V(!0),e.next=8,Kn.getProductLastPi(r&&r.name,$.unit,a);case 8:o=e.sent,b(function(e){return Object(u.a)({},e,Object(Y.a)({},t,o.data))}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("Error fetching product details:",e.t0);case 15:return e.prev=15,V(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[4,12,15,18]])}));return function(t,r){return e.apply(this,arguments)}}(),options:p.map(function(e){return e.product__name}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name",style:Sp})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Available Quantity",variant:"outlined",disabled:!0,value:g&&g[t]&&g[t].available_qty,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity,onChange:function(e){return P(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"rate",size:"small",label:"Rate",value:e.rate?e.rate:g&&g[t]&&g[t].rate?parseFloat(g[t].rate).toFixed(2):"",variant:"outlined",onChange:function(e){P(t,e),b(function(r){return Object(u.a)({},r,Object(Y.a)({},t,Object(u.a)({},r[t],{rate:e.target.value})))})},InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,type:"number",name:"amount",size:"small",label:"Amount",variant:"outlined",value:e.quantity&&e.rate?(e.quantity*e.rate).toFixed(2):e.quantity&&g[t]&&g[t].rate?(e.quantity*g[t].rate).toFixed(2):"0.00",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"requested_date",size:"small",label:"Request Date",variant:"outlined",value:e.requested_date?e.requested_date:kp.someDate,onChange:function(e){return P(t,e)},InputLabelProps:{shrink:!0},inputProps:{min:new Date((new Date).setDate((new Date).getDate()+1)).toISOString().substring(0,10)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"special_instructions",size:"small",label:"Special Instructions",variant:"outlined",InputLabelProps:{shrink:!0},value:e.special_instructions||g&&g[t]&&g[t].special_instructions,onChange:function(e){P(t,e),b(function(r){return Object(u.a)({},r,Object(Y.a)({},t,Object(u.a)({},r[t],{special_instructions:e.target.value})))})}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,alignContent:"right"},0!==t&&a.a.createElement(We.a,{disabled:0===t,onClick:function(){return T(t)},variant:"contained"},"Remove")))}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(We.a,{onClick:C,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Lead Details",openPopup:F,setOpenPopup:G},a.a.createElement(E.a,null,"Kindly update all required field WareHouse Details in Company"),a.a.createElement(We.a,{variant:"contained",onClick:function(){return B(!0),void G(!1)}},"Update Customer")),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Leads",openPopup:R,setOpenPopup:B},a.a.createElement(Qa,{recordForEdit:t,setOpenPopup:B})))},Cp=[{label:"100% Advance",value:"100%_advance"},{label:"50% Advance, Balance Before Dispatch",value:"50%_advance_balance_before_dispatch"},{label:"30% Advance, Balance Before Dispatch",value:"30%_advance_balance_before_dispatch"},{label:"7 days along with PDC",value:"7_days_with_pdc"},{label:"10 days along with PDC",value:"10_days_with_pdc"},{label:"15 days along with PDC",value:"15_days_with_pdc"},{label:"30 days along with PDC",value:"30_days_with_pdc"},{label:"45 days along with PDC",value:"45_days_with_pdc"},{label:"60 days along with PDC",value:"60_days_with_pdc"},{label:"7 days",value:"7_days"},{label:"15 days",value:"15_days"},{label:"30 days",value:"30_days"},{label:"10% Advance, balance against shipping document (export)",value:"10%_advance_balance_against_shipping_document_(export)"},{label:"20% Advance, balance against shipping document (export)",value:"20%_advance_balance_against_shipping_document_(export)"},{label:"30% Advance, balance against shipping document (export)",value:"30%_advance_balance_against_shipping_document_(export)"},{label:"40% Advance, balance against shipping document (export)",value:"40%_advance_balance_against_shipping_document_(export)"},{label:"50% Advance, balance against shipping document (export)",value:"50%_advance_balance_against_shipping_document_(export)"},{label:"LC at Sight (Export)",value:"lc_at_sight_(export)"},{label:"LC 45 days (Export)",value:"lc_45_days_(export)"},{label:"TT in advance (Export)",value:"tt_in_advance_(export)"},{label:"45 days",value:"45_days"},{label:"60 days",value:"60_days"},{label:"Against Delivery",value:"against_delivery"}],Tp=[{label:"Ex-Work (Freight to pay)",value:"ex_work_(freight_to_pay)"},{label:"Transporter Warehouse (Freight to Pay)",value:"transporter_warehouse_(freight_to_pay)"},{label:"Customer Door Delivery (Freight to Pay)",value:"customer_door_delivery_(freight_to_pay)"},{label:"Customer Door Delivery (Prepaid)",value:"customer_door_delivery_(prepaid)"},{label:"Transporter Warehouse (Prepaid)",value:"transporter_warehouse_(prepaid)"},{label:"Add actual freight in invoice",value:"add_actual_freight_in_invoice"},{label:"Courier (Freight to Pay)",value:"courier_(freight_to_pay)"},{label:"Courier (Freight Add in Invoice)",value:"courier_(freight_add_in_invoice"}],Np=Object(L.a)(_p.a)(function(){return{padding:"0px"}});function Dp(){Dp=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ap=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(!1),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)([]),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)(),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useState)(),M=Object(l.a)(B,2),q=M[0],U=M[1],Y=Object(n.useState)(),V=Object(l.a)(Y,2),Q=V[0],H=V[1],J=Object(n.useState)(1),K=Object(l.a)(J,2),Z=K[0],X=K[1],$=Object(n.useState)(0),ee=Object(l.a)($,2),te=ee[0],re=ee[1],ne=Object(n.useState)(""),ae=Object(l.a)(ne,2),oe=ae[0],ie=ae[1],ce=Object(n.useState)(""),le=Object(l.a)(ce,2),ue=le[0],se=le[1],fe=Object(n.useState)([]),he=Object(l.a)(fe,2),pe=he[0],me=he[1],de=Object(n.useRef)(null),ye=Object(s.c)(function(e){return e.auth}).profile,ve=ye.sales_users||[],ge=Object(n.useState)(!1),be=Object(l.a)(ge,2),Ee=be[0],we=be[1],xe=Object(n.useState)("Active"),Oe=Object(l.a)(xe,2),_e=Oe[0],je=Oe[1],Le=gt(),Se=Le.handleError,ke=Le.handleCloseSnackbar,Pe=Le.alertInfo;Object(n.useEffect)(function(){var e=function(){we(!0),F([])},t=function(){we(!1),De()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var Te=function(){var e=Object(c.a)(Dp().mark(function e(){var t;return Dp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne();case 3:t=e.sent,me(t),setTimeout(function(){de.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(c.a)(Dp().mark(function e(){var t,r;return Dp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(!0),e.next=4,Kn.getAllCustomerData(_e,"all",oe,ue);case 4:return t=e.sent,r=t.data.map(function(e){return{id:e.id,name:e.name,assigned_to:e.assigned_to,pan_number:e.pan_number,gst_number:e.gst_number,address:e.address,city:e.city,state:e.state,pincode:e.pincode,business_type:e.business_type,category:e.category,est_date:e.est_date,total_sales_turnover:e.total_sales_turnover,type:e.type,status:e.status}}),console.log("data",r),N(!1),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),Se(e.t0),console.log("while downloading company details",e.t0);case 15:return e.prev=15,N(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,11,15,18]])}));return function(){return e.apply(this,arguments)}}(),De=Object(n.useCallback)(Object(c.a)(Dp().mark(function e(){var t;return Dp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(!0),e.next=4,Kn.getAllCustomerData(_e,Z,oe,ue);case 4:t=e.sent,F(t.data.results),re(Math.ceil(t.data.count/25)),N(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),Se(e.t0),console.log("while getting company details",e.t0);case 14:return e.prev=14,N(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])})),[_e,Z,oe,ue]);Object(n.useEffect)(function(){De()},[De]);var Ie=ye.groups.includes("Director")||ye.groups.includes("Accounts")||ye.groups.includes("Sales Manager");return a.a.createElement(a.a.Fragment,null,a.a.createElement(Co.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(Ee?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(yt,{open:Pe.open,onClose:ke,severity:Pe.severity,message:Pe.message}),a.a.createElement(Je,{open:T}),a.a.createElement("div",null,a.a.createElement("div",{style:{padding:"16px",margin:"16px",boxShadow:"0px 3px 6px #00000029",borderRadius:"4px",display:"flex",flexDirection:"column",backgroundColor:"rgb(255, 255, 255)"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{disabled:!Ie,size:"small",sx:{minWidth:200},options:["Active","Closed","Blacklist"],getOptionLabel:function(e){return e},value:_e,onChange:function(e,t){je(t)},label:"Filter By Status"})),!ye.groups.includes("Sales Executive")&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",sx:{minWidth:200},value:oe,onChange:function(e,t){ie(t)},options:ve.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ur,{onSearch:function(e){se(e),X(1)},onReset:function(){se(""),X(1)}})),(ye.groups.includes("Accounts")||ye.groups.includes("Director"))&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:1},a.a.createElement(We.a,{variant:"contained",onClick:function(){return h(!0)}},"Add")))),a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:5},(ye.groups.includes("Director")||ye.groups.includes("Sales Manager"))&&a.a.createElement(We.a,{variant:"contained",onClick:function(){return _(!0)}},"Assign Bulk Customer")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement("h3",{style:{textAlign:"left",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Company")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(We.a,{variant:"contained",onClick:Te},"Download CSV"),pe.length>0&&a.a.createElement(Bn.CSVLink,{data:pe,headers:[{label:"ID",key:"id"},{label:"NAME",key:"name"},{label:"Assigned To",key:"assigned_to"},{label:"PAN NUMBER",key:"pan_number"},{label:"GST NUMBER",key:"gst_number"},{label:"ADDRESS",key:"address"},{label:"CITY",key:"city"},{label:"STATE",key:"state"},{label:"PINCODE",key:"pincode"},{label:"BUSINESS TYPE",key:"business_type"},{label:"CATEGORY",key:"category"},{label:"EST. DATE",key:"est_date"},{label:"TOTAL SALES TURNOVER",key:"total_sales_turnover"},{label:"TYPE",key:"type"},{label:"CONTACT NAME",key:"contact_name"},{label:"CONTACT",key:"contact"},{label:"ALTERNATE CONTACT",key:"alternate_contact"},{label:"EMAIL",key:"email"},{label:"ALTERNATE EMAIL",key:"alternate_email"},{label:"STATUS",key:"status"}],ref:de,filename:"Customer.csv",target:"_blank",style:{textDecoration:"none",outline:"none",visibility:"hidden"}})))),a.a.createElement("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"green",color:"white",padding:"10px",borderRadius:"4px",display:S?"block":"none",zIndex:9999}},a.a.createElement("span",{style:{marginRight:"10px"}},"Bulk Customer Assigned Successfully!"),a.a.createElement("button",{style:{backgroundColor:"transparent",border:"none",color:"white",cursor:"pointer",padding:"0"},onClick:function(){k(!1)}},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},a.a.createElement("path",{fillRule:"evenodd",d:"M8 7.293l2.146-2.147a.5.5 0 11.708.708L8.707 8l2.147 2.146a.5.5 0 01-.708.708L8 8.707l-2.146 2.147a.5.5 0 01-.708-.708L7.293 8 5.146 5.854a.5.5 0 01.708-.708L8 7.293z"})))),a.a.createElement(Yn.a,{sx:{maxHeight:400,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Fp,null,["NAME","Assigned To","PAN NO.","GST NO.","CITY","STATE","STATUS","ACTION"].map(function(e){return a.a.createElement(Ip,{key:e,align:"center"},e)}))),a.a.createElement(Hn.a,null,I.map(function(e,t){return a.a.createElement(Fp,{key:e.i},a.a.createElement(Ip,{align:"center"},e.name),a.a.createElement(Ip,{align:"center"},e.assigned_to.map(function(e,t){return a.a.createElement("div",{key:t,style:{border:"1px solid #4caf50",borderRadius:"20px",color:"#4caf50"}},e)})),a.a.createElement(Ip,{align:"center"},e.pan_number),a.a.createElement(Ip,{align:"center"},e.gst_number),a.a.createElement(Ip,{align:"center"},e.city),a.a.createElement(Ip,{align:"center"},e.state),a.a.createElement(Ip,{align:"center"},e.status),a.a.createElement(Ip,{align:"center"},a.a.createElement(We.a,{sx:{color:"#1976d2"},onClick:function(){return R((t=e).id),H(t),void o(!0);var t}},"View,"),!ye.groups.includes("Accounts Billing Department")&&a.a.createElement(We.a,{sx:{color:"#28a745"},onClick:function(){return R((t=e).id),U(t),void y(!0);var t}},"PI,")))})))),a.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},a.a.createElement(Vr,{currentPage:Z,totalPages:te,handlePageChange:function(e,t){X(t)}})))),a.a.createElement(Ce,{fullScreen:!0,title:"Create Customer Details",openPopup:f,setOpenPopup:h},a.a.createElement(Ep,{setOpenPopup:h,getAllCompanyDetails:De})),a.a.createElement(Ce,{fullScreen:!0,title:"Update Customer",openPopup:r,setOpenPopup:o},a.a.createElement(Po,{setOpenPopup:o,getAllCompanyDetails:De,recordForEdit:z,selectedCustomers:Q})),a.a.createElement(Ce,{fullScreen:!0,title:"Create Customer Proforma Invoice",openPopup:d,setOpenPopup:y},a.a.createElement(Pp,{recordForEdit:z,rowData:q,setOpenPopup:y})),a.a.createElement(Ce,{maxWidth:"lg",title:"Assign Bulk Lead to another Employee",openPopup:O,setOpenPopup:_},a.a.createElement(Op,{setOpenPopup:_,setOpenSnackbar:k})),a.a.createElement(Ce,{maxWidth:"lg",title:"Create Potential",openPopup:b,setOpenPopup:E},a.a.createElement(_o,{getCompanyDetailsByID:De,recordForEdit:z,setOpenModal:E})))},Ip=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{color:r.palette.common.white,padding:5,fontSize:12,backgroundColor:"#006BA1",fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:12,padding:0}),t}),Fp=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Gp(){Gp=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Wp=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(1),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(0),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)(""),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useState)(""),M=Object(l.a)(B,2),q=M[0],U=M[1],Y=Object(n.useState)([]),V=Object(l.a)(Y,2),Q=V[0],H=V[1],J=gt(),K=J.handleSuccess,Z=J.handleError,X=J.handleCloseSnackbar,$=J.alertInfo,ee=Object(s.c)(function(e){return e.auth}).profile.active_sales_user,te=Object(n.useCallback)(Object(c.a)(Gp().mark(function e(){var t;return Gp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,Kn.getUnassignedData(T,z,q);case 4:t=e.sent,_(t.data.results),F(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Z(e.t0);case 12:return e.prev=12,E(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[T,z,q]);Object(n.useEffect)(function(){te()},[T,z,q]);var re=function(){var e=Object(c.a)(Gp().mark(function e(t){var r,n,a;return Gp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),E(!0),r={type_of_customer:S.type_of_customer,name:S.name,address:S.address,pincode:S.pincode,state:S.state,city:S.city,website:S.website,estd_date:S.estd_date,gst_number:S.gst_number||null,pan_number:S.pan_number||null,business_type:S.business_type,origin_type:S.origin_type,assigned_to:Q||""},e.next=6,Kn.updateCompanyData(S.id,r);case 6:n=e.sent,a=n.data.message||"Company Detail Updated Created successfully",K(a),setTimeout(function(){o(!1),te(),H([])},300),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),Z(e.t0),console.log("createing Unassigned company detail error",e.t0);case 16:return e.prev=16,E(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,12,16,19]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:$.open,onClose:X,severity:$.severity,message:$.message}),a.a.createElement(Je,{open:b}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(Ur,{onSearch:function(e){R(e),N(1)},onReset:function(){R(""),N(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,md:4,sx:{textAlign:{xs:"center",md:"center"}}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Unassigned Customer")),a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(sr,{fullWidth:!0,size:"small",disablePortal:!0,id:"combo-box-status",options:Bp,onChange:function(e,t){var r;(r=t)&&r.value?(U(r.value),N(1)):U("")},getOptionLabel:function(e){return e.label},label:"Filter By Customer"})))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,["NAME","PAN NO.","GST NO.","CITY","STATE","ACTION"].map(function(e){return a.a.createElement(zp,{align:"center"},e)}))),a.a.createElement(Hn.a,null,O.map(function(e,t){return a.a.createElement(Rp,{key:t},a.a.createElement(zp,{align:"center"},e.name),a.a.createElement(zp,{align:"center"},e.pan_number),a.a.createElement(zp,{align:"center"},e.gst_number),a.a.createElement(zp,{align:"center"},e.city),a.a.createElement(zp,{align:"center"},e.state),a.a.createElement(zp,{align:"center"},a.a.createElement(We.a,{style:{marginRight:"10px"},variant:"outlined",color:"info",size:"small",onClick:function(){return k((t=e).id),y(t),void h(!0);var t}},"View"),a.a.createElement(We.a,{variant:"outlined",color:"secondary",size:"small",onClick:function(){return function(e){var t=O.find(function(t){return t.id===e.id});k(t),o(!0)}(e)}},"Assign")))})))),a.a.createElement(Vr,{currentPage:T,totalPages:I,handlePageChange:function(e,t){N(t)}}))),a.a.createElement(Ce,{maxWidth:"lg",title:"Assign To Customer",openPopup:r,setOpenPopup:o},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{size:"small",value:Q,onChange:function(e,t){H(t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:ee.map(function(e){return e.email}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},label:"Assign To",placeholder:"Assign To"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{variant:"contained",color:"success",onClick:function(e){return re(e)}},"Submit")))),a.a.createElement(Ce,{fullScreen:!0,title:"Update Customer",openPopup:f,setOpenPopup:h},a.a.createElement(Po,{setOpenPopup:h,recordForEdit:S,getAllCompanyDetails:te,selectedCustomers:d})))},zp=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),Rp=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Bp=[{value:"industrial_customer",label:"Industrial Customer"},{value:"distribution_customer",label:"Distribution Customer"},{value:"Exclusive Distribution Customer",label:"Exclusive Distribution Customer"}];function Mp(){Mp=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var qp=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(0),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(""),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)([]),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useState)([]),B=Object(l.a)(R,2),M=B[0],q=B[1],U=gt(),Y=U.handleSuccess,V=U.handleError,Q=U.handleCloseSnackbar,H=U.alertInfo,J=function(){var e=Object(c.a)(Mp().mark(function e(t){var r,n,a;return Mp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),r=["Director","Customer Service","Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Sales Manager without Leads"],e.next=5,qo.getAllAssignedUser();case 5:n=e.sent,a=n.data.filter(function(e){return e.groups.some(function(e){return r.includes(e)})}),z(a),d(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),V(e.t0);case 14:return e.prev=14,d(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){J()},[]);var K=Object(n.useCallback)(Object(c.a)(Mp().mark(function e(){var t;return Mp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,Kn.getInActiveCustomerData(L,A);case 4:t=e.sent,b(t.data.results),T(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),V(e.t0);case 12:return e.prev=12,d(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[L,A]);Object(n.useEffect)(function(){K()},[L,A]);var Z=function(){var e=Object(c.a)(Mp().mark(function e(t){var r,n,a;return Mp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),d(!0),r={type_of_customer:x.type_of_customer,name:x.name,address:x.address,pincode:x.pincode,state:x.state,city:x.city,website:x.website,estd_date:x.estd_date,gst_number:x.gst_number||null,pan_number:x.pan_number||null,business_type:x.business_type,assigned_to:M||""},e.next=6,Kn.updateCompanyData(x.id,r);case 6:n=e.sent,a=n.data.message||"Company Detail Updated Created successfully",Y(a),setTimeout(function(){o(!1),K(),q([])},300),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),V(e.t0),console.log("createing Unassigned company detail error",e.t0);case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,12,16,19]])}));return function(t){return e.apply(this,arguments)}}(),X=g.map(function(e){return{id:e.id,name:e.name,pan_number:e.pan_number,gst_number:e.gst_number,city:e.city,state:e.state,assigned_to:e.assigned_to}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:H.open,onClose:Q,severity:H.severity,message:H.message}),a.a.createElement(Je,{open:m}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(Ur,{onSearch:function(e){I(e),S(1)},onReset:function(){I(""),S(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,md:4,sx:{textAlign:{xs:"center",md:"center"}}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Customers Assigned to InActive Employees")),a.a.createElement(Fe.a,{item:!0,xs:12,md:4,sx:{display:"flex",justifyContent:{xs:"center",md:"flex-end"}}}))),a.a.createElement("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"green",color:"white",padding:"10px",borderRadius:"4px",display:s?"block":"none",zIndex:9999}},a.a.createElement("span",{style:{marginRight:"10px"}},"Bulk Customer Assigned Successfully!"),a.a.createElement("button",{style:{backgroundColor:"transparent",border:"none",color:"white",cursor:"pointer",padding:"0"},onClick:function(){f(!1)}},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},a.a.createElement("path",{fillRule:"evenodd",d:"M8 7.293l2.146-2.147a.5.5 0 11.708.708L8.707 8l2.147 2.146a.5.5 0 01-.708.708L8 8.707l-2.146 2.147a.5.5 0 01-.708-.708L7.293 8 5.146 5.854a.5.5 0 01.708-.708L8 7.293z"})))),a.a.createElement(dt,{headers:["ID","NAME","PAN NO.","GST NO.","CITY","STATE","Assigned To","ACTION"],data:X,openInPopup:function(e){var t=g.find(function(t){return t.id===e.id});O(t),o(!0)}}),a.a.createElement(Vr,{currentPage:L,totalPages:C,handlePageChange:function(e,t){S(t)}}))),a.a.createElement(Ce,{maxWidth:"lg",title:"Assign To Customer",openPopup:r,setOpenPopup:o},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{size:"small",value:M,onChange:function(e,t){q(t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:W.map(function(e){return e.email}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},label:"Assign To",placeholder:"Assign To"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{variant:"contained",color:"success",onClick:function(e){return Z(e)}},"Submit")))))};function Up(){Up=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Yp=function(){var e=Object(s.b)(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(1),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(0),I=Object(l.a)(A,2),F=I[0],W=I[1],z=Object(n.useState)(""),R=Object(l.a)(z,2),B=R[0],M=R[1],q=Object(n.useState)(""),U=Object(l.a)(q,2),Y=U[0],V=U[1],Q=Object(n.useState)([]),H=Object(l.a)(Q,2),J=H[0],K=H[1],Z=Object(n.useRef)(null),X=Object(s.c)(function(e){return e.auth}).profile,$=X.sales_users||[],ee=Object(n.useState)(!1),te=Object(l.a)(ee,2),re=te[0],ne=te[1],ae=gt(),oe=ae.handleError,ie=ae.handleCloseSnackbar,ce=ae.alertInfo;Object(n.useEffect)(function(){var e=function(){ne(!0),j([])},t=function(){ne(!1),fe()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var le=function(){var e=Object(c.a)(Up().mark(function e(){var t;return Up().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue();case 3:t=e.sent,K(t),setTimeout(function(){Z.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(c.a)(Up().mark(function e(){var t,r;return Up().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,Kn.getIncompleteKycCustomerData("all",Y,B);case 4:return t=e.sent,r=t.data.map(function(e){return{id:e.id,name:e.name,assigned_to:e.assigned_to,pan_number:e.pan_number,gst_number:e.gst_number,address:e.address,city:e.city,state:e.state,pincode:e.pincode,business_type:e.business_type,category:e.category,est_date:e.est_date,total_sales_turnover:e.total_sales_turnover,type:e.type,contact_name:e.contacts.map(function(e){return e.name}).join(", "),contact:e.contacts.map(function(e){return e.contact}).join(", "),alternate_contact:e.contacts.map(function(e){return e.alternate_contact}).join(", "),email:e.contacts.map(function(e){return e.email}).join(", "),alternate_email:e.contacts.map(function(e){return e.alternate_email}).join(", ")}}),w(!1),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),oe(e.t0);case 13:return e.prev=13,w(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),se=function(){var t=Object(c.a)(Up().mark(function t(){var r;return Up().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,w(!0),t.next=4,st.getAllPaginateSellerAccountData("all");case 4:r=t.sent,e(G(r.data)),w(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),oe(t.t0);case 12:return t.prev=12,w(!1),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[0,9,12,15]])}));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)(function(){se()},[]);var fe=Object(n.useCallback)(Object(c.a)(Up().mark(function e(){var t;return Up().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,Kn.getIncompleteKycCustomerData(N,Y,B);case 4:t=e.sent,j(t.data.results),W(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),oe(e.t0);case 12:return e.prev=12,w(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[N,Y,B]);Object(n.useEffect)(function(){fe()},[N,Y,B]);var he=_.map(function(e){return{id:e.id,name:e.name,assigned_to:e.assigned_to,pan_number:e.pan_number,gst_number:e.gst_number,city:e.city,state:e.state}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Co.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(re?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(yt,{open:ce.open,onClose:ie,severity:ce.severity,message:ce.message}),a.a.createElement(Je,{open:E}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2},!X.groups.includes("Sales Executive")&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{size:"small",fullWidth:!0,onChange:function(e,t){V(t)},value:Y,options:$.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ur,{onSearch:function(e){M(e),D(1)},onReset:function(){M(""),D(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},!0===X.is_staff&&a.a.createElement(We.a,{variant:"contained",onClick:function(){return p(!0)},sx:{marginLeft:"10px",marginRight:"10px"}},"Assign Bulk Customer"),a.a.createElement(We.a,{variant:"contained",onClick:le},"Download CSV"),J.length>0&&a.a.createElement(Bn.CSVLink,{data:J,headers:[{label:"ID",key:"id"},{label:"NAME",key:"name"},{label:"Assigned To",key:"assigned_to"},{label:"PAN NUMBER",key:"pan_number"},{label:"GST NUMBER",key:"gst_number"},{label:"ADDRESS",key:"address"},{label:"CITY",key:"city"},{label:"STATE",key:"state"},{label:"PINCODE",key:"pincode"},{label:"BUSINESS TYPE",key:"business_type"},{label:"CATEGORY",key:"category"},{label:"EST. DATE",key:"est_date"},{label:"TOTAL SALES TURNOVER",key:"total_sales_turnover"},{label:"TYPE",key:"type"},{label:"CONTACT NAME",key:"contact_name"},{label:"CONTACT",key:"contact"},{label:"ALTERNATE CONTACT",key:"alternate_contact"},{label:"EMAIL",key:"email"},{label:"ALTERNATE EMAIL",key:"alternate_email"}],ref:Z,filename:"Customer.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})))),a.a.createElement(Ae.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Incomplete KYC Details")),a.a.createElement("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"green",color:"white",padding:"10px",borderRadius:"4px",display:y?"block":"none",zIndex:9999}},a.a.createElement("span",{style:{marginRight:"10px"}},"Bulk Customer Assigned Successfully!"),a.a.createElement("button",{style:{backgroundColor:"transparent",border:"none",color:"white",cursor:"pointer",padding:"0"},onClick:function(){v(!1)}},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},a.a.createElement("path",{fillRule:"evenodd",d:"M8 7.293l2.146-2.147a.5.5 0 11.708.708L8.707 8l2.147 2.146a.5.5 0 01-.708.708L8 8.707l-2.146 2.147a.5.5 0 01-.708-.708L7.293 8 5.146 5.854a.5.5 0 01.708-.708L8 7.293z"})))),a.a.createElement(dt,{headers:["ID","NAME","Assigned To","PAN NO.","GST NO.","CITY","STATE","ACTION"],data:he,openInPopup:function(e){P(e.id),i(!0)},openInPopup2:null,openInPopup3:null,openInPopup4:null,ButtonText:"PI",ButtonText1:"Activity",ButtonText2:"Potential"}),a.a.createElement(Vr,{currentPage:N,totalPages:F,handlePageChange:function(e,t){D(t)}}))),a.a.createElement(Ce,{fullScreen:!0,title:"Update Customer",openPopup:o,setOpenPopup:i},a.a.createElement(go,{setOpenPopup:i,getIncompleteKycCustomerData:fe,recordForEdit:k})),a.a.createElement(Ce,{maxWidth:"lg",title:"Assign Bulk Lead to another Employee",openPopup:h,setOpenPopup:p},a.a.createElement(Op,{setOpenPopup:p,setOpenSnackbar:v})),");")};function Vp(){Vp=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Qp=function(e){var t=e.assignCustomerData,r=e.getAllEDC,o=e.closeModal,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)({message:"",severity:"",open:!1}),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)({type:"Customer",edc_customer:t.name,id:""}),x=Object(l.a)(w,2),O=x[0],_=x[1],j=gt().handleError,L=Object(n.useCallback)(Object(c.a)(Vp().mark(function e(){var t;return Vp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Kn.EDC_List();case 4:t=e.sent,console.log(t.data),E(t.data.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),j(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[]);Object(n.useEffect)(function(){L()},[]);var S=function(){var e=Object(c.a)(Vp().mark(function e(t){var n,a,i;return Vp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),n=Object(u.a)({},O),h(!0),e.next=6,Kn.CreateEDC_Customer(n);case 6:a=e.sent,y({message:a.data.message||"Exclusive Customer created successfully",severity:"success",open:!0}),r(),o(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),i=e.t0.response.data.message||"Assign EDC failed",y({message:i,severity:"error",open:!0});case 16:return e.prev=16,h(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,12,16,19]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:d.open,message:d.message,severity:d.severity,onClose:function(){y({open:!1})}}),a.a.createElement(Je,{loader:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:S,style:{minWidth:"550px"}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(sr,{name:"edc",size:"small",disablePortal:!0,id:"combo-box-demo",options:b,getOptionLabel:function(e){return e.name},onChange:function(e,t){t&&_(function(e){return Object(u.a)({},e,{id:t.id})})},fullWidth:!0,label:"EDC"}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Hp(){Hp=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Jp=function(e){var t=gt(),r=t.handleSuccess,o=t.handleError,i=t.handleCloseSnackbar,u=t.alertInfo,f=Object(s.c)(function(e){return e.auth}).profile,h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=e.assignCustomerData,w=e.getAllEDC,x=e.closeModal,O=e.assignViewData;console.log(O);var _=function(){var e=Object(c.a)(Hp().mark(function e(t){return Hp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return o("Name is required to remove EDC"),e.abrupt("return");case 3:return e.prev=3,b(!0),e.next=7,Kn.RemoveEdc({company:t});case 7:r("Removed EDC successfully"),setTimeout(function(){w(),x()},500),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),o(e.t0),console.error("An error occurred while removing EDC:",e.t0);case 15:return e.prev=15,b(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[3,11,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:u.open,onClose:i,severity:u.severity,message:u.message}),a.a.createElement(Je,{open:g}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:6,sx:{textAlign:{xs:"left",md:"left"}}},a.a.createElement("h3",{style:{fontSize:"18px",opacity:"0.9"}},"Customer Name : ",a.a.createElement("strong",null," ",E.name))),a.a.createElement(Fe.a,{item:!0,xs:12,md:6,sx:{textAlign:{xs:"right",md:"right"}}},(f.groups.includes("Accounts")||f.groups.includes("Director"))&&a.a.createElement(a.a.Fragment,null,a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return d(!0)}},"Add"))))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(Kp,{align:"center"},"NAME"),a.a.createElement(Kp,{align:"center"},"PAN NO."),a.a.createElement(Kp,{align:"center"},"GST"),a.a.createElement(Kp,{align:"center"},"STATE"),a.a.createElement(Kp,{align:"center"},"STATUS"),a.a.createElement(Kp,{align:"center"},"ACTION"))),a.a.createElement(Hn.a,null,O&&O.map(function(e,t){return a.a.createElement(Zp,{key:e.id},a.a.createElement(Kp,{align:"center"},e.name),a.a.createElement(Kp,{align:"center"},e.pan_number),a.a.createElement(Kp,{align:"center"},e.gst_number),a.a.createElement(Kp,{align:"center"},e.state),a.a.createElement(Kp,{align:"center"},e.status),a.a.createElement(Kp,{align:"center"},(f.groups.includes("Accounts")||f.groups.includes("Director"))&&a.a.createElement(a.a.Fragment,null,a.a.createElement(We.a,{variant:"text",size:"small",style:{backgroundColor:"red"},onClick:function(){return _(e.name)}},"Remove"))))}),0===O.length&&a.a.createElement(Zp,null,a.a.createElement(Kp,{colSpan:6,align:"center"},"No Customers assigned yet."))))))),a.a.createElement(Ce,{title:"Assign to Exclusive Distrubution Customer",openPopup:m,setOpenPopup:d},a.a.createElement(Qp,{assignCustomerData:E,getAllEDC:w,closeModal:x})))},Kp=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),Zp=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Xp(){Xp=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var $p=function(e){var t=gt(),r=t.handleSuccess,o=t.handleError,i=t.handleCloseSnackbar,u=t.alertInfo,f=Object(s.c)(function(e){return e.auth}).profile,h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=e.leadCustomerData,v=e.getAllEDC,g=e.closeModal,b=e.assignCustomerData,E=function(){var e=Object(c.a)(Xp().mark(function e(t){return Xp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return o("Name is required to remove EDC"),e.abrupt("return");case 3:return e.prev=3,d(!0),e.next=7,Kn.RemoveEdc({company:t});case 7:r("Removed EDC successfully"),setTimeout(function(){v(),g()},500),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),o(e.t0),console.error("An error occurred while removing EDC:",e.t0);case 15:return e.prev=15,d(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[3,11,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:u.open,onClose:i,severity:u.severity,message:u.message}),a.a.createElement(Je,{open:m}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:6,sx:{textAlign:{xs:"left",md:"left"}}},a.a.createElement("h3",{style:{fontSize:"18px",opacity:"0.9"}},"Customer Name : ",a.a.createElement("strong",null," ",b.name))))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(em,{align:"center"},"LEAD ID"),a.a.createElement(em,{align:"center"},"COMPANY"),a.a.createElement(em,{align:"center"},"GST NO."),a.a.createElement(em,{align:"center"},"PAN NUMBER"),a.a.createElement(em,{align:"center"},"STATE"),a.a.createElement(em,{align:"center"},"ACTION"))),a.a.createElement(Hn.a,null,y&&y.map(function(e,t){return a.a.createElement(tm,{key:e.id},a.a.createElement(em,{align:"center"},e.lead_id),a.a.createElement(em,{align:"center"},e.company),a.a.createElement(em,{align:"center"},e.gst_number),a.a.createElement(em,{align:"center"},e.pan_number),a.a.createElement(em,{align:"center"},e.state),a.a.createElement(em,{align:"center"},(f.groups.includes("Sales Manager")||f.groups.includes("Director"))&&a.a.createElement(a.a.Fragment,null,a.a.createElement(We.a,{variant:"text",size:"small",style:{backgroundColor:"red"},onClick:function(){return E(e.name)}},"Remove"))))}),0===y.length&&a.a.createElement(tm,null,a.a.createElement(em,{colSpan:6,align:"center"},"No Exclusive Distrubution Customers assigned yet."))))))))},em=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),tm=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function rm(){rm=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var nm=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)([]),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)([]),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)([]),G=Object(l.a)(F,2),W=G[0],z=G[1],R=gt(),B=R.handleError,M=R.handleCloseSnackbar,q=R.alertInfo,U=function(){var e=Object(c.a)(rm().mark(function e(){var t;return rm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kn.getAllEdc();case 4:t=e.sent,f(t.data),b(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),B(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(c.a)(rm().mark(function e(t){var r;return rm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),T(t),e.next=5,Kn.AllLeadEDC(t.name);case 5:r=e.sent,I(r.data),S(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),B(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(rm().mark(function e(t){var r;return rm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),T(t),e.next=5,Kn.AllEdcCustomer(t.name);case 5:r=e.sent,z(r.data),O(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),B(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){U()},[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:q.open,onClose:M,severity:q.severity,message:q.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:5,sx:{textAlign:{xs:"center",md:"center"}}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Exclusive Distribution Customers")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(am,{align:"center"},"NAME"),a.a.createElement(am,{align:"center"},"PAN NO."),a.a.createElement(am,{align:"center"},"GST"),a.a.createElement(am,{align:"center"},"STATE"),a.a.createElement(am,{align:"center"},"STATUS"),a.a.createElement(am,{align:"center"},"ACTION"))),a.a.createElement(Hn.a,null,s.map(function(e,t){return a.a.createElement(om,{key:e.id},a.a.createElement(am,{align:"center"},e.name),a.a.createElement(am,{align:"center"},e.pan_number),a.a.createElement(am,{align:"center"},e.gst_number),a.a.createElement(am,{align:"center"},e.state),a.a.createElement(am,{align:"center"},e.status),a.a.createElement(am,{align:"center"},a.a.createElement(a.a.Fragment,null,a.a.createElement(We.a,{color:"success",variant:"text",size:"small",className:"mx-3",onClick:function(){return V(e)}},"Assign Customer")),a.a.createElement(We.a,{color:"secondary",variant:"text",size:"small",onClick:function(){return Y(e)}},"Assign Lead")))})))),a.a.createElement(Vr,{totalPages:g,currentPage:m,handlePageChange:function(e,t){d(t)}}))),a.a.createElement(Ce,{fullScreen:!0,openPopup:x,setOpenPopup:O,title:"View Assign Customer"},a.a.createElement(Jp,{assignCustomerData:C,getAllEDC:U,closeModal:O,assignViewData:W})),a.a.createElement(Ce,{fullScreen:!0,openPopup:L,setOpenPopup:S,title:"View Lead Customer"},a.a.createElement($p,{leadCustomerData:A,assignCustomerData:C,getAllEDC:U,closeModal:S})))},am=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),om=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function im(){im=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var cm=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)([]),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(""),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useRef)(null),A=Object(n.useState)({customerFilterValue:"",productFilterValue:"",choice:""}),I=Object(l.a)(A,2),F=I[0],G=I[1],W=gt(),z=W.handleError,R=W.handleCloseSnackbar,B=W.alertInfo,M=function(){var e=Object(c.a)(im().mark(function e(){var t;return im().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kn.getProductBaseCustomer(T,F.customerFilterValue,F.productFilterValue);case 4:t=e.sent,console.log("API Response:",t.data),h(t.data),o(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching product base customer data",e.t0),z("Failed to get product base customer data"),o(!1);case 15:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){M()},[T,F.customerFilterValue,F.productFilterValue,F.choice]);var q=Object(n.useCallback)(Object(c.a)(im().mark(function e(){var t;return im().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kn.getAllDescription();case 4:t=e.sent,E(t.data),console.log("Product descriptions fetched:",t.data),o(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching product descriptions",e.t0),z("Failed to get product descriptions"),o(!1);case 15:case"end":return e.stop()}},e,null,[[0,10]])})),[]);Object(n.useEffect)(function(){q()},[q]);var U=function(e,t,r){console.log("Filter changed:",r,t),G(function(e){return Object(u.a)({},e,Object(Y.a)({},r,t||""))})};return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:B.open,onClose:R,severity:B.severity,message:B.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:T?8:4},a.a.createElement(Ae.a,{display:"flex",gap:"2rem"},a.a.createElement(sr,{fullWidth:!0,name:"Description",size:"small",disablePortal:!0,id:"combo-box-description",onChange:function(e,t){console.log("Description changed:",t),N(t);var r=b.find(function(e){return e.description===t});r?(_(r.customer_list||[]),k(r.product_list||[])):(_([]),k([]))},options:b.map(function(e){return e.description}),getOptionLabel:function(e){return e},label:"Description"}),T&&f.length>0&&a.a.createElement(sr,{fullWidth:!0,name:"choice",size:"small",disablePortal:!0,id:"combo-box-description",onChange:function(e,t){return U(0,t,"choice")},options:["Customer","Product"],getOptionLabel:function(e){return e},label:"Filter By"}),"Customer"===F.choice&&a.a.createElement(sr,{fullWidth:!0,name:"customer",size:"small",disablePortal:!0,id:"combo-box-customer",onChange:function(e,t){return U(0,t,"customerFilterValue")},options:O,getOptionLabel:function(e){return e},label:"Customer"}),"Product"===F.choice&&a.a.createElement(sr,{fullWidth:!0,name:"product",size:"small",disablePortal:!0,id:"combo-box-product",onChange:function(e,t){return U(0,t,"productFilterValue")},options:S,getOptionLabel:function(e){return e},label:"Product"}))),a.a.createElement(Fe.a,{item:!0,xs:12,md:T?2:8,style:{textAlign:"end"}},a.a.createElement(We.a,{variant:"contained",color:"info",onClick:function(){try{var e=f.map(function(e){return{Name:e.customer,Description:e.description,Brand:e.brand,Product:e.product,Unit:e.unit,quantity:e.quantity,Date:e.date}});y(e),setTimeout(function(){D.current.link.click()})}catch(t){console.log("CSVLink Download error",t)}}},"Download CSV"),d.length>0&&a.a.createElement(Bn.CSVLink,{data:d,headers:[{label:"Customer Name",key:"Name"},{label:"Description",key:"Description"},{label:"Brand",key:"Brand"},{label:"Product",key:"Product"},{label:"Unit",key:"Unit"},{label:"Quantity",key:"quantity"},{label:"Date",key:"Date"}],ref:D,filename:"Customer.csv",target:"_blank",style:{textDecoration:"none",outline:"none",visibility:"hidden"}})))),a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",mb:3},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Customer List")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(lm,{align:"center"},"Customer Name"),a.a.createElement(lm,{align:"center"},"Brand"),a.a.createElement(lm,{align:"center"},"Product"),a.a.createElement(lm,{align:"center"},"Unit"),a.a.createElement(lm,{align:"center"},"Last Invoice Qty"),a.a.createElement(lm,{align:"center"},"Last Invoice Date"))),a.a.createElement(Hn.a,null,f.length>0&&f.map(function(e,t){return a.a.createElement(um,{key:t},a.a.createElement(lm,{align:"center"},e.customer),a.a.createElement(lm,{align:"center"},e.brand),a.a.createElement(lm,{align:"center"},e.product),a.a.createElement(lm,{align:"center"},e.unit),a.a.createElement(lm,{align:"center"},e.quantity),a.a.createElement(lm,{align:"center"},e.date))}),0===f.length&&a.a.createElement(Un.a,null,a.a.createElement(lm,{colSpan:6,align:"center"},"No Data Available"))))))))},lm=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),um=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),sm=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})},r=t("Director","Sales Manager","Accounts","Customer Relationship Manager","Business Development Manager"),o=t("Director","Sales Manager","Customer Relationship Manager","Business Development Manager"),i=t("Director","Customer Relationship Manager","Customer Relationship Executive"),c=t("Sales Deputy Manager"),u=t("Sales Assistant Deputy Manager"),f=t("Sales Executive","Customer Relationship Executive","Business Development Executive"),h=t("Sales Manager without Leads"),p=t("Sales Manager with Leads"),m=t("Customer Service"),d=t("Accounts Billing Department"),y=Object(n.useMemo)(function(){return[{label:"Company Details",visible:r||c||u||f||h||p||m||d,index:0,component:a.a.createElement(Ap,null)},{label:"Unassigned Customer",visible:r||m,index:1,component:a.a.createElement(Wp,null)},{label:"Inactive Customers",visible:r,index:2,component:a.a.createElement(qp,null)},{label:"Incomplete KYC",visible:r||c||u||f||h||p,index:3,component:a.a.createElement(Yp,null)},{label:"Exclusive Distribution Customers",visible:r||f||c||p,index:4,component:a.a.createElement(nm,null)},{label:"Product Base Customers",visible:i,index:5,component:a.a.createElement(cm,null)}]},[r,r,o,c,u,f,h,p,m,d]),v=Object(n.useMemo)(function(){return y.filter(function(e){return e.visible})},[y]),g=Object(n.useMemo)(function(){return v.map(function(e){return e.index})},[v]),b=Object(n.useState)(g[0]||0),E=Object(l.a)(b,2),w=E[0],x=E[1];return Object(n.useEffect)(function(){g.includes(w)||x(g[0]||0)},[g,w]),a.a.createElement("div",null,a.a.createElement(Xr,{tabs:v,activeTab:w,onTabChange:function(e){return x(g[e])}}),g.includes(w)&&a.a.createElement("div",null,v.find(function(e){return e.index===w}).component))},fm=r(86),hm=r.n(fm);function pm(){pm=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var mm=function(e){var t=e.idForEdit,r=e.getProformaInvoiceData,o=e.setOpenPopup,i=Object(n.useState)(!1),f=Object(l.a)(i,2),h=f[0],p=f[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(!1),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(s.c)(function(e){return e.auth}).profile,T=Object(n.useRef)(),N=gt(),D=N.handleError,A=N.handleSuccess,I=N.handleCloseSnackbar,F=N.alertInfo,G=Object(Bi.useReactToPrint)({content:function(){return T.current},documentTitle:"PI Number ".concat(y.pi_number)}),W=function(){var e=Object(c.a)(pm().mark(function e(t){var r,n,o;return pm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),r=new zi.a,e.next=5,Object(Ri.g)(a.a.createElement(tc,{productData:E,invoiceData:y,hsnData:_,AMOUNT_IN_WORDS:q,TOTAL_GST:U}),r,{}).toBlob();case 5:n=e.sent,(o=document.createElement("a")).href=URL.createObjectURL(n),o.download="PI Number ".concat(y.pi_number,".pdf"),document.body.appendChild(o),o.click(),document.body.removeChild(o),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),D(e.t0);case 17:return e.prev=17,P(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[0,14,17,20]])}));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(pm().mark(function e(){var r;return pm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,P(!0),"Customer"!==t.type){e.next=8;break}return e.next=5,st.getCompanyPerformaInvoiceByIDData(t.pi_number);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,st.getLeadsPerformaInvoiceByIDData(t.pi_number);case 10:e.t0=e.sent;case 11:r=e.t0,v(r.data),w(r.data.products),j(r.data.hsn_table),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(0),D(e.t1);case 20:return e.prev=20,P(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[0,17,20,23]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){z()},[]);for(var R=function(){var e=Object(c.a)(pm().mark(function e(t){var n,a,i;return pm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,P(!0),n={status:"Dropped",type:y.type,raised_by:y.raised_by,raised_by_first_name:y.raised_by_first_name,place_of_supply:y.place_of_supply,seller_account:y.seller_account,company:y.company,address:y.address,pincode:y.pincode,state:y.state,city:y.city,buyer_order_no:y.buyer_order_no,contact:y.contact,payment_terms:y.payment_terms,delivery_terms:y.delivery_terms},e.next=6,st.sendForApprovalCompanyData(y.pi_number,n);case 6:a=e.sent,i=a.data.message||"Pi Dropped successfully",A(i),setTimeout(function(){o(!1),r()},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),D(e.t0);case 15:return e.prev=15,P(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),B=(y.amount_in_words?y.amount_in_words:"").split(" "),M=0;M<B.length;M++)B[M]=B[M].charAt(0).toUpperCase()+B[M].slice(1);var q=B.join(" "),U=(y.total-y.amount).toFixed(2);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:F.open,onClose:I,severity:F.severity,message:F.message}),a.a.createElement(Je,{open:k}),a.a.createElement("div",{className:"container-fluid mb-4",style:{border:"1px Solid #000000"}},a.a.createElement("div",{className:"row p-4"},a.a.createElement("div",{className:"col-xs-6 "},"Pending Approval"!==y.status&&"Raised"!==y.status&&a.a.createElement("div",null,a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(e){return W(e)},startIcon:a.a.createElement(Fi.a,null)},"Download"),a.a.createElement(We.a,{variant:"contained",color:"secondary",onClick:G,startIcon:a.a.createElement(Wi.a,null)},"Print")),(C.groups.includes("Director")||C.groups.includes("Sales Manager")||C.groups.includes("Sales Executive")||C.groups.includes("Sales Deputy Manager")||C.groups.includes("Customer Service")||C.groups.includes("Customer Relationship Manager")||C.groups.includes("Customer Relationship Executive"))&&("Price Approval"===y.status||"Approved"===y.status||"Raised"===y.status)&&a.a.createElement(We.a,{variant:"contained",color:"error",onClick:function(e){R(e)}},"Drop")))),a.a.createElement("div",{id:"invoice",style:{border:"1px Solid #000000"},className:"container-fluid m-0 p-2",ref:T},a.a.createElement("div",{className:"m-2 p-0",style:{border:"1px Solid #000000"}},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-xs-12"},a.a.createElement("div",{className:"grid invoice",style:{padding:"10px"}},a.a.createElement("div",{className:"grid-body"},a.a.createElement("div",{className:"invoice-title"},a.a.createElement("div",{className:"row",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("div",{className:"col-md-2 align-self-center logos"},a.a.createElement("img",{src:Vi.a,alt:"",Height:"60",width:"150"})),a.a.createElement("div",{className:"col-md-7",style:{marginRight:"1rem"}},a.a.createElement("div",{className:"text-center address"},a.a.createElement("strong",{style:Object(u.a)({},ym)},"Glutape India Private Limited"),a.a.createElement("br",null),a.a.createElement("p",{style:{fontSize:"0.50rem"}},y.seller_address,",",y.seller_city,",",y.seller_state,"-",y.seller_state_code,",",a.a.createElement("br",null),y.seller_pincode,", CIN No ;-",y.seller_cin,", P.No :- ",a.a.createElement("br",null),y.seller_contact," E:",y.seller_email,",W:www.glutape.com"))),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-end msme"},a.a.createElement("img",{src:Xi.a,alt:"",height:"50",width:"90"})),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-start iso"},a.a.createElement("img",{src:hm.a,alt:"",height:"35",width:"90"}))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("p",{className:"text-center fs-6 fw-bold p-0 m-0"},"Proforma Invoice / Sales Contract"))),a.a.createElement("div",{className:"row",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("div",{className:"col-md-6",style:Object(u.a)({},ym)},a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Proforma Invoice No & Date :"," ")," ",y.pi_number," &"," ",y.generation_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Sales Person :"," ")," ",y.raised_by_first_name,"\xa0\xa0",y.raised_by_last_name),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Valid Until :"," ")," ",y.validity)),a.a.createElement("div",{className:"col-md-6",style:Object(u.a)({},ym,{borderLeft:"1px Solid #000000"})},a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Place of Supply :"," "),y.place_of_supply),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Transporter Name :"," "),y.transporter_name),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Buyer Order No & Date :"," "),y.buyer_order_no," &"," ",y.buyer_order_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Amount Receive :"," "),y.amount_recieved),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Payment Terms :"," ")," ",y.payment_terms),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Delivery Terms :"," ")," ",y.delivery_terms)))),a.a.createElement("div",{className:"row",style:Object(u.a)({},ym,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-6"},a.a.createElement("address",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Billed To:"),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Company :"," "),y.name_of_party,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Address :"," "),y.billing_address,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"City & State:"," "),y.billing_city," &"," ",y.billing_state,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Pin Code :"," "),y.billing_pincode),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Gst Number :"," "),y.gst_number),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Pan Number :"," "),y.pan_number),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Contact :"," "),y.contact),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Contact Person Name:"," "),y.contact_person_name))),a.a.createElement("div",{className:"col-md-6 justify-content-end",style:{borderLeft:"1px Solid #000000"}},a.a.createElement("address",{className:"justify-content-end"},a.a.createElement("strong",{style:Object(u.a)({},ym)},"Shipped To:"),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Company :"," "),y.company_name,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Address :"," "),y.address),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"City & State:"," "),y.city," & ",y.state,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Pin Code :"," "),y.pincode),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Gst Number :"," "),y.gst_number),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Pan Number :"," "),y.pan_number),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Contact :"," "),y.contact),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Contact Person Name:"," "),"Exclusive Distribution Customer"===y.type_of_customer?y.warehouse_person_name:y.contact_person_name)))),a.a.createElement("div",{className:"row",style:Object(u.a)({},ym,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-12"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",{className:"line"},a.a.createElement("td",{className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},ym)},"SR.NO")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},ym)},"DESCRIPTION OF GOODS")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},ym)},"BRAND")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},ym)},"HSN CODE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},ym)},"REQUESTED DATE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},ym)},"QTY")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},ym)},"UNIT")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},ym)},"RATE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},ym)},"AMOUNT")))),a.a.createElement("tbody",null,E.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",{className:"text-start"},t+1),a.a.createElement("td",{className:"text-center"},e.description,a.a.createElement("br",null),e.product),a.a.createElement("td",{className:"text-center"},e.brand),a.a.createElement("td",{className:"text-center"},e.hsn_code),a.a.createElement("td",{className:"text-center"},e.requested_date),a.a.createElement("td",{className:"text-center"},e.quantity),a.a.createElement("td",{className:"text-center"},e.unit),a.a.createElement("td",{className:"text-center"},e.rate),a.a.createElement("td",{className:"text-center"},e.amount))}),a.a.createElement("tr",null,a.a.createElement("td",{colspan:"4.5",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},ym)},"Company Bank Details :"," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Company Name :"," "),"Glutape India Pvt Ltd"),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Bank :"," "),y.seller_bank_name," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Account No :"," "),y.seller_account_no," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Branch & IFSC Code :"," "),y.seller_branch," &"," ",y.seller_ifsc_code," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Gst Number :"," "),y.seller_gst),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ym)},"Pan Number :"," "),y.seller_pan)),a.a.createElement("td",{colspan:"3"},a.a.createElement("strong",{style:Object(u.a)({},ym)},"Taxable Amount"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ym)},"CGST Amount")," ",a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ym)},"SGST Amount")," ",a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ym)},"IGST Amount"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ym)},"Round Off"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ym)},"Total Amount")),a.a.createElement("td",{colspan:"0.5",className:"text-right"},a.a.createElement("span",null,y.amount),a.a.createElement("br",null),a.a.createElement("span",null,y.cgst?y.cgst:"-"),a.a.createElement("br",null),a.a.createElement("span",null,y.sgst?y.sgst:"-"),a.a.createElement("br",null),a.a.createElement("span",null,y.igst?y.igst:"-"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ym)},y.round_off),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ym)},y.round_off_total))))))),a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},ym,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-8 text-right"},a.a.createElement("strong",null,"Amount in Words :-"),"\xa0\xa0",q)),"domestic"===y.origin_type&&a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},ym,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-8 text-right table-responsive"},a.a.createElement("table",{className:"table table-bordered"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"HSN"),a.a.createElement("th",null,"TAXABLE AMOUNT"),a.a.createElement("th",null,"CGST"),a.a.createElement("th",null,"SGST"),a.a.createElement("th",null,"IGST"),a.a.createElement("th",null,"GST %"),a.a.createElement("th",null,"TOTAL GST"))),a.a.createElement("tbody",null,_.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,e.hsn_code),a.a.createElement("td",null,e.amount),a.a.createElement("td",null,e.cgst),a.a.createElement("td",null,e.sgst),a.a.createElement("td",null,e.igst),a.a.createElement("td",null,e.gst_percentage),a.a.createElement("td",null,e.total_gst))}),a.a.createElement("tr",null,a.a.createElement("td",{colspan:"1",className:"text-end"},a.a.createElement("strong",{style:Object(u.a)({},ym)},"Total :")),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},ym)},y.amount)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},ym)},y.cgst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},ym)},y.sgst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},ym)},y.igst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},ym)})),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},ym)},U))))))),a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},ym,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-5 text-right"},a.a.createElement("strong",{style:Object(u.a)({},ym)},"Terms and Condition :-"),dm.map(function(e,t){return a.a.createElement("p",{key:t,style:{margin:0,padding:0,fontSize:"0.50rem"}},e.id,e.text,a.a.createElement("br",null))})),a.a.createElement("div",{className:"col-md-3 text-center d-flex align-items-end justify-content-center"},a.a.createElement("div",null,a.a.createElement("p",null,"For Buyer"),a.a.createElement("p",null,"----------------------------------------"))),a.a.createElement("div",{className:"col-md-4 d-flex align-items-end justify-content-center"},a.a.createElement("div",{className:"text-center"},"For Glutape India Pvt. Ltd.",a.a.createElement("br",null),y.approval?y.approval.approve_name:"",a.a.createElement("br",null),y.approval?y.approval.approval_date:"",a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ym)},"Authorising Signatory"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ym)},"[Digitally Signed]")))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12 "},a.a.createElement("img",{src:Ki.a,alt:"",height:"60",width:"100%"})))))))),a.a.createElement("div",{style:{display:"flex",justifyContent:"center",textAlign:"center"}},"This is computer generated Proforma Invoice / Sales Contract")),a.a.createElement(Ce,{maxWidth:"md",title:"Customer Confirmation of payment detail",openPopup:h,setOpenPopup:p},a.a.createElement(qi,{users:C,invoiceData:y,setOpenPopup:p,getAllProformaInvoiceDetails:z})))},dm=[{id:"1)",text:"Material once sold will not be taken back."},{id:"2)",text:"Material is delivered at owner's risk and with no liability of transportation damage to Glutape India Pvt Ltd. "},{id:"3)",text:"Our risk and Responsibility ceases as soon as the goods leave our premises."},{id:"4)",text:"In case the cargo is insured, a claim against insurance will be settled once the insurance claim gets sanctioned from the respective insurance company"},{id:"5)",text:"Please test Material before using."},{id:"6)",text:"No allowance for storage of difference in quality will be allowed unless the same is given to us within 24 hour of receipt insurance company."},{id:"7)",text:"Subjects to mumbai, Maharashtra jurisdiction only."},{id:"8)",text:"Validity of this Proforma Invoice is 3 Days from Date of Proforma Invoice."}],ym={fontSize:"0.80rem"};function vm(){vm=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var gm=function(){var e,t=Object(s.b)(),r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],f=Object(n.useState)(),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(!1),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(""),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(""),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)(""),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)(1),F=Object(l.a)(I,2),W=F[0],z=F[1],R=Object(n.useState)(0),B=Object(l.a)(R,2),M=B[0],q=B[1],U=Object(s.c)(function(e){return e.auth}).profile,Y=U.active_sales_user||[],V=Object(n.useState)(new Date),Q=Object(l.a)(V,2),H=Q[0],J=Q[1],K=Object(n.useState)((e=new Date,new Date(e.getFullYear(),e.getMonth(),1))),Z=Object(l.a)(K,2),X=Z[0],$=Z[1],ee=Object(n.useState)("monthly"),te=Object(l.a)(ee,2),re=te[0],ne=te[1],ae=gt(),oe=ae.handleError,ie=ae.handleCloseSnackbar,ce=ae.alertInfo,le=function(){return C("")},ue=[{label:"Status",value:"status"},{label:"Type",value:"type"}].concat(Object(vr.a)(U.groups.includes("Sales Executive")?[]:[{label:"Sales Person",value:"raised_by__email"}])),se=Y.map(function(e){return{label:e.name,value:e.email}}),fe=function(){var e=Object(c.a)(vm().mark(function e(){var r;return vm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,st.getAllPaginateSellerAccountData("all");case 4:r=e.sent,t(G(r.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),oe(e.t0);case 11:return e.prev=11,g(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){fe()},[]);var he=Object(n.useCallback)(Object(c.a)(vm().mark(function e(){var t,r,n;return vm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),t=X?X.toISOString().split("T")[0]:"",r=H?H.toISOString().split("T")[0]:"",e.next=6,st.getAllPIWithDateRange(t,r,"all",W,j,P,D);case 6:n=e.sent,x(n.data.results),q(Math.ceil(n.data.count/25)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),oe(e.t0);case 14:return e.prev=14,g(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])})),[X,W,j,P,D]);Object(n.useEffect)(function(){he()},[X,W,j,P,D]);var pe=function(e){C(e.target.value)},me=w.map(function(e,t){return{type:e.type,pi_number:e.pi_number,generation_date:e.generation_date,raised_by:e.raised_by,customer:e.name_of_party,billing_city:e.billing_city,contact:e.contact,status:e.status,round_off_total:e.round_off_total,balance_amount:e.balance_amount,payment_terms:e.payment_terms}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:ce.open,onClose:ie,severity:ce.severity,message:ce.message}),a.a.createElement(Je,{open:v}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{marginBottom:"10px"},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{fullWidth:!0,size:"small",options:["yearly","monthly","weekly","today","last year"],value:re,onChange:function(e,t){return function(e){var t=new Date,r=new Date,n=new Date;switch(ne(e),e){case"yearly":r=new Date(t.getFullYear(),0,1),n=new Date(t.getFullYear(),11,31);break;case"monthly":r=new Date(t.getFullYear(),t.getMonth(),1),n=new Date(t.getFullYear(),t.getMonth()+1,0);break;case"weekly":var a=t.getDate()-t.getDay();r=new Date(t.getFullYear(),t.getMonth(),a),n=new Date(t.getFullYear(),t.getMonth(),a+6);break;case"today":r=new Date,n=new Date;break;case"last year":r=new Date(t.getFullYear()-1,0,1),n=new Date(t.getFullYear()-1,11,31);break;default:r=new Date,n=new Date}$(r),J(n)}(t)},label:"Sort By"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Gc,{label:"Filter By",options:ue,value:j,onChange:function(e){L(e.target.value),C("")},onClear:function(){return L("")}})),"status"===j&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Gc,{label:"Status",options:wm,value:P,onChange:pe,onClear:le})),"type"===j&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Gc,{label:"Type",options:xm,value:P,onChange:pe,onClear:le})),"raised_by__email"===j&&!U.groups.includes("Sales Executive")&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Gc,{label:"Sales Person",options:se,value:P,onChange:pe,onClear:le})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){A(e),z(1)},onReset:function(){A(""),z(1)}})))),a.a.createElement(Ae.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"All PI")),a.a.createElement(Yn.a,{sx:{maxHeight:450,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac",borderRadius:5}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,["Type","PI Numer","PI Date","Raised By","Customer","Billing City","Contact","Status","PI Amount","Balance","Payment Terms","ACTION"].map(function(e){return a.a.createElement(bm,{align:"center"},e)}))),a.a.createElement(Hn.a,null,me.map(function(e,t){return a.a.createElement(Em,{key:t},a.a.createElement(bm,{align:"center"},e.type),a.a.createElement(bm,{align:"center"},e.pi_number),a.a.createElement(bm,{align:"center"},e.generation_date),a.a.createElement(bm,{align:"center"},e.raised_by),a.a.createElement(bm,{align:"center"},e.customer),a.a.createElement(bm,{align:"center"},e.billing_city),a.a.createElement(bm,{align:"center"},e.contact),a.a.createElement(bm,{align:"center"},e.status),a.a.createElement(bm,{align:"center"},e.round_off_total),a.a.createElement(bm,{align:"center"},e.balance_amount),a.a.createElement(bm,{align:"center"},e.payment_terms),a.a.createElement(bm,{align:"center"},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",alignItems:"center",gap:4},a.a.createElement(We.a,{style:{fontSize:"12px"},variant:"outlined",color:"info",size:"small",onClick:function(){return m(e),void u(!0)}},"View"))))})))),a.a.createElement(Vr,{currentPage:W,totalPages:M,handlePageChange:function(e,t){z(t)}}))),a.a.createElement(Ce,{fullScreen:!0,title:"View Proforma Invoice",openPopup:i,setOpenPopup:u},a.a.createElement(mm,{idForEdit:p,getProformaInvoiceData:he,setOpenPopup:u})))},bm=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Em=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),wm=[{label:"Raised",value:"raised"},{label:"Price Approval",value:"price_approval"},{label:"Pending Approval",value:"pending_approval"},{label:"Approved",value:"approved"},{label:"Partially Paid",value:"partially_paid"},{label:"Fully Paid",value:"fully_paid"},{label:"Credit",value:"credit"},{label:"Dropped",value:"dropped"}],xm=[{label:"Customer",value:"customer"},{label:"Lead",value:"lead"}],Om=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e&&e.groups&&r.some(function(t){return e.groups.indexOf(t)>-1})},r=Object(n.useMemo)(function(){return{allTabs:t("Director","Accounts"),isSalesManager:t("Sales Manager","Customer Relationship Manager","Business Development Manager"),isSalesDManager:t("Sales Deputy Manager"),isSalesADManager:t("Sales Assistant Deputy Manager"),isSalesExecutive:t("Sales Executive","Customer Relationship Executive","Business Development Executive"),isSalesManagerWithoutLeads:t("Sales Manager without Leads"),isSalesManagerWithLeads:t("Sales Manager with Leads"),isCustomerService:t("Customer Service"),isAccountBillingDepartment:t("Accounts Billing Department")}},[e]),o=Object(n.useMemo)(function(){return[{label:"Approve PI",visible:r.allTabs||r.isAccountBillingDepartment,index:0,component:a.a.createElement(Yc,null)},{label:"Active PI",visible:r.isSalesManager||r.isSalesDManager||r.isSalesADManager||r.isSalesExecutive||r.isSalesManagerWithoutLeads||r.isSalesManagerWithLeads||r.allTabs||r.isCustomerService,index:1,component:a.a.createElement(zc,null)},{label:"Price Approval PI",visible:r.allTabs||r.isSalesManager||r.isSalesExecutive,index:2,component:a.a.createElement(nl,null)},{label:"All PI",visible:r.isSalesManager||r.isSalesDManager||r.isSalesADManager||r.isSalesExecutive||r.isSalesManagerWithoutLeads||r.isSalesManagerWithLeads||r.allTabs||r.isAccountBillingDepartment,index:3,component:a.a.createElement(gm,null)}]},[r]),i=Object(n.useMemo)(function(){return o.filter(function(e){return e.visible})},[o]),c=Object(n.useMemo)(function(){return i.map(function(e){return e.index})},[i]),u=Object(n.useState)(i.length>0?i[0].index:0),f=Object(l.a)(u,2),h=f[0],p=f[1];return Object(n.useEffect)(function(){i.length>0&&-1===c.indexOf(h)&&p(i[0].index)},[i,c,h]),a.a.createElement("div",null,a.a.createElement(Xr,{tabs:i,activeTab:h,onTabChange:function(e){return p(c[e])}}),i.map(function(e){return e.index===h&&a.a.createElement("div",{key:e.index},e.component)}))},_m=r(38),jm=r.n(_m),Lm=r(37),Sm=r.n(Lm);function km(){km=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Pm=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),Cm=Object(n.memo)(function(e){var t=e.selectedRow,r=e.getAllPurchaseOrderDetails,o=e.setOpenPopup,i=e.currentPage,s=e.acceptedFilter,f=e.searchQuery,h=Object(n.useState)(t),p=Object(l.a)(h,2),m=p[0],d=p[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],E=g[1],w=gt(),x=w.handleSuccess,O=w.handleError,_=w.handleCloseSnackbar,j=w.alertInfo,L=Object(n.useCallback)(function(){var e=Object(c.a)(km().mark(function e(t){var n,a,c;return km().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),E(!0),n={created_by:m.created_by,vendor:m.vendor,vendor_type:m.vendor_type,vendor_email:m.vendor_email,vendor_contact_person:m.vendor_contact_person,vendor_contact:m.vendor_contact,seller_account:m.seller_account,payment_terms:m.payment_terms,delivery_terms:m.delivery_terms,schedule_date:m.schedule_date,currency:m.currency,po_no:m.po_no,po_date:m.po_date,close_short:m.close_short,products:m.products||[]},e.next=6,Kr.updatePurchaseOrderData(m.id,n);case 6:a=e.sent,c=a.data.message||"Purchase Order updated successfully",x(c),setTimeout(function(){o(!1),r(i,s,f)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),O(e.t0);case 15:return e.prev=15,E(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[m,i,s,f]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:j.open,onClose:_,severity:j.severity,message:j.message}),a.a.createElement(Je,{open:b}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return L(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Vendor",variant:"outlined",value:m.vendor||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Vendor Contact Person",variant:"outlined",value:m.vendor_contact_person||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Buyer Account",variant:"outlined",value:m.seller_account||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Payment Terms",variant:"outlined",value:m.payment_terms||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Delivery Terms",variant:"outlined",value:m.delivery_terms||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"po_no",label:"Purchase Order No.",variant:"outlined",value:m.po_no||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"po_date",size:"small",label:"Purchase Order Date",variant:"outlined",value:m.po_date,disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Currency",variant:"outlined",value:m.currency||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"schedule_date",size:"small",label:"Schedule Date",variant:"outlined",value:m.schedule_date,disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Issued By",variant:"outlined",value:m.created_by||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ei.a,{checked:m.close_short,onChange:function(e){return d(Object(u.a)({},m,{close_short:e.target.checked}))},name:"close_short",inputProps:{"aria-label":"controlled"}}),a.a.createElement("span",null,"Close Short")),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Pm,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),m.products.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{key:t,item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:e.product||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:1},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Pending Quantity",variant:"outlined",value:e.pending_quantity||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"amount",size:"small",label:"Amount",variant:"outlined",value:e.amount||"",disabled:!0})))})),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))}),Tm=function(e){var t=e.purchaseOrderData,r=e.AMOUNT_IN_WORDS;console.log("purchaseOrderData",t);for(var n=Math.ceil(t.products.length/6),o=[],i=0;i<n;i++){var c=6*i,l=c+6,s=t.products.slice(c,l);o.push(s)}return a.a.createElement(Ri.a,null,o.map(function(e,o){return a.a.createElement(Ri.c,{size:"A4",orientation:"portrait",style:{fontSize:"12pt"}},a.a.createElement(Ri.f,{style:{padding:"20pt"}},a.a.createElement(Ri.f,{style:Fm},a.a.createElement(Nm,{purchaseOrderData:t}),a.a.createElement(Ri.f,{style:Gm},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,{alignItems:"center",padding:0})},a.a.createElement(Ri.e,{style:{fontWeight:"100",fontSize:12}},"Purchase Order"))),a.a.createElement(Ri.f,{style:Gm},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)}),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)}),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)}),a.a.createElement(Ri.f,{style:Bm})),a.a.createElement(Ri.f,{style:Gm},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym)},"PO Date : ")),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm)},t.po_date)),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym)},"PO NO & Date : ")),a.a.createElement(Ri.f,{style:Bm},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm)},t.po_no," & ",t.po_date))),a.a.createElement(Ri.f,{style:Gm},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym)},"Currency :")),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm)},t.symbol+" ",t.currency)),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym)},"Payment Terms :")),a.a.createElement(Ri.f,{style:Bm},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm)},t.payment_terms))),a.a.createElement(Ri.f,{style:Gm},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym)},"Schedule Date :")),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm)},t.schedule_date)),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym)},"Delivery Terms :")),a.a.createElement(Ri.f,{style:Bm},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm)},t.delivery_terms))),a.a.createElement(Ri.f,{style:Object(u.a)({},Gm,Rm)},a.a.createElement(Ri.f,{style:Bm},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym,Qm,{textAlign:"center"})},"Supplier Details")),a.a.createElement(Ri.f,{style:Bm},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym,{textAlign:"center"})},"Buyer Details"))),a.a.createElement(Ri.f,{style:Gm},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym)},"Company :")),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm)},t.vendor)),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym)},"Company :")),a.a.createElement(Ri.f,{style:Bm},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm)},t.seller_company))),a.a.createElement(Ri.f,{style:Gm},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym)},"Address :")),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm)},t.vendor_address," ,"," ",t.vendor_city," ,"," ",t.vendor_state," ,"," ",t.vendor_pincode)),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym)},"Address :")),a.a.createElement(Ri.f,{style:Bm},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm)},t.seller_address))),a.a.createElement(Ri.f,{style:Gm},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym)},"Email")),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm)},t.vendor_email)),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym)},"Gst Number")),a.a.createElement(Ri.f,{style:Bm},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm)},t.seller_gst))),a.a.createElement(Ri.f,{style:Gm},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym)},"Contact Person :")),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm)},t.vendor_contact_person)),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym)})),a.a.createElement(Ri.f,{style:Bm},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm)}))),a.a.createElement(Ri.f,{style:Gm},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym)},"Contact :")),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm)},t.vendor_contact)),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,Qm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym)})),a.a.createElement(Ri.f,{style:Bm},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm)}))),a.a.createElement(Ri.f,{className:Object(u.a)({},Gm,Rm),style:Object(u.a)({},Gm,Rm)},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,{flex:.2,flexGrow:.2,marginLeft:"4pt",textAlign:"left"})},a.a.createElement(Ri.e,null,"Sr.No")),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,{flex:.8,flexGrow:.8,textAlign:"left"})},a.a.createElement(Ri.e,null,"Description of Goods")),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(Ri.e,null,"Quantity")),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(Ri.e,null,"Unit")),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(Ri.e,null,"Rate")),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(Ri.e,null,"Amount"))),e.map(function(e,t){var r=6*o+t+1;return a.a.createElement(Ri.f,{style:Object(u.a)({},Gm,{paddingVertical:5}),key:t},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,{flex:.2,flexGrow:.2,marginLeft:"4pt",textAlign:"left"})},a.a.createElement(Ri.e,{style:Um},r)),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,{textAlign:"left",flex:.8,flexGrow:.8,width:80})},a.a.createElement(Ri.e,{style:Object(u.a)({},Um,{color:"#000"})},e.product),a.a.createElement(Ri.e,{style:Object(u.a)({},Um,{color:"#000"})},e.description)),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(Ri.e,{style:Um},e.quantity)),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(Ri.e,{style:Um},e.unit)),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(Ri.e,{style:Um},e.rate)),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(Ri.e,{style:Um},e.amount)))}),"Domestic"===t.vendor_type&&a.a.createElement(Ri.f,{style:Gm},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym,{textAlign:"right"})},"CGST Amount :")),a.a.createElement(Ri.f,{style:Bm},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm,{textAlign:"center"})},t.cgst?t.cgst:"-"))),"Domestic"===t.vendor_type&&a.a.createElement(Ri.f,{style:Gm},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym,{textAlign:"right"})},"SGST Amount :")),a.a.createElement(Ri.f,{style:Bm},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm,{textAlign:"center"})},t.sgst?t.sgst:"-"))),"Domestic"===t.vendor_type&&a.a.createElement(Ri.f,{style:Gm},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym,{textAlign:"right"})},"IGST Amount :")),a.a.createElement(Ri.f,{style:Bm},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm,{textAlign:"center"})},t.igst?t.igst:"-"))),"Domestic"===t.vendor_type&&a.a.createElement(Ri.f,{style:Gm},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym,{textAlign:"right"})},"Round Off :")),a.a.createElement(Ri.f,{style:Bm},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm,{textAlign:"center"})},t.round_off))),a.a.createElement(Ri.f,{style:Gm},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm)},a.a.createElement(Ri.e,{style:Object(u.a)({},Ym,{textAlign:"right"})},"Total Amount :")),a.a.createElement(Ri.f,{style:Bm},a.a.createElement(Ri.e,{style:Object(u.a)({},Vm,{textAlign:"center"})},t.symbol+" ",t.round_off_total))),a.a.createElement(Ri.f,{style:Gm},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm)}),a.a.createElement(Ri.f,{style:Bm})),a.a.createElement(Ri.f,{style:Object(u.a)({},Gm)},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,{padding:"5pt"})},a.a.createElement(Ri.e,{style:Ym},"Amount in Words :-",a.a.createElement(Ri.e,{style:Vm}," \xa0",r),a.a.createElement(Ri.e,{style:Object(u.a)({},Vm,{textAlign:"center"})},t.amount_in_word)))),a.a.createElement(Ri.f,null,a.a.createElement(Ri.e,null,"\n")),a.a.createElement(Ri.f,{style:Gm},a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,{marginLeft:"4pt"})},a.a.createElement(Ri.e,{style:{fontWeight:"bold",fontSize:8}},"Terms and Condition :-"),"Domestic"===t.vendor_type?Im.map(function(e,t){return a.a.createElement(Ri.e,{key:t,style:{color:"#777777",fontSize:6}},e.id," ",e.text)}):Am.map(function(e,t){return a.a.createElement(Ri.e,{key:t,style:{color:"#777777",fontSize:6}},e.id," ",e.text)})),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,{justifyContent:"center",alignItems:"center"})},a.a.createElement(Ri.e,{style:Vm},t.created_by||""),a.a.createElement(Ri.e,{style:Vm},"Authorising Signatory"),a.a.createElement(Ri.e,{style:Vm},"[Digitally Signed]"))),a.a.createElement(Dm,null))),a.a.createElement(Ri.e,{style:Object(u.a)({},Um,{display:"flex",justifyContent:"center",textAlign:"center"})},"This is Computer Generated Purchase Order Invoice"),a.a.createElement(Ri.e,{style:Object(u.a)({},Um,{display:"flex",justifyContent:"center",textAlign:"center"})},"Page ",o+1," of ",n))}))},Nm=function(e){var t=e.purchaseOrderData;return a.a.createElement(Ri.f,{style:Wm},a.a.createElement(Ri.f,{style:{marginRight:"20pt"}},a.a.createElement(Ri.b,{source:ec.a,style:Mm})),a.a.createElement(Ri.f,{style:Object(u.a)({},Bm,{alignItems:"center",textAlign:"center",padding:0})},a.a.createElement(Ri.e,{style:{fontWeight:"bold",fontSize:12}},"Glutape India Private Limited"),a.a.createElement(Ri.e,{style:{color:"#777777",fontSize:6}},t.seller_address,", ",t.seller_city,","," ","\n",t.seller_state,"-",t.seller_state_code,",",t.seller_pincode,", CIN No;-"," ",t.seller_cin,", P.No:-"," ",t.seller_contact,"\n","E: ",t.seller_email,", W: www.glutape.com")),a.a.createElement(Ri.f,null,a.a.createElement(Ri.b,{source:Xi.a,style:qm})),a.a.createElement(Ri.f,null,a.a.createElement(Ri.b,{source:Hi.a,style:qm})))},Dm=function(){return a.a.createElement(Ri.f,{style:zm},a.a.createElement(Ri.b,{source:Ki.a,style:{width:"100%",height:"auto"}}))},Am=[{id:"1)",text:"Please send your acceptance through return mail within 24 Hrs."},{id:"2)",text:"Material should  be shipped as per the schedule dates. Any delay in supply will attract a Late delivery charges @2% on part or there of. "},{id:"3)",text:"Please do mention the correct P.O number and Part number in all invoice copies & respective delivery documents ."},{id:"4)",text:"Apart from this, schedule excess qty. will be returned to you on your account."},{id:"5)",text:"Any short reciept will be debited in multipac of the packets.."},{id:"6)",text:"On acknowledgement of wrong invoicing, Glutape India Pvt Ltd will debit 3 times of (concerned) invoice value to your account."},{id:"7)",text:"We reserve the right to reject the supply at any stage if the consignment / goods does not confirm the specification or sample or defects are revealed during processing."},{id:"8)",text:"Please ensure that proper barcoding is followed for each item mentioned in this purchase order, if barcoding is not followed, the material will be rejected and sent back on your account."}],Im=[{id:"1)",text:"Please send your acceptance through return mail within 24 Hrs."},{id:"2)",text:"Material should  reach in Our Stores as per the schedule dates. Any delay in supply will attract a Late delivery charges @2% on part or there of. "},{id:"3)",text:"Every part needs to make on seperate invoice, cupled invoices will not inwarded."},{id:"4)",text:"Delivery should be between 09.00 AM to 06.00 PM"},{id:"5)",text:"Please do mention the correct P.O number and Part number in all invoice copies & respective delivery documents ."},{id:"6)",text:"Apart from this, schedule excess qty. will be returned to you on your account."},{id:"7)",text:"Any short reciept will be debited in multipac of the packets.."},{id:"8)",text:"On acknowledgement of wrong invoicing, Glutape India Pvt Ltd will debit 3 times of (concerned) invoice value to your account."},{id:"9)",text:"We reserve the right to reject the supply at any stage if the consignment / goods does not confirm the specification or sample or defects are revealed during processing."},{id:"10)",text:"Please ensure that proper barcoding is followed for each item mentioned in this purchase order, if barcoding is not followed, the material will be rejected and sent back on your account."}],Fm={border:"1pt solid #000000",overflow:"hidden"},Gm={display:"flex",flexDirection:"row",borderBottom:"1pt solid #ccc"},Wm={height:"40pt",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottom:"1pt solid #777777"},zm={height:"40pt",flexDirection:"row",width:"100%",borderTop:"1pt solid #777777"},Rm={backgroundColor:"#eee",fontWeight:"bold"},Bm={flex:1,flexGrow:1,fontSize:10},Mm={height:"auto",width:"80pt"},qm={height:"auto",width:"50pt"},Um={fontWeight:300,color:"#454545",fontSize:8},Ym={fontWeight:"bold",fontSize:8,textAlign:"left",marginLeft:"5pt"},Vm={fontWeight:300,fontSize:8,color:"#454545",marginLeft:"5pt"},Qm={borderRightWidth:1,borderRightColor:"#ccc"};function Hm(){Hm=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Jm=Object(n.memo)(function(e){var t=e.selectedRow,r=e.setOpenPopup,o=e.getAllPurchaseOrderDetails;console.log("selectedRow",t);var i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=(new Date).toISOString().slice(0,10),m=Object(n.useState)(function(){return{seller_account:t.seller_account,vendor:t.vendor,purchase_order:[t.po_no],packing_list_no:"",invoice_date:p,products:t.products.map(function(e){return{product:e.product,unit:e.unit,quantity:e.pending_quantity}})}}),d=Object(l.a)(m,2),y=d[0],v=d[1],g=gt(),b=g.handleSuccess,E=g.handleError,w=g.handleCloseSnackbar,x=g.alertInfo;Object(n.useEffect)(function(){v({seller_account:t.seller_account,vendor:t.vendor,purchase_order:[t.po_no],packing_list_no:y.packing_list_no,invoice_date:y.invoice_date,products:t.products.map(function(e,t){return{id:e.id,product:e.product,unit:e.unit,quantity:y.products[t]&&y.products[t].quantity||e.pending_quantity}})})},[t]);var O=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;v(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},[]),_=Object(n.useCallback)(function(e,t){v(function(r){return Object(u.a)({},r,{products:r.products.map(function(r,n){return n===e?Object(u.a)({},r,{quantity:t}):r})})})},[]),j=function(){var e=Object(c.a)(Hm().mark(function e(t){var n;return Hm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,h(!0),n=Object(u.a)({},y,{purchase_order:y.purchase_order}),e.next=6,Kr.createPackingListData(n);case 6:b("Packing list created successfully"),setTimeout(function(){r(!1)},300),o(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),E(e.t0),console.error("Creating Packing list error",e.t0);case 15:return e.prev=15,h(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,11,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:x.open,onClose:w,severity:x.severity,message:x.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:j},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"seller_account",label:"Buyer Account",variant:"outlined",value:y.seller_account,disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Purchase Order Number",variant:"outlined",value:y.purchase_order||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"packing_list_no",label:"Invoice No",variant:"outlined",value:y.packing_list_no||"",onChange:O})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,type:"date",size:"small",name:"invoice_date",label:"Invoice Date",variant:"outlined",value:y.invoice_date||"",onChange:O,InputProps:{inputProps:{max:p}}})),y.products.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:e.id||t},a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Id",variant:"outlined",value:e.id||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:e.product||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"quantity",label:"Quantity",variant:"outlined",type:"number",value:e.quantity||"",onChange:function(e){return _(t,e.target.value)}})))})),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function Km(){Km=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Zm=Object(n.memo)(function(e){var t=e.purchaseOrderData,r=void 0===t?[]:t,o=e.setOpenPopup,i=e.getAllPurchaseOrderDetails,f=Object(s.c)(function(e){return{sellerData:e.auth.sellerAccount,userData:e.auth.profile}}).sellerData,h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=(new Date).toISOString().slice(0,10),v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)({seller_account:"",products:[],packing_list_no:"",invoice_date:y}),x=Object(l.a)(w,2),O=x[0],_=x[1],j=gt(),L=j.handleSuccess,S=j.handleError,k=j.handleCloseSnackbar,P=j.alertInfo,C=Object(n.useState)([]),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;_(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},[]),I=Object(n.useCallback)(function(e,t){_(function(r){return Object(u.a)({},r,{products:r.products.map(function(r,n){return n===e?Object(u.a)({},r,{quantity:t}):r})})})},[]),F=function(){var e=Object(c.a)(Km().mark(function e(t){var r;return Km().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,d(!0),r=Object(u.a)({},O,{purchase_order:b}),e.next=6,Kr.createPackingListData(r);case 6:L("MergePL created successfully"),setTimeout(function(){o(!1)},300),i(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),S(e.t0),console.error("Creating Packing list error",e.t0);case 15:return e.prev=15,d(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,11,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:P.open,onClose:k,severity:P.severity,message:P.message}),a.a.createElement(Je,{open:m}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:F},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(ur.a,{size:"small",disablePortal:!0,id:"buyer-account-autocomplete",onChange:function(e,t){var n=r.filter(function(e){return e.seller_account===t&&e.po_no}).map(function(e){return{label:e.po_no,value:e}});D(n),_(function(e){return Object(u.a)({},e,{seller_account:t})})},options:f.map(function(e){return e.unit}),getOptionLabel:function(e){return e},sx:{minWidth:300},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Buyer Account",variant:"outlined"}))}})),N.length>0&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(ur.a,{size:"small",multiple:!0,options:N,getOptionLabel:function(e){return e?e.label:""},onChange:function(e,t){return function(e){if(e&&e.length>0){var t=e.map(function(e){return"string"===typeof e?{label:e,value:r.find(function(t){return t.po_no===e})}:e}),n=t.flatMap(function(e){return e.value&&e.value.products?e.value.products.map(function(e){return{id:e.id,product:e.product,unit:e.unit,quantity:e.quantity}}):[]});_(function(e){return Object(u.a)({},e,{products:n})}),E(t.map(function(e){return e.label}))}else _(function(e){return Object(u.a)({},e,{products:[]})}),E([])}(t)},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Select PO Numbers",variant:"outlined"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"packing_list_no",label:"Invoice No",variant:"outlined",value:O.packing_list_no||"",onChange:A})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,type:"date",size:"small",name:"invoice_date",label:"Invoice Date",variant:"outlined",InputLabelProps:{shrink:!0},value:O.invoice_date,onChange:A,InputProps:{inputProps:{max:y}}})),O.products.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:e.id||"product-".concat(t)},a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Id",variant:"outlined",value:e.id||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:e.product||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"quantity",label:"Quantity",variant:"outlined",type:"number",value:e.quantity||"",onChange:function(e){return I(t,e.target.value)}})))})),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function Xm(){Xm=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var $m=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(1),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(0),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(!1),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(null),A=Object(l.a)(D,2),I=A[0],F=A[1],W=Object(n.useState)(!1),z=Object(l.a)(W,2),R=z[0],B=z[1],M=Object(n.useState)(!1),q=Object(l.a)(M,2),U=q[0],Y=q[1],V=Object(s.b)(),Q=gt(),H=Q.handleSuccess,J=Q.handleError,K=Q.handleCloseSnackbar,Z=Q.alertInfo,X=function(){var e=Object(c.a)(Xm().mark(function e(t){var r,n,o;return Xm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),r=new zi.a,e.next=5,Object(Ri.g)(a.a.createElement(Tm,{purchaseOrderData:t}),r,{}).toBlob();case 5:n=e.sent,(o=document.createElement("a")).href=URL.createObjectURL(n),o.download="PO Number ".concat(t.po_no,".pdf"),document.body.appendChild(o),o.click(),document.body.removeChild(o),H("Downloaded successfully"),h(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),J(e.t0),console.log("error exporting pdf",e.t0);case 20:return e.prev=20,h(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[0,16,20,23]])}));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(c.a)(Xm().mark(function e(t){return Xm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{h(!0),F(t),o(!0)}catch(r){console.log(r)}finally{h(!1)}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){ee()},[]);var ee=function(){var e=Object(c.a)(Xm().mark(function e(){var t;return Xm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,st.getAllPaginateSellerAccountData("all");case 4:t=e.sent,V(G(t.data)),h(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),h(!1);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),te=Object(n.useCallback)(function(){var e=Object(c.a)(Xm().mark(function e(t,r,n){var a;return Xm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Kr.getAllPurchaseOrderData(t,r,n);case 4:a=e.sent,y(a.data.results),k(Math.ceil(a.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),J(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,r,n){return e.apply(this,arguments)}}(),[]);Object(n.useEffect)(function(){te(b,T,O)},[b,T,O]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:Z.open,onClose:K,severity:Z.severity,message:Z.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{sx:{flexGrow:1,mr:1},size:"small",value:td.find(function(e){return e.value===T.toString()}),onChange:function(e,t){return function(e){if(e){var t="true"===e.value;N(t)}else N(!1),E(0)}(t)},options:td,getOptionLabel:function(e){return e.label},label:"Filter By Accepted"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){_(e),E(1)},onReset:function(){_(""),E(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"success",onClick:function(){Y(!0)}},"Merge PL")))),a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sx:{textAlign:"center"}},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Purchase Order Book")))),a.a.createElement(Yn.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(nd,null,a.a.createElement(rd,{align:"center"}),a.a.createElement(rd,{align:"center"},"Purchase Order Date"),a.a.createElement(rd,{align:"center"},"Purchase Order"),a.a.createElement(rd,{align:"center"},"Vendor Type"),a.a.createElement(rd,{align:"center"},"Vendor"),a.a.createElement(rd,{align:"center"},"Buyer Account"),a.a.createElement(rd,{align:"center"},"Buyer State"),a.a.createElement(rd,{align:"center"},"Schedule Date"),a.a.createElement(rd,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,Array.isArray(d)&&d.map(function(e,t){return a.a.createElement(ed,{key:t,row:e,handleEdit:$,handleOpenCreatePLPopup:function(){return function(e){B(!0),F(e)}(e)},handleDownload:X})})))),a.a.createElement(Vr,{currentPage:b,totalPages:S,handlePageChange:function(e,t){E(t)}}))),a.a.createElement(Ce,{fullScreen:!0,title:"Purchase Order Update",openPopup:r,setOpenPopup:o},a.a.createElement(Cm,{setOpenPopup:o,getAllPurchaseOrderDetails:te,selectedRow:I,currentPage:b,acceptedFilter:T,searchQuery:O})),a.a.createElement(Ce,{fullScreen:!0,title:"Create Packing List",openPopup:R,setOpenPopup:B},a.a.createElement(Jm,{setOpenPopup:B,selectedRow:I,getAllPurchaseOrderDetails:te})),a.a.createElement(Ce,{fullScreen:!0,title:"Merge Packing List",openPopup:U,setOpenPopup:Y},a.a.createElement(Zm,{setOpenPopup:Y,purchaseOrderData:d,getAllPurchaseOrderDetails:te})))};function ed(e){var t=e.row,r=e.handleEdit,o=e.handleOpenCreatePLPopup,i=e.handleDownload,c=Object(n.useState)(!1),u=Object(l.a)(c,2),s=u[0],f=u[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(nd,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(rd,null,a.a.createElement(d.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return f(!s)}},s?a.a.createElement(Sm.a,null):a.a.createElement(jm.a,null))),a.a.createElement(rd,{align:"center"},t.po_date),a.a.createElement(rd,{align:"center"},t.po_no),a.a.createElement(rd,{align:"center"},t.vendor_type),a.a.createElement(rd,{align:"center"},t.vendor),a.a.createElement(rd,{align:"center"},t.seller_account),a.a.createElement(rd,{align:"center"},t.seller_state),a.a.createElement(rd,{align:"center"},t.schedule_date),a.a.createElement(rd,{align:"center"},a.a.createElement(We.a,{onClick:function(){return r(t)}},"Edit"),a.a.createElement(We.a,{color:"success",onClick:o},"Create PL"),a.a.createElement(We.a,{color:"secondary",onClick:function(){return i(t)}},"Download"))),a.a.createElement(Un.a,null,a.a.createElement(qn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(J.a,{in:s,timeout:"auto",unmountOnExit:!0},a.a.createElement(Ae.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Vn.a,{size:"small","aria-label":"purchases"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,{align:"center"},"SR.NO"),a.a.createElement(qn.a,{align:"center"},"PRODUCT"),a.a.createElement(qn.a,{align:"center"},"UNIT"),a.a.createElement(qn.a,{align:"center"},"QUANTITY"),a.a.createElement(qn.a,{align:"center"}," PENDING QUANTITY"))),a.a.createElement(Hn.a,null,Array.isArray(t.products)&&t.products.map(function(e,r){return a.a.createElement(nd,{key:r},a.a.createElement(rd,{align:"center"},r+1),a.a.createElement(rd,{align:"center"},e.product),a.a.createElement(rd,{align:"center"},e.unit),a.a.createElement(rd,{align:"center"},e.quantity),a.a.createElement(rd,{align:"center"},!0===t.close_short?0:e.pending_quantity))}))))))))}var td=[{label:"Closed",value:"true"},{label:"Not Closed",value:"false"}],rd=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),nd=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function ad(){ad=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var od=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),id=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getAllGRNDetails,o=e.idForEdit,i=e.currentPage,u=e.acceptedFilter,s=e.searchQuery,f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=gt(),v=d.handleSuccess,g=d.handleError,b=d.handleCloseSnackbar,E=d.alertInfo,w=Object(n.useState)(o.products.map(function(e){return{products:e.products,unit:e.unit,order_quantity:e.order_quantity,qa_rejected:e.qa_rejected,qa_accepted:e.qa_accepted}})),x=Object(l.a)(w,2),O=x[0],_=x[1],j=function(e,t){var r=t.target,n=r.name,a=r.value,o=Object(vr.a)(O);o[e][n]=a,""!==o[e].qa_rejected&&""!==o[e].order_quantity&&(o[e].qa_accepted=parseInt(o[e].order_quantity)-parseInt(o[e].qa_rejected)),_(o)},L=function(){var e=Object(c.a)(ad().mark(function e(n){var a,c,l;return ad().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),m(!0),a={packing_list:o.packing_list,vendor:o.vendor,products:O},e.next=6,Kr.updateGRNData(o.grn_no,a);case 6:c=e.sent,l=c.data.message||"Purchase Invoice updated successfully",v(l),setTimeout(function(){t(!1),r(i,u,s)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),g(e.t0);case 15:return e.prev=15,m(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:E.open,onClose:b,severity:E.severity,message:E.message}),a.a.createElement(Je,{open:p}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return L(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Vendor",variant:"outlined",value:o.vendor||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Packing List ID",variant:"outlined",value:o.packing_list||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Packing List No",variant:"outlined",value:o.packing_list_no||""})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(od,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),O.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{key:t,item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"products",size:"small",label:"Products",variant:"outlined",value:e.products||"",onChange:function(e){return j(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"order_quantity",size:"small",label:"Quantity",variant:"outlined",value:e.order_quantity||"",onChange:function(e){return j(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"qa_rejected",size:"small",label:"QA Rejected",variant:"outlined",value:e.qa_rejected||"",onChange:function(e){return j(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"qa_accepted",size:"small",label:"QA Accepted",variant:"outlined",value:""===e.qa_rejected||""===e.order_quantity||isNaN(e.order_quantity)||isNaN(e.qa_rejected)?"":parseInt(e.order_quantity)-parseInt(e.qa_rejected),onChange:function(e){return j(t,e)}})))})),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function cd(){cd=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ld=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),ud=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.recordForEdit,o=e.getAllGRNDetails,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=gt(),p=h.handleSuccess,m=h.handleError,d=h.handleCloseSnackbar,v=h.alertInfo,g=Object(n.useState)(r.products.map(function(e){return console.log("rate",e.rate),{product:e.products,quantity:e.qa_accepted,unit:e.unit,order_date:e.order_date,po_no:e.po_no,amount:"",rate:""}})),b=Object(l.a)(g,2),E=b[0],w=b[1];console.log("products",E);var x=function(e,t){var r=t.target,n=r.name,a=r.value,o=Object(vr.a)(E);o[e][n]=a,""!==o[e].quantity&&""!==o[e].rate&&(o[e].amount=(o[e].quantity*o[e].rate).toFixed(2)),w(o)},O=function(){var e=Object(c.a)(cd().mark(function e(n){var a;return cd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),f(!0),a={grn:r.grn_no,products_data:E,invoice_type:"Purchase"},e.next=6,Kr.createPurchaseInvoiceData(a);case 6:console.log("createing Packing list"),o(),p("Purchase Invoice created successfully"),setTimeout(function(){t(!1)},300),f(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),m(e.t0),console.log("createing Packing list error",e.t0),f(!1);case 18:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:v.open,onClose:d,severity:v.severity,message:v.message}),a.a.createElement(Je,{open:s}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return O(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Vendor",variant:"outlined",value:r.vendor||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Grn No",variant:"outlined",value:r.grn_no||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Invoice No",variant:"outlined",value:r.packing_list_no||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Invoice Date",variant:"outlined",value:r.created_on||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Purchase Order No",variant:"outlined",value:r.po_no||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ld,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),E.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{key:t,item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:e.product||"",disabled:!0})),a.a.createElement(Fe.a,{key:t,item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Quantity",variant:"outlined",value:e.quantity||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate,onChange:function(e){return x(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"amount",size:"small",label:"Amount",variant:"outlined",value:""!==e.quantity&&""!==e.rate?(e.quantity*e.rate).toFixed(2):"",onChange:function(e){return x(t,e)}})))})),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function sd(){sd=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var fd=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(1),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(0),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(""),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)(),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useState)(!1),M=Object(l.a)(B,2),q=M[0],U=M[1],Y=Object(s.c)(function(e){return e.auth.profile}),V=gt(),Q=V.handleError,H=V.handleCloseSnackbar,J=V.alertInfo;Object(n.useEffect)(function(){K(O,q,T)},[O,q,T]);var K=Object(n.useCallback)(function(){var e=Object(c.a)(sd().mark(function e(t,r,n){var a;return sd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,Kr.getAllGRNData(t,r,n);case 4:a=e.sent,E(a.data.results),k(Math.ceil(a.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Q(e.t0);case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,r,n){return e.apply(this,arguments)}}(),[]),Z=function(e){F(e),o(!0)},X=function(e){R(e),h(!0)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:J.open,onClose:H,severity:J.severity,message:J.message}),a.a.createElement(Je,{open:d}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{sx:{flexGrow:1,mr:1},size:"small",value:pd.find(function(e){return e.value===q.toString()}),onChange:function(e,t){return function(e){if(e){var t="true"===e.value;U(t)}else U(!1),_(0)}(t)},options:pd,getOptionLabel:function(e){return e.label},label:"Filter By Accepted"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){N(e),_(1)},onReset:function(){N(""),_(1)}})))),a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement("h3",{style:{textAlign:"left",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Purchase Invoice")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3}))),a.a.createElement(Yn.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(dd,null,a.a.createElement(md,{align:"center"}),a.a.createElement(md,{align:"center"},"GRN DATE"),a.a.createElement(md,{align:"center"},"GRN NO"),a.a.createElement(md,{align:"center"},"INVOICE NO"),a.a.createElement(md,{align:"center"},"VENDOR"),a.a.createElement(md,{align:"center"},"PACKING LIST"),a.a.createElement(md,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,b.map(function(e,t){return a.a.createElement(hd,{key:t,row:e,openInPopup:Z,handlePurchaseInvoice:X,userData:Y})}))," ")),a.a.createElement(Vr,{currentPage:O,totalPages:S,handlePageChange:function(e,t){_(t)}}))),a.a.createElement(Ce,{fullScreen:!0,title:"Update GRN Details",openPopup:r,setOpenPopup:o},a.a.createElement(id,{setOpenPopup:o,getAllGRNDetails:K,idForEdit:I,currentPage:O,acceptedFilter:q,searchQuery:T})),a.a.createElement(Ce,{fullScreen:!0,title:"Purchase Invoice Create",openPopup:f,setOpenPopup:h},a.a.createElement(ud,{setOpenPopup:h,recordForEdit:z,getAllGRNDetails:K})))};function hd(e){var t=e.row,r=e.userData,o=e.handlePurchaseInvoice,i=Object(n.useState)(!1),c=Object(l.a)(i,2),u=c[0],s=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(dd,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(md,null,a.a.createElement(d.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return s(!u)}},u?a.a.createElement(Sm.a,null):a.a.createElement(jm.a,null))),a.a.createElement(md,{align:"center"},t.created_on),a.a.createElement(md,{align:"center"},t.grn_no),a.a.createElement(md,{align:"center"},t.packing_list_no),a.a.createElement(md,{align:"center"},t.vendor),a.a.createElement(md,{align:"center"},t.packing_list),a.a.createElement(md,{align:"center"},(r.groups.includes("Accounts Executive")||r.groups.includes("Director")||r.groups.includes("Accounts"))&&a.a.createElement(We.a,{onClick:function(){return o(t)}},"Create PI"))),a.a.createElement(Un.a,null,a.a.createElement(qn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(J.a,{in:u,timeout:"auto",unmountOnExit:!0},a.a.createElement(Ae.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Vn.a,{size:"small","aria-label":"purchases"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,{align:"center"},"PRODUCT"),a.a.createElement(qn.a,{align:"center"},"UNIT"),a.a.createElement(qn.a,{align:"center"},"DESCRIPTION"),a.a.createElement(qn.a,{align:"center"},"QUANTITY"),a.a.createElement(qn.a,{align:"center"},"QA REJECTED"),a.a.createElement(qn.a,{align:"center"},"QA ACCEPTED"))),a.a.createElement(Hn.a,null,t.products.map(function(e,t){return a.a.createElement(dd,{key:t},a.a.createElement(md,{align:"center"},e.products),a.a.createElement(md,{align:"center"},e.unit),a.a.createElement(md,{align:"center"},e.description),a.a.createElement(md,{align:"center"},e.order_quantity),a.a.createElement(md,{align:"center"},e.qa_rejected),a.a.createElement(md,{align:"center"},e.qa_accepted))}))))))))}var pd=[{label:"Accepted",value:"true"},{label:"Not Accepted",value:"false"}],md=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),dd=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),yd=r(672);function vd(){vd=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var gd=function(e){var t=e.idForEdit;console.log("idForEdit",t);var r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],s=o[1],f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)([]),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useRef)();Object(n.useEffect)(function(){t&&E()},[t]);for(var E=function(){var e=Object(c.a)(vd().mark(function e(){var r;return vd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Kr.getPurchaseInvoiceDataById(t);case 4:r=e.sent,s(r.data),g(r.data.products_data),m(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),m(!1),console.log("company data by id error",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),w=(i.amount_in_words?i.amount_in_words:"").split(" "),x=0;x<w.length;x++)w[x]=w[x].charAt(0).toUpperCase()+w[x].slice(1);var O=w.join(" "),_=Object(Bi.useReactToPrint)({content:function(){return b.current},documentTitle:"PI Number ".concat(i.invoice_no," ").concat(i)});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:p}),a.a.createElement("div",{className:"container-fluid mb-4",style:{border:"1px Solid #000000"}},a.a.createElement("div",{className:"row p-4"},a.a.createElement("div",{className:"col-xs-6 "},a.a.createElement(We.a,{variant:"contained",color:"secondary",onClick:_,startIcon:a.a.createElement(Wi.a,null)},"Print")))),a.a.createElement("div",{className:"container-fluid m-0 p-0",style:{border:"1px Solid #000000"},ref:b},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-xs-12"},a.a.createElement("div",{className:"grid invoice",style:{padding:"10px"}},a.a.createElement("div",{className:"grid-body"},a.a.createElement("div",{className:"invoice-title"},a.a.createElement("div",{className:"row",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("div",{className:"col-md-2 align-self-center logos"},a.a.createElement("img",{src:ec.a,alt:"",Height:"60",width:"150"})),a.a.createElement("div",{className:"col-md-7",style:{marginRight:"1rem"}},a.a.createElement("div",{className:"text-center address"},a.a.createElement("strong",{style:Object(u.a)({},bd)},"Glutape India Private Limited"),a.a.createElement("br",null),a.a.createElement("p",{style:{fontSize:"0.70rem"}},i.seller_address,",",i.seller_city,",",i.seller_state,"-",i.seller_state_code,",",a.a.createElement("br",null),i.seller_pincode,", CIN No ;-",i.seller_cin,", P.No :-",i.seller_contact," ",a.a.createElement("br",null),"E:",i.seller_email,",W:www.glutape.com"))),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-end msme"},a.a.createElement("img",{src:Xi.a,alt:"",height:"50",width:"90"})),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-start iso"},a.a.createElement("img",{src:hm.a,alt:"",height:"35",width:"90"}))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("p",{className:"text-center fs-6 fw-bold p-0 m-0"},"Purchase Invoice"))),a.a.createElement("div",{className:"row",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("div",{className:"col-md-6 justify-content-end"},a.a.createElement("address",{className:"justify-content-end"},a.a.createElement("strong",{style:Object(u.a)({},bd)},"Shipped From:"),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},bd)},"Supplier :"," "),i.supplier_name,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},bd)},"Address :"," "),i.address),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},bd)},"City & State:"," "),i.city," &"," ",i.state,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},bd)},"Pin Code :"," "),i.pincode),""!==i.gst_number?a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},bd)},"Gst Number :"," "),i.gst_number):null,""!==i.pan_number?a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},bd)},"Pan Number :"," "),i.pan_number):null)),a.a.createElement("div",{className:"col-md-6",style:Object(u.a)({},bd,{borderLeft:"1px Solid #000000"})},a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},bd)},"Voucher No & Date. :"," "),i.invoice_no," &"," ",i.invoice_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},bd)},"Grn No & Date. :"," "),i.grn_number," &"," ",i.grn_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},bd)},"Purchase Order No & Date :"),i.po_no," &"," ",i.po_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},bd)},"Supplier Invoice & Date:"," "),i.packing_list_no," &"," ",i.order_date)))),a.a.createElement("div",{className:"row",style:Object(u.a)({},bd,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-12"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",{className:"line"},a.a.createElement("td",{className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},bd)},"SR.NO")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},bd)},"DESCRIPTION OF GOODS")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},bd)},"HSN CODE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},bd)},"QUANTITY")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},bd)},"UNIT")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},bd)},"RATE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},bd)},"AMOUNT")))),a.a.createElement("tbody",null,v.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",{className:"text-start"},t+1),a.a.createElement("td",{className:"text-center"},e.description,a.a.createElement("br",null),e.product),a.a.createElement("td",{className:"text-center"},e.hsn),a.a.createElement("td",{className:"text-center"},e.quantity),a.a.createElement("td",{className:"text-center"},e.unit),a.a.createElement("td",{className:"text-center"},e.rate),a.a.createElement("td",{className:"text-center"},e.amount))}),a.a.createElement("tr",null,a.a.createElement("td",{colspan:"3",className:"text-start"}),a.a.createElement("td",{colspan:"2"},a.a.createElement("strong",{style:Object(u.a)({},bd)},"Taxable Amount"),i.gst>0?a.a.createElement(a.a.Fragment,null,a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},bd)},"GST Amount")):null,i.round_off>0?a.a.createElement(a.a.Fragment,null,a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},bd)},"Round Off")):null,a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},bd)},"Total Amount")),a.a.createElement("td",{colspan:"1",className:"text-right"},a.a.createElement("span",null,i.amount),i.gst>0?a.a.createElement(a.a.Fragment,null,a.a.createElement("br",null),a.a.createElement("span",null,i.gst?i.gst:"-")):null,i.round_off>0?a.a.createElement(a.a.Fragment,null,a.a.createElement("br",null),a.a.createElement("span",{style:Object(u.a)({},bd)},i.round_off)):null,a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},bd)},i.round_off_total))))))),a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},bd,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-8 text-right"},a.a.createElement("strong",null,"Amount in Words :-"),"\xa0\xa0",O)),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12 "},a.a.createElement("img",{src:Ki.a,alt:"",height:"60",width:"100%"})))))))))},bd={fontSize:"0.80rem"};function Ed(){Ed=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var wd=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(null),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(0),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(0),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(""),P=Object(l.a)(k,2),C=P[0],T=P[1],N="".concat((new Date).getFullYear(),"-").concat(((new Date).getMonth()+1).toString().padStart(2,"0")),D=Object(n.useState)(N),A=Object(l.a)(D,2),I=A[0],F=A[1],G=gt(),W=G.handleError,z=G.handleCloseSnackbar,R=G.alertInfo,B=Object(n.useCallback)(function(){var e=Object(c.a)(Ed().mark(function e(t){var r,n,a,o=arguments;return Ed().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:I,n=o.length>2&&void 0!==o[2]?o[2]:C,e.prev=2,f(!0),e.next=6,Kr.getAllPurchaseInvoiceData(r,t,n);case 6:a=e.sent,d(a.data.results),O(Math.ceil(a.data.count/25)),f(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),W(e.t0),f(!1),console.error("error",e.t0);case 17:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}(),[I,C]);Object(n.useEffect)(function(){B(L)},[L,B]);var M=function(e){b(e),o(!0)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:R.open,onClose:z,severity:R.severity,message:R.message}),a.a.createElement(Je,{open:s}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",type:"month",label:"Filter By Month and Year",value:I,onChange:function(e){S(0),F(e.target.value),B(0,e.target.value,C)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){T(e),S(1)},onReset:function(){T(""),S(0)}})))),a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement("h3",{style:{textAlign:"left",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Purchase Register")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3}))),a.a.createElement(Yn.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(_d,null,a.a.createElement(Od,{align:"center"}),a.a.createElement(Od,{align:"center"},"GRN NO"),a.a.createElement(Od,{align:"center"},"GRN Date"),a.a.createElement(Od,{align:"center"},"PURCHASE ORDER NO"),a.a.createElement(Od,{align:"center"},"VENDOR"),a.a.createElement(Od,{align:"center"},"INVOICE NO "),a.a.createElement(Od,{align:"center"},"ORDER DATE"),a.a.createElement(Od,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,m.map(function(e,t){return a.a.createElement(xd,{key:t,row:e,getAllPurchaseInvoiceDetails:B,openInPopup:M})}))," ")),a.a.createElement(yd.a,{sx:{display:"flex",justifyContent:"center",marginTop:"2em"}},a.a.createElement(Yr.a,{count:x,onChange:function(e,t){S(t)},color:"primary",variant:"outlined",shape:"circular"})))),a.a.createElement(Ce,{fullScreen:!0,title:"Update Purchase Invoice Details",openPopup:r,setOpenPopup:o},a.a.createElement(gd,{setOpenPopup:o,getAllPurchaseInvoiceDetails:B,idForEdit:g})))};function xd(e){var t=e.row,r=e.openInPopup,o=Object(n.useState)(!1),i=Object(l.a)(o,2),c=i[0],u=i[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(_d,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(Od,null,a.a.createElement(d.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return u(!c)}},c?a.a.createElement(Sm.a,null):a.a.createElement(jm.a,null))),a.a.createElement(Od,{align:"center"},t.grn),a.a.createElement(Od,{align:"center"},t.grn_date),a.a.createElement(Od,{align:"center"},t.po_no),a.a.createElement(Od,{align:"center"},t.supplier_name),a.a.createElement(Od,{align:"center"},t.packing_list_no),a.a.createElement(Od,{align:"center"},t.order_date),a.a.createElement(Od,{align:"center"},a.a.createElement(We.a,{onClick:function(){r(t.id)},color:"success"},"View"))),a.a.createElement(Un.a,null,a.a.createElement(qn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(J.a,{in:c,timeout:"auto",unmountOnExit:!0},a.a.createElement(Ae.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Vn.a,{size:"small","aria-label":"purchases"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,{align:"center"},"SR.NO"),a.a.createElement(qn.a,{align:"center"},"PRODUCT"),a.a.createElement(qn.a,{align:"center"},"DESCRIPTION"),a.a.createElement(qn.a,{align:"center"},"UNIT"),a.a.createElement(qn.a,{align:"center"},"QUANTITY"),a.a.createElement(qn.a,{align:"center"},"RATE"),a.a.createElement(qn.a,{align:"center"},"AMOUNT"))),a.a.createElement(Hn.a,null,t.products_data.map(function(e,t){return a.a.createElement(_d,{key:t},a.a.createElement(Od,{align:"center"},t+1),a.a.createElement(Od,{align:"center"},e.product),a.a.createElement(Od,{align:"center"},e.description),a.a.createElement(Od,{align:"center"},e.unit),a.a.createElement(Od,{align:"center"},e.quantity),a.a.createElement(Od,{align:"center"},e.rate),a.a.createElement(Od,{align:"center"},e.amount))}))))))))}var Od=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),_d=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function jd(){jd=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ld=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})});function Sd(e){var t=e.bomProducts;return a.a.createElement(Fe.a,{container:!0,spacing:2,sx:{marginBottom:2}},t.map(function(e,t){return a.a.createElement(V.a,{key:t},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:4,sm:2},a.a.createElement(E.a,{variant:"subtitle2",sx:{fontWeight:"bold"}},"Product:")),a.a.createElement(Fe.a,{item:!0,xs:8,sm:4},a.a.createElement(E.a,{variant:"body2",sx:{color:"text.secondary"}},e.product)),a.a.createElement(Fe.a,{item:!0,xs:4,sm:2},a.a.createElement(E.a,{variant:"subtitle2",sx:{fontWeight:"bold"}},"Quantity:")),a.a.createElement(Fe.a,{item:!0,xs:8,sm:4},a.a.createElement(E.a,{variant:"body2",sx:{color:"text.secondary"}},e.quantity))))}))}var kd=function(e){var t=e.setOpenPopup,r=e.challanNumbers,o=e.getChalanDetails,i=Object(n.useState)({challan:r.challan_no,job_worker:r.job_worker,buyer_account:r.buyer_account,service_charge:"",transport_cost:"",invoice_no:"",products:[{product:"",quantity:"",bom_id:""}]}),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),d=m[0],v=m[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=gt(),O=x.handleSuccess,_=x.handleError,j=x.handleCloseSnackbar,L=x.alertInfo;Object(n.useEffect)(function(){(function(){var e=Object(c.a)(jd().mark(function e(){var t,r,n,a;return jd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([Pn.getAllProduct(),Kr.getAllBillofMaterialsData("all")]);case 3:t=e.sent,r=Object(l.a)(t,2),n=r[0],a=r[1],w(n.data),v(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching initial data:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}})()()},[]);var S=function(e){var t=e.target,r=t.name,n=t.value;h(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},k=function(e,t,r){var n=Object(vr.a)(f.products);n[e][t]=r,h(function(e){return Object(u.a)({},e,{products:n})})},P=function(){var e=Object(c.a)(jd().mark(function e(t,r){var n,a,o,i;return jd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(n=Object(vr.a)(f.products))[t].bom_id=r,(a=d.find(function(e){return e.bom_id===r}))?(o=a.products_data||[],i=o.map(function(e){return{product:e.product,quantity:e.quantity}}),n[t].bom_products=i,h(function(e){return Object(u.a)({},e,{products:n})})):console.error("Selected BOM not found in bomIdOptions");case 4:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),C=function(){var e=Object(c.a)(jd().mark(function e(r){var n,a;return jd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,n=Object(u.a)({},f,{service_charge:parseInt(f.service_charge,10),transport_cost:parseInt(f.transport_cost,10),products:f.products.map(function(e){return{product:e.product,quantity:parseInt(e.quantity,10),bom_id:e.bom_id}})}),e.next=5,Kr.createChalanInvoice(n);case 5:a=e.sent,console.log("Invoice Created:",a),o(),O("Chalan Invoice Created Successfully"),t(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),_(e.t0);case 15:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:L.open,onClose:j,severity:L.severity,message:L.message}),a.a.createElement("form",{onSubmit:C},a.a.createElement(Fe.a,{container:!0,spacing:2},["challan","job_worker","buyer_account","service_charge","transport_cost","invoice_no"].map(function(e,t){return a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,key:t},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:e.replace(/_/g," "),name:e,type:"service_charge"===e||"transport_cost"===e?"number":"text",value:f[e],onChange:S}))}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ld,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Product"})))),f.products.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:t},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo-".concat(t),value:e.product,onChange:function(e,r){return k(t,"product",r)},options:E.map(function(e){return e.name}),getOptionLabel:function(e){return e},label:"Product"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Quantity",name:"quantity",type:"number",value:e.quantity,onChange:function(e){return k(t,"quantity",e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{name:"bom_id",size:"small",disablePortal:!0,id:"bom-box-".concat(t),value:e.bom_id,onChange:function(e,r){return P(t,r)},options:d.map(function(e){return e.bom_id}),getOptionLabel:function(e){return e},label:"BOM ID"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},0!==t&&a.a.createElement(We.a,{disabled:0===t,onClick:function(){return function(e){var t=f.products.filter(function(t,r){return r!==e});h(function(e){return Object(u.a)({},e,{products:t})})}(t)},variant:"contained"},"Remove")),e.bom_products&&e.bom_products.length>0&&a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{sx:{mt:2,mb:1}},a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"BOM Products"}))),a.a.createElement(Sd,{bomProducts:e.bom_products})))}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(We.a,{onClick:function(){h(function(e){return Object(u.a)({},e,{products:[].concat(Object(vr.a)(e.products),[{product:"",quantity:"",bom_id:""}])})})},variant:"contained",sx:{marginRight:"1em"}},"Add More...")),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary"},"Create Invoice")))))};function Pd(){Pd=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Cd=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(1),m=Object(l.a)(p,2),y=m[0],v=m[1],g=Object(n.useState)(0),b=Object(l.a)(g,2),w=b[0],x=b[1],O=Object(n.useState)({}),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(!1),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)([]),N=Object(l.a)(T,2),D=N[0],A=N[1],I=gt(),F=I.handleError,G=I.handleCloseSnackbar,W=I.alertInfo;Object(n.useEffect)(function(){z(y)},[y]);var z=function(){var e=Object(c.a)(Pd().mark(function e(t){var r,n;return Pd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,Kr.getChalan(t);case 4:(r=e.sent)&&r.data.results&&h(r.data.results),n=r.data.count,x(Math.ceil(n/25)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),F(e.t0),console.error("Error fetching Chalan data",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,10,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:W.open,onClose:G,severity:W.severity,message:W.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{marginBottom:"10px"}),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Challan Register"),a.a.createElement("div",null)),a.a.createElement(Yn.a,{sx:{maxHeight:400,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Nd,null,a.a.createElement(Td,{align:"center"},"Toggle"),a.a.createElement(Td,{align:"center"},"Buyer Account"),a.a.createElement(Td,{align:"center"},"Job Worker"),a.a.createElement(Td,{align:"center"},"Challan No"),a.a.createElement(Td,{align:"center"},"Total Amount"),a.a.createElement(Td,{align:"center"},"Transpotation Cost"),a.a.createElement(Td,{align:"center"},"Accepted"),a.a.createElement(Td,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,f.map(function(e){return a.a.createElement(a.a.Fragment,{key:e.id},a.a.createElement(Nd,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(Td,null,a.a.createElement(d.a,{"aria-label":"expand row",size:"small",onClick:function(){return t=e.id,void L(function(e){return Object(u.a)({},e,Object(Y.a)({},t,!e[t]))});var t}},j[e.id]?a.a.createElement(Sm.a,null):a.a.createElement(jm.a,null))),a.a.createElement(Td,{align:"center"},e.buyer_account),a.a.createElement(Td,{align:"center"},e.job_worker),a.a.createElement(Td,{align:"center"},e.challan_no),a.a.createElement(Td,{align:"center"},e.total_amount),a.a.createElement(Td,{align:"center"},e.transpotation_cost),a.a.createElement(Td,{align:"center"},a.a.createElement(Ei.a,{checked:e.is_accepted,inputProps:{"aria-label":"controlled"}})),a.a.createElement(Td,{align:"center"},!e.is_accepted&&a.a.createElement(We.a,{variant:"text",color:"primary",onClick:function(){return function(e){C(!0),A(e)}(e)}},"Challan Create"))),a.a.createElement(Un.a,null,a.a.createElement(qn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:8},a.a.createElement(J.a,{in:j[e.id],timeout:"auto",unmountOnExit:!0},a.a.createElement(Ae.a,{margin:1},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Vn.a,{size:"small","aria-label":"products"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,null,"GRN"),a.a.createElement(qn.a,null,"Product"),a.a.createElement(qn.a,null,"Unit"),a.a.createElement(qn.a,null,"Description"),a.a.createElement(qn.a,null,"Chalan"),a.a.createElement(qn.a,{align:"right"},"Quantity"),a.a.createElement(qn.a,{align:"right"},"Rate"),a.a.createElement(qn.a,{align:"right"},"Amount"))),a.a.createElement(Hn.a,null,e.products.map(function(e){return a.a.createElement(Un.a,{key:e.product},a.a.createElement(qn.a,null,e.grn),a.a.createElement(qn.a,{component:"th",scope:"row"},e.product),a.a.createElement(qn.a,null,e.unit),a.a.createElement(qn.a,null,e.description),a.a.createElement(qn.a,null,e.challan),a.a.createElement(qn.a,{align:"right"},e.quantity),a.a.createElement(qn.a,{align:"right"},e.rate),a.a.createElement(qn.a,{align:"right"},e.amount))}))))))))})))),a.a.createElement(Vr,{currentPage:y,totalPages:w,handlePageChange:function(e,t){v(t)}}),a.a.createElement(Ce,{openPopup:P,setOpenPopup:C,title:"Create Challan Invoice",fullScreen:!0},a.a.createElement(kd,{currentPage:y,setOpenPopup:C,challanNumbers:D,getChalanDetails:z})))))},Td=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),Nd=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Dd(){Dd=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ad=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(1),m=Object(l.a)(p,2),y=m[0],v=m[1],g=Object(n.useState)(0),b=Object(l.a)(g,2),w=b[0],x=b[1],O=Object(n.useState)({}),_=Object(l.a)(O,2),j=_[0],L=_[1];Object(n.useEffect)(function(){S(y)},[y]);var S=function(){var e=Object(c.a)(Dd().mark(function e(t){var r;return Dd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,Kr.getChallanInvoice(t);case 4:(r=e.sent)&&r.data.results&&h(r.data.results),x(Math.ceil(r.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching invoice data",e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,9,12,15]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Challan Invoice")),a.a.createElement(Yn.a,{sx:{maxHeight:400,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Fd,null,a.a.createElement(Id,{align:"center"},"Toggle"),a.a.createElement(Id,{align:"center"},"Job Worker"),a.a.createElement(Id,{align:"center"},"Buyer Account"),a.a.createElement(Id,{align:"center"},"Invoice No"),a.a.createElement(Id,{align:"center"},"Service Charges"),a.a.createElement(Id,{align:"center"},"Service GST"),a.a.createElement(Id,{align:"center"},"Total Amount"))),a.a.createElement(Hn.a,null,f.map(function(e){return a.a.createElement(a.a.Fragment,{key:e.id},a.a.createElement(Fd,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(Id,null,a.a.createElement(d.a,{"aria-label":"expand row",size:"small",onClick:function(){return t=e.id,void L(function(e){return Object(u.a)({},e,Object(Y.a)({},t,!e[t]))});var t}},j[e.id]?a.a.createElement(Sm.a,null):a.a.createElement(jm.a,null))),a.a.createElement(Id,{align:"center"},e.job_worker),a.a.createElement(Id,{align:"center"},e.buyer_account),a.a.createElement(Id,{align:"center"},e.invoice_no),a.a.createElement(Id,{align:"center"},e.service_charge),a.a.createElement(Id,{align:"center"},e.service_gst),a.a.createElement(Id,{align:"center"},e.total_amount)),a.a.createElement(Un.a,null,a.a.createElement(qn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:8},a.a.createElement(J.a,{in:j[e.id],timeout:"auto",unmountOnExit:!0},a.a.createElement(Ae.a,{margin:1},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Vn.a,{size:"small","aria-label":"products"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,null,"Product"),a.a.createElement(qn.a,null,"Unit"),a.a.createElement(qn.a,null,"Description"),a.a.createElement(qn.a,{align:"right"},"Quantity"),a.a.createElement(qn.a,{align:"right"},"Rate"),a.a.createElement(qn.a,{align:"right"},"Amount"))),a.a.createElement(Hn.a,null,e.products.map(function(e){return a.a.createElement(Un.a,{key:e.product},a.a.createElement(qn.a,{component:"th",scope:"row"},e.product),a.a.createElement(qn.a,null,e.unit),a.a.createElement(qn.a,null,e.description),a.a.createElement(qn.a,{align:"right"},e.quantity),a.a.createElement(qn.a,{align:"right"},e.rate),a.a.createElement(qn.a,{align:"right"},e.amount))}))))))))})))),a.a.createElement(Vr,{currentPage:y,totalPages:w,handlePageChange:function(e,t){v(t)}}))))},Id=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),Fd=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Gd=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=[{label:"Purchase Order Book",roles:["Director","Purchase"],component:a.a.createElement($m,null)},{label:"Purchase Invoice",roles:["Director","Accounts","Accounts Executive"],component:a.a.createElement(wd,null)},{label:"Purchase Register",roles:["Director","Accounts","Stores Delhi","Production Delhi","Accounts Executive"],component:a.a.createElement(fd,null)},{label:"Challan Register",roles:["Director","Accounts","Purchase"],component:a.a.createElement(Cd,null)},{label:"Job Work Challan Invoice",roles:["Director","Accounts"],component:a.a.createElement(Ad,null)}].filter(function(t){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}.apply(void 0,Object(vr.a)(t.roles))}),r=Object(n.useState)(0),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Xr,{tabs:t.map(function(e){return{label:e.label,index:e.index}}),activeTab:i,onTabChange:function(e){c(e)}}),t.length>0&&t[i]?a.a.createElement("div",null,t[i].component):null)};function Wd(){Wd=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var zd=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getAllMaterialRequisitionFormDetails,o=e.storesInventoryData,i=e.currentPage,u=e.searchQuery,f=Object(n.useMemo)(function(){return o.map(function(e){return{product:e.product__name,unit:e.product__unit,quantity:e.quantity}})},[o]),h=gt(),p=h.handleSuccess,m=h.handleError,d=h.handleCloseSnackbar,v=h.alertInfo,g=Zs([{product:"",unit:"",quantity:""}],f),b=g.handleAutocompleteChange,E=g.handleFormChange,w=g.addFields,x=g.removeFields,O=g.products,_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(null),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(null),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(s.c)(function(e){return e.auth}).profile;Object(n.useEffect)(function(){G()},[]);var G=function(){var e=Object(c.a)(Wd().mark(function e(){var t,r;return Wd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=F.groups.includes("Production Delhi")?"Delhi":"Maharashtra",e.next=4,st.getfilterSellerAccountData(t);case 4:r=e.sent,I(r.data.results),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),m(e.t0),console.log("err",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(Wd().mark(function e(n){var a;return Wd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),S(!0),a={seller_account:C,user:F.email,products_data:O},e.next=6,Kr.createMaterialRequisitionFormData(a);case 6:p("MRF Created Successfully"),setTimeout(function(){t(!1)},300),r(i,u),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),m(e.t0);case 14:return e.prev=14,S(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:v.open,onClose:d,severity:v.severity,message:v.message}),a.a.createElement(Je,{open:L}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return W(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{name:"seller_account",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return T(t)},options:A&&A.map(function(e){return e.unit}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Seller Account"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Rd,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),O.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{key:t,item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",value:e.product||"",onChange:function(e,r){return b(t,e,r)},options:o.map(function(e){return e.product__name}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"unit",size:"small",label:"Unit",variant:"outlined",value:e.unit||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity||"",onChange:function(e){return E(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:1,alignContent:"right"},0!==t&&a.a.createElement(We.a,{disabled:0===t,onClick:function(){return x(t)},variant:"contained"},"Remove")))}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(We.a,{onClick:w,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))}),Rd=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})});function Bd(){Bd=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Md=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),qd=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getAllMaterialRequisitionFormDetails,o=e.idForEdit,i=e.storesInventoryData,u=e.currentPage,f=e.searchQuery,h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],v=Object(s.c)(function(e){return e.auth}).profile,g=Object(n.useMemo)(function(){return i.map(function(e){return{product:e.product__name,unit:e.product__unit,quantity:e.quantity}})},[i]),b=Object(n.useMemo)(function(){return o.products_data.map(function(e){return{product:e.product,unit:e.unit,quantity:e.quantity}})},[o]),E=gt(),w=E.handleSuccess,x=E.handleError,O=E.handleCloseSnackbar,_=E.alertInfo,j=Zs(b,g),L=j.handleAutocompleteChange,S=j.handleFormChange,k=j.addFields,P=j.removeFields,C=j.products,T=function(){var e=Object(c.a)(Bd().mark(function e(n){var a;return Bd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),d(!0),a={seller_account:o.seller_account,user:v.email,products_data:C},e.next=6,Kr.updateMaterialRequisitionFormData(o.id,a);case 6:w("Material Requisition Form Accepted"),setTimeout(function(){t(!1)},300),r(u,f),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),x(e.t0);case 14:return e.prev=14,d(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:_.open,onClose:O,severity:_.severity,message:_.message}),a.a.createElement(Je,{open:m}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return T(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Seller Account",variant:"outlined",value:o.seller_account||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"User",variant:"outlined",value:o.user||""})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Md,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),C.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{key:t,item:!0,xs:12,sm:5},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",value:e.product||"",onChange:function(e,r){return L(t,e,r)},options:i.map(function(e){return e.product__name}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity||"",onChange:function(e){return S(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2,alignContent:"right"},0!==t&&a.a.createElement(We.a,{disabled:0===t,onClick:function(){return P(t)},variant:"contained"},"Remove")))}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(We.a,{onClick:k,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),!1===o.accepted||v.groups.includes("Accounts")?a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit"):null))});function Ud(){Ud=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Yd=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),f=Object(l.a)(i,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(null),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(1),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(0),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useState)(""),z=Object(l.a)(W,2),R=z[0],B=z[1],M=Object(n.useState)(""),q=Object(l.a)(M,2),U=q[0],Y=q[1],V=Object(n.useState)(""),Q=Object(l.a)(V,2),H=Q[0],J=Q[1],K=Object(n.useState)([]),Z=Object(l.a)(K,2),X=Z[0],$=Z[1],ee=Object(n.useState)([]),te=Object(l.a)(ee,2),re=te[0],ne=te[1],ae=gt(),oe=ae.handleSuccess,ie=ae.handleError,ce=ae.handleCloseSnackbar,le=ae.alertInfo,ue=Object(n.useState)(null),se=Object(l.a)(ue,2),fe=se[0],he=se[1],pe=Object(n.useState)(null),me=Object(l.a)(pe,2),de=me[0],ye=me[1],ve=(new Date).toISOString().split("T")[0],ge=new Date("2030-12-31").toISOString().split("T")[0],be=Object(n.useState)(!1),Ee=Object(l.a)(be,2),we=Ee[0],xe=Ee[1],Oe=Object(n.useState)("today"),_e=Object(l.a)(Oe,2),je=_e[0],Le=_e[1],Se=Object(s.c)(function(e){return e.auth.profile}),ke=Object(n.useState)([]),Pe=Object(l.a)(ke,2),Te=Pe[0],Ne=Pe[1],De=Object(n.useRef)(null),Ie=function(){var e=Object(c.a)(Ud().mark(function e(){var t;return Ud().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge();case 3:t=e.sent,Ne(t),setTimeout(function(){De.current.link.click()}),oe("CSV Downloaded Successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(c.a)(Ud().mark(function e(){var t,r;return Ud().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,w(!0),!R){e.next=8;break}return e.next=5,Kr.getAllMaterialRequisitionFormData("all",R);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Kr.getAllMaterialRequisitionFormData("all");case 10:t=e.sent;case 11:return r=t.data.reduce(function(e,t){var r=t.products_data.map(function(e){return{id:t.id,user:t.user,seller_account:t.seller_account,created_on:t.created_on,product:e.product,quantity:e.quantity,unit:e.unit}});return e.concat(r)},[]),w(!1),e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,w(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])}));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=Object(c.a)(Ud().mark(function e(){var t;return Ud().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,Kr.getAllConsStoresInventoryData();case 4:t=e.sent,ne(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("err",e.t0);case 11:return e.prev=11,w(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){ze()},[]);var Re=function(){var e=Object(c.a)(Ud().mark(function e(){var t;return Ud().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,st.getAllPaginateSellerAccountData("all");case 4:t=e.sent,$(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie(e.t0);case 11:return e.prev=11,w(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){Re()},[]);var Be=Object(n.useCallback)(Object(c.a)(Ud().mark(function e(){var t,r,n;return Ud().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),t=de?de.toISOString().split("T")[0]:"",r=fe?fe.toISOString().split("T")[0]:"",e.next=6,Kr.getAllMaterialRequisitionFormData(N,R,H,je,t,r);case 6:n=e.sent,j(n.data.results),G(Math.ceil(n.data.count/25)),w(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),ie(e.t0),w(!1),console.error("error",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,12]])})),[N,R,H,je,de,fe]);Object(n.useEffect)(function(){Be()},[N,R,H,je,de,fe]);var Me=function(){var e=Object(c.a)(Ud().mark(function e(t){var r;return Ud().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),r={seller_account:t.seller_account,user:t.user,accepted:!0,products_data:t.products_data},e.next=5,Kr.updateMaterialRequisitionFormData(t.id,r);case 5:o(!1),v(!1),Be(),oe("Material Requisition Form Accepted"),setTimeout(function(){w(!1)},300),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),ie(e.t0),console.log("error Store Accepting",e.t0),w(!1);case 17:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),qe=function(e){Y(e),o(!0)},Ue=function(){var e=Object(c.a)(Ud().mark(function e(t){var r,n,o,i;return Ud().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.products_data.reduce(function(e,t){return e+t.quantity},0)||0,w(!0),n=new zi.a,e.next=6,Object(Ri.g)(a.a.createElement(Jd,{materialRequisitionDataByID:t,Total_qty:r}),n,{}).toBlob();case 6:o=e.sent,(i=document.createElement("a")).href=URL.createObjectURL(o),i.download="ID Number ".concat(t.id,".pdf"),document.body.appendChild(i),i.click(),document.body.removeChild(i),oe("Material Requisition Form Printed"),w(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),ie(e.t0),console.log("error exporting pdf",e.t0);case 21:return e.prev=21,w(!1),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[0,17,21,24]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:le.open,onClose:ce,severity:le.severity,message:le.message}),a.a.createElement(Je,{open:E}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:5,gap:2,display:"flex",justifyContent:"space-between"},a.a.createElement(Ur,{onSearch:function(e){B(e),D(1)},onReset:function(){B(""),D(1)}}),a.a.createElement(sr,{size:"small",fullWidth:!0,onChange:function(e,t){var r;"custom_date"===(r=t?t.value:"")?(ye(new Date),he(new Date),Le(""),xe(!0)):(Le(r),ye(null),he(null))},options:Qd,getOptionLabel:function(e){return e.label},isOptionEqualToValue:function(e,t){return e.value===t.value},label:"Filter By Date"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"start"}},"Material Requisition Form")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{name:"seller_unit",size:"small",disablePortal:!0,id:"combo-box-demo",value:H,onChange:function(e,t){return function(e,t){J(t)}(0,t)},options:X.map(function(e){return e.unit}),getOptionLabel:function(e){return e},fullWidth:!0,label:"Filter By Seller Unit"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12,gap:2,display:"flex",justifyContent:"space-between"},(Se.groups.includes("Accounts")||Se.groups.includes("Director"))&&a.a.createElement(a.a.Fragment,null,a.a.createElement(We.a,{onClick:Ie,variant:"contained"},"Download CSV"),Te.length>0&&a.a.createElement(Bn.CSVLink,{data:Object(vr.a)(Te),headers:[{label:"ID",key:"id"},{label:"USER",key:"user"},{label:"SELLER STATE",key:"seller_account"},{label:"DATE",key:"created_on"},{label:"PRODUCT",key:"product"},{label:"UNIT",key:"unit"},{label:"QUANTITY",key:"quantity"}],ref:De,filename:"Store Inventory.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})),(Se.groups.includes("Production")||Se.groups.includes("Production Delhi")||Se.groups.includes("Director"))&&a.a.createElement(We.a,{onClick:function(){return p(!0)},variant:"contained",color:"success",style:{marginLeft:"5px"}},"Add")))),a.a.createElement(Yn.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Xd,null,a.a.createElement(Zd,{align:"center"}),a.a.createElement(Zd,{align:"center"},"ID"),a.a.createElement(Zd,{align:"center"},"USER"),a.a.createElement(Zd,{align:"center"},"SELLER UNIT"),a.a.createElement(Zd,{align:"center"},"DATE"),a.a.createElement(Zd,{align:"center"},"ACCEPTED"),a.a.createElement(Zd,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,_.map(function(e,t){return a.a.createElement(Vd,{key:t,row:e,openInPopup:qe,users:Se,setOpenPopup3:v,handlePrint:Ue,setMaterialRequisitionDataByID:P,updateMaterialRequisitionFormDetails:Me})}))," ")),a.a.createElement(yd.a,{sx:{display:"flex",justifyContent:"center",marginTop:"2em"}},a.a.createElement(Vr,{currentPage:N,totalPages:F,handlePageChange:function(e,t){D(t)}})))),a.a.createElement(Ce,{openPopup:we,setOpenPopup:xe,title:"Date Filter",maxWidth:"md"},a.a.createElement(yi,{startDate:de,endDate:fe,minDate:ve,maxDate:ge,handleStartDateChange:function(e){var t=new Date(e.target.value);ye(t),he(new Date)},handleEndDateChange:function(e){var t=new Date(e.target.value);he(t)},resetDate:function(){ye(new Date),he(new Date)}})),a.a.createElement(Ce,{maxWidth:"xl",title:"Create Material Requisition Details",openPopup:h,setOpenPopup:p},a.a.createElement(zd,{currentPage:N,searchQuery:R,storesInventoryData:re,getAllMaterialRequisitionFormDetails:Be,setOpenPopup:p})),a.a.createElement(Ce,{maxWidth:"xl",title:"Update Material Requisition Details",openPopup:r,setOpenPopup:o},a.a.createElement(qd,{currentPage:N,searchQuery:R,setOpenPopup:o,storesInventoryData:re,getAllMaterialRequisitionFormDetails:Be,idForEdit:U})),a.a.createElement(Ce,{maxWidth:"xl",title:"View Material Requisition Note",openPopup:y,setOpenPopup:v},null!==k&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("div",{style:Hd.container},a.a.createElement("div",{style:Kd.row},a.a.createElement("div",{id:"invoice"},a.a.createElement(Ri.b,{style:Hd.logo,src:ec.a})),a.a.createElement("div",{style:Object(u.a)({},Kd.cell,{textAlign:"left"})},a.a.createElement("strong",null,"Date")),a.a.createElement("div",{style:Kd.cell},k.created_on)),a.a.createElement("div",{style:Kd.row},a.a.createElement("div",{style:Object(u.a)({},Kd.cell,{textAlign:"left"})},a.a.createElement("strong",null,"User")),a.a.createElement("div",{style:Kd.cell},k.user)),a.a.createElement("div",{style:Kd.row},a.a.createElement("div",{style:Object(u.a)({},Kd.cell,{textAlign:"left"})},a.a.createElement("strong",null,"Seller Unit")),a.a.createElement("div",{style:Kd.cell},k.seller_account)),a.a.createElement("div",{style:Object(u.a)({},Kd.row,Kd.header)},a.a.createElement("div",{style:Kd.cell},"PRODUCT"),a.a.createElement("div",{style:Kd.cell},"UNIT"),a.a.createElement("div",{style:Kd.cell},"QUANTITY")),k&&k.products_data.map(function(e,t){return a.a.createElement("div",{style:Kd.row,key:t},a.a.createElement("div",{style:Kd.cell},e.product),a.a.createElement("div",{style:Kd.cell},e.unit),a.a.createElement("div",{style:Kd.cell},e.quantity))}))),a.a.createElement(We.a,{onClick:function(){return Me(k)},variant:"contained",color:"success"},"Accept"))))};function Vd(e){var t=e.row,r=e.openInPopup,o=e.users,i=e.setOpenPopup3,c=e.setMaterialRequisitionDataByID,u=e.handlePrint,s=Object(n.useState)(!1),f=Object(l.a)(s,2),h=f[0],p=f[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Xd,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(Zd,null,a.a.createElement(d.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return p(!h)}},h?a.a.createElement(Sm.a,null):a.a.createElement(jm.a,null))),a.a.createElement(Zd,{align:"center"},t.id),a.a.createElement(Zd,{align:"center"},t.user),a.a.createElement(Zd,{align:"center"},t.seller_account),a.a.createElement(Zd,{align:"center"},t.created_on),a.a.createElement(Zd,{align:"center"},a.a.createElement(Ei.a,{checked:t.accepted,inputProps:{"aria-label":"controlled"}})),a.a.createElement(Zd,{align:"center"},(o.groups.includes("Accounts")||o.groups.includes("Production")||o.groups.includes("Production Delhi")||o.groups.includes("Director"))&&!1===t.accepted&&a.a.createElement(We.a,{onClick:function(){return r(t)},color:"success"},"Edit"),a.a.createElement(We.a,{onClick:function(){u(t),c(t)}},"Download"),(o.groups.includes("Stores")||o.groups.includes("Stores Delhi")||o.groups.includes("Director"))&&!1===t.accepted&&a.a.createElement(We.a,{onClick:function(){i(!0),c(t)},color:"success"},"View"))),a.a.createElement(Un.a,null,a.a.createElement(qn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(J.a,{in:h,timeout:"auto",unmountOnExit:!0},a.a.createElement(Ae.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Vn.a,{size:"small","aria-label":"purchases"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,{align:"center"},"PRODUCT"),a.a.createElement(qn.a,{align:"center"},"UNIT"),a.a.createElement(qn.a,{align:"center"},"QUANTITY"))),a.a.createElement(Hn.a,null,t.products_data.map(function(e,t){return a.a.createElement(Xd,{key:t},a.a.createElement(Zd,{align:"center"},e.product),a.a.createElement(Zd,{align:"center"},e.unit),a.a.createElement(Zd,{align:"center"},e.quantity))}))))))))}var Qd=[{label:"Today",value:"today"},{label:"Yesterday",value:"yesterday"},{label:"This Month",value:"this_month"},{label:"Custom Date",value:"custom_date"}],Hd=Ri.d.create({container:{border:"1pt solid #ccc"},row:{display:"flex",flexDirection:"row",borderBottom:"1pt solid #ccc",padding:"5pt"},header:{backgroundColor:"#eee",fontWeight:"bold"},cell:{flex:1,flexGrow:1,textAlign:"center",padding:"5pt"},logo:{height:"auto",width:"100pt"},lightText:{color:"#777"}}),Jd=function(e){var t=e.materialRequisitionDataByID,r=e.Total_qty;return a.a.createElement(Ri.a,null,a.a.createElement(Ri.c,{style:{fontFamily:"Helvetica",fontSize:"12pt"}},a.a.createElement(Ri.f,{style:{padding:"20pt"}},a.a.createElement(Ri.f,{style:Hd.container},a.a.createElement(Ri.f,{style:Hd.row},a.a.createElement(Ri.f,{style:Hd.cell},a.a.createElement(Ri.b,{style:Hd.logo,src:ec.a})),a.a.createElement(Ri.f,{style:Object(u.a)({},Hd.cell,{justifyContent:"center",alignItems:"center"})},a.a.createElement(Ri.e,{style:{fontSize:"14pt",fontWeight:"semibold"}},"Material Requisition Form")),a.a.createElement(Ri.f,{style:Object(u.a)({},Hd.cell,{justifyContent:"center",alignItems:"center",display:"flex"})},a.a.createElement(Ri.e,{style:{fontSize:"14pt",fontWeight:"semibold"}},"ID: ",t.id))),a.a.createElement(Ri.f,{style:Hd.row},a.a.createElement(Ri.f,{style:Hd.cell},a.a.createElement(Ri.e,null,"Date")),a.a.createElement(Ri.f,{style:Hd.cell},a.a.createElement(Ri.e,{style:Hd.lightText},Ra()(t.created_on).format("DD-MM-YYYY")))),a.a.createElement(Ri.f,{style:Hd.row},a.a.createElement(Ri.f,{style:Hd.cell},a.a.createElement(Ri.e,null,"User")),a.a.createElement(Ri.f,{style:Hd.cell},a.a.createElement(Ri.e,{style:Hd.lightText},t.user))),a.a.createElement(Ri.f,{style:Hd.row},a.a.createElement(Ri.f,{style:Hd.cell},a.a.createElement(Ri.e,null,"Accepted")),a.a.createElement(Ri.f,{style:Hd.cell},a.a.createElement(Ri.e,{style:Hd.lightText},t.accepted?"Yes":"No"))),a.a.createElement(Ri.f,{style:Hd.row},a.a.createElement(Ri.f,{style:Hd.cell},a.a.createElement(Ri.e,null,"Seller Unit")),a.a.createElement(Ri.f,{style:Hd.cell},a.a.createElement(Ri.e,{style:Hd.lightText},t.seller_account))),a.a.createElement(Ri.f,{style:Hd.row},a.a.createElement(Ri.f,{style:Hd.cell}),a.a.createElement(Ri.f,{style:Hd.cell})),a.a.createElement(Ri.f,{style:Object(u.a)({},Hd.row,Hd.header)},a.a.createElement(Ri.f,{style:Hd.cell},a.a.createElement(Ri.e,null,"Sr. No.")),a.a.createElement(Ri.f,{style:Hd.cell},a.a.createElement(Ri.e,null,"PRODUCT")),a.a.createElement(Ri.f,{style:Hd.cell},a.a.createElement(Ri.e,null,"UNIT")),a.a.createElement(Ri.f,{style:Hd.cell},a.a.createElement(Ri.e,null,"QUANTITY"))),t&&t.products_data.map(function(e,t){return a.a.createElement(Ri.f,{style:Hd.row,key:t},a.a.createElement(Ri.f,{style:Hd.cell},a.a.createElement(Ri.e,{style:Hd.lightText},t+1)),a.a.createElement(Ri.f,{style:Hd.cell},a.a.createElement(Ri.e,{style:Hd.lightText},e.product)),a.a.createElement(Ri.f,{style:Hd.cell},a.a.createElement(Ri.e,{style:Hd.lightText},e.unit)),a.a.createElement(Ri.f,{style:Hd.cell},a.a.createElement(Ri.e,{style:Hd.lightText},e.quantity)))}),a.a.createElement(Ri.f,{style:{margin:"10px",textAlign:"right",width:"100%",fontSize:"14px"}},a.a.createElement(Ri.e,{style:Object(u.a)({},Hd.lightText,{marginRight:"40px"})},"TOTAL QTY : ",r))))))},Kd={container:{borderCollapse:"collapse",width:"100%",marginBottom:"1rem"},row:{display:"flex",borderBottom:"1px solid #dee2e6"},lastRow:{borderBottom:"none"},header:{fontWeight:"bold",backgroundColor:"#f2f2f2"},cell:{flexBasis:0,flexGrow:1,padding:"0.5rem",textAlign:"center"}},Zd=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),Xd=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function $d(){$d=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ey=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),ty=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.sellerOption,o=e.getAllProductionEntryDetails,i=e.currentPage,f=e.searchQuery,h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(0),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(!1),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(s.c)(function(e){return e.auth}),A=Object(n.useState)(null),I=Object(l.a)(A,2),F=I[0],G=I[1],W=D.profile,z=D.finishgoodsProduct,R=Object(n.useState)([{product:null,quantity:null,expected_quantity:null}]),B=Object(l.a)(R,2),M=B[0],q=B[1],U=gt(),V=U.handleSuccess,Q=U.handleError,H=U.handleCloseSnackbar,J=U.alertInfo,K=function(){var e=Object(c.a)($d().mark(function e(t){var r;return $d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,Kr.getAllBillofMaterialsData("all","true",!1,t);case 4:r=e.sent,E(r.data),d(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),d(!1),console.log("err all vendor",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(c.a)($d().mark(function e(r){var n,a;return $d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.preventDefault(),d(!0),n=T?M.map(function(e){return{product:e.product,quantity:parseFloat(e.quantity)||0,expected_quantity:(parseFloat(e.expected_quantity)*parseFloat(S.quantity)).toFixed(4)}}):M.map(function(e){var t=parseFloat(e.quantity),r=parseFloat(S.quantity)||0;return{product:e.product,quantity:isNaN(t)||isNaN(r)?0:(t*r).toFixed(4),expected_quantity:(parseFloat(e.expected_quantity)*parseFloat(S.quantity)).toFixed(4)}}),a={seller_account:F,user:W.email,bom:O.bom_id,product:O.product,production_gnl:T,quantity:S.quantity,products_data:n},e.next=7,Kr.createProductionEntryData(a);case 7:t(!1),o(i,f),V("Production Entry Created Successfully"),setTimeout(function(){d(!1)},300),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),Q(e.t0);case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:J.open,onClose:H,severity:J.severity,message:J.message}),a.a.createElement(Je,{open:m}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return Z(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{name:"seller_account",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return G(t)},options:r&&r.map(function(e){return e.unit}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Seller Account"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return K(t)},options:z?z.map(function(e){return e}):[],getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"bom",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return function(e){_(e);var t=e.products_data.map(function(e){return{product:e.product,unit:e.unit,quantity:e.quantity,expected_quantity:e.quantity}});q(t)}(t)},options:b,getOptionLabel:function(e){return e.bom_id},sx:{minWidth:300},label:"Bill of Material"})),("amol@glutape.com"===W.email||W.groups.includes("Director"))&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(pr.a,{label:"Gain And Loss",control:a.a.createElement(mr.a,{checked:T,onChange:function(e){return N(e.target.checked)},inputProps:{"aria-label":"controlled"},disabled:T})})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:S.quantity,onChange:function(e){return function(e){var t=e.target,r=t.name,n=t.value;k(Object(u.a)({},S,Object(Y.a)({},r,n)))}(e)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ey,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),M.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{key:t,item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:e.product?e.product:""})),a.a.createElement(Fe.a,{key:t,item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit?e.unit:""})),!1===T?a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:S.quantity&&e.quantity?(parseFloat(e.quantity)*parseFloat(S.quantity)).toFixed(4):e.quantity||"",InputLabelProps:{shrink:!0},disabled:!0})):a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",type:"number",value:S.quantity&&e.quantity&&!T?(parseFloat(e.quantity)*parseFloat(S.quantity)).toFixed(4):e.quantity||"",onChange:function(e){return function(e,t){var r=Object(vr.a)(M),n=t.target.value;n=isNaN(n)?0:parseFloat(n),r[e][t.target.name]=n,q(r)}(t,e)}})),T&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"expected_quantity",size:"small",label:"Expected Quantity",variant:"outlined",value:S.quantity&&e.expected_quantity?(parseFloat(e.expected_quantity)*parseFloat(S.quantity)).toFixed(4):""})))})),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function ry(){ry=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ny=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(1),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(0),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(""),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(null),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(s.c)(function(e){return e.auth.profile}),A=Object(s.b)(),I=Object(n.useState)(null),F=Object(l.a)(I,2),G=F[0],W=F[1],z=Object(n.useState)(null),R=Object(l.a)(z,2),B=R[0],M=R[1],q=(new Date).toISOString().split("T")[0],Y=new Date("2030-12-31").toISOString().split("T")[0],V=Object(n.useState)(!1),Q=Object(l.a)(V,2),H=Q[0],J=Q[1],K=Object(n.useState)("today"),Z=Object(l.a)(K,2),X=Z[0],$=Z[1],ee=Object(n.useState)([]),te=Object(l.a)(ee,2),re=te[0],ne=te[1],ae=Object(n.useRef)(null),oe=gt(),ie=oe.handleError,ce=oe.handleCloseSnackbar,le=oe.alertInfo;Object(n.useEffect)(function(){ue(),se()},[]);var ue=function(){var e=Object(c.a)(ry().mark(function e(){var t,r;return ry().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),t=D.groups.includes("Production Delhi")?"Delhi":"Maharashtra",e.next=5,st.getfilterSellerAccountData(t);case 5:r=e.sent,N(r.data.results),h(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie(e.t0);case 13:return e.prev=13,h(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(c.a)(ry().mark(function e(){var t;return ry().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Pn.getAllFinishGoodsProducts();case 4:t=e.sent,A(U(t.data.data)),h(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){pe(b,S)},[b,S,B,G,X]);var fe=function(){var e=Object(c.a)(ry().mark(function e(){var t,r,n,a;return ry().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=B?B.toISOString().split("T")[0]:"",r=G?G.toISOString().split("T")[0]:"",h(!0),e.next=6,Kr.getAllProductionEntryData("all",S,t,r,X);case 6:return n=e.sent,a=n.data.map(function(e){return{id:e.id,bom:e.bom,seller_account:e.seller_account,product:e.product,quantity:e.quantity,user:e.user,created_on:e.created_on}}),console.log("data",a),h(!1),e.abrupt("return",a);case 13:e.prev=13,e.t0=e.catch(0),ie(e.t0),console.log("while downloading Price list",e.t0);case 17:return e.prev=17,h(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[0,13,17,20]])}));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(c.a)(ry().mark(function e(){var t;return ry().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe();case 3:t=e.sent,ne(t),setTimeout(function(){ae.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),pe=Object(n.useCallback)(function(){var e=Object(c.a)(ry().mark(function e(t){var r,n,a,o,i=arguments;return ry().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:S,e.prev=1,n=B?B.toISOString().split("T")[0]:"",a=G?G.toISOString().split("T")[0]:"",h(!0),e.next=7,Kr.getAllProductionEntryData(t,r,n,a,X);case 7:o=e.sent,y(o.data.results),_(Math.ceil(o.data.count/25)),h(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),ie(e.t0);case 16:return e.prev=16,h(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[1,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[b,S,B,G,X]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:le.open,onClose:ce,severity:le.severity,message:le.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:5,display:"flex",alignItems:"center",gap:1},a.a.createElement(Ur,{onSearch:function(e){k(e),E(1)},onReset:function(){k(""),E(1)}}),a.a.createElement(sr,{size:"small",fullWidth:!0,onChange:function(e,t){var r;"custom_date"===(r=t?t.value:"")?(M(new Date),W(new Date),$(""),J(!0)):($(r),M(null),W(null))},options:cy,getOptionLabel:function(e){return e.label},isOptionEqualToValue:function(e,t){return e.value===t.value},label:"Filter By Date"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Production Entry")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,display:"flex",justifyContent:"flex-end"},a.a.createElement(We.a,{variant:"contained",color:"secondary",className:"mx-3",onClick:he},"DownLoad CSV"),re.length>0&&a.a.createElement(Bn.CSVLink,{data:re,headers:[{label:"ID",key:"id"},{label:"Bom",key:"bom"},{label:"Seller Account ",key:"seller_account"},{label:"Product",key:"product"},{label:"Quantity",key:"quantity"},{label:"User",key:"user"},{label:"Created Date",key:"created_on"}],ref:ae,filename:"Productin Entry.csv",target:"_blank",style:{textDecoration:"none",outline:"none",visibility:"hidden"}}),a.a.createElement(We.a,{onClick:function(){return o(!0)},variant:"contained",color:"success"},"Add")))),a.a.createElement(Yn.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(iy,null,a.a.createElement(oy,{align:"center"}),a.a.createElement(oy,{align:"center"},"ID"),a.a.createElement(oy,{align:"center"},"BOMID"),a.a.createElement(oy,{align:"center"},"SELLER STATE"),a.a.createElement(oy,{align:"center"},"PRODUCT"),a.a.createElement(oy,{align:"center"},"QUANTITY"),a.a.createElement(oy,{align:"center"},"CREATED BY"),a.a.createElement(oy,{align:"center"},"DATE"))),a.a.createElement(Hn.a,null,d.map(function(e,t){return a.a.createElement(ay,{key:t,row:e})}))," ")),a.a.createElement(yd.a,{sx:{display:"flex",justifyContent:"center",marginTop:"2em"}},a.a.createElement(Vr,{currentPage:b,totalPages:O,handlePageChange:function(e,t){E(t)}})))),a.a.createElement(Ce,{fullScreen:!0,title:"Create Production Entry Details",openPopup:r,setOpenPopup:o},a.a.createElement(ty,{currentPage:b,searchQuery:S,getAllProductionEntryDetails:pe,setOpenPopup:o,sellerOption:T})),a.a.createElement(Ce,{openPopup:H,setOpenPopup:J,title:"Date Filter",maxWidth:"md"},a.a.createElement(yi,{startDate:B,endDate:G,minDate:q,maxDate:Y,handleStartDateChange:function(e){var t=new Date(e.target.value);M(t),W(new Date)},handleEndDateChange:function(e){var t=new Date(e.target.value);W(t)},resetDate:function(){M(new Date),W(new Date)}})))};function ay(e){var t=e.row,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(iy,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(oy,{align:"center"},a.a.createElement(d.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return c(!i)}},i?a.a.createElement(Sm.a,null):a.a.createElement(jm.a,null))),a.a.createElement(oy,{align:"center"},t.id),a.a.createElement(oy,{align:"center"},t.bom),a.a.createElement(oy,{align:"center"},t.seller_account),a.a.createElement(oy,{align:"center"},t.product),a.a.createElement(oy,{align:"center"},t.quantity),a.a.createElement(oy,{align:"center"},t.user),a.a.createElement(oy,{align:"center"},t.created_on)),a.a.createElement(Un.a,null,a.a.createElement(qn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(J.a,{in:i,timeout:"auto",unmountOnExit:!0},a.a.createElement(Ae.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Vn.a,{size:"small","aria-label":"purchases"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,{align:"center"},"PRODUCT"),a.a.createElement(qn.a,{align:"center"},"UNIT"),a.a.createElement(qn.a,{align:"center"},"QUANTITY"),a.a.createElement(qn.a,{align:"center"},"BATCH"))),a.a.createElement(Hn.a,null,t.products_data.map(function(e,t){return a.a.createElement(iy,{key:t},a.a.createElement(oy,{align:"center"},e.product),a.a.createElement(oy,{align:"center"},e.unit),a.a.createElement(oy,{align:"center"},e.quantity),a.a.createElement(oy,{align:"center"},e.batch_no))}))))))))}var oy=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),iy=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),cy=[{label:"Today",value:"today"},{label:"Custom Date",value:"custom_date"}];function ly(){ly=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var uy=Object(n.memo)(function(e){var t=e.setOpenCreatePopup,r=e.sellerOption,o=e.getAllMaterialTransferNoteDetails,i=e.currentPage,f=e.searchQuery,h=e.acceptedFilter,p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(s.c)(function(e){return e.auth}).profile,x=gt(),O=x.handleSuccess,_=x.handleError,j=x.handleCloseSnackbar,L=x.alertInfo,S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],T=function(e,t){var r=Object(Y.a)({},e,t);if("product"===e){var n=b.find(function(e){return e.product__name===t});n&&(r.product__unit=n.product__unit)}C(function(e){return Object(u.a)({},e,r)})};Object(n.useEffect)(function(){N()},[]);var N=function(){var e=Object(c.a)(ly().mark(function e(){var t;return ly().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,Kr.getAllConsProductionInventoryData();case 4:(t=e.sent)&&t.data&&E(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),_(e.t0),console.error("error potential",e.t0);case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,8,12,15]])}));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(c.a)(ly().mark(function e(r){var n;return ly().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),y(!0),n={seller_account:P.seller_account,user:w.email,product:P.product,quantity:P.quantity},e.prev=3,e.next=6,Kr.createMaterialTransferNoteData(n);case 6:O("Material Transfer Note created successfully"),setTimeout(function(){t(!1)},300),o(i,f,h),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),_(e.t0);case 14:return e.prev=14,y(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[3,11,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:L.open,onClose:j,severity:L.severity,message:L.message}),a.a.createElement(Je,{open:d}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return D(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(sr,{size:"small",disablePortal:!0,id:"seller-account-combo-box",onChange:function(e,t){return T("seller_account",t)},options:r.map(function(e){return e.unit}),getOptionLabel:function(e){return e},sx:{minWidth:120},label:"Seller Account"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:6},a.a.createElement(sr,{size:"small",disablePortal:!0,id:"product-name-combo-box",onChange:function(e,t){return T("product",t)},options:b.map(function(e){return e.product__name}),getOptionLabel:function(e){return e},sx:{minWidth:120},label:"Product Name"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(Ve,{fullWidth:!0,name:"unit",size:"small",label:"Unit",variant:"outlined",value:P.product__unit||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:P.quantity||"",onChange:function(e){var t=e.target,r=t.name,n=t.value;C(Object(u.a)({},P,Object(Y.a)({},r,n)))}}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))}),sy=function(e){var t=e.materialTransferNoteByID;return a.a.createElement(Ri.a,null,a.a.createElement(Ri.c,{style:{fontFamily:"Helvetica",fontSize:"12pt"}},a.a.createElement(Ri.f,{style:{padding:"20pt"}},a.a.createElement(Ri.f,{style:fy.container},a.a.createElement(Ri.f,{style:fy.row},a.a.createElement(Ri.f,{style:fy.cell},a.a.createElement(Ri.b,{style:fy.logo,src:ec.a})),a.a.createElement(Ri.f,{style:Object(u.a)({},fy.cell,{justifyContent:"center",alignItems:"flex-start"})},a.a.createElement(Ri.e,{style:{fontSize:"18pt",fontWeight:"bold"}},"Material Transfer Note"))),a.a.createElement(Ri.f,{style:fy.row},a.a.createElement(Ri.f,{style:fy.cell},a.a.createElement(Ri.e,null,"Date")),a.a.createElement(Ri.f,{style:fy.cell},a.a.createElement(Ri.e,{style:fy.lightText},Ra()(t.created_on).format("DD-MM-YYYY")))),a.a.createElement(Ri.f,{style:fy.row},a.a.createElement(Ri.f,{style:fy.cell},a.a.createElement(Ri.e,null,"User")),a.a.createElement(Ri.f,{style:fy.cell},a.a.createElement(Ri.e,{style:fy.lightText},t.user))),a.a.createElement(Ri.f,{style:fy.row},a.a.createElement(Ri.f,{style:fy.cell},a.a.createElement(Ri.e,null,"Accepted")),a.a.createElement(Ri.f,{style:fy.cell},a.a.createElement(Ri.e,{style:fy.lightText},t.accepted?"Yes":"No"))),a.a.createElement(Ri.f,{style:fy.row},a.a.createElement(Ri.f,{style:fy.cell},a.a.createElement(Ri.e,null,"Seller Unit")),a.a.createElement(Ri.f,{style:fy.cell},a.a.createElement(Ri.e,{style:fy.lightText},t.seller_account))),a.a.createElement(Ri.f,{style:fy.row},a.a.createElement(Ri.f,{style:fy.cell}),a.a.createElement(Ri.f,{style:fy.cell})),a.a.createElement(Ri.f,{style:Object(u.a)({},fy.row,fy.header)},a.a.createElement(Ri.f,{style:fy.cell},a.a.createElement(Ri.e,null,"PRODUCT")),a.a.createElement(Ri.f,{style:fy.cell},a.a.createElement(Ri.e,null,"UNIT")),a.a.createElement(Ri.f,{style:fy.cell},a.a.createElement(Ri.e,null,"QUANTITY"))),a.a.createElement(Ri.f,{style:fy.row},a.a.createElement(Ri.f,{style:fy.cell},a.a.createElement(Ri.e,{style:fy.lightText},t.product)),a.a.createElement(Ri.f,{style:fy.cell},a.a.createElement(Ri.e,{style:fy.lightText},t.unit)),a.a.createElement(Ri.f,{style:fy.cell},a.a.createElement(Ri.e,{style:fy.lightText},t.quantity)))))))},fy=Ri.d.create({container:{border:"1pt solid #ccc"},row:{display:"flex",flexDirection:"row",borderBottom:"1pt solid #ccc",padding:"5pt"},header:{backgroundColor:"#eee",fontWeight:"bold"},cell:{flex:1,flexGrow:1,textAlign:"center",padding:"5pt"},logo:{height:"auto",width:"100pt"},lightText:{color:"#777"}});function hy(){hy=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var py=Object(n.memo)(function(e){var t=e.materialTransferNoteByID,r=e.setOpenAcceptPopup,o=e.getAllMaterialTransferNoteDetails,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=gt(),p=h.handleSuccess,m=h.handleError,d=h.handleCloseSnackbar,y=h.alertInfo,v=function(){var e=Object(c.a)(hy().mark(function e(t){var n,a;return hy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("data",t),f(!0),n={seller_account:t.seller_account,user:t.user,accepted:!0,product:t.product,quantity:t.quantity},e.next=6,Kr.updateMaterialTransferNoteData(t.id,n);case 6:a=e.sent,p(a.data.message||"Accepted successfully"),setTimeout(function(){r(!1),o()},300),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),m(e.t0),console.log("Material Transfer Note error",e.t0);case 15:return e.prev=15,f(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,11,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:y.open,onClose:d,severity:y.severity,message:y.message}),a.a.createElement(Je,{open:s}),a.a.createElement("div",{className:"my-4"},a.a.createElement("table",{className:"table table-bordered"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"Date")),a.a.createElement("td",null,t.created_on)),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"Seller Unit")),a.a.createElement("td",null,t.seller_account)),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"Product")),a.a.createElement("td",null,t.product)),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"Quantity")),a.a.createElement("td",null,t.quantity)),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"User")),a.a.createElement("td",null,t.user)),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"Unit")),a.a.createElement("td",null,t.unit)))),a.a.createElement("div",{className:"btn btn-success",style:{display:"inline-block",padding:"6px 16px",margin:"10px",fontSize:"0.875rem",minWidth:"64px",fontWeight:500,lineHeight:1.75,borderRadius:"4px",letterSpacing:"0.02857em",textTransform:"uppercase",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2)"},onClick:function(){return v(t)}},"Accept")))});function my(){my=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var dy=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(0),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(""),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)(""),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useState)("today"),M=Object(l.a)(B,2),q=M[0],U=M[1],Y=Object(n.useState)(null),V=Object(l.a)(Y,2),Q=V[0],H=V[1],J=Object(s.c)(function(e){return e.auth.profile}),K=Object(n.useState)([]),Z=Object(l.a)(K,2),X=Z[0],$=Z[1],ee=Object(n.useState)(null),te=Object(l.a)(ee,2),re=te[0],ne=te[1],ae=Object(n.useState)(null),oe=Object(l.a)(ae,2),ie=oe[0],ce=oe[1],le=(new Date).toISOString().split("T")[0],ue=new Date("2030-12-31").toISOString().split("T")[0],se=Object(n.useState)(!1),fe=Object(l.a)(se,2),he=fe[0],pe=fe[1],me=Object(n.useRef)(null),de=gt(),ye=de.handleSuccess,ve=de.handleError,ge=de.handleCloseSnackbar,be=de.alertInfo,Ee=function(){var e=Object(c.a)(my().mark(function e(){var t;return my().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we();case 3:t=e.sent,$(t),setTimeout(function(){me.current.link.click()}),ye("CSV file downloaded successfully"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),ve(e.t0),console.log("CSVLink Download error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(c.a)(my().mark(function e(){var t,r,n,a;return my().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=re?re.toISOString().split("T")[0]:"",r=ie?ie.toISOString().split("T")[0]:"",y(!0),e.next=6,Kr.getAllMaterialTransferNoteData("all",z,I,q,t,r);case 6:return n=e.sent,a=n.data.map(function(e){return{user:e.user,seller_account:e.seller_account,date:e.created_on,product:e.product,unit:e.unit,quantity:e.quantity,accepted:e.accepted}}),y(!1),ye("Exported successfully"),e.abrupt("return",a);case 13:e.prev=13,e.t0=e.catch(0),ve(e.t0);case 16:return e.prev=16,y(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(c.a)(my().mark(function e(t){var r,n,o;return my().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),r=new zi.a,e.next=5,Object(Ri.g)(a.a.createElement(sy,{materialTransferNoteByID:t}),r,{}).toBlob();case 5:n=e.sent,(o=document.createElement("a")).href=URL.createObjectURL(n),o.download="ID Number ".concat(t.id,".pdf"),document.body.appendChild(o),o.click(),document.body.removeChild(o),ye("Exported successfully"),y(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),ve(e.t0),console.log("error exporting pdf",e.t0);case 20:return e.prev=20,y(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[0,16,20,23]])}));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(c.a)(my().mark(function e(){var t,r;return my().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),t=J.groups.includes("Production Delhi")?"Delhi":"Maharashtra",e.next=5,st.getfilterSellerAccountData(t);case 5:r=e.sent,H(r.data.results),y(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ve(e.t0);case 13:return e.prev=13,y(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){Oe()},[]);var _e=Object(n.useCallback)(Object(c.a)(my().mark(function e(){var t,r,n;return my().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=re?re.toISOString().split("T")[0]:"",r=ie?ie.toISOString().split("T")[0]:"",y(!0),e.next=6,Kr.getAllMaterialTransferNoteData(S,z,I,q,t,r);case 6:n=e.sent,E(n.data.results),N(Math.ceil(n.data.count/25)),y(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),ve(e.t0);case 15:return e.prev=15,y(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])})),[S,z,I,q,re,ie]);Object(n.useEffect)(function(){_e()},[S,z,I,q,re,ie]);var je=J.groups.includes("Director")||J.groups.includes("Stores")||J.groups.includes("Stores Delhi");return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:be.open,onClose:ge,severity:be.severity,message:be.message}),a.a.createElement(Je,{open:d}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:9,display:"flex",alignItems:"center",gap:"5px"},a.a.createElement(Gc,{label:"Filter By Accepted",options:yy,value:z,onChange:function(e){R(e.target.value),k(1)},onClear:function(){R("")}}),a.a.createElement(Gc,{label:"Filter By Days",options:vy,value:q,onChange:function(e){var t=e.target.value;"custom_date"===t?(ne(new Date),ce(new Date),U(""),pe(!0),k(1)):(U(t),k(1),ne(null),ce(null))},onClear:function(){return U("")}}),a.a.createElement(Ur,{onSearch:function(e){F(e),k(1)},onReset:function(){F(""),k(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3,display:"flex",justifyContent:"flex-end",alignItems:"center",gap:2},(J.groups.includes("Production")||J.groups.includes("Director")||J.groups.includes("Production Delhi"))&&a.a.createElement(We.a,{variant:"contained",onClick:function(){return o(!0)}},"Add"),a.a.createElement(We.a,{variant:"contained",onClick:Ee},"Download CSV"),X.length>0&&a.a.createElement(Bn.CSVLink,{data:X,headers:[{label:"USER",key:"user"},{label:"SELLER UNIT",key:"seller_account"},{label:"DATE",key:"date"},{label:"PRODUCT",key:"product"},{label:"UNIT",key:"unit"},{label:"QUANTITY",key:"quantity"},{label:"ACCEPTED",key:"accepted"}],ref:me,filename:"Material Transfer Note.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Material Transfer Note")))),a.a.createElement(Yn.a,{sx:{maxHeight:400,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(by,null,a.a.createElement(gy,{align:"center"},"User"),a.a.createElement(gy,{align:"center"},"Seller Account"),a.a.createElement(gy,{align:"center"},"Product"),a.a.createElement(gy,{align:"center"},"Unit"),a.a.createElement(gy,{align:"center"},"Quantity"),a.a.createElement(gy,{align:"center"},"Date"),a.a.createElement(gy,{align:"center"},"Accepted"),a.a.createElement(gy,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,b.map(function(e){return a.a.createElement(a.a.Fragment,{key:e.id},a.a.createElement(by,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(gy,{align:"center"},e.user),a.a.createElement(gy,{align:"center"},e.seller_account),a.a.createElement(gy,{align:"center"},e.product),a.a.createElement(gy,{align:"center"},e.unit),a.a.createElement(gy,{align:"center"},e.quantity),a.a.createElement(gy,{align:"center"},e.created_on),a.a.createElement(gy,{align:"center"},a.a.createElement(Ei.a,{checked:e.accepted,inputProps:{"aria-label":"controlled"}})),a.a.createElement(gy,{align:"center"},je&&!1===e.accepted&&a.a.createElement(We.a,{color:"success",onClick:function(){return t=e,h(!0),void _(t);var t}},"Accept"),a.a.createElement(We.a,{color:"primary",onClick:function(){return xe(t=e),void _(t);var t}},"Downlaod"))))})))),a.a.createElement(Vr,{currentPage:S,totalPages:T,handlePageChange:function(e,t){k(t)}}),a.a.createElement(Ce,{openPopup:he,setOpenPopup:pe,title:"Date Filter",maxWidth:"md"},a.a.createElement(yi,{startDate:re,endDate:ie,minDate:le,maxDate:ue,handleStartDateChange:function(e){var t=new Date(e.target.value);ne(t),ce(new Date)},handleEndDateChange:function(e){var t=new Date(e.target.value);ce(t)},resetDate:function(){ne(new Date),ce(new Date)}})))),a.a.createElement(Ce,{maxWidth:"xl",title:"Create Material Transfer Note",openPopup:r,setOpenPopup:o},a.a.createElement(uy,{getAllMaterialTransferNoteDetails:_e,setOpenCreatePopup:o,sellerOption:Q})),a.a.createElement(Ce,{maxWidth:"xl",title:"View Material Transfer Note",openPopup:f,setOpenPopup:h},a.a.createElement(py,{materialTransferNoteByID:O,setOpenAcceptPopup:h,getAllMaterialTransferNoteDetails:_e})))},yy=[{label:"Accepted",value:"true"},{label:"Not Accepted",value:"false"}],vy=[{label:"Today",value:"today"},{label:"Yesterday",value:"yesterday"},{label:"This Month",value:"this_month"},{label:"Custom Date",value:"custom_date"}],gy=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),by=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Ey(){Ey=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var wy=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),xy=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getAllBillofMaterialsDetails,o=e.currentPage,i=e.searchQuery,f=e.filterApproved,h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],v=Object(n.useState)({remark:""}),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(s.c)(function(e){return e.auth}),x=w.finishgoodsProduct,O=w.consumableProduct,_=w.rawMaterialProduct,j=[].concat(Object(vr.a)(O||[]),Object(vr.a)(_||[])),L=Object(n.useMemo)(function(){return j.map(function(e){return{product:e.product,unit:e.unit,quantity:e.quantity}})},[j]),S=gt(),k=S.handleSuccess,P=S.handleError,C=S.handleCloseSnackbar,T=S.alertInfo,N=Zs([{product:"",unit:"",quantity:""}],L),D=N.handleAutocompleteChange,A=N.handleFormChange,I=N.addFields,F=N.removeFields,G=N.products,W=function(e,t){E(function(r){return Object(u.a)({},r,Object(Y.a)({},e,t))})},z=function(){var e=Object(c.a)(Ey().mark(function e(n){var a;return Ey().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),d(!0),a={product:b.product,bom_type:b.bom_type,remark:b.remark,products_data:G},e.next=6,Kr.createBillofMaterialsData(a);case 6:k("BOM Created Successfully"),setTimeout(function(){t(!1)},300),r(o,i,f),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),P(e.t0);case 14:return e.prev=14,d(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:T.open,onClose:C,severity:T.severity,message:T.message}),a.a.createElement(Je,{open:m}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return z(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return W("product",t)},options:x?x.map(function(e){return e}):[],getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return W("bom_type",t)},options:Oy,getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Bom Type"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"remark",size:"small",label:"Add Remark",variant:"outlined",inputProps:{maxLength:100},value:b.remark||"",onChange:function(e){return W("remark",e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(wy,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),G.map(function(e,t){return console.log("input",e),a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{key:t,item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",value:e.product||"",onChange:function(e,r){return D(t,e,r)},options:j?j.map(function(e){return e.product}):[],getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"unit",size:"small",label:"Unit",variant:"outlined",value:e.unit||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity||"",onChange:function(e){return A(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:1,alignContent:"right"},0!==t&&a.a.createElement(We.a,{disabled:0===t,onClick:function(){return F(t)},variant:"contained"},"Remove")))}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(We.a,{onClick:I,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))}),Oy=["production","job_worker"];function _y(){_y=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var jy=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),Ly=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getAllBillofMaterialsDetails,o=e.idForEdit,i=e.currentPage,u=e.searchQuery,f=e.filterApproved,h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],v=Object(s.c)(function(e){return e.auth}),g=v.consumableProduct,b=v.rawMaterialProduct,E=Object(n.useMemo)(function(){return[].concat(Object(vr.a)(g||[]),Object(vr.a)(b||[]))},[g,b]),w=Object(n.useMemo)(function(){return E.map(function(e){return{product:e.product,unit:e.unit,quantity:e.quantity}})},[E]),x=Object(n.useMemo)(function(){return o.products_data.map(function(e){return{product:e.product,unit:e.unit,quantity:e.quantity}})},[o]),O=gt(),_=O.handleSuccess,j=O.handleError,L=O.handleCloseSnackbar,S=O.alertInfo,k=Zs(x,w),P=k.handleAutocompleteChange,C=k.handleFormChange,T=k.addFields,N=k.removeFields,D=k.products,A=Object(n.useState)(o.remark),I=Object(l.a)(A,2),F=I[0],G=I[1],W=function(){var e=Object(c.a)(_y().mark(function e(n){var a;return _y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),d(!0),a={product:o.product,approved:o.approved,products_data:D,remark:F},e.next=6,Kr.updateBillofMaterialsData(o.id,a);case 6:_("BOM Updated Successfully"),setTimeout(function(){t(!1)},300),r(i,u,f),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),j(e.t0);case 14:return e.prev=14,d(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:S.open,onClose:L,severity:S.severity,message:S.message}),a.a.createElement(Je,{open:m}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return W(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:o.product||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"remark",size:"small",label:"Add Remark",variant:"outlined",inputProps:{maxLength:100},value:F||"",onChange:function(e){return G(e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(jy,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),D.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{key:t,item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",value:e.product||"",onChange:function(e,r){return P(t,e,r)},options:E?E.map(function(e){return e.product}):[],getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"unit",size:"small",label:"Unit",variant:"outlined",value:e.unit||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity||"",onChange:function(e){return C(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:1,alignContent:"right"},0!==t&&a.a.createElement(We.a,{disabled:0===t,onClick:function(){return N(t)},variant:"contained"},"Remove")))}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(We.a,{onClick:T,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function Sy(){Sy=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ky=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),y=m[0],v=m[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],O=Object(n.useState)(1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(0),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)(""),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)(""),F=Object(l.a)(I,2),G=F[0],W=F[1],z=Object(s.b)(),R=Object(n.useState)(null),B=Object(l.a)(R,2),M=B[0],q=B[1],Y=Object(s.c)(function(e){return e.auth.profile}),V=gt(),Q=V.handleSuccess,H=V.handleError,J=V.handleCloseSnackbar,K=V.alertInfo;Object(n.useEffect)(function(){ae(),oe(),ie()},[]);var Z=Object(n.useState)([]),X=Object(l.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useRef)(null),re=function(){var e=Object(c.a)(Sy().mark(function e(){var t,r;return Sy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,v(!0),!D){e.next=8;break}return e.next=5,Kr.getAllBillofMaterialsData("all",D);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Kr.getAllBillofMaterialsData("all");case 10:t=e.sent;case 11:return r=t.data,e.abrupt("return",r.flatMap(function(e){return e.products_data.map(function(t,r){return{nameOfItem:0===r?e.product:"",unit:0===r?e.unit:"",nameOfBom:0===r?e.bom_id:"",unitOfManufacture:0===r?1:"",item:t.product,godown:"",qty:t.quantity}})}));case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:return e.prev=18,v(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[0,15,18,21]])}));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(c.a)(Sy().mark(function e(){var t;return Sy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re();case 3:t=e.sent,ee(t),setTimeout(function(){te.current.link.click()}),Q("CSV Downloaded Successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(c.a)(Sy().mark(function e(){var t;return Sy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,Pn.getAllFinishGoodsProducts();case 4:t=e.sent,z(U(t.data.data)),v(!1),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),H(e.t0),v(!1),console.log("err",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(c.a)(Sy().mark(function e(){var t,r;return Sy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,Pn.getAllRawMaterials("all");case 4:t=e.sent,r=t.data.map(function(e){return{product:e.name,unit:e.unit}}),z({type:"RAWMATERIAL_PRODUCT",payload:r}),v(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),H(e.t0),v(!1),console.log("err",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(c.a)(Sy().mark(function e(){var t,r;return Sy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,Pn.getAllConsumable("all");case 4:t=e.sent,r=t.data.map(function(e){return{product:e.name,unit:e.unit}}),z({type:"CONSUMABLE_PRODUCT",payload:r}),v(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),H(e.t0),v(!1),console.log("err",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){ce(j)},[j,D]);var ce=Object(n.useCallback)(function(){var e=Object(c.a)(Sy().mark(function e(t){var r,n,a,o=arguments;return Sy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:M,n=o.length>2&&void 0!==o[2]?o[2]:D,e.prev=2,v(!0),e.next=6,Kr.getAllBillofMaterialsData(t,r,null,n);case 6:a=e.sent,w(a.data.results),C(Math.ceil(a.data.count/25)),v(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),H(e.t0),v(!1),console.error("error",e.t0);case 17:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}(),[M,D]),le=function(){var e=Object(c.a)(Sy().mark(function e(t){var r;return Sy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),r={approved:!0,product:t.product},e.next=5,Kr.updateBillofMaterialsData(t.id,r);case 5:Q("BOM Accepted Successfully"),setTimeout(function(){o(!1)},300),ce(j,M,D),v(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),H(e.t0),console.log("error Store Accepting",e.t0),v(!1);case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(c.a)(Sy().mark(function e(t){var r;return Sy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),r={is_deactivated:!0,product:t.product},e.next=5,Kr.updateBillofMaterialsData(t.id,r);case 5:Q("BOM Deactivated Activated Successfully !"),setTimeout(function(){o(!1)},300),ce(j,M,D),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),H(e.t0),console.log("Error in toggling BOM status:",e.t0);case 14:return e.prev=14,v(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}));return function(t){return e.apply(this,arguments)}}(),se=function(e){W(e),o(!0)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:K.open,onClose:J,severity:K.severity,message:K.message}),a.a.createElement(Je,{open:y}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4,display:"flex",alignItems:"center"},a.a.createElement(wt.a,{fullWidth:!0,size:"small",sx:{marginRight:2}},a.a.createElement(xt.a,{id:"demo-simple-select-label"},"Filter By Approved"),a.a.createElement(cn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"status",label:"Filter By Approved",value:M,onChange:function(e){var t=e.target.value;q(t),ce(j,t,D)}},Cy.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})),M&&a.a.createElement(d.a,{size:"small",onClick:function(){q(""),ce(1,!1,D)},sx:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)"}},a.a.createElement(_e.a,null))),a.a.createElement(Ur,{onSearch:function(e){A(e),L(1)},onReset:function(){A(""),L(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Bill of Materials")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4,display:"flex",justifyContent:"flex-end"},(Y.groups.includes("Accounts")||Y.groups.includes("Director"))&&a.a.createElement(a.a.Fragment,null,a.a.createElement(We.a,{onClick:ne,variant:"contained"},"Download CSV"),$.length>0&&a.a.createElement(Bn.CSVLink,{data:Object(vr.a)($),headers:[{label:"Name Of Item",key:"nameOfItem"},{label:"Unit",key:"unit"},{label:"Name Of BOM",key:"nameOfBom"},{label:"Unit Of Manufacture",key:"unitOfManufacture"},{label:"Item",key:"item"},{label:"Godown",key:"godown"},{label:"Qty",key:"qty"}],ref:te,filename:"BOM.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})),a.a.createElement(We.a,{onClick:function(){return h(!0)},variant:"contained",color:"success"},"Add")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Ny,null,a.a.createElement(Ty,{align:"center"}),a.a.createElement(Ty,{align:"center"},"ID"),a.a.createElement(Ty,{align:"center"},"BOM TYPE"),a.a.createElement(Ty,{align:"center"},"Remark"),a.a.createElement(Ty,{align:"center"},"PRODUCT"),a.a.createElement(Ty,{align:"center"},"QUANTITY"),a.a.createElement(Ty,{align:"center"},"DATE"),a.a.createElement(Ty,{align:"center"},"APPROVED"),(Y.groups.includes("Accounts")||Y.groups.includes("Director")||"amol@glutape.com"===Y.email)&&a.a.createElement(Ty,{align:"center"},"DEACTIVATED"),a.a.createElement(Ty,{align:"center"},"ACTION"))),a.a.createElement(Hn.a,null,E.map(function(e,t){return a.a.createElement(Py,{key:t,row:e,openInPopup:se,users:Y,updateBillofMaterialsDetails:le,DeactivateBillofMaterialsDetails:ue})}))," ")),a.a.createElement(yd.a,{sx:{display:"flex",justifyContent:"center",marginTop:"2em"}},a.a.createElement(Vr,{currentPage:j,totalPages:P,handlePageChange:function(e,t){L(t)}})))),a.a.createElement(Ce,{fullScreen:!0,title:"Create Bill of Materials Details",openPopup:f,setOpenPopup:h},a.a.createElement(xy,{currentPage:j,filterApproved:M,searchQuery:D,getAllBillofMaterialsDetails:ce,setOpenPopup:h})),a.a.createElement(Ce,{fullScreen:!0,title:"Update Bill of Materials Details",openPopup:r,setOpenPopup:o},a.a.createElement(Ly,{currentPage:j,filterApproved:M,searchQuery:D,setOpenPopup:o,getAllBillofMaterialsDetails:ce,idForEdit:G})))};function Py(e){var t=e.row,r=e.openInPopup,o=e.users,i=e.updateBillofMaterialsDetails,c=e.DeactivateBillofMaterialsDetails,u=Object(n.useState)(!1),s=Object(l.a)(u,2),f=s[0],h=s[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ny,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(Ty,{align:"center"},a.a.createElement(d.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return h(!f)}},f?a.a.createElement(Sm.a,null):a.a.createElement(jm.a,null))),a.a.createElement(Ty,{align:"center"},t.bom_id),a.a.createElement(Ty,{align:"center"},t.bom_type),a.a.createElement(Ty,{align:"center"},t.remark),a.a.createElement(Ty,{align:"center"},t.product),a.a.createElement(Ty,{align:"center"},t.quantity),a.a.createElement(Ty,{align:"center"},t.created_on),a.a.createElement(Ty,{align:"center"},a.a.createElement(Ei.a,{checked:t.approved,inputProps:{"aria-label":"controlled"}})),(o.groups.includes("Accounts")||o.groups.includes("Director")||o.groups.includes("Factory-Mumbai-OrderBook"))&&a.a.createElement(Ty,{align:"center"},a.a.createElement(Ei.a,{checked:t.is_deactivated,inputProps:{"aria-label":"controlled"},onClick:function(){t.is_deactivated||c(t)}})),a.a.createElement(Ty,{align:"center"},(o.groups.includes("Accounts")||o.groups.includes("Director"))&&!1===t.approved?a.a.createElement(We.a,{onClick:function(){return i(t)},color:"success"},"Accept"):null,(o.groups.includes("Production")||o.groups.includes("Director"))&&!1===t.approved?a.a.createElement(We.a,{onClick:function(){return r(t)}},"Edit"):null)),a.a.createElement(Un.a,null,a.a.createElement(qn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(J.a,{in:f,timeout:"auto",unmountOnExit:!0},a.a.createElement(Ae.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Vn.a,{size:"small","aria-label":"purchases"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,{align:"center"},"SR.NO"),a.a.createElement(qn.a,{align:"center"},"PRODUCT"),a.a.createElement(qn.a,{align:"center"},"UNIT"),a.a.createElement(qn.a,{align:"center"},"QUANTITY"))),a.a.createElement(Hn.a,null,t.products_data.map(function(e,t){return a.a.createElement(Ny,{key:t},a.a.createElement(Ty,{align:"center"},t+1),a.a.createElement(Ty,{align:"center"},e.product),a.a.createElement(Ty,{align:"center"},e.unit),a.a.createElement(Ty,{align:"center"},e.quantity))}))))))))}var Cy=[{label:"approved",value:"true"},{label:"Not approved",value:"false"}],Ty=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),Ny=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Dy(){Dy=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ay=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useRef)(null),P=gt(),C=P.handleSuccess,T=P.handleError,N=P.handleCloseSnackbar,D=P.alertInfo,A=function(){var e=Object(c.a)(Dy().mark(function e(){var t;return Dy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I();case 3:t=e.sent,S(t),setTimeout(function(){k.current.link.click()}),C("CSV Downloaded Successfully"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),T(e.t0),console.log("CSVLink Download error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(c.a)(Dy().mark(function e(){var t,r;return Dy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o(!0),!x){e.next=8;break}return e.next=5,Kr.getProductionGAndLInventoryPaginateData("all",x);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Kr.getProductionGAndLInventoryPaginateData("all");case 10:t=e.sent;case 11:return r=t.data.map(function(e){return{seller_account:e.seller_account,production_entry:e.production_entry,product:e.product,gnl:e.gnl,date:e.created_on,unit:e.unit,expected_quantity:e.expected_quantity,actual_quantity:e.actual_quantity}}),o(!1),e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(0),T(e.t0);case 19:return e.prev=19,o(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])}));return function(){return e.apply(this,arguments)}}(),F=Object(n.useCallback)(function(){var e=Object(c.a)(Dy().mark(function e(t){var r,n,a=arguments;return Dy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:x,e.prev=1,o(!0),e.next=5,Kr.getAllProductionGAndLInventoryData(t,r);case 5:n=e.sent,f(n.data.results),b(Math.ceil(n.data.count/25)),o(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),T(e.t0),o(!1),console.error("error",e.t0);case 16:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),[x]);Object(n.useEffect)(function(){F(m)},[m,x,F]);var G=s.map(function(e,t){return{seller_account:e.seller_account,production_entry:e.production_entry,product:e.product,gnl:e.gnl,date:e.created_on,unit:e.unit,expected_quantity:e.expected_quantity,actual_quantity:e.actual_quantity}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:D.open,onClose:N,severity:D.severity,message:D.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,display:"flex",alignItems:"center"},a.a.createElement(Ur,{onSearch:function(e){O(e),d(1)},onReset:function(){O(""),d(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Production Gain And Loss")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,display:"flex",justifyContent:"flex-end",alignItems:"center",gap:2},a.a.createElement(We.a,{onClick:A,variant:"contained"},"Download CSV"),L.length>0&&a.a.createElement(Bn.CSVLink,{data:Object(vr.a)(L),headers:[{label:"SELLER ACCOUNT",key:"seller_account"},{label:"PRODUCTION ENTRY",key:"production_entry"},{label:"PRODUCT",key:"product"},{label:"GAIN/LOSS",key:"gnl"},{label:"DATE",key:"date"},{label:"UNIT",key:"unit"},{label:"EXPECTED QUANTITY",key:"expected_quantity"},{label:"ACTUAL QUANTITY",key:"actual_quantity"}],ref:k,filename:"Store Inventory.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})))),a.a.createElement(dt,{headers:["SELLER ACCOUNT","PRODUCTION ENTRY","PRODUCT","GAIN/LOSS","DATE","UNIT","EXPECTED QUANTITY","ACTUAL QUANTITY"],data:G,openInPopup:null,openInPopup2:null}),a.a.createElement(Vr,{currentPage:m,totalPages:g,handlePageChange:function(e,t){d(t)}}))))};function Iy(){Iy=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Fy=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),m=p[0],y=p[1],v=gt(),g=v.handleError,b=v.handleCloseSnackbar,E=v.alertInfo;Object(n.useEffect)(function(){w()},[]);var w=function(){var e=Object(c.a)(Iy().mark(function e(){var t;return Iy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kr.getAllProductionShortFallData();case 4:t=e.sent,f(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g(e.t0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),x=s.filter(function(e){return e.product.toLowerCase().includes(m.toLowerCase())});s.forEach(function(e){e.type=e.type.split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")});var O=s.map(function(e){return{state:e.state,type:e.type,product:e.product,description:e.description,quantity:e.quantity,unit:e.unit}}),_=x.map(function(e){return{seller_account:e.state,type:e.type,product:e.product,description:e.description,quantity:e.quantity,unit:e.unit}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:E.open,onClose:b,severity:E.severity,message:E.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:.9}," ",a.a.createElement(Ve,{label:"Search By Product",variant:"outlined",size:"small",value:m,onChange:function(e){y(e.target.value)},InputProps:{endAdornment:a.a.createElement(Ge.a,{position:"end"},m&&a.a.createElement(d.a,{onClick:function(){y("")}},a.a.createElement(qr.a,null)))},sx:{mb:2}})),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Shortfall Inventory")),a.a.createElement(Ae.a,{flexGrow:.5,align:"right"},a.a.createElement(Bn.CSVLink,{data:O,headers:Gy,filename:"my-file.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}},a.a.createElement(We.a,{color:"success",variant:"contained"},"Export to Excel")))),a.a.createElement(dt,{headers:["STATE","TYPE","PRODUCT","DESCRIPTION","QUANTITY","UNIT"],data:_}))))},Gy=[{label:"State",key:"state"},{label:"Type",key:"type"},{label:"Product",key:"product"},{label:"Description",key:"description"},{label:"Quantity",key:"quantity"},{label:"Unit",key:"unit"}];function Wy(){Wy=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var zy=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(0),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(new Date),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(new Date),D=Object(l.a)(N,2),A=D[0],I=D[1],F=(new Date).toISOString().split("T")[0],G=new Date("2030-12-31").toISOString().split("T")[0],W=Object(n.useRef)(null),z=gt(),R=z.handleError,B=z.handleCloseSnackbar,M=z.alertInfo,q=function(){var e=Object(c.a)(Wy().mark(function e(){var t,r;return Wy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,Kr.getAllDailyProductionReport(A.toISOString().split("T")[0],C.toISOString().split("T")[0],"all",x);case 4:t=e.sent,r=t.data.map(function(e){return{created_on:e.created_on,seller_account:e.seller_account,bom:e.bom,product:e.product,description:e.description,brand:e.brand,unit:e.unit,quantity:e.quantity,rate:e.rate.toFixed(2),amount:e.amount}}),S(r),setTimeout(function(){return W.current.link.click()},0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),R(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),U=Object(n.useCallback)(Object(c.a)(Wy().mark(function e(){var t,r,n,a=arguments;return Wy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:s,r=a.length>1&&void 0!==a[1]?a[1]:x,o(!0),e.prev=3,e.next=6,Kr.getAllDailyProductionReport(A.toISOString().split("T")[0],C.toISOString().split("T")[0],t,r);case 6:n=e.sent,b(n.data.results),d(Math.ceil(n.data.count/25)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),R(e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[3,11,14,17]])})),[x,A,C,s]);Object(n.useEffect)(function(){U(s,x)},[A,C,s,x]);var Y=g.map(function(e){return{created_on:e.created_on,seller_account:e.seller_account,bom:e.bom,product:e.product,description:e.description,brand:e.brand,unit:e.unit,quantity:e.quantity,rate:e.rate.toFixed(2),amount:e.amount}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:M.open,onClose:B,severity:M.severity,message:M.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,width:"100%"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,display:"flex",alignItems:"center",gap:2},a.a.createElement(Fe.a,{item:!0},a.a.createElement(Ve,{label:"Start Date",variant:"outlined",size:"small",type:"date",id:"start-date",value:A?A.toISOString().split("T")[0]:"",min:F,max:G,onChange:function(e){return I(new Date(e.target.value))},sx:{width:"120px"}})),a.a.createElement(Fe.a,{item:!0},a.a.createElement(Ve,{label:"End Date",variant:"outlined",size:"small",type:"date",id:"end-date",value:C?C.toISOString().split("T")[0]:"",min:A?A.toISOString().split("T")[0]:F,max:G,onChange:function(e){return T(new Date(e.target.value))},disabled:!A,sx:{width:"120px"}})),a.a.createElement(Fe.a,{item:!0},a.a.createElement(Ur,{onSearch:function(e){O(e),f(1)},onReset:function(){O(""),f(1)}}))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Daily Production Report")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3,display:"flex",justifyContent:"flex-end",alignItems:"center"},a.a.createElement(We.a,{variant:"contained",onClick:function(){return q()}},"Download CSV"),L.length>0&&a.a.createElement(Bn.CSVLink,{data:L,headers:[{label:"Date",key:"created_on"},{label:"Seller Account",key:"seller_account"},{label:"BOM",key:"bom"},{label:"Product",key:"product"},{label:"Description",key:"description"},{label:"Brand",key:"brand"},{label:"Unit",key:"unit"},{label:"Quantity",key:"quantity"},{label:"Rate",key:"rate"},{label:"Amount",key:"amount"}],ref:W,filename:"Daily Production Report.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})))),a.a.createElement(dt,{headers:["Date","Seller Account","BOM","Product","Description","Brand","Unit","Quantity","Rate","Amount"],data:Y,openInPopup:null,openInPopup2:null,openInPopup3:null,openInPopup4:null}),a.a.createElement(Vr,{currentPage:s,totalPages:m,handlePageChange:function(e,t){return f(t)}}))))};function Ry(){Ry=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var By=new Date,My=By.getFullYear(),qy=By.getMonth()+1,Uy=qy<10?"0".concat(qy):qy,Yy="".concat(My,"-").concat(Uy),Vy=Ra()().startOf("month").format("YYYY-MM"),Qy=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(Yy),p=Object(l.a)(h,2),m=p[0],d=p[1],y=gt(),v=y.handleError,g=y.handleCloseSnackbar,b=y.alertInfo,E=function(){var e=Object(c.a)(Ry().mark(function e(){var t,r,n,a;return Ry().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),t=m.split("-"),r=t[0],n=t[1],e.next=8,Kr.getWeeklyProductionReportFilterData(n,r);case 8:a=e.sent,f(a.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),v(e.t0);case 15:return e.prev=15,o(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){E()},[m]);var w=m.split("-"),x=Object(l.a)(w,2),O=function(e,t){for(var r=new Date(e,t-1,1),n=new Date(e,t,0),a=[],o=1;r<=n;){var i="Week ".concat(o);a.push(i),r.setDate(r.getDate()+7),o++}return a}(x[0],x[1]),_=[{label:"Seller Unit",key:"seller_account__unit"},{label:"Description",key:"product__description__name"},{label:"Brand",key:"product__brand__name"},{label:"Product",key:"product__name"},{label:"Unit",key:"product__unit__name"}];[1,2,3,4,5].forEach(function(e){_.push({label:"Week ".concat(e),key:"week".concat(e)})}),_.push({label:"Total",key:"total"});var j=s.flatMap(function(e){var t=e.data.filter(function(e){return null!==e.index_position&&0===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),r=e.data.filter(function(e){return null!==e.index_position&&1===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),n=e.data.filter(function(e){return null!==e.index_position&&2===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),a=e.data.filter(function(e){return null!==e.index_position&&3===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),o=e.data.filter(function(e){return null!==e.index_position&&4===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),i=t+r+n+a+o;return{seller_account__unit:e.seller_account__unit,product__description__name:e.product__description__name,product__brand__name:e.product__brand__name,product__name:e.product__name,product__unit__name:e.product__unit__name,week1:t,week2:r,week3:n,week4:a,week5:o,total:i}}),L=["Seller Unit","Description","Brand","Product","Unit"].concat(Object(vr.a)(O),["Total"]),S=s.flatMap(function(e){var t=e.data.filter(function(e){return null!==e.index_position&&0===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),r=e.data.filter(function(e){return null!==e.index_position&&1===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),n=e.data.filter(function(e){return null!==e.index_position&&2===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),a=e.data.filter(function(e){return null!==e.index_position&&3===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),o=e.data.filter(function(e){return null!==e.index_position&&4===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),i=t+r+n+a+o;return{seller_account__unit:e.seller_account__unit,product__description__name:e.product__description__name,product__brand__name:e.product__brand__name,product__name:e.product__name,product__unit__name:e.product__unit__name,week1:t,week2:r,week3:n,week4:a,week5:o,total:i}}),k={seller_account__unit:"Total",product__description__name:"-",product__brand__name:"-",product__name:"-",product__unit__name:"-",week1:s.reduce(function(e,t){return e+t.data.filter(function(e){return null!==e.index_position&&0===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0)},0),week2:s.reduce(function(e,t){return e+t.data.filter(function(e){return null!==e.index_position&&1===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0)},0),week3:s.reduce(function(e,t){return e+t.data.filter(function(e){return null!==e.index_position&&2===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0)},0),week4:s.reduce(function(e,t){return e+t.data.filter(function(e){return null!==e.index_position&&3===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0)},0),week5:s.reduce(function(e,t){return e+t.data.filter(function(e){return null!==e.index_position&&4===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0)},0),get total(){return this.week1+this.week2+this.week3+this.week4+this.week5}},P=[].concat(Object(vr.a)(j),[k]),C=[].concat(Object(vr.a)(S),[k]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:b.open,onClose:g,severity:b.severity,message:b.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:.9},a.a.createElement(Ve,{label:"Search",type:"month",variant:"outlined",size:"small",value:m,onChange:function(e){return d(e.target.value)},inputProps:{max:Vy},sx:{mb:2}})),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Weekly Production Report")),a.a.createElement(Ae.a,{flexGrow:.5,align:"right"},a.a.createElement(Bn.CSVLink,{data:P,headers:_,filename:"Weekly Production Report.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}},a.a.createElement(We.a,{color:"success",variant:"contained"},"Export to Excel")))),a.a.createElement(dt,{headers:L,data:C,isLastRow:!!k}))))};function Hy(){Hy=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Jy=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(null),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(null),v=Object(l.a)(y,2),g=v[0],b=v[1],E=(new Date).toISOString().split("T")[0],w=new Date("2030-12-31").toISOString().split("T")[0],x=Object(n.useState)(!1),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)("today"),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)([]),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useRef)(null),I=gt(),F=I.handleSuccess,G=I.handleError,W=I.handleCloseSnackbar,z=I.alertInfo,R=function(){var e=Object(c.a)(Hy().mark(function e(){var t;return Hy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B();case 3:t=e.sent,D(t),setTimeout(function(){A.current.link.click()}),F("CSV file downloaded successfully"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),G(e.t0),console.log("CSVLink Download error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(Hy().mark(function e(){var t,r,n,a;return Hy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=g?g.toISOString().split("T")[0]:"",r=m?m.toISOString().split("T")[0]:"",o(!0),e.next=6,Kr.getAllMrfProducts(k,t,r);case 6:return n=e.sent,a=n.data.map(function(e){return{id:e.id,date:e.date,product:e.product,unit:e.unit,quantity:e.quantity,branch:e.branch}}),o(!1),F("Exported successfully"),e.abrupt("return",a);case 13:e.prev=13,e.t0=e.catch(0),G(e.t0);case 16:return e.prev=16,o(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(){return e.apply(this,arguments)}}(),M=Object(n.useCallback)(Object(c.a)(Hy().mark(function e(){var t,r,n;return Hy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),t=g?g.toISOString().split("T")[0]:"",r=m?m.toISOString().split("T")[0]:"",e.next=6,Kr.getAllMrfProducts(k,t,r);case 6:n=e.sent,f(n.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),G(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])})),[k,g,m]);Object(n.useEffect)(function(){M()},[k,g,m]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:z.open,onClose:W,severity:z.severity,message:z.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,display:"flex",alignItems:"center"},a.a.createElement(sr,{size:"small",fullWidth:!0,onChange:function(e,t){var r;"custom_date"===(r=t?t.value:"")?(b(new Date),d(new Date),P(""),j(!0)):(P(r),b(null),d(null))},options:Ky,getOptionLabel:function(e){return e.label},isOptionEqualToValue:function(e,t){return e.value===t.value},label:"Filter By Date"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"MRF Products")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3,display:"flex",justifyContent:"flex-end",alignItems:"center",gap:2},a.a.createElement(We.a,{variant:"contained",onClick:R},"Download CSV"),N.length>0&&a.a.createElement(Bn.CSVLink,{data:N,headers:[{label:"ID",key:"id"},{label:"DATE",key:"date"},{label:"PRODUCT",key:"product"},{label:"UNIT",key:"unit"},{label:"QUANTITY",key:"quantity"},{label:"BRANCH",key:"branch"}],ref:A,filename:"MRF Products csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})))),a.a.createElement(Yn.a,{sx:{maxHeight:400,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Xy,null,a.a.createElement(Zy,{align:"center"},"ID"),a.a.createElement(Zy,{align:"center"},"Date"),a.a.createElement(Zy,{align:"center"},"Product"),a.a.createElement(Zy,{align:"center"},"Unit"),a.a.createElement(Zy,{align:"center"},"Quantity"),a.a.createElement(Zy,{align:"center"},"Branch"))),a.a.createElement(Hn.a,null,s.map(function(e){return a.a.createElement(a.a.Fragment,{key:e.id},a.a.createElement(Xy,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(Zy,{align:"center"},e.id),a.a.createElement(Zy,{align:"center"},e.date),a.a.createElement(Zy,{align:"center"},e.product),a.a.createElement(Zy,{align:"center"},e.unit),a.a.createElement(Zy,{align:"center"},e.quantity),a.a.createElement(Zy,{align:"center"},e.branch)))})))),a.a.createElement(Ce,{openPopup:_,setOpenPopup:j,title:"Date Filter",maxWidth:"md"},a.a.createElement(yi,{startDate:g,endDate:m,minDate:E,maxDate:w,handleStartDateChange:function(e){var t=new Date(e.target.value);b(t),d(new Date)},handleEndDateChange:function(e){var t=new Date(e.target.value);d(t)},resetDate:function(){b(new Date),d(new Date)}})))))},Ky=[{label:"Today",value:"today"},{label:"Yesterday",value:"yesterday"},{label:"This Month",value:"this_month"},{label:"Custom Date",value:"custom_date"}],Zy=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),Xy=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),$y=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=[{label:"Material Requisition Form",roles:["Director","Accounts","Stores","Stores Delhi","Production Delhi","Production"],component:a.a.createElement(Yd,null)},{label:"MRF Products",roles:["Director","Accounts"],component:a.a.createElement(Jy,null)},{label:"Production Entry",roles:["Director","Accounts","Stores Delhi","Production Delhi","Production"],component:a.a.createElement(ny,null)},{label:"Material Transfer Note",roles:["Director","Accounts","Stores","Stores Delhi","Production","Production Delhi","Accounts Executive"],component:a.a.createElement(dy,null)},{label:"Bill of Materials",roles:["Director","Accounts","Stores Delhi","Production Delhi","Production","Accounts Executive"],component:a.a.createElement(ky,null)},{label:"Production Inventory (G&L)",roles:["Director","Accounts","Accounts Executive"],component:a.a.createElement(Ay,null)},{label:"Production ShortFall",roles:["Director","Accounts","Purchase","Stores","Stores Delhi","Production Delhi","Production"],component:a.a.createElement(Fy,null)},{label:"Daily Production Report",roles:["Director","Accounts","Accounts Executive"],component:a.a.createElement(zy,null)},{label:"Weekly Production Report",roles:["Director","Accounts","Accounts Executive"],component:a.a.createElement(Qy,null)}].filter(function(t){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}.apply(void 0,Object(vr.a)(t.roles))}),r=Object(n.useState)(0),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Xr,{tabs:t.map(function(e){return{label:e.label,index:e.index}}),activeTab:i,onTabChange:function(e){c(e)}}),t.length>0&&t[i]?a.a.createElement("div",null,t[i].component):null)};function ev(){ev=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var tv=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),rv=function(e){var t=e.setOpenPopup,r=e.getAllPackingListDetails,o=e.idForEdit,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(null),m=Object(l.a)(p,2),v=m[0],g=m[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1];Object(n.useEffect)(function(){if(o&&o.products){var e=o.products.map(function(e){return Object(u.a)({},e,{quantity:e.quantity||0})});x(e)}},[o]);var O=function(){var e=Object(c.a)(ev().mark(function e(n){var a;return ev().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,h(!0),a={purchase_order:o.purchase_order||null,packing_list_no:o.packing_list_no||null,invoice_date:o.invoice_date,seller_account:o.seller_account||null,products:w||[]},e.next=6,Kr.updatePackingListData(o.id,a);case 6:t(!1),r(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Updating Packing List Error:",e.t0),g(e.t0.message||"An error occurred");case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,10,14,17]])}));return function(t){return e.apply(this,arguments)}}(),_=function(){g(null)};return a.a.createElement("div",null,a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:O},a.a.createElement(Ze.a,{open:Boolean(v),onClose:_,message:v,anchorOrigin:{vertical:"top",horizontal:"center"},action:a.a.createElement(d.a,{"aria-label":"close",color:"inherit",sx:{p:.5},onClick:_},a.a.createElement(_e.a,null))}),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"seller_account",label:"Buyer Account",variant:"outlined",value:o.seller_account||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Purchase Order Number",variant:"outlined",value:o.purchase_order||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,size:"small",name:"packing_list_no",label:"Invoice No",variant:"outlined",value:o.packing_list_no||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,size:"small",name:"invoice_date",label:"Invoice Date",variant:"outlined",InputLabelProps:{shrink:!0},value:o.invoice_date})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(tv,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),w.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:e.id||t},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:e.product||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,size:"small",name:"quantity",label:"Quantity",variant:"outlined",type:"number",value:e.quantity||"",onChange:function(e){return function(e,t){var r=w.map(function(r,n){return n===e?Object(u.a)({},r,{quantity:t}):r});x(r)}(t,e.target.value)}})))})),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function nv(){nv=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var av=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),ov=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.idForEdit,o=e.getAllPackingListDetails,i=e.currentPage,s=e.acceptedFilter,f=e.searchQuery,h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],v=Object(n.useState)(r.products.map(function(e){return{products:e.product,unit:e.unit,order_quantity:e.quantity,qa_rejected:"",qa_accepted:""}})),g=Object(l.a)(v,2),b=g[0],E=g[1],w=gt(),x=w.handleSuccess,O=w.handleError,_=w.handleCloseSnackbar,j=w.alertInfo,L=function(e,t){var r=t.target,n=r.name,a=r.value;console.log("name",n),console.log("value",a);var o=b.map(function(t,r){var o,i,c;return r===e?Object(u.a)({},t,(o={},Object(Y.a)(o,n,a),Object(Y.a)(o,"qa_accepted","qa_rejected"===n?(i=t.order_quantity,c=a,isNaN(i)||isNaN(c)?"":parseInt(i,10)-parseInt(c,10)):t.qa_accepted),o)):t});console.log("updatedProducts",o),E(o)};console.log("products",b);var S=Object(n.useCallback)(function(){var e=Object(c.a)(nv().mark(function e(n){var a,c,l;return nv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),d(!0),a={packing_list:r.id,grn_source:"Purchase",products:b.map(function(e){return{order_quantity:e.order_quantity,products:e.products,qa_accepted:e.qa_accepted,qa_rejected:e.qa_rejected,unit:e.unit}})},e.prev=3,e.next=6,Kr.createGRNData(a);case 6:c=e.sent,l=c.data.message||"GRN Created successfully",x(l),setTimeout(function(){t(!1),o(i,s,f)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),O(e.t0);case 15:return e.prev=15,d(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[3,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[b,r,x,O,o,i,s,f,d,t]);return a.a.createElement("div",null,a.a.createElement(yt,{open:j.open,onClose:_,severity:j.severity,message:j.message}),a.a.createElement(Je,{open:m}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return S(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Vendor",variant:"outlined",value:r.vendor||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Packing List ID",variant:"outlined",value:r.id||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Invoice No",variant:"outlined",value:r.packing_list_no||""})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(av,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),b.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{key:t,item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Products",variant:"outlined",value:e.products||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"order_quantity",size:"small",label:"Quantity",variant:"outlined",value:e.order_quantity||"",onChange:function(e){return L(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"qa_rejected",size:"small",label:"QA Rejected",variant:"outlined",value:e.qa_rejected,onChange:function(e){return L(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"qa_accepted",size:"small",label:"QA Accepted",variant:"outlined",value:""===e.qa_rejected||""===e.order_quantity||isNaN(e.order_quantity)||isNaN(e.qa_rejected)?"":parseInt(e.order_quantity)-parseInt(e.qa_rejected)})))})),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function iv(){iv=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var cv=function(){var e=Object(s.b)(),t=Object(s.c)(function(e){return e.auth.profile}),r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(!1),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(0),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)(""),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)(!1),F=Object(l.a)(I,2),W=F[0],z=F[1],R=Object(n.useState)(""),B=Object(l.a)(R,2),M=B[0],q=B[1],U=gt(),Y=U.handleError,V=U.handleCloseSnackbar,Q=U.alertInfo;Object(n.useEffect)(function(){H()},[]);var H=function(){var t=Object(c.a)(iv().mark(function t(){var r;return iv().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,g(!0),t.next=4,st.getAllPaginateSellerAccountData("all");case 4:r=t.sent,e(G(r.data)),g(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),g(!1);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)(function(){J(j,W,D)},[j,W,D]);var J=Object(n.useCallback)(function(){var e=Object(c.a)(iv().mark(function e(t,r,n){var a;return iv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,Kr.getAllPackingListData(t,r,n);case 4:a=e.sent,x(a.data.results),C(Math.ceil(a.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Y(e.t0);case 12:return e.prev=12,g(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,r,n){return e.apply(this,arguments)}}(),[]),K=function(e){q(e),u(!0)},Z=function(e){q(e),m(!0)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:Q.open,onClose:V,severity:Q.severity,message:Q.message}),a.a.createElement(Je,{open:v}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4,display:"flex",alignItems:"center",gap:2},a.a.createElement(sr,{sx:{width:"200px"},size:"small",value:uv.find(function(e){return e.value===W.toString()}),onChange:function(e,t){return function(e){if(e){var t="true"===e.value;z(t)}else z(!1),L(0)}(t)},options:uv,getOptionLabel:function(e){return e.label},label:"Filter By Accepted"}),a.a.createElement(Ur,{onSearch:function(e){A(e),L(1)},onReset:function(){A(""),L(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,md:4,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"center",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Pending GRN")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,md:4,display:"flex",justifyContent:"flex-end"}))),a.a.createElement(Yn.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(fv,null,a.a.createElement(sv,{align:"center"}),a.a.createElement(sv,{align:"center"},"INVOICE DATE"),a.a.createElement(sv,{align:"center"},"INVOICE NO"),a.a.createElement(sv,{align:"center"},"PURCHASE ORDER"),a.a.createElement(sv,{align:"center"},"VENDOR"),a.a.createElement(sv,{align:"center"},"BUYER STATE"),a.a.createElement(sv,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,w.map(function(e,r){return a.a.createElement(lv,{key:r,row:e,openInPopup:K,handleCreateGrn:Z,userData:t})})))),a.a.createElement(yd.a,{sx:{display:"flex",justifyContent:"center",marginTop:"2em"}},a.a.createElement(Vr,{currentPage:j,totalPages:P,handlePageChange:function(e,t){L(t)}})))),a.a.createElement(Ce,{fullScreen:!0,title:"PackingList Update",openPopup:i,setOpenPopup:u},a.a.createElement(rv,{setOpenPopup:u,getAllPackingListDetails:J,idForEdit:M})),a.a.createElement(Ce,{fullScreen:!0,title:"GRN Create",openPopup:p,setOpenPopup:m},a.a.createElement(ov,{currentPage:j,searchQuery:D,acceptedFilter:W,setOpenPopup:m,idForEdit:M,getAllPackingListDetails:J})))};function lv(e){var t=e.row,r=(e.openInPopup,e.handleCreateGrn),o=e.userData,i=Object(n.useState)(!1),c=Object(l.a)(i,2),u=c[0],s=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(fv,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(sv,null,a.a.createElement(d.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return s(!u)}},u?a.a.createElement(Sm.a,null):a.a.createElement(jm.a,null))),a.a.createElement(sv,{align:"center"},t.invoice_date),a.a.createElement(sv,{align:"center"},t.packing_list_no),a.a.createElement(sv,{align:"center"},t.purchase_order.join(", ")),a.a.createElement(sv,{align:"center"},t.vendor),a.a.createElement(sv,{align:"center"},t.seller_account),a.a.createElement(sv,{align:"center"},(o.groups.includes("Stores Delhi")||o.groups.includes("Accounts")||o.groups.includes("Production Delhi")||o.groups.includes("Stores")||o.groups.includes("Director"))&&a.a.createElement(We.a,{onClick:function(){return r(t)}},"Create GRN"))),a.a.createElement(fv,null,a.a.createElement(qn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(J.a,{in:u,timeout:"auto",unmountOnExit:!0},a.a.createElement(Ae.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Vn.a,{size:"small","aria-label":"purchases"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,{align:"center"},"SR.NO"),a.a.createElement(qn.a,{align:"center"},"PRODUCT"),a.a.createElement(qn.a,{align:"center"},"UNIT"),a.a.createElement(qn.a,{align:"center"},"QUANTITY"))),a.a.createElement(Hn.a,null,t.products.map(function(e,t){return a.a.createElement(fv,{key:t},a.a.createElement(sv,{align:"center"},t+1),a.a.createElement(sv,{align:"center"},e.product),a.a.createElement(sv,{align:"center"},e.unit),a.a.createElement(sv,{align:"center"},e.quantity))}))))))))}var uv=[{label:"Accepted",value:"true"},{label:"Not Accepted",value:"false"}],sv=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),fv=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function hv(){hv=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var pv=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.onCreateSuccess,o=e.currentPage,i=Object(s.c)(function(e){return{sellerData:e.auth.sellerAccount}}).sellerData;console.log(i);var f=Object(n.useState)({seller_account:"",product:"",quantity:""}),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(!1),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=gt(),_=O.handleSuccess,j=O.handleError,L=O.handleCloseSnackbar,S=O.alertInfo,k=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;m(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},[]),P=Object(n.useCallback)(function(e,t){m(function(r){return Object(u.a)({},r,Object(Y.a)({},e,t))})},[]);Object(n.useEffect)(function(){(function(){var e=Object(c.a)(hv().mark(function e(){var t;return hv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,Pn.getAllProduct();case 4:t=e.sent,x(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching products",e.t0);case 11:return e.prev=11,g(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[1,8,11,14]])}));return function(){return e.apply(this,arguments)}})()()},[]);var C=function(){var e=Object(c.a)(hv().mark(function e(n){return hv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),g(!0),e.prev=2,e.next=5,Kr.createSafetyStockData(p);case 5:r(o),"Safety Stock Created Successfully",_("Safety Stock Created Successfully"),setTimeout(function(){t(!1)},300),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),j(e.t0);case 14:return e.prev=14,g(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,11,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:S.open,onClose:L,severity:S.severity,message:S.message}),a.a.createElement(Je,{open:v}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:C},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{size:"small",disablePortal:!0,options:i.map(function(e){return e.unit}),getOptionLabel:function(e){return e},onChange:function(e,t){return P("seller_account",t)},label:"Seller Account"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{size:"small",disablePortal:!0,options:w.map(function(e){return e.name}),getOptionLabel:function(e){return e},onChange:function(e,t){return P("product",t)},label:"Product"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:p.quantity,onChange:k}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function mv(){mv=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var dv=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.selectedRow,o=e.onUpdateSuccess,i=e.currentPage,s=Object(n.useState)(r.quantity),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=gt(),b=g.handleSuccess,E=g.handleError,w=g.handleCloseSnackbar,x=g.alertInfo;Object(n.useEffect)(function(){r&&p(r.quantity)},[r]);var O=function(){var e=Object(c.a)(mv().mark(function e(){return mv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,Kr.updateSafetyStockData(r.id,Object(u.a)({},r,{quantity:h}));case 4:o(i),"Safety Stock Updated Successfully",b("Safety Stock Updated Successfully"),setTimeout(function(){t(!1)},300),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),E(e.t0),console.error("Error updating safety stock data:",e.t0);case 14:return e.prev=14,v(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,10,14,17]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:x.open,onClose:w,severity:x.severity,message:x.message}),a.a.createElement(Ae.a,{p:3},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:r.product})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Quantity",variant:"outlined",value:h,onChange:function(e){return p(e.target.value)},type:"number",disabled:y})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:O,disabled:y},"Update")))))});function yv(){yv=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var vv=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],w=Object(n.useState)(null),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(0),C=Object(l.a)(P,2),T=C[0],N=C[1],D=gt(),A=D.handleError,I=D.handleCloseSnackbar,F=D.alertInfo,G=function(){var e=Object(c.a)(yv().mark(function e(t){return yv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{b(!0),_(t),d(!0)}catch(r){console.log(r)}finally{b(!1)}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),W=Object(n.useCallback)(function(){var e=Object(c.a)(yv().mark(function e(t){var r;return yv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,Kr.getAllSafetyStockData(t);case 4:r=e.sent,f(r.data.results),N(Math.ceil(r.data.count/25)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),A(e.t0),console.error("error",e.t0);case 13:return e.prev=13,b(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])}));return function(t){return e.apply(this,arguments)}}(),[]);Object(n.useEffect)(function(){W(S)},[S,W]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:F.open,onClose:I,severity:F.severity,message:F.message}),a.a.createElement(Je,{open:g}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",marginBottom:"10px"},a.a.createElement(Fe.a,{container:!0,alignItems:"center",spacing:2,sx:{mb:2,mx:3}},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,md:4}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,md:4},a.a.createElement(E.a,{variant:"h5",sx:{fontWeight:800,color:"rgb(34, 34, 34)",textAlign:"center"}},"Safety Stock Level")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,md:4,sx:{display:"flex",justifyContent:"flex-end"}},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return o(!0)}},"Add New")))),a.a.createElement(Yn.a,{component:ut.a},a.a.createElement(Vn.a,{sx:{minWidth:650},"aria-label":"simple table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(gv,{align:"center"},"Id"),a.a.createElement(gv,{align:"center"},"Unit"),a.a.createElement(gv,{align:"center"},"Description"),a.a.createElement(gv,{align:"center"},"Product"),a.a.createElement(gv,{align:"center"},"Quantity"),a.a.createElement(gv,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,s.map(function(e,t){return a.a.createElement(Ev,{key:t,"data-quantity":bv(e.quantity)},a.a.createElement(gv,{align:"center"},e.id),a.a.createElement(gv,{align:"center"},e.seller_account),a.a.createElement(gv,{align:"center"},e.description),a.a.createElement(gv,{align:"center"},e.product),a.a.createElement(gv,{align:"center"},e.quantity),a.a.createElement(gv,{align:"center"},a.a.createElement(We.a,{onClick:function(){return G(e)}},"Edit")))})))),a.a.createElement(Vr,{currentPage:S,totalPages:T,handlePageChange:function(e,t){k(t)}}))),a.a.createElement(Ce,{title:"Create Safety Stock",openPopup:r,setOpenPopup:o},a.a.createElement(pv,{currentPage:S,setOpenPopup:o,onCreateSuccess:W})),a.a.createElement(Ce,{title:"Safety Stock Update",openPopup:m,setOpenPopup:d},a.a.createElement(dv,{currentPage:S,setOpenPopup:d,selectedRow:O,onUpdateSuccess:W})))},gv=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),bv=function(e){return e<10?"low":e>=10&&e<=50?"medium":e>50&&e<=100?"high":"default"},Ev=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0},'&[data-quantity="low"]':{backgroundColor:"#FFCDD2"},'&[data-quantity="medium"]':{backgroundColor:"#FFF59D"},'&[data-quantity="high"]':{backgroundColor:"#BBDEFB"},'&[data-quantity="default"]':{}}}),wv=Ri.d.create({page:{flexDirection:"column",padding:24,fontFamily:"Helvetica"},Container:{borderWidth:1,borderColor:"#000"},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:12,borderBottomWidth:1,borderColor:"#000"},logo:{width:100,height:30},title:{fontSize:14,fontWeight:"bold",flex:1,marginRight:100},grnInfoContainer:{flexDirection:"column",justifyContent:"flex-end",fontSize:12,alignItems:"flex-end"},grnInfo:{marginLeft:4,marginBottom:4},table:{borderWidth:1,borderColor:"#000",marginBottom:12},tableHeader:{flexDirection:"row",backgroundColor:"#CCCCCC"},tableHeaderCell:{fontSize:12,fontWeight:"bold",padding:4,borderRightWidth:1,borderColor:"#000"},tableRow:{flexDirection:"row",borderBottomWidth:1,borderColor:"#000"},tableCell:{fontSize:12,padding:4,borderRightWidth:1,borderColor:"#000"},footer:{flexDirection:"row",justifyContent:"space-between"},signatureBlock:{flexDirection:"column",alignItems:"flex-start",marginTop:12},signatureLabel:{fontSize:12},signatureLine:{borderBottomWidth:1,borderColor:"#000",marginTop:4},divider:{borderBottomWidth:1,borderColor:"#000",marginTop:8,marginBottom:8}}),xv=function(e){var t=e.grnRegisterPDFData;return a.a.createElement(Ri.a,null,a.a.createElement(Ri.c,{size:"A4",style:wv.page},a.a.createElement(Ri.f,{style:wv.Container},a.a.createElement(Ri.f,{style:wv.header},a.a.createElement(Ri.b,{source:ec.a,style:wv.logo})),a.a.createElement(Ri.f,{style:wv.header},a.a.createElement(Ri.e,{style:wv.title},"GOODS RECEIVED NOTE"),a.a.createElement(Ri.f,{style:wv.grnInfoContainer},a.a.createElement(Ri.e,{style:wv.grnInfo},"GRN No: ",t.grn_number))),a.a.createElement(Ri.f,{style:{flexDirection:"row",justifyContent:"space-between"}},a.a.createElement(Ri.e,{style:{flex:1,fontSize:12,marginLeft:24}},"Supplier Name: ",t.vendor),a.a.createElement(Ri.f,{style:{flex:1,alignItems:"flex-end",marginRight:24}},a.a.createElement(Ri.e,{style:{fontSize:12}},"GRN Date: ",t.created_on),a.a.createElement(Ri.e,{style:{fontSize:12}},"Invoice No: ",t.packing_list_no),a.a.createElement(Ri.e,{style:{fontSize:12}},"Supplier Invoice Date: ",t.pl_date))),a.a.createElement(Ri.f,{style:wv.table},a.a.createElement(Ri.f,{style:wv.tableHeader},a.a.createElement(Ri.e,{style:[wv.tableHeaderCell,{flex:1}]},"Sr. No."),a.a.createElement(Ri.e,{style:[wv.tableHeaderCell,{flex:4}]},"Item Code"),a.a.createElement(Ri.e,{style:[wv.tableHeaderCell,{flex:2}]},"Item Description"),a.a.createElement(Ri.e,{style:[wv.tableHeaderCell,{flex:1}]},"Order Qty"),a.a.createElement(Ri.e,{style:[wv.tableHeaderCell,{flex:1}]},"QA Rejection"),a.a.createElement(Ri.e,{style:[wv.tableHeaderCell,{flex:1,borderRightWidth:0}]},"Received Qty")),t.products.map(function(e,t){return a.a.createElement(Ri.f,{style:wv.tableRow,key:t},a.a.createElement(Ri.e,{style:[wv.tableCell,{flex:1}]},t+1),a.a.createElement(Ri.e,{style:[wv.tableCell,{flex:4}]},e.products),a.a.createElement(Ri.e,{style:[wv.tableCell,{flex:2}]},e.description),a.a.createElement(Ri.e,{style:[wv.tableCell,{flex:1}]},e.order_quantity),a.a.createElement(Ri.e,{style:[wv.tableCell,{flex:1}]},e.qa_rejected),a.a.createElement(Ri.e,{style:[wv.tableCell,{flex:1,borderRightWidth:0}]},e.qa_accepted))})),a.a.createElement(Ri.f,{style:wv.footer},a.a.createElement(Ri.f,{style:{flexDirection:"row"}},a.a.createElement(Ri.f,{style:wv.signatureBlock},a.a.createElement(Ri.e,{style:wv.signatureLabel},"Stores Supervisor's Name:")),a.a.createElement(Ri.f,{style:[wv.signatureBlock,{marginLeft:100}]},a.a.createElement(Ri.e,{style:wv.signatureLabel},"Signature:")),a.a.createElement(Ri.f,{style:[wv.signatureBlock,{marginLeft:100}]},a.a.createElement(Ri.e,{style:wv.signatureLabel},"Date:")))),a.a.createElement(Ri.f,{style:wv.divider}),a.a.createElement(Ri.f,{style:wv.footer},a.a.createElement(Ri.f,{style:{flexDirection:"row"}},a.a.createElement(Ri.f,{style:wv.signatureBlock},a.a.createElement(Ri.e,{style:wv.signatureLabel},"Quality Supervisor's Name:")),a.a.createElement(Ri.f,{style:[wv.signatureBlock,{marginLeft:100}]},a.a.createElement(Ri.e,{style:wv.signatureLabel},"Signature:")),a.a.createElement(Ri.f,{style:[wv.signatureBlock,{marginLeft:100}]},a.a.createElement(Ri.e,{style:wv.signatureLabel},"Date:"))))),a.a.createElement(Ri.e,{style:{marginTop:"10px",fontSize:12,textAlign:"right"}},"GIPL/STR/R/03")))};function Ov(){Ov=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var _v=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(""),v=Object(l.a)(y,2),g=v[0],b=v[1],w=Object(n.useState)(0),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)([]),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useRef)(null),C="".concat((new Date).getFullYear(),"-").concat(((new Date).getMonth()+1).toString().padStart(2,"0")),T=Object(n.useState)(C),N=Object(l.a)(T,2),D=N[0],A=N[1],I=gt(),F=I.handleSuccess,G=I.handleError,W=I.handleCloseSnackbar,z=I.alertInfo,R=function(){var e=Object(c.a)(Ov().mark(function e(){var t;return Ov().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B();case 3:t=e.sent,k(t),setTimeout(function(){P.current.link.click()}),F("CSV file downloaded successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(Ov().mark(function e(){var t,r;return Ov().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kr.getAllGRNRegisterDetails(D,"all",g);case 4:return t=e.sent,r=t.data.map(function(e){return{invoice_date:e.invoice_date,vendor:e.vendor,invoice_no:e.invoice_no,description:e.description,products:e.products,invoice_quantity:e.invoice_quantity,qa_rejected:e.qa_rejected,qa_recieved:e.qa_recieved}}),console.log("formattedData",r),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error("CSVLink Download error",e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(c.a)(Ov().mark(function e(t){var r;return Ov().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kr.getGRNDataById(t.grn_no);case 4:r=e.sent,q(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching GRN data",e.t0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(c.a)(Ov().mark(function e(t){var r,n,i;return Ov().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),r=new zi.a,e.next=5,Object(Ri.g)(a.a.createElement(xv,{grnRegisterPDFData:t}),r,{}).toBlob();case 5:n=e.sent,(i=document.createElement("a")).href=URL.createObjectURL(n),i.download="".concat(t.vendor," - ").concat(t.grn_no,".pdf"),document.body.appendChild(i),i.click(),document.body.removeChild(i),o(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("error exporting pdf",e.t0);case 18:return e.prev=18,o(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[0,15,18,21]])}));return function(t){return e.apply(this,arguments)}}(),U=Object(n.useCallback)(Object(c.a)(Ov().mark(function e(){var t;return Ov().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kr.getAllGRNRegisterDetails(D,m,g);case 4:t=e.sent,f(t.data.results),_(Math.ceil(t.data.count/25)),o(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),G(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])})),[D,m,g]);Object(n.useEffect)(function(){U()},[D,m,g,U]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:z.open,onClose:W,severity:z.severity,message:z.message}),a.a.createElement(Je,{open:r}),a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",marginBottom:"10px"},a.a.createElement(Fe.a,{container:!0,alignItems:"center",spacing:2,sx:{mb:2,mx:3}},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){b(e),d(1)},onReset:function(){b(""),d(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2,md:2},a.a.createElement(Ve,{size:"small",type:"month",label:"Filter By Month and Year",value:D,onChange:function(e){d(0),A(e.target.value),U(0,e.target.value)},fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3,md:3},a.a.createElement(E.a,{variant:"h5",sx:{fontWeight:800,color:"rgb(34, 34, 34)",textAlign:"center"}},"GRN Registers")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,md:4,sx:{display:"flex",justifyContent:"flex-end"}},a.a.createElement(We.a,{onClick:R,variant:"contained"},"Download CSV")),S.length>0&&a.a.createElement(Bn.CSVLink,{data:S,headers:[{label:"Date",key:"invoice_date"},{label:"Vendor",key:"vendor"},{label:"Invoice No",key:"invoice_no"},{label:"Description",key:"description"},{label:"Product",key:"products"},{label:"Order Quantity",key:"invoice_quantity"},{label:"QA Rejected Quantity",key:"qa_rejected"},{label:"Received Quantity",key:"qa_recieved"}],ref:P,filename:"GRN Register.csv",target:"_blank",style:{textDecoration:"none",outline:"none",width:"100%"}}))),a.a.createElement(Yn.a,{sx:{maxHeight:440}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Lv,null,["Grn NO","Date","Vendor","Invoce No","Description","Product","Order Quantity","QA Rejected Quantity","Received Quantity","Action"].map(function(e){return a.a.createElement(jv,{key:e,align:"center"},e)}))),a.a.createElement(Hn.a,null,s.map(function(e,t){return a.a.createElement(Lv,{key:t},a.a.createElement(jv,{align:"center"},e.grn_number),a.a.createElement(jv,{align:"center"},e.invoice_date),a.a.createElement(jv,{align:"center"},e.vendor),a.a.createElement(jv,{align:"center"},e.invoice_no),a.a.createElement(jv,{align:"center"},e.description),a.a.createElement(jv,{align:"center"},e.products),a.a.createElement(jv,{align:"center"},e.invoice_quantity),a.a.createElement(jv,{align:"center"},e.qa_rejected),a.a.createElement(jv,{align:"center"},e.qa_recieved),a.a.createElement(jv,{align:"center"},a.a.createElement(We.a,{onClick:function(){M(e)}},"Download")))})))),a.a.createElement(Vr,{currentPage:m,totalPages:O,handlePageChange:function(e,t){d(t)}})))},jv=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),Lv=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Sv(){Sv=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var kv=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getAllStoresInventoryDetails,o=e.currentPage,i=e.searchQuery,s=Object(n.useState)(!1),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=gt(),S=L.handleSuccess,k=L.handleError,P=L.handleCloseSnackbar,C=L.alertInfo,T=function(e){var t,r=e.target,n=r.name,a=r.value,o=y.pending_quantity,i=y.amount;"quantity"===n?(o=parseInt(a),i=parseFloat(y.rate||0)*parseFloat(a)||""):"rate"===n&&(i=parseFloat(a)*parseInt(y.quantity)||"");v(Object(u.a)({},y,(t={},Object(Y.a)(t,n,a),Object(Y.a)(t,"pending_quantity",o),Object(Y.a)(t,"amount",i),t)))},N=function(e,t){v(Object(u.a)({},y,Object(Y.a)({},e,t)))};Object(n.useEffect)(function(){D(),A()},[]);var D=function(){var e=Object(c.a)(Sv().mark(function e(){var t;return Sv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Pn.getAllProduct();case 4:t=e.sent,w(t.data),p(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error potential",e.t0),p(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(c.a)(Sv().mark(function e(){var t;return Sv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,st.getAllPaginateSellerAccountData("all");case 4:t=e.sent,console.log("response seller",t.data),j(t.data),p(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),p(!1);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(c.a)(Sv().mark(function e(n){var a;return Sv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),a={seller_account:y.seller_account,product:y.product,quantity:y.quantity,pending_quantity:y.pending_quantity,rate:y.rate,amount:y.amount},p(!0),e.next=6,Kr.createStoresInventoryData(a);case 6:"Store Inventory Created Successfully",S("Store Inventory Created Successfully"),setTimeout(function(){t(!1)},300),r(o,i),p(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),k(e.t0),p(!1),console.error("error Store Inventory",e.t0);case 18:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:C.open,onClose:P,severity:C.severity,message:C.message}),a.a.createElement(Je,{open:h}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return I(e)},sx:{mt:1}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"seller_account",size:"small",disablePortal:!0,id:"combo-box-demo",value:y.seller_account||"",onChange:function(e,t){return N("seller_account",t)},options:_.map(function(e){return e.unit}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Seller Account"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",value:y.product||"",onChange:function(e,t){return N("product",t)},options:E.map(function(e){return e.name}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:y.quantity||"",onChange:T})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"pending_quantity",size:"small",label:"Pending Quantity",variant:"outlined",value:y.pending_quantity||""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:y.rate||"",onChange:T})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"amount",size:"small",label:"Amount",variant:"outlined",value:y.amount||""}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:3,mb:2,textAlign:"right"}},"Submit")))});function Pv(){Pv=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Cv=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(0),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(""),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)([]),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useRef)(null),D=gt(),A=D.handleSuccess,I=D.handleError,F=D.handleCloseSnackbar,G=D.alertInfo,W=function(){var e=Object(c.a)(Pv().mark(function e(){var t;return Pv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z();case 3:t=e.sent,T(t),setTimeout(function(){N.current.link.click()}),A("CSV file downloaded successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(Pv().mark(function e(){var t,r;return Pv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o(!0),!L){e.next=8;break}return e.next=5,Kr.getAllStoresInventoryDetails("all",L);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Kr.getAllStoresInventoryDetails("all");case 10:t=e.sent;case 11:return r=t.data.map(function(e){return{product:e.product,seller_account:e.seller_account,description:e.description,created_on:e.created_on,unit:e.unit,quantity:e.quantity,pending_quantity:e.pending_quantity,rate:e.rate,amount:e.amount}}),o(!1),e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,o(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){R()},[]),Object(n.useEffect)(function(){R(g,L)},[g,L]);var R=Object(n.useCallback)(function(){var e=Object(c.a)(Pv().mark(function e(t){var r,n,a=arguments;return Pv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:L,e.prev=1,o(!0),e.next=5,Kr.getAllStoresInventoryDetails(t,r);case 5:n=e.sent,d(n.data.results),O(Math.ceil(n.data.count/25)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),I(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(t){return e.apply(this,arguments)}}(),[]),B=m.map(function(e,t){return{product:e.product,source:e.source,source_key:e.source_key,seller_account:e.seller_account,description:e.description,unit:e.unit,quantity:e.quantity,pending_quantity:e.pending_quantity,created_on:e.created_on,expiry_date:e.expiry_date,rate:e.rate,amount:e.amount}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:G.open,onClose:F,severity:G.severity,message:G.message}),a.a.createElement(Je,{open:r}),a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(Ur,{onSearch:function(e){S(e),b(1)},onReset:function(){S(""),b(1)}})),a.a.createElement(Ae.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Stores Inventory")),a.a.createElement(Ae.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(We.a,{onClick:W,variant:"contained",sx:{marginRight:1}},"Download CSV"),C.length>0&&a.a.createElement(Bn.CSVLink,{data:Object(vr.a)(C),headers:[{label:"PRODUCT",key:"product"},{label:"SELLER STATE",key:"seller_account"},{label:"DESCRIPTION",key:"description"},{label:"DATE",key:"created_on"},{label:"UNIT",key:"unit"},{label:"QUANTITY",key:"quantity"},{label:"PENDING QUANTITY",key:"pending_quantity"},{label:"RATE",key:"rate"},{label:"AMOUNT",key:"amount"}],ref:N,filename:"Store Inventory.csv",target:"_blank",style:{textDecoration:"none",outline:"none",marginRight:1}})))),a.a.createElement(dt,{headers:["PRODUCT","SOURCE","SOURCE KEY","SELLER STATE","DESCRIPTION","UNIT","QUANTITY","PENDING QUANTITY","MFG. DATE","EXPIRY DATE","RATE","AMOUNT"],data:B,openInPopup:null,openInPopup2:null}),a.a.createElement(Vr,{currentPage:g,totalPages:x,handlePageChange:function(e,t){b(t)}}),a.a.createElement(Ce,{maxWidth:"xl",title:"Create Stores Inventory",openPopup:s,setOpenPopup:f},a.a.createElement(kv,{currentPage:g,searchQuery:L,setOpenPopup:f,getAllStoresInventoryDetails:R}))))};function Tv(){Tv=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Nv=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),m=p[0],d=p[1],y=gt(),v=y.handleError,g=y.handleCloseSnackbar,b=y.alertInfo,w=function(){var e=Object(c.a)(Tv().mark(function e(){var t;return Tv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kr.getAllConsStoresInventoryData();case 4:t=e.sent,f(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),v(e.t0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){w()},[]);var x=s.filter(function(e){return e.product__name.toLowerCase().includes(m.toLowerCase())}).map(function(e){return{product:e.product__name,description:e.description,size:e.size,seller_account:e.seller_account,unit:e.product__unit,quantity:e.quantity}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:b.open,onClose:g,severity:b.severity,message:b.message}),a.a.createElement(Je,{open:r}),a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(Ae.a,{sx:{flexGrow:1,minWidth:"300px"}},a.a.createElement(Ur,{onSearch:function(e){d(e)},onReset:function(){d("")}})),a.a.createElement(E.a,{variant:"h3",sx:{flexGrow:2,textAlign:"center",margin:"0",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,minWidth:"150px"}},"Stores Inventory Cons"),a.a.createElement(Ae.a,{sx:{flexGrow:1,display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(Bn.CSVLink,{data:x,headers:[{label:"PRODUCT",key:"product"},{label:"DESCRIPTION",key:"description"},{label:"SIZE",key:"size"},{label:"SELLER UNIT",key:"seller_account"},{label:"UNIT",key:"unit"},{label:"QUANTITY",key:"quantity"}],filename:"Stores Inventory Consolidate.csv",target:"_blank",style:{textDecoration:"none",outline:"none"}},a.a.createElement(We.a,{variant:"contained",sx:{marginRight:1}},"Download CSV")))),a.a.createElement(dt,{headers:["PRODUCT","DESCRIPTION","SIZE","SELLER UNIT","UNIT","QUANTITY"],data:x})))};function Dv(){Dv=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Av=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useRef)(null),P=gt(),C=P.handleSuccess,T=P.handleError,N=P.handleCloseSnackbar,D=P.alertInfo,A=function(){var e=Object(c.a)(Dv().mark(function e(){var t;return Dv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I();case 3:t=e.sent,S(t),setTimeout(function(){k.current.link.click()}),C("CSV Download Successful"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),T(e.t0),console.log("CSVLink Download error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(c.a)(Dv().mark(function e(){var t,r;return Dv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o(!0),!x){e.next=8;break}return e.next=5,Kr.getProductionInventoryPaginateData("all",x);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Kr.getProductionInventoryPaginateData("all");case 10:t=e.sent;case 11:return r=t.data.map(function(e){return{product:e.product,seller_account:e.seller_account,description:e.description,created_on:e.created_on,unit:e.unit,quantity:e.quantity,pending_quantity:e.pending_quantity,rate:e.rate,amount:e.amount}}),o(!1),e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,o(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){F(m,x)},[m,x]);var F=Object(n.useCallback)(function(){var e=Object(c.a)(Dv().mark(function e(t,r){var n;return Dv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kr.getProductionInventoryData(t,r);case 4:n=e.sent,f(n.data.results),b(Math.ceil(n.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),T(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,r){return e.apply(this,arguments)}}(),[]),G=s.map(function(e,t){return{id:e.id,product:e.product,seller_account:e.seller_account,description:e.description,source_key:e.source_key,created_on:e.created_on,unit:e.unit,quantity:e.quantity,pending_quantity:e.pending_quantity,rate:e.rate,amount:e.amount}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:D.open,onClose:N,severity:D.severity,message:D.message}),a.a.createElement(Je,{open:r}),a.a.createElement("div",null,a.a.createElement("div",{style:{padding:"16px",margin:"16px",boxShadow:"0px 3px 6px #00000029",borderRadius:"4px",display:"flex",flexDirection:"column",backgroundColor:"rgb(255, 255, 255)"}},a.a.createElement("div",{style:{display:"flex"}},a.a.createElement("div",{style:{flexGrow:.9}},a.a.createElement(Ur,{onSearch:function(e){O(e),d(1)},onReset:function(){O(""),d(1)}})),a.a.createElement("div",{style:{flexGrow:2}},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Production Inventory")),a.a.createElement("div",{style:{flexGrow:.5},align:"right"},a.a.createElement(We.a,{variant:"contained",onClick:A},"Download CSV"),L.length>0&&a.a.createElement(Bn.CSVLink,{data:L,headers:[{label:"PRODUCT",key:"product"},{label:"SELLER STATE",key:"seller_account"},{label:"DESCRIPTION",key:"description"},{label:"DATE",key:"created_on"},{label:"UNIT",key:"unit"},{label:"QUANTITY",key:"quantity"},{label:"PENDING QUANTITY",key:"pending_quantity"},{label:"RATE",key:"rate"},{label:"AMOUNT",key:"amount"}],ref:k,filename:"Production Inventory.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}}))),a.a.createElement(dt,{headers:["ID","PRODUCT","SELLER STATE","DESCRIPTION","BATCH NO","DATE","UNIT","QUANTITY","PENDING QUANTITY","RATE","AMOUNT"],data:G,openInPopup:null,openInPopup2:null,Styles:{paddingLeft:"10px",paddingRight:"10px"}}),a.a.createElement(Vr,{currentPage:m,totalPages:g,handlePageChange:function(e,t){d(t)}}))))};function Iv(){Iv=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Fv=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),m=p[0],d=p[1],y=gt(),v=y.handleError,g=y.handleCloseSnackbar,b=y.alertInfo,E=function(){var e=Object(c.a)(Iv().mark(function e(){var t;return Iv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kr.getAllConsProductionInventoryData();case 4:t=e.sent,f(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),v(e.t0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){E()},[]);var w=s.filter(function(e){return e.product__name.toLowerCase().includes(m.toLowerCase())}).map(function(e){return{product:e.product__name,description:e.description,seller_account:e.seller_account,unit:e.product__unit,size:e.size,quantity:e.quantity}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:b.open,onClose:g,severity:b.severity,message:b.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ur,{onSearch:function(e){d(e)},onReset:function(){d("")}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Production Inventory Cons")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Bn.CSVLink,{data:w,headers:[{label:"PRODUCT",key:"product"},{label:"DESCRIPTION",key:"description"},{label:"SELLER UNIT",key:"seller_account"},{label:"UNIT",key:"unit"},{label:"SIZE",key:"size"},{label:"QUANTITY",key:"quantity"}],filename:"Production Inventory Cons.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}},a.a.createElement(We.a,{variant:"contained",color:"success"},"Export to Excel"))))),a.a.createElement(dt,{headers:["PRODUCT","DESCRIPTION","SELLER UNIT","UNIT","SIZE","QUANTITY"],data:w}))))};function Gv(){Gv=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Wv=function(e){var t=e.idForEdit,r=e.selectedRow;console.log("idforedit",t);var o=Object(n.useState)([]),i=Object(l.a)(o,2),u=i[0],s=i[1],f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=gt(),y=d.handleError,v=d.handleCloseSnackbar,g=d.alertInfo;Object(n.useEffect)(function(){b()},[t]);var b=function(){var e=Object(c.a)(Gv().mark(function e(){var n,a;return Gv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),n={description:t.description,seller_account:t.unit,product:r.product},e.next=5,Kr.getAllProductStoresInventoryDetails(n);case 5:a=e.sent,s(a.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),y(e.t0);case 12:return e.prev=12,m(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:g.open,onClose:v,severity:g.severity,message:g.message}),a.a.createElement(Je,{open:p}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,display:"flex",flexDirection:"column"}},a.a.createElement(Yn.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Rv,null,a.a.createElement(zv,{align:"center"},"PRODUCT"),a.a.createElement(zv,{align:"center"},"PRODUCT"),a.a.createElement(zv,{align:"center"},"QUANTITY"),a.a.createElement(zv,{align:"center"},"RATE"),a.a.createElement(zv,{align:"center"},"TOTAL AMOUNT"))),a.a.createElement(Hn.a,null,u.map(function(e,t){return a.a.createElement(Rv,null,a.a.createElement(zv,{align:"center"},e.source_key),a.a.createElement(zv,{align:"center"},e.product),a.a.createElement(zv,{align:"center"},e.pending_quantity),a.a.createElement(zv,{align:"center"},e.rate),a.a.createElement(zv,{align:"center"},e.total_amount))}))," ")))))},zv=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:14,padding:0}),t}),Rv=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Bv(){Bv=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Mv=function(e){var t=e.idForEdit;console.log("idforedit",t);var r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)(!1),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(null),b=Object(l.a)(g,2),E=b[0],w=b[1],x=gt(),O=x.handleError,_=x.handleCloseSnackbar,j=x.alertInfo,L=function(){var e=Object(c.a)(Bv().mark(function e(){var r,n;return Bv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),r={description:t.description,seller_account:t.unit},e.next=5,Kr.getProductCodeStoresInventoryDetails(r);case 5:n=e.sent,u(n.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),O(e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){L()},[t]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:j.open,onClose:_,severity:j.severity,message:j.message}),a.a.createElement(Je,{open:h}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,display:"flex",flexDirection:"column"}},a.a.createElement(Yn.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Uv,null,a.a.createElement(qv,{align:"center"},"PRODUCT"),a.a.createElement(qv,{align:"center"},"QUANTITY"),a.a.createElement(qv,{align:"center"},"RATE"),a.a.createElement(qv,{align:"center"},"TOTAL AMOUNT"),a.a.createElement(qv,{align:"center"},"ACTION"))),a.a.createElement(Hn.a,null,i.map(function(e,t){return a.a.createElement(Uv,null,a.a.createElement(qv,{align:"center"},e.product),a.a.createElement(qv,{align:"center"},e.pending_quantity),a.a.createElement(qv,{align:"center"},e.rate),a.a.createElement(qv,{align:"center"},e.total_amount),a.a.createElement(qv,{align:"center"},a.a.createElement(We.a,{onClick:function(){return t=e,console.log("seus"),w(t),void v(!0);var t}},"Product")))}))," ")))),a.a.createElement(Ce,{openPopup:y,setOpenPopup:v,maxWidth:"xl",title:"Consolidate Product"},a.a.createElement(Wv,{idForEdit:t,selectedRow:E,setOpenCreatePopup:v})))},qv=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:14,padding:0}),t}),Uv=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Yv(){Yv=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Vv=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(""),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(null),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(""),j=Object(l.a)(_,2),L=j[0],S=j[1],k=gt(),P=k.handleError,C=k.handleCloseSnackbar,T=k.alertInfo,N=Object(n.useState)(null),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useCallback)(Object(c.a)(Yv().mark(function e(){var t;return Yv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Kr.getDescriptionStoresInventoryDetails(A,L);case 4:t=e.sent,d(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),P(e.t0);case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])})),[]);Object(n.useEffect)(function(){F()},[A,L]);var G=function(){var e=Object(c.a)(Yv().mark(function e(){var t;return Yv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,st.getAllPaginateSellerAccountData("all");case 4:t=e.sent,O(t.data),f(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),f(!1),console.log("err",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){G()},[]);return console.log("seller option",x),a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:T.open,onClose:C,severity:T.severity,message:T.message}),a.a.createElement(Je,{open:s}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-start"},a.a.createElement(Fe.a,{item:!0,xs:12,md:3},a.a.createElement(sr,{value:A,onChange:function(e,t){I(t)},options:x&&x.map(function(e){return e.unit}),renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Unit Filter",fullWidth:!0,size:"small"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12,md:3},a.a.createElement(Ur,{onSearch:function(e){S(e)},onReset:function(){S("")}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement("h3",{style:{textAlign:"center",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Description Store Inventory")))),a.a.createElement(Yn.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Hv,null,a.a.createElement(Qv,{align:"center"},"DESCRIPTION"),a.a.createElement(Qv,{align:"center"},"QUANTITY"),a.a.createElement(Qv,{align:"center"},"RATE"),a.a.createElement(Qv,{align:"center"},"TOTAL AMOUNT"),a.a.createElement(Qv,{align:"center"},"UNIT"),a.a.createElement(Qv,{align:"center"},"ACTION"))),a.a.createElement(Hn.a,null,m.map(function(e,t){return a.a.createElement(Hv,null,a.a.createElement(Qv,{align:"center"},e.description),a.a.createElement(Qv,{align:"center"},e.pending_quantity),a.a.createElement(Qv,{align:"center"},e.rate),a.a.createElement(Qv,{align:"center"},e.total_amount),a.a.createElement(Qv,{align:"center"},e.unit),a.a.createElement(Qv,{align:"center"},a.a.createElement(We.a,{onClick:function(){return b(e),o(!0),void console.log("seus")}},"Product Code")))}))," ")))),a.a.createElement(Ce,{openPopup:r,setOpenPopup:o,maxWidth:"xl",title:"Consolidate product code"},a.a.createElement(Mv,{idForEdit:g,setOpenCreatePopup:o})))},Qv=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),Hv=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Jv(){Jv=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Kv=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=gt(),p=h.handleError,m=h.handleCloseSnackbar,d=h.alertInfo,y=Object(n.useCallback)(Object(c.a)(Jv().mark(function e(){var t;return Jv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),console.log("before api"),e.next=5,Kr.getJobWorkerInventoryData();case 5:t=e.sent,console.log("after api"),f(t.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),p(e.t0),console.log("error",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])})),[]);return Object(n.useEffect)(function(){y()},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:d.open,onClose:m,severity:d.severity,message:d.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-start"},a.a.createElement(Fe.a,{item:!0,xs:12,md:3}),a.a.createElement(Fe.a,{item:!0,xs:12,md:3}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement("h3",{style:{textAlign:"center",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Job Worker Store Inventory")))),a.a.createElement(Yn.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Xv,null,a.a.createElement(Zv,{align:"center"},"PRODUCT"),a.a.createElement(Zv,{align:"center"},"DESCRIPTION"),a.a.createElement(Zv,{align:"center"},"QUANTITY"),a.a.createElement(Zv,{align:"center"},"PENDING QUANTITY"),a.a.createElement(Zv,{align:"center"},"RATE"),a.a.createElement(Zv,{align:"center"},"TOTAL AMOUNT"),a.a.createElement(Zv,{align:"center"},"UNIT"))),a.a.createElement(Hn.a,null,s.map(function(e,t){return a.a.createElement(Xv,null,a.a.createElement(Zv,{align:"center"},e.product),a.a.createElement(Zv,{align:"center"},e.description),a.a.createElement(Zv,{align:"center"},e.quantity),a.a.createElement(Zv,{align:"center"},e.pending_quantity),a.a.createElement(Zv,{align:"center"},e.rate),a.a.createElement(Zv,{align:"center"},e.amount),a.a.createElement(Zv,{align:"center"},e.unit))}))," ")))))},Zv=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),Xv=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),$v=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=[{label:"Pending GRN",roles:["Director","Accounts","Stores","Stores Delhi","Production"],component:a.a.createElement(cv,null)},{label:"Safety Stock Level",roles:["Director","Purchase","Stores"],component:a.a.createElement(vv,null)},{label:"GRN Register",roles:["Director","Accounts","Purchase","Stores","Stores Delhi","Accounts Executive","Production"],component:a.a.createElement(_v,null)},{label:"Stores Inventory",roles:["Director","Accounts","Accounts Executive"],component:a.a.createElement(Cv,null)},{label:"Stores Inventory (Cons)",roles:["Director","Accounts","Purchase","Stores","Stores Delhi","Production Delhi","Production","Accounts Executive","Accounts Billing Department"],component:a.a.createElement(Nv,null)},{label:"Description Stores Inventory",roles:["Director","Accounts","Accounts Executive"],component:a.a.createElement(Vv,null)},{label:"Job Worker Stores Inventory",roles:["Director","Accounts","Accounts Executive"],component:a.a.createElement(Kv,null)},{label:"Production Inventory",roles:["Director","Accounts","Accounts Executive"],component:a.a.createElement(Av,null)},{label:"Production Inventory (Cons)",roles:["Director","Accounts","Purchase","Stores Delhi","Production Delhi","Production","Accounts Executive"],component:a.a.createElement(Fv,null)}].filter(function(t){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}.apply(void 0,Object(vr.a)(t.roles))}),r=Object(n.useState)(0),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Xr,{tabs:t.map(function(e){return{label:e.label,index:e.index}}),activeTab:i,onTabChange:function(e){c(e)}}),t.length>0&&t[i]?a.a.createElement("div",null,t[i].component):null)};function eg(){eg=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var tg=function(e){var t=e.setOpenCreatePopup,r=e.getDesignationsDetails,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],s=i[1],f=Object(n.useState)(""),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)([]),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)(null),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)({message:"",severity:"",open:!1}),_=Object(l.a)(O,2),j=_[0],L=_[1];Object(n.useEffect)(function(){(function(){var e=Object(c.a)(eg().mark(function e(){var t;return eg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,Kl.getDepartmentList();case 4:t=e.sent,g(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to fetch department list",e.t0);case 11:return e.prev=11,s(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}})()()},[]);var S=function(){var e=Object(c.a)(eg().mark(function e(n){var a,o;return eg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={designation:p,department:w},e.prev=2,s(!0),e.next=6,Kl.addDesignation(a);case 6:201===(o=e.sent).status&&(L({message:o.data.message||"Designation created successfully!",severity:"success",open:!0}),setTimeout(function(){t(!1),r()},500)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),L({message:e.t0&&e.t0.response.data.message||"Error creating designation",severity:"error",open:!0});case 13:return e.prev=13,s(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[2,10,13,16]])}));return function(t){return e.apply(this,arguments)}}(),k=Object(n.useCallback)(function(e,t){x(t)},[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:j.open,message:j.message,severity:j.severity,onClose:function(){L({open:!1})}}),a.a.createElement(Je,{open:u}),a.a.createElement("form",{onSubmit:function(e){S(e),m(""),x(null)}},a.a.createElement(Ae.a,{sx:{display:"flex",flexDirection:"column",gap:2}},a.a.createElement(Ye.a,{label:"Designation",size:"small",variant:"outlined",name:"designation",value:p,onChange:function(e){return m(e.target.value)},required:!0}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{size:"small",style:{minWidth:220},onChange:k,options:v.map(function(e){return e.department}),getOptionLabel:function(e){return e||""},label:"Department",value:w||"",required:!0})),a.a.createElement(We.a,{type:"submit",variant:"contained",color:"primary"},"Add Designation"))))};function rg(){rg=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ng=function(e){var t=e.designationId,r=e.setOpenUpdatePopup,o=e.getDesignationsDetails,i=Object(n.useState)(t.designation),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(t.department),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)({message:"",severity:"",open:!1}),w=Object(l.a)(E,2),x=w[0],O=w[1];Object(n.useEffect)(function(){(function(){var e=Object(c.a)(rg().mark(function e(){var t;return rg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.getDepartmentList();case 3:t=e.sent,d(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}})()()},[]);var _=function(){var e=Object(c.a)(rg().mark(function e(n){var a,i;return rg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={department:g,designation:s},e.prev=2,e.next=5,Kl.updateDesignations(t.id,a);case 5:200===(i=e.sent).status&&(O({message:i.data.message||"Designation updated successfully",severity:"success",open:!0}),setTimeout(function(){r(!1),o()},600)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Failed to update designation",e.t0),O({message:e.t0.response.data.designation.toString()||"Failed to update designation",severity:"error",open:!0});case 13:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("form",{onSubmit:_},a.a.createElement($e,{open:x.open,message:x.message,severity:x.severity,onClose:function(){O({open:!1})}}),a.a.createElement(Ae.a,{sx:{display:"flex",flexDirection:"column",gap:2}},a.a.createElement(Ye.a,{size:"small",label:"Designation",variant:"outlined",value:s,onChange:function(e){return f(e.target.value)},required:!0}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{size:"small",style:{minWidth:220},onChange:function(e,t){return b(t)},options:m.map(function(e,t){return e.department}),getOptionLabel:function(e){return"".concat(e)},label:"Department",value:g})),a.a.createElement(We.a,{type:"submit",variant:"contained",color:"primary"},"Update Designation")))};function ag(){ag=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var og=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(0),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)({message:"",severity:"",open:!1}),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useCallback)(function(){var e=Object(c.a)(ag().mark(function e(t){var r,n,a,i=arguments;return ag().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:s,e.prev=1,o(!0),e.next=5,Kl.getDesignationsData(t,r);case 5:n=e.sent,d(n.data.results),a=n.data.count,I(Math.ceil(a/25)),o(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error fetching scripts",e.t0),o(!1);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}(),[s]);Object(n.useEffect)(function(){R(C)},[C,R]);var B=function(){var e=Object(c.a)(ag().mark(function e(t){var r;return ag().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!1),e.next=4,Kl.deleteDesignations(t.id);case 4:200===(r=e.sent).status&&(z({message:r.data.message||"Designation deleted successfully",severity:"success",open:!0}),setTimeout(function(){R(C)},500)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error",e.t0),z({message:e.t0.response.data.error||"Error deleting designation",severity:"error",open:!0});case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,8,12,15]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:W.open,message:W.message,severity:W.severity,onClose:function(){z({open:!1})}}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{size:"small",label:"Search",variant:"outlined",value:s,onChange:function(e){f(e.target.value)},fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return R(C,s)},fullWidth:!0},"Search")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"secondary",onClick:function(){f(""),T(1),R(1,"")},fullWidth:!0},"Reset")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{onClick:function(){return b(!0)},variant:"contained",color:"success",fullWidth:!0},"Add")))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Designations")),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(ig,{align:"center"},"Designation"),a.a.createElement(ig,{align:"center"},"Department"),a.a.createElement(ig,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,m.map(function(e,t){return a.a.createElement(cg,{key:t},a.a.createElement(ig,{align:"center"},e.designation),a.a.createElement(ig,{align:"center"},e.department),a.a.createElement(ig,{align:"center"},a.a.createElement(We.a,{variant:"text",color:"success",size:"small",onClick:function(){return t=e,console.log("value",t),S(t),void O(!0);var t}},"edit"),a.a.createElement(We.a,{variant:"text",color:"error",size:"small",onClick:function(){return B(e)}},"Delete")))})))),a.a.createElement(Vr,{currentPage:C,totalPages:A,handlePageChange:function(e,t){T(t)}}),a.a.createElement(Ce,{title:"Add New Designation",openPopup:g,setOpenPopup:b},a.a.createElement(tg,{setOpenCreatePopup:b,getDesignationsDetails:R})),a.a.createElement(Ce,{title:"Edit Designation",openPopup:x,setOpenPopup:O},a.a.createElement(ng,{designationId:L,setOpenUpdatePopup:O,getDesignationsDetails:R})))))},ig=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:10}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),cg=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function lg(){lg=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ug=function(e){var t=e.addNewDepartment,r=e.setOpenCreatePopup,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],s=i[1],f=Object(n.useState)(""),h=Object(l.a)(f,2),p=h[0],m=h[1],d=function(){var e=Object(c.a)(lg().mark(function e(n){return lg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,s(!0),e.next=5,Kl.addDepartment(p);case 5:t(),r(!1),s(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Failed to add department",e.t0),s(!1);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:u}),a.a.createElement("form",{onSubmit:d},a.a.createElement(Ae.a,{sx:{display:"flex",flexDirection:"column",gap:2}},a.a.createElement(Ye.a,{label:"Department Name",variant:"outlined",value:p,onChange:function(e){return m(e.target.value)},required:!0}),a.a.createElement(We.a,{type:"submit",variant:"contained",color:"primary"},"Add Department"))))};function sg(){sg=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var fg=function(e){var t=e.departmentId,r=e.setOpenUpdatePopup,o=e.fetchDepartments,i=Object(n.useState)(t.name),u=Object(l.a)(i,2),s=u[0],f=u[1],h=function(){var e=Object(c.a)(sg().mark(function e(n){return sg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,Kl.updateDepartment(t.id,{department:s});case 4:o(),r(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Failed to update department",e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("form",{onSubmit:h},a.a.createElement(Ae.a,{sx:{display:"flex",flexDirection:"column",gap:2}},a.a.createElement(Ye.a,{label:"Department Name",variant:"outlined",value:s,onChange:function(e){return f(e.target.value)},required:!0}),a.a.createElement(We.a,{type:"submit",variant:"contained",color:"primary"},"Update Department")))};function hg(){hg=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var pg=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=function(){var e=Object(c.a)(hg().mark(function e(){var t,r,n=arguments;return hg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:s,e.prev=1,o(!0),e.next=5,Kl.getDepartment(t);case 5:r=e.sent,d(r.data),o(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Failed to fetch departments",e.t0),o(!1);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){k()},[]);var P=m.map(function(e){return{id:e.id,name:e.department}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{size:"small",label:"Search",variant:"outlined",value:s,onChange:function(e){f(e.target.value)},fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return k(s)},fullWidth:!0},"Search")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"secondary",onClick:function(){f(""),k("")},fullWidth:!0},"Reset")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{onClick:function(){return b(!0)},variant:"contained",color:"success",fullWidth:!0},"Add")))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Departments")),a.a.createElement(ut.a,{sx:{p:2,m:3}},a.a.createElement(dt,{headers:["ID","Department","Action"],data:P,openInPopup:function(e){S(e),O(!0)}})),a.a.createElement(Ce,{title:"Add New Department",openPopup:g,setOpenPopup:b},a.a.createElement(ug,{addNewDepartment:k,setOpenCreatePopup:b})),a.a.createElement(Ce,{title:"Edit Department",openPopup:x,setOpenPopup:O},a.a.createElement(fg,{departmentId:L,setOpenUpdatePopup:O,fetchDepartments:k})))))};function mg(){mg=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var dg=function(e){var t=e.setOpenCreatePopup,r=e.getSourcesDetails,o=Object(n.useState)(""),i=Object(l.a)(o,2),s=i[0],f=i[1],h=function(){var e=Object(c.a)(mg().mark(function e(n){return mg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,Kl.addSource(s);case 4:r(),t(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error creating new source",e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("form",{onSubmit:h},a.a.createElement(Ae.a,{mb:2},a.a.createElement(Ye.a,{label:"Source Name",variant:"outlined",name:"name",value:s.name,onChange:function(e){var t=e.target,r=t.name,n=t.value;f(Object(u.a)({},s,Object(Y.a)({},r,n)))},fullWidth:!0})),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:6},a.a.createElement(We.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0},"Create")),a.a.createElement(Fe.a,{item:!0,xs:6},a.a.createElement(We.a,{variant:"contained",color:"secondary",onClick:function(){return t(!1)},fullWidth:!0},"Cancel"))))};function yg(){yg=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var vg=function(e){var t=e.sourceId,r=e.setOpenUpdatePopup,o=e.getSourcesDetails,i=Object(n.useState)(t.name),u=Object(l.a)(i,2),s=u[0],f=u[1],h=function(){var e=Object(c.a)(yg().mark(function e(n){return yg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,Kl.updateSource(t.id,{name:s});case 4:o(),r(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error updating source",e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("form",null,a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{label:"Source Name",variant:"outlined",name:"name",value:s,onChange:function(e){var t=e.target.value;f(t)},fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:h},"Update"))))};function gg(){gg=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var bg=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useCallback)(Object(c.a)(gg().mark(function e(){var t,r,n=arguments;return gg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:s,e.prev=1,o(!0),e.next=5,Kl.getSource(t);case 5:r=e.sent,d(r.data),o(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error fetching sources",e.t0),o(!1);case 14:case"end":return e.stop()}},e,null,[[1,10]])})),[s]);Object(n.useEffect)(function(){k()},[k]);var P=m.map(function(e){return{id:e.id,name:e.name}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{size:"small",label:"Search",variant:"outlined",value:s,onChange:function(e){f(e.target.value)},fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){k()}},"Search")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"secondary",onClick:function(){f(""),k("")},fullWidth:!0},"Reset")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{onClick:function(){S(null),b(!0)},variant:"contained",color:"success"},"Add")))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Source")),a.a.createElement(dt,{headers:["ID","Source","Action"],data:P,openInPopup:function(e){S(e),O(!0)}}),a.a.createElement(Ce,{title:"Add New Source",openPopup:g,setOpenPopup:b},a.a.createElement(dg,{setOpenCreatePopup:b,getSourcesDetails:k})),a.a.createElement(Ce,{title:"Edit Source",openPopup:x,setOpenPopup:O},a.a.createElement(vg,{sourceId:L,setOpenUpdatePopup:O,getSourcesDetails:k})))))};function Eg(){Eg=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var wg=function(e){var t=e.fetchLocation,r=e.setOpenCreatePopup,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],s=i[1],f=Object(n.useState)(""),h=Object(l.a)(f,2),p=h[0],m=h[1],d=gt(),y=d.handleSuccess,v=d.handleError,g=d.handleCloseSnackbar,b=d.alertInfo,E=function(){var e=Object(c.a)(Eg().mark(function e(n){var a;return Eg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={name:p},e.prev=2,s(!0),e.next=6,Kl.addLocation(a);case 6:"Location added successfully",y("Location added successfully"),setTimeout(function(){r(!1),t()},300),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Failed to add location",e.t0),v(e.t0);case 15:return e.prev=15,s(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,11,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:b.open,onClose:g,severity:b.severity,message:b.message}),a.a.createElement(Je,{open:u}),a.a.createElement("form",{onSubmit:E},a.a.createElement(Ae.a,{sx:{display:"flex",flexDirection:"column",gap:2}},a.a.createElement(Ye.a,{label:"Location Name",variant:"outlined",value:p,onChange:function(e){return m(e.target.value)},required:!0}),a.a.createElement(We.a,{type:"submit",variant:"contained",color:"primary"},"Add Location"))))};function xg(){xg=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Og=function(e){var t=e.LocationId,r=e.setOpenUpdatePopup,o=e.fetchLocation,i=Object(n.useState)(t.name),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=gt(),v=y.handleSuccess,g=y.handleError,b=y.handleCloseSnackbar,E=y.alertInfo,w=function(){var e=Object(c.a)(xg().mark(function e(n){var a;return xg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={name:s},e.prev=2,d(!0),e.next=6,Kl.updateLocation(t.id,a);case 6:"Location added successfully",v("Location added successfully"),setTimeout(function(){r(!1),o()},300),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),g(e.t0),console.error("Failed to update department",e.t0);case 15:return e.prev=15,d(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,11,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:E.open,onClose:b,severity:E.severity,message:E.message}),a.a.createElement(Je,{open:m}),a.a.createElement("form",{onSubmit:w},a.a.createElement(Ae.a,{sx:{display:"flex",flexDirection:"column",gap:2}},a.a.createElement(Ye.a,{label:"Location name",variant:"outlined",value:s,onChange:function(e){return f(e.target.value)},required:!0}),a.a.createElement(We.a,{type:"submit",variant:"contained",color:"success"},"Update Location"))))};function _g(){_g=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var jg=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(!1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(!1),D=Object(l.a)(N,2),A=D[0],I=D[1],F=function(){var e=Object(c.a)(_g().mark(function e(){var t;return _g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kl.getLocation(m,s);case 4:t=e.sent,O(t.data.results),b(Math.ceil(t.data.count/25)),o(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Failed to fetch locationName",e.t0),o(!1);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){F()},[]);var G=x.map(function(e){return{id:e.id,name:e.name}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{size:"small",label:"Search",variant:"outlined",value:s,onChange:function(e){f(e.target.value)},fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return F(s)},fullWidth:!0},"Search")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{variant:"contained",color:"secondary",onClick:function(){f(""),F()},fullWidth:!0},"Reset")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{onClick:function(){return S(!0)},variant:"contained",color:"primary",fullWidth:!0},"Add")))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",padding:"10px",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Location")),a.a.createElement(ut.a,{sx:{p:2,m:3}},a.a.createElement(dt,{headers:["ID","Location","Action"],data:G,openInPopup:function(e){I(e),T(!0)}}),a.a.createElement(Vr,{totalPages:g,currentPage:m,handlePageChange:function(e,t){d(t)}})),a.a.createElement(Ce,{title:"Add New Location",openPopup:L,setOpenPopup:S},a.a.createElement(wg,{fetchLocation:F,setOpenCreatePopup:S})),a.a.createElement(Ce,{title:"Edit location",openPopup:C,setOpenPopup:T},a.a.createElement(Og,{LocationId:A,setOpenUpdatePopup:T,fetchLocation:F})))))},Lg=r(140),Sg=r.n(Lg);function kg(){kg=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Pg=function(e){var t=e.getMCQQuetion,r=e.setOpenQuestionPopUp,o=Object(n.useState)({designation:"",question:"",options:[],answer:""}),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],y=p[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)({message:"",severity:"",open:!1}),x=Object(l.a)(w,2),O=x[0],_=x[1];Object(n.useEffect)(function(){!function(){var e=Object(c.a)(kg().mark(function e(){var t;return kg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.getDesginationList();case 3:t=e.sent,E(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()()},[]);var j=function(){var e=Object(c.a)(kg().mark(function e(){var n;return kg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s.designation&&s.question&&4===s.options.length&&s.answer){e.next=4;break}return _({open:!0,message:"Please fill all the fields and ensure you have exactly 4 options.",severity:"warning"}),e.abrupt("return");case 4:return y(!0),e.next=7,Kl.createMCQQuetion(s);case 7:n=e.sent,_({open:!0,message:n.message||"MCQ created successfully",severity:"success"}),setTimeout(function(){t(),r(!1)},500),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error creating MCQ:",e.t0),_({open:!0,message:e.t0.message||"Error creating MCQ",severity:"error"});case 16:return e.prev=16,y(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,12,16,19]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(ut.a,{sx:{maxWidth:700,margin:"auto"}},a.a.createElement(Je,{open:m}),a.a.createElement($e,{open:O.open,message:O.message,severity:O.severity,onClose:function(){_(Object(u.a)({},O,{open:!1}))}}),a.a.createElement(Ae.a,{sx:{padding:"20px"}},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{options:b.map(function(e){return e.designation}),value:s.designation,onChange:function(e,t){return f(function(e){return Object(u.a)({},e,{designation:t})})},label:"Designation",margin:"dense",fullWidth:!0})),a.a.createElement(Ye.a,{label:"Question",size:"small",name:"question",value:s.question,onChange:function(e){var t=e.target,r=t.name,n=t.value;f(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},fullWidth:!0,margin:"normal"}),s.options.map(function(e,t){return a.a.createElement(Ae.a,{key:t,sx:{display:"flex",alignItems:"center",mb:3,mt:2}},a.a.createElement(Ye.a,{label:"Option ".concat(t+1),size:"small",value:e,onChange:function(e){return function(e,t){var r=Object(vr.a)(s.options);r[e]=t.target.value,f(function(e){return Object(u.a)({},e,{options:r})})}(t,e)},fullWidth:!0}),a.a.createElement(d.a,{onClick:function(){return function(e){if(s.options.length>1){var t=Object(vr.a)(s.options);t.splice(e,1),f(function(e){return Object(u.a)({},e,{options:t})})}}(t)},disabled:s.options.length<=1},a.a.createElement(Sg.a,null)))}),a.a.createElement(We.a,{variant:"outlined",onClick:function(){s.options.length<4&&f(function(e){return Object(u.a)({},e,{options:[].concat(Object(vr.a)(e.options),[""])})})},startIcon:a.a.createElement(en.a,null),fullWidth:!0,sx:{mb:2},disabled:s.options.length>=4},"Add More Option"),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{options:s.options,onChange:function(e,t){return f(function(e){return Object(u.a)({},e,{answer:t})})},label:"Correct Answer",margin:"dense",fullWidth:!0,value:s.answer})),a.a.createElement(We.a,{style:{marginTop:12},variant:"contained",color:"primary",onClick:j,fullWidth:!0,disabled:4!==s.options.length},"Submit")))};function Cg(){Cg=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Tg=function(e){var t=e.getMCQQuetion,r=e.setOpenQuestionPopUp,o=e.data,i=Object(n.useState)({designation:o.designation||"",question:o.question||"",options:o.options||[],answer:o.answer||""}),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),y=m[0],v=m[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)({message:"",severity:"",open:!1}),O=Object(l.a)(x,2),_=O[0],j=O[1];Object(n.useEffect)(function(){!function(){var e=Object(c.a)(Cg().mark(function e(){var t;return Cg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.getDesginationList();case 3:t=e.sent,w(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()()},[]);var L=function(){var e=Object(c.a)(Cg().mark(function e(){var n;return Cg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,Kl.UpdateMCQQuetion(o.id,f);case 4:n=e.sent,j({open:!0,message:n.message||"MCQ updated successfully",severity:"success"}),setTimeout(function(){t(),r(!1)},500),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error creating MCQ:",e.t0),j({open:!0,message:e.t0.message||"Error creating MCQ",severity:"error"});case 13:return e.prev=13,v(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,9,13,16]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(ut.a,{sx:{maxWidth:700,margin:"auto"}},a.a.createElement(Je,{open:y}),a.a.createElement($e,{open:_.open,message:_.message,severity:_.severity,onClose:function(){j(Object(u.a)({},_,{open:!1}))}}),a.a.createElement(Ae.a,{sx:{padding:"20px"}},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{options:E.map(function(e){return e.designation}),value:f.designation,onChange:function(e,t){return h(function(e){return Object(u.a)({},e,{designation:t})})},label:"Designation",margin:"dense",fullWidth:!0})),a.a.createElement(Ye.a,{label:"Question",size:"small",name:"question",value:f.question,onChange:function(e){var t=e.target,r=t.name,n=t.value;h(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},fullWidth:!0,margin:"normal"}),f.options.map(function(e,t){return a.a.createElement(Ae.a,{key:t,sx:{display:"flex",alignItems:"center",mb:3,mt:2}},a.a.createElement(Ye.a,{label:"Option ".concat(t+1),size:"small",value:e,onChange:function(e){return function(e,t){var r=Object(vr.a)(f.options);r[e]=t.target.value,h(function(e){return Object(u.a)({},e,{options:r})})}(t,e)},fullWidth:!0}),a.a.createElement(d.a,{onClick:function(){return function(e){if(f.options.length>1){var t=Object(vr.a)(f.options);t.splice(e,1),h(function(e){return Object(u.a)({},e,{options:t})})}}(t)},disabled:f.options.length<=1},a.a.createElement(Sg.a,null)))}),a.a.createElement(We.a,{variant:"outlined",onClick:function(){f.options.length<4&&h(function(e){return Object(u.a)({},e,{options:[].concat(Object(vr.a)(e.options),[""])})})},startIcon:a.a.createElement(en.a,null),fullWidth:!0,sx:{mb:2},disabled:f.options.length>=4},"Add More Option"),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{options:f.options,onChange:function(e,t){return h(function(e){return Object(u.a)({},e,{answer:t})})},label:"Correct Answer",margin:"dense",fullWidth:!0,value:f.answer})),a.a.createElement(We.a,{style:{marginTop:12},variant:"contained",color:"primary",onClick:L,fullWidth:!0,disabled:4!==f.options.length},"Submit")))};function Ng(){Ng=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Dg=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!0),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],w=g[1],x=Object(n.useState)(""),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(1),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(0),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)([]),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useState)(null),z=Object(l.a)(W,2),R=z[0],B=z[1],M=Object(n.useState)({message:"",severity:"",open:!1}),q=Object(l.a)(M,2),U=q[0],Y=q[1],V=Object(n.useCallback)(Object(c.a)(Ng().mark(function e(){var t;return Ng().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Kl.getMCQQuetion(k,_);case 4:t=e.sent,o(t.data.results),D(Math.ceil(t.data.count/25)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching MCQs:",e.t0),Y({open:!0,message:e.t0.message||"Error fetching MCQs",severity:"error"});case 13:return e.prev=13,h(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,9,13,16]])})),[k,_]);Object(n.useEffect)(function(){!function(){var e=Object(c.a)(Ng().mark(function e(){var t;return Ng().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.getDesginationList();case 3:t=e.sent,G(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()()},[]),Object(n.useEffect)(function(){V()},[V]);var Q=function(){var e=Object(c.a)(Ng().mark(function e(t){var r;return Ng().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.deleteMCQQuestion(t.id);case 3:200===(r=e.sent).status&&(Y({message:r.data.message||"MCQ Question deleted successfully",severity:"success",open:!0}),setTimeout(function(){V()},400)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting MCQ Question:",e.t0),Y({open:!0,message:e.t0.response.data.error||"Error deleting MCQ Question",severity:"error"});case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}();return f?a.a.createElement(E.a,{variant:"h6",align:"center"},"Loading..."):a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:U.open,message:U.message,severity:U.severity,onClose:function(){Y(Object(u.a)({},U,{open:!1}))}}),a.a.createElement(ut.a,{style:{padding:"15px",margin:"1rem"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:1,marginLeft:1}},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{fullWidth:!0,name:"designation",size:"small",value:_,disablePortal:!0,id:"combo-box-stage",onChange:function(e,t){return j(t)},options:F.map(function(e){return e.designation}),getOptionLabel:function(e){return e},label:"Filter By Designation"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(E.a,{variant:"h5",sx:{color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Interview MCQs Questions")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,textAlign:"end"},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return w(!0)}},"Add Question")))),a.a.createElement(Ae.a,{sx:{maxWidth:1300,margin:"auto",padding:1}},r.length>0?a.a.createElement(Yn.a,{component:ut.a},a.a.createElement(Vn.a,null,a.a.createElement(Qn.a,{sx:{backgroundColor:"#f5f5f5"}},a.a.createElement(Un.a,null,a.a.createElement(qn.a,null,a.a.createElement("strong",null,"Designation")),a.a.createElement(qn.a,null,a.a.createElement("strong",null,"Question")),a.a.createElement(qn.a,null,a.a.createElement("strong",null,"Options")),a.a.createElement(qn.a,null,a.a.createElement("strong",null,"Correct Answer")),a.a.createElement(qn.a,null,"Action"))),a.a.createElement(Hn.a,null,r.map(function(e){return a.a.createElement(Un.a,{key:e.id},a.a.createElement(qn.a,null,e.designation),a.a.createElement(qn.a,null,e.question),a.a.createElement(qn.a,null,a.a.createElement("ul",null,e.options.map(function(e,t){return a.a.createElement("li",{key:t},e)}))),a.a.createElement(qn.a,null,e.answer),a.a.createElement(qn.a,null,a.a.createElement(Ae.a,{display:"flex",gap:"10px",justifyContent:"center",alignItems:"center"},a.a.createElement(We.a,{variant:"contained",color:"success",size:"small",onClick:function(){B(e),y(!0)}},"Edit"),a.a.createElement(We.a,{variant:"contained",color:"error",size:"small",onClick:function(){Q(e)}},"Delete"))))})))):a.a.createElement(E.a,{variant:"h6",align:"center"},"No MCQs found.")),a.a.createElement(Vr,{currentPage:k,totalPages:N,handlePageChange:function(e,t){return P(t)}})),a.a.createElement(Ce,{fullScreen:!0,title:"Create Interview Question",openPopup:b,setOpenPopup:w},a.a.createElement(Pg,{getMCQQuetion:V,setOpenQuestionPopUp:w})),a.a.createElement(Ce,{fullScreen:!0,title:"Update Interview Question",openPopup:d,setOpenPopup:y},a.a.createElement(Tg,{getMCQQuetion:V,setOpenQuestionPopUp:y,data:R})))};function Ag(){Ag=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ig=function(e){var t=e.setOpenAttributePopUp,r=e.fetchAttributes,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)({iceberg_element:"",name:""}),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)({message:"",severity:"",open:!1}),v=Object(l.a)(y,2),g=v[0],b=v[1],E=function(){var e=Object(c.a)(Ag().mark(function e(n){var a;return Ag().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),f(!0),e.prev=2,e.next=5,Kl.createAttribute(m);case 5:a=e.sent,b({open:!0,message:a.message||"Attribut Created Successfulyy",severity:"success"}),setTimeout(function(){t(!1),r()},1e3),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),b({open:!0,message:e.t0.message||"Error creating attribute",severity:"error"}),console.error("Error:",e.t0);case 14:return e.prev=14,f(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,10,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(at.a,null,a.a.createElement($e,{open:g.open,message:g.message,severity:g.severity,onClose:function(){b({open:!1})}}),a.a.createElement(ut.a,{sx:{p:3}},a.a.createElement("form",{onSubmit:E},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{value:m.iceberg_element,onChange:function(e,t){d(function(e){return Object(u.a)({},e,{iceberg_element:t})})},options:Fg,label:"Iceberg Element",margin:"dense",fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,label:"Name",name:"name",size:"small",value:m.name,onChange:function(e){var t=e.target,r=t.name,n=t.value;d(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},required:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex",justifyContent:"flex-end"},a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary"},s?"Submitting...":"Submit")))))))},Fg=["Skill","Knowledge","Self-Image","Trait","Motive"];function Gg(){Gg=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Wg=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(1),v=Object(l.a)(y,2),g=v[0],b=v[1],w=Object(n.useState)(0),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=function(){var e=Object(c.a)(Gg().mark(function e(){var t,r;return Gg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,Kl.getAttribute(g,s);case 4:t=e.sent,o(t.data.results),r=t.data.count,_(Math.ceil(r/25)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error:",e.t0);case 13:return e.prev=13,d(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){P()},[g,s]);return a.a.createElement(at.a,{maxWidth:"md",sx:{mt:5}},a.a.createElement(Je,{open:m}),a.a.createElement(ut.a,{sx:{p:4}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(Ur,{onSearch:function(e){f(e),b(1)},onReset:function(){f(""),b(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(E.a,{variant:"h6",component:"div",sx:{textAlign:"center"}},"Attributes")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{textAlign:"right"}},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return k(!0)}},"Create Attributes"))),a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(Yn.a,null,a.a.createElement(Vn.a,null,a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,null,a.a.createElement("strong",null,"Iceberg Element")),a.a.createElement(qn.a,{align:"center"},a.a.createElement("strong",null,"Name")))),a.a.createElement(Hn.a,null,r.map(function(e){return a.a.createElement(Un.a,{key:e.id},a.a.createElement(qn.a,null,e.iceberg_element),a.a.createElement(qn.a,{align:"center"},e.name))}))))),a.a.createElement(Vr,{currentPage:g,totalPages:O,handlePageChange:function(e,t){b(t)}}),a.a.createElement(Ce,{maxWidth:"md",title:"Create Attribute",openPopup:S,setOpenPopup:k},a.a.createElement(Ig,{setOpenAttributePopUp:k,fetchAttributes:P}))))};function zg(){zg=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Rg=function(e){var t=e.getCompetancyData,r=e.setOpenAttributePopUp,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)({Skill:[],Knowledge:[],SelfImage:[],Trait:[],Motive:[]}),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)({designation:"",skill:[],knowledge:[],self_image:[],trait:[],motive:[]}),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)({message:"",severity:"",open:!1}),j=Object(l.a)(_,2),L=j[0],S=j[1],k=function(){var e=Object(c.a)(zg().mark(function e(){var t;return zg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.getAttributeList();case 3:t=e.sent,b({Skill:t.data.Skill||[],Knowledge:t.data.Knowledge||[],SelfImage:t.data["Self-Image"]||[],Trait:t.data.Trait||[],Motive:t.data.Motive||[]}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching attribute list:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){!function(){var e=Object(c.a)(zg().mark(function e(){var t;return zg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.getDesginationList();case 3:t=e.sent,d(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()()},[]),Object(n.useEffect)(function(){k()},[]);var P=function(e,t){O(function(r){return Object(u.a)({},r,Object(Y.a)({},e,t))})},C=function(){var e=Object(c.a)(zg().mark(function e(n){var a;return zg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),f(!0),e.prev=2,e.next=5,Kl.createCompetancyAttribute(x);case 5:a=e.sent,S({open:!0,message:a.message||"Attribute Created Successfully",severity:"success"}),setTimeout(function(){r(!1),t()},1e3),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),S({open:!0,message:e.t0.message||"Error creating attribute",severity:"error"}),console.error("Error creating attribute:",e.t0);case 14:return e.prev=14,f(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,10,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(at.a,null,a.a.createElement($e,{open:L.open,message:L.message,severity:L.severity,onClose:function(){S({open:!1})}}),a.a.createElement(ut.a,{sx:{p:3}},a.a.createElement("form",{onSubmit:C},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{options:m.map(function(e){return e.designation}),value:x.role,onChange:function(e,t){return O(function(e){return Object(u.a)({},e,{designation:t})})},label:"Designation",margin:"dense",fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ur.a,{fullWidth:!0,multiple:!0,size:"small",disablePortal:!0,id:"skill-autocomplete",options:g.Skill,getOptionLabel:function(e){return e},value:x.skill,onChange:function(e,t){return P("skill",t)},renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Skill",variant:"outlined"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ur.a,{fullWidth:!0,multiple:!0,size:"small",disablePortal:!0,id:"knowledge-autocomplete",options:g.Knowledge,getOptionLabel:function(e){return e},value:x.knowledge,onChange:function(e,t){return P("knowledge",t)},renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Knowledge",variant:"outlined"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ur.a,{fullWidth:!0,multiple:!0,size:"small",disablePortal:!0,id:"self-image-autocomplete",options:g.SelfImage,getOptionLabel:function(e){return e},value:x.self_image,onChange:function(e,t){return P("self_image",t)},renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Self Image",variant:"outlined"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ur.a,{fullWidth:!0,multiple:!0,size:"small",disablePortal:!0,id:"trait-autocomplete",options:g.Trait,getOptionLabel:function(e){return e},value:x.trait,onChange:function(e,t){return P("trait",t)},renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Trait",variant:"outlined"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ur.a,{fullWidth:!0,multiple:!0,size:"small",disablePortal:!0,id:"motive-autocomplete",options:g.Motive,getOptionLabel:function(e){return e},value:x.motive,onChange:function(e,t){return P("motive",t)},renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Motive",variant:"outlined"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex",justifyContent:"flex-end"},a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",disabled:s},s?"Submitting...":"Submit")))))))},Bg=r(149),Mg=r.n(Bg),qg=function(e){var t=e.data;return a.a.createElement(at.a,null,a.a.createElement(ut.a,{sx:{p:3}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0},"Role : ",t.designation),a.a.createElement(y.a,{sx:{mb:2}}),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ae.a,{sx:{p:2,backgroundColor:"#f0f0f0",borderRadius:1}},a.a.createElement(E.a,{variant:"subtitle1"},"Skill :"),a.a.createElement(v.a,{dense:!0},t.skill.map(function(e,t){return a.a.createElement(V.a,{key:t},a.a.createElement(Q.a,{sx:{minWidth:"auto",pr:1}},a.a.createElement(Mg.a,{fontSize:"small"})),a.a.createElement(H.a,{primary:e}))})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ae.a,{sx:{p:2,backgroundColor:"#e0f7fa",borderRadius:1}},a.a.createElement(E.a,{variant:"subtitle1"},"Knowledge :"),a.a.createElement(v.a,{dense:!0},t.knowledge.map(function(e,t){return a.a.createElement(V.a,{key:t},a.a.createElement(Q.a,{sx:{minWidth:"auto",pr:1}},a.a.createElement(Mg.a,{fontSize:"small"})),a.a.createElement(H.a,{primary:e}))})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ae.a,{sx:{p:2,backgroundColor:"#ffecb3",borderRadius:1}},a.a.createElement(E.a,{variant:"subtitle1"},"Self-Image :"),a.a.createElement(v.a,{dense:!0},t.self_image.map(function(e,t){return a.a.createElement(V.a,{key:t},a.a.createElement(Q.a,{sx:{minWidth:"auto",pr:1}},a.a.createElement(Mg.a,{fontSize:"small"})),a.a.createElement(H.a,{primary:e}))})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ae.a,{sx:{p:2,backgroundColor:"#dcedc8",borderRadius:1}},a.a.createElement(E.a,{variant:"subtitle1"},"Trait :"),a.a.createElement(v.a,{dense:!0},t.trait.map(function(e,t){return a.a.createElement(V.a,{key:t},a.a.createElement(Q.a,{sx:{minWidth:"auto",pr:1}},a.a.createElement(Mg.a,{fontSize:"small"})),a.a.createElement(H.a,{primary:e}))})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ae.a,{sx:{p:2,backgroundColor:"#f8bbd0",borderRadius:1}},a.a.createElement(E.a,{variant:"subtitle1"},"Motive :"),a.a.createElement(v.a,{dense:!0},t.motive.map(function(e,t){return a.a.createElement(V.a,{key:t},a.a.createElement(Q.a,{sx:{minWidth:"auto",pr:1}},a.a.createElement(Mg.a,{fontSize:"small"})),a.a.createElement(H.a,{primary:e}))})))))))};function Ug(){Ug=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Yg=function(e){var t=e.getCompetancyData,r=e.setOpenAttributePopUp,o=e.data,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)({Skill:[],Knowledge:[],SelfImage:[],Trait:[],Motive:[]}),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)({designation:o.designation,skill:o.skill||[],knowledge:o.knowledge||[],self_image:o.self_image||[],trait:o.trait||[],motive:o.motive||[]}),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)({message:"",severity:"",open:!1}),L=Object(l.a)(j,2),S=L[0],k=L[1];console.log("formdata",O);var P=function(){var e=Object(c.a)(Ug().mark(function e(){var t;return Ug().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.getAttributeList();case 3:t=e.sent,E({Skill:t.data.Skill||[],Knowledge:t.data.Knowledge||[],SelfImage:t.data["Self-Image"]||[],Trait:t.data.Trait||[],Motive:t.data.Motive||[]}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching attribute list:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){!function(){var e=Object(c.a)(Ug().mark(function e(){var t;return Ug().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.getDesginationList();case 3:t=e.sent,y(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()()},[]),Object(n.useEffect)(function(){P()},[]);var C=function(e,t){_(function(r){return Object(u.a)({},r,Object(Y.a)({},e,t))})},T=function(){var e=Object(c.a)(Ug().mark(function e(n){var a;return Ug().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),h(!0),e.prev=2,e.next=5,Kl.UpdateCompetancyAttribute(o.id,O);case 5:a=e.sent,k({open:!0,message:a.message||"Attribute Created Successfully",severity:"success"}),setTimeout(function(){r(!1),t()},1e3),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),k({open:!0,message:e.t0.message||"Error creating attribute",severity:"error"}),console.error("Error creating attribute:",e.t0);case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,10,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(at.a,null,a.a.createElement($e,{open:S.open,message:S.message,severity:S.severity,onClose:function(){k({open:!1})}}),a.a.createElement(ut.a,{sx:{p:3}},a.a.createElement("form",{onSubmit:T},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{options:d.map(function(e){return e.designation}),value:O.designation,onChange:function(e,t){return _(function(e){return Object(u.a)({},e,{designation:t})})},label:"Designation",margin:"dense",fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ur.a,{fullWidth:!0,multiple:!0,size:"small",disablePortal:!0,id:"skill-autocomplete",options:b.Skill,getOptionLabel:function(e){return e},value:O.skill,onChange:function(e,t){return C("skill",t)},renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Skill",variant:"outlined"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ur.a,{fullWidth:!0,multiple:!0,size:"small",disablePortal:!0,id:"knowledge-autocomplete",options:b.Knowledge,getOptionLabel:function(e){return e},value:O.knowledge,onChange:function(e,t){return C("knowledge",t)},renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Knowledge",variant:"outlined"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ur.a,{fullWidth:!0,multiple:!0,size:"small",disablePortal:!0,id:"self-image-autocomplete",options:b.SelfImage,getOptionLabel:function(e){return e},value:O.self_image,onChange:function(e,t){return C("self_image",t)},renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Self Image",variant:"outlined"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ur.a,{fullWidth:!0,multiple:!0,size:"small",disablePortal:!0,id:"trait-autocomplete",options:b.Trait,getOptionLabel:function(e){return e},value:O.trait,onChange:function(e,t){return C("trait",t)},renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Trait",variant:"outlined"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ur.a,{fullWidth:!0,multiple:!0,size:"small",disablePortal:!0,id:"motive-autocomplete",options:b.Motive,getOptionLabel:function(e){return e},value:O.motive,onChange:function(e,t){return C("motive",t)},renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Motive",variant:"outlined"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex",justifyContent:"flex-end"},a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",disabled:f},f?"Submitting...":"Submit")))))))};function Vg(){Vg=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Qg=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(1),v=Object(l.a)(y,2),g=v[0],b=v[1],w=Object(n.useState)(0),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(!1),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(null),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)(!1),W=Object(l.a)(G,2),z=W[0],R=W[1],B=function(){var e=Object(c.a)(Vg().mark(function e(){var t,r;return Vg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,Kl.getCompentancyAttribute(g,s);case 4:t=e.sent,o(t.data.results),r=t.data.count,_(Math.ceil(r/25)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching competancyData:",e.t0);case 13:return e.prev=13,d(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){B()},[g,s]);return a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Je,{open:m}),a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(Ur,{onSearch:function(e){f(e),b(1)},onReset:function(){f(""),b(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(E.a,{variant:"h5",component:"div",sx:{textAlign:"center"}},"Competency Attributes")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{textAlign:"right"}},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return k(!0)}},"Add"))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"},marginTop:"20px"}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(Hg,{align:"center"},"Designation"),a.a.createElement(Hg,{align:"center"},"Skill"),a.a.createElement(Hg,{align:"center"},"Knowledge"),a.a.createElement(Hg,{align:"center"},"Self-Image "),a.a.createElement(Hg,{align:"center"},"Trait"),a.a.createElement(Hg,{align:"center"},"Motive"),a.a.createElement(Hg,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,r.map(function(e,t){return a.a.createElement(Jg,{key:t},a.a.createElement(Hg,{align:"center"},e.designation),a.a.createElement(Hg,{align:"center"},e.skill[0]),a.a.createElement(Hg,{align:"center"},e.knowledge[0]),a.a.createElement(Hg,{align:"center"},e.self_image[0]),a.a.createElement(Hg,{align:"center"},e.trait[0]),a.a.createElement(Hg,{align:"center"},e.motive[0]),a.a.createElement(Hg,{align:"center"},a.a.createElement(We.a,{variant:"text",color:"info",onClick:function(){return t=e,R(!0),void F(t);var t}},"View"),a.a.createElement(We.a,{variant:"text",color:"success",onClick:function(){return t=e,N(!0),void F(t);var t}},"Edit")))})))),a.a.createElement(Vr,{currentPage:g,totalPages:O,handlePageChange:function(e,t){b(t)}}),a.a.createElement(Ce,{maxWidth:"md",title:"Create Competency\r Attribute",openPopup:S,setOpenPopup:k},a.a.createElement(Rg,{setOpenAttributePopUp:k,getCompetancyData:B})),a.a.createElement(Ce,{maxWidth:"md",title:"Update Competency\r Attribute",openPopup:T,setOpenPopup:N},a.a.createElement(Yg,{setOpenAttributePopUp:N,getCompetancyData:B,data:I})),a.a.createElement(Ce,{fullScreen:!0,title:"Competency Attribute",openPopup:z,setOpenPopup:R},a.a.createElement(qg,{setOpenPopUp:R,data:I}))))},Hg=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Jg=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Kg(){Kg=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Zg=function(e){var t=e.setOpenPopupRoleClarity,r=e.getRoleClarityData,o=Object(n.useState)({designation:"",role_definition:"",responsibility_deliverable:"",tasks_activities:"",measurement_metrics:""}),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)({message:"",severity:"",open:!1}),w=Object(l.a)(E,2),x=w[0],O=w[1];Object(n.useEffect)(function(){!function(){var e=Object(c.a)(Kg().mark(function e(){var t;return Kg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.getDesginationList();case 3:t=e.sent,b(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()()},[]);var _=function(e){var t=e.target,r=t.name,n=t.value;f(Object(u.a)({},s,Object(Y.a)({},r,n)))},j=function(){var e=Object(c.a)(Kg().mark(function e(n){var a;return Kg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),d(!0),e.prev=2,e.next=5,Kl.createRoleClarity(s);case 5:a=e.sent,O({open:!0,message:a.message||"Role created successfully",severity:"success"}),setTimeout(function(){r(),t(!1)},1e3),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),O({open:!0,message:e.t0.message||"Error creating role",severity:"error"}),console.error("Error creating role:",e.t0);case 14:return e.prev=14,d(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,10,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(at.a,{maxWidth:"md"},a.a.createElement($e,{open:x.open,message:x.message,severity:x.severity,onClose:function(){O(Object(u.a)({},x,{open:!1}))}}),a.a.createElement(ut.a,{sx:{p:3,mt:3}},a.a.createElement("form",{onSubmit:j},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{options:g.map(function(e){return e.designation}),value:s.role,onChange:function(e,t){return f(function(e){return Object(u.a)({},e,{designation:t})})},label:"Role",margin:"dense",fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{label:"Role Definition",name:"role_definition",value:s.role_definition,onChange:_,variant:"outlined",fullWidth:!0,required:!0,multiline:!0,rows:3})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{label:"Responsibility Deliverable",name:"responsibility_deliverable",value:s.responsibility_deliverable,onChange:_,variant:"outlined",fullWidth:!0,required:!0,multiline:!0,rows:3})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{label:"Tasks Activities",name:"tasks_activities",value:s.tasks_activities,onChange:_,variant:"outlined",fullWidth:!0,required:!0,multiline:!0,rows:3})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{label:"Measurement Metrics",name:"measurement_metrics",value:s.measurement_metrics,onChange:_,variant:"outlined",fullWidth:!0,required:!0,multiline:!0,rows:3})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center"},a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary"},m?"Submitting...":"Submit")))))))},Xg=function(e){var t=e.data;return a.a.createElement(at.a,null,a.a.createElement(ut.a,{sx:{p:3},style:{width:"700px"}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0},"Role: ",t.designation),a.a.createElement(y.a,{sx:{mb:2}}),a.a.createElement(Fe.a,{container:!0},a.a.createElement(Fe.a,{item:!0,xs:4,sx:{borderRight:1,borderColor:"divider"}},a.a.createElement(Ae.a,{sx:{p:2,backgroundColor:"#f0f0f0",height:"100%"}},a.a.createElement(E.a,{variant:"subtitle1",sx:{fontWeight:"bold"}},"Role Definition"))),a.a.createElement(Fe.a,{item:!0,xs:8},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(E.a,{variant:"body1",sx:{fontWeight:400,fontSize:15}},t.role_definition))),a.a.createElement(Fe.a,{item:!0,xs:4,sx:{borderRight:1,borderColor:"divider",borderTop:1}},a.a.createElement(Ae.a,{sx:{p:2,backgroundColor:"#e0f7fa",height:"100%"}},a.a.createElement(E.a,{variant:"subtitle1",sx:{fontWeight:"bold"}},"Responsibility Deliverable"))),a.a.createElement(Fe.a,{item:!0,xs:8,sx:{borderTop:1,borderColor:"divider"}},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(E.a,{variant:"body1",sx:{fontWeight:400,fontSize:15}},t.responsibility_deliverable))),a.a.createElement(Fe.a,{item:!0,xs:4,sx:{borderRight:1,borderColor:"divider",borderTop:1}},a.a.createElement(Ae.a,{sx:{p:2,backgroundColor:"#ffecb3",height:"100%"}},a.a.createElement(E.a,{variant:"subtitle1",sx:{fontWeight:"bold"}},"Tasks Activities"))),a.a.createElement(Fe.a,{item:!0,xs:8,sx:{borderTop:1,borderColor:"divider"}},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(E.a,{variant:"body1",sx:{fontWeight:400,fontSize:15}},t.tasks_activities))),a.a.createElement(Fe.a,{item:!0,xs:4,sx:{borderRight:1,borderColor:"divider",borderTop:1}},a.a.createElement(Ae.a,{sx:{p:2,backgroundColor:"#dcedc8",height:"100%"}},a.a.createElement(E.a,{variant:"subtitle1",sx:{fontWeight:"bold"}},"Measurement Metrics"))),a.a.createElement(Fe.a,{item:!0,xs:8,sx:{borderTop:1,borderColor:"divider"}},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(E.a,{variant:"body1",sx:{fontWeight:400,fontSize:15}},t.measurement_metrics))))))};function $g(){$g=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var eb=function(e){var t=e.setOpenPopupUpdate,r=e.getRoleClarityData,o=e.data,i=Object(n.useState)({designation:o.designation||"",role_definition:o.role_definition||"",responsibility_deliverable:o.responsibility_deliverable||"",tasks_activities:o.tasks_activities||"",measurement_metrics:o.measurement_metrics||""}),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)({message:"",severity:"",open:!1}),x=Object(l.a)(w,2),O=x[0],_=x[1];Object(n.useEffect)(function(){!function(){var e=Object(c.a)($g().mark(function e(){var t;return $g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.getDesginationList();case 3:t=e.sent,E(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()()},[]);var j=function(e){var t=e.target,r=t.name,n=t.value;h(Object(u.a)({},f,Object(Y.a)({},r,n)))},L=function(){var e=Object(c.a)($g().mark(function e(n){var a;return $g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),y(!0),e.prev=2,e.next=5,Kl.UpdateRoleClarity(o.id,f);case 5:a=e.sent,_({open:!0,message:a.message||"Role updated successfully",severity:"success"}),setTimeout(function(){r(),t(!1)},1e3),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),_({open:!0,message:e.t0.message||"Error creating role",severity:"error"}),console.error("Error creating role:",e.t0);case 14:return e.prev=14,y(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,10,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(at.a,{maxWidth:"md"},a.a.createElement($e,{open:O.open,message:O.message,severity:O.severity,onClose:function(){_(Object(u.a)({},O,{open:!1}))}}),a.a.createElement(ut.a,{sx:{p:3,mt:3}},a.a.createElement("form",{onSubmit:L},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{options:b.map(function(e){return e.designation}),value:f.role,onChange:function(e,t){return h(function(e){return Object(u.a)({},e,{designation:t})})},label:"Role",margin:"dense",fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{label:"Role Definition",name:"role_definition",value:f.role_definition,onChange:j,variant:"outlined",fullWidth:!0,required:!0,multiline:!0,rows:3})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{label:"Responsibility Deliverable",name:"responsibility_deliverable",value:f.responsibility_deliverable,onChange:j,variant:"outlined",fullWidth:!0,required:!0,multiline:!0,rows:3})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{label:"Tasks Activities",name:"tasks_activities",value:f.tasks_activities,onChange:j,variant:"outlined",fullWidth:!0,required:!0,multiline:!0,rows:3})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{label:"Measurement Metrics",name:"measurement_metrics",value:f.measurement_metrics,onChange:j,variant:"outlined",fullWidth:!0,required:!0,multiline:!0,rows:3})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center"},a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary"},d?"Submitting...":"Submit")))))))};function tb(){tb=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var rb=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(1),v=Object(l.a)(y,2),g=v[0],b=v[1],w=Object(n.useState)(0),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(!1),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(!1),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)(null),W=Object(l.a)(G,2),z=W[0],R=W[1],B=function(){var e=Object(c.a)(tb().mark(function e(){var t,r;return tb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,Kl.getRoleClarity(g,s);case 4:t=e.sent,o(t.data.results),r=t.data.count,_(Math.ceil(r/25)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching roleClarity:",e.t0);case 13:return e.prev=13,d(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){B()},[g,s]);return a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Je,{open:m}),a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(Ur,{onSearch:function(e){f(e),b(1)},onReset:function(){f(""),b(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(E.a,{variant:"h5",component:"div",sx:{textAlign:"center"}},"Role Clarity")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{textAlign:"right"}},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return F(!0)}},"Add"))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"},marginTop:"20px"}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(nb,{align:"center"},"Name"),a.a.createElement(nb,{align:"center"},"Role Definition"),a.a.createElement(nb,{align:"center"},"Responsibility Deliverable"),a.a.createElement(nb,{align:"center"},"Tasks Activities"," "),a.a.createElement(nb,{align:"center"},"Measurement metrics"),a.a.createElement(nb,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,r.map(function(e,t){return a.a.createElement(ab,{key:t},a.a.createElement(nb,{align:"center"},e.designation),a.a.createElement(nb,{align:"center"},e.role_definition),a.a.createElement(nb,{align:"center"},e.responsibility_deliverable),a.a.createElement(nb,{align:"center"},e.tasks_activities),a.a.createElement(nb,{align:"center"},e.measurement_metrics),a.a.createElement(nb,{align:"center"},a.a.createElement(We.a,{variant:"text",color:"info",onClick:function(){return R(e),void k(!0)}},"View"),a.a.createElement(We.a,{variant:"text",color:"success",onClick:function(){return R(e),void N(!0)}},"Edit")))})))),a.a.createElement(Vr,{currentPage:g,totalPages:O,handlePageChange:function(e,t){b(t)}}),a.a.createElement(Ce,{fullScreen:!0,title:"Role Details Page",openPopup:S,setOpenPopup:k},a.a.createElement(Xg,{data:z})),a.a.createElement(Ce,{fullScreen:!0,title:"Create Role Clarity",openPopup:I,setOpenPopup:F},a.a.createElement(Zg,{setOpenPopupRoleClarity:F,getRoleClarityData:B})),a.a.createElement(Ce,{fullScreen:!0,title:"Update Role Clarity",openPopup:T,setOpenPopup:N},a.a.createElement(eb,{setOpenPopupUpdate:N,getRoleClarityData:B,data:z}))))},nb=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),ab=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),ob=function(e){var t=e.label,r=e.values,n=e.onChange,o=function(e,t){var a=r.map(function(r,n){return n===e?t:r});n(a)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"subtitle1"},t)),r&&r.map(function(e,t){return a.a.createElement(Fe.a,{item:!0,xs:12,key:t},a.a.createElement(Ye.a,{size:"small",value:e,onChange:function(e){return o(t,e.target.value)},fullWidth:!0}),a.a.createElement(d.a,{onClick:function(){return function(e){var t=r.filter(function(t,r){return r!==e});n(t)}(t)}},a.a.createElement(Sg.a,{size:"small"})))}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{variant:"contained",size:"small",onClick:function(){n([].concat(Object(vr.a)(r),[""]))}},a.a.createElement(en.a,{size:"small"})," Add More"))))};function ib(){ib=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var cb=function(e){var t=e.getJobDescription,r=e.setOpenPopup,o=Object(n.useState)([]),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)({message:"",severity:"",open:!1}),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)({designation:"",job_purpose:"",reports_to:"",directs_report:[""],kra:[""],mtr:[""],occasional_duties:[""],min_education_level:"",work_experience:"",desc_work_exp:"",ssa:[""],relevant_skill:[""],preferred_background:[""],keywords:""}),w=Object(l.a)(E,2),x=w[0],O=w[1];Object(n.useEffect)(function(){!function(){var e=Object(c.a)(ib().mark(function e(){var t;return ib().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.getDesginationList();case 3:t=e.sent,f(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()()},[]);var _=function(e){var t=e.target,r=t.name,n=t.value;O(Object(u.a)({},x,Object(Y.a)({},r,n)))},j=function(e,t){O(Object(u.a)({},x,Object(Y.a)({},e,t)))},L=function(){var e=Object(c.a)(ib().mark(function e(n){var a;return ib().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,b(!0),e.next=5,Kl.createJobDescription(x);case 5:a=e.sent,d({open:!0,message:a.message||"Job description created successfully",severity:"success"}),setTimeout(function(){t(),r(!1)},500),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error creating job description:",e.t0),d({open:!0,message:e.t0.message||"Error creating job description",severity:"error"});case 14:return e.prev=14,b(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,10,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(ut.a,{sx:{p:3,mb:3}},a.a.createElement(Je,{open:g}),a.a.createElement($e,{open:m.open,message:m.message,severity:m.severity,onClose:function(){d({open:!1})}}),a.a.createElement("form",{onSubmit:L},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{options:s.map(function(e){return e.designation}),value:x.designation,onChange:function(e,t){return O(function(e){return Object(u.a)({},e,{designation:t})})},label:"Designation",margin:"dense",fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{label:"Job Purpose",size:"small",name:"job_purpose",value:x.job_purpose,onChange:_,fullWidth:!0,multiline:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{label:"Reports To",size:"small",name:"reports_to",value:x.reports_to,onChange:_,fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ob,{label:"Direct Reports",size:"small",values:x.directs_report,onChange:function(e){return j("directs_report",e)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ob,{size:"small",label:"Key Responsibility Areas (KRA)",values:x.kra,onChange:function(e){return j("kra",e)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ob,{label:"Major Tasks and Responsibilities (MTR)",values:x.mtr,onChange:function(e){return j("mtr",e)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ob,{label:"Occasional Duties",values:x.occasional_duties,onChange:function(e){return j("occasional_duties",e)}})),a.a.createElement(Fe.a,{item:!0,xs:6},a.a.createElement(Ye.a,{size:"small",label:"Minimum Education Level",name:"min_education_level",value:x.min_education_level,onChange:_,fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:6},a.a.createElement(Ye.a,{label:"Work Experience (in years)",name:"work_experience",value:x.work_experience,onChange:_,fullWidth:!0,type:"number",size:"small",inputProps:{step:"0.5",min:"0"}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{size:"small",label:"Describe Work Experience",name:"desc_work_exp",value:x.desc_work_exp,onChange:_,fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ob,{label:"Special Skills and Abilities (SSA)",size:"small",values:x.ssa,onChange:function(e){return j("ssa",e)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ob,{label:"Relevant Skills",values:x.relevant_skill,onChange:function(e){return j("relevant_skill",e)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ob,{label:"Preferred Background",values:x.preferred_background,onChange:function(e){return j("preferred_background",e)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{size:"small",label:"Keywords",name:"keywords",value:x.keywords,onChange:_,fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0},"Submit")))))};function lb(){lb=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ub=function(e){var t=e.getJobDescription,r=e.setOpenPopup,o=e.data,i=Object(n.useState)([]),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)({message:"",severity:"",open:!1}),m=Object(l.a)(p,2),y=m[0],v=m[1],g=Object(n.useState)(null),b=Object(l.a)(g,2),w=b[0],x=b[1],O=Object(n.useState)(!1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)({designation:o.designation||"",job_purpose:o.job_purpose||"",report_line:o.report_line||"",reports_to:o.reports_to||"",directs_report:o.directs_report||[],kra:o.kra||[],mtr:o.mtr||[],occasional_duties:o.occasional_duties||[],min_education_level:o.min_education_level||"",work_experience:o.work_experience||"",desc_work_exp:o.desc_work_exp||"",ssa:o.ssa||[""],relevant_skill:o.relevant_skill||[],preferred_background:o.preferred_background||[],keywords:o.keywords||""}),k=Object(l.a)(S,2),P=k[0],C=k[1];Object(n.useEffect)(function(){!function(){var e=Object(c.a)(lb().mark(function e(){var t;return lb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.getDesginationList();case 3:t=e.sent,h(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()()},[]);var T=function(e){var t=e.target,r=t.name,n=t.value;C(Object(u.a)({},P,Object(Y.a)({},r,n)))},N=function(e,t){C(Object(u.a)({},P,Object(Y.a)({},e,t)))},D=function(){var e=Object(c.a)(lb().mark(function e(n){var a,i;return lb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,L(!0),a=new FormData,Object.keys(P).forEach(function(e){Array.isArray(P[e])?a.append(e,JSON.stringify(P[e])):"jd"===e&&P[e]?a.append(e,P[e]):null!==P[e]&&void 0!==P[e]&&a.append(e,P[e])}),e.next=7,Kl.UpdateJobDescription(o.id,a);case 7:200===(i=e.sent).status&&(v({open:!0,message:i.message||"Job description updated successfully",severity:"success"}),setTimeout(function(){t(),r(!1)},500)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("Error creating job description:",e.t0),v({open:!0,message:e.t0.message||"Error creating job description",severity:"error"});case 15:return e.prev=15,L(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,11,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(ut.a,{sx:{p:3,mb:3}},a.a.createElement(Je,{open:j}),a.a.createElement($e,{open:y.open,message:y.message,severity:y.severity,onClose:function(){v({open:!1})}}),a.a.createElement("form",{onSubmit:D},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{options:f.map(function(e){return e.designation}),value:P.designation,onChange:function(e,t){return C(function(e){return Object(u.a)({},e,{designation:t})})},label:"Designation",margin:"dense",fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{label:"Job Purpose",size:"small",name:"job_purpose",value:P.job_purpose,onChange:T,fullWidth:!0,multiline:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{label:"Reports To",size:"small",name:"reports_to",value:P.reports_to,onChange:T,fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ob,{label:"Direct Reports",size:"small",values:P.directs_report,onChange:function(e){return N("directs_report",e)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ob,{size:"small",label:"Key Responsibility Areas (KRA)",values:P.kra,onChange:function(e){return N("kra",e)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ob,{label:"Major Tasks and Responsibilities (MTR)",values:P.mtr,onChange:function(e){return N("mtr",e)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ob,{label:"Occasional Duties",values:P.occasional_duties,onChange:function(e){return N("occasional_duties",e)}})),a.a.createElement(Fe.a,{item:!0,xs:6},a.a.createElement(Ye.a,{size:"small",label:"Minimum Education Level",name:"min_education_level",value:P.min_education_level,onChange:T,fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:6},a.a.createElement(Ye.a,{label:"Work Experience (in years)",name:"work_experience",value:P.work_experience,onChange:T,fullWidth:!0,type:"number",size:"small",inputProps:{step:"0.5",min:"0"}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{size:"small",label:"Describe Work Experience",name:"desc_work_exp",value:P.desc_work_exp,onChange:T,fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ob,{label:"Special Skills and Abilities (SSA)",size:"small",values:P.ssa,onChange:function(e){return N("ssa",e)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ob,{label:"Relevant Skills",values:P.relevant_skill,onChange:function(e){return N("relevant_skill",e)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ob,{label:"Preferred Background",values:P.preferred_background,onChange:function(e){return N("preferred_background",e)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{size:"small",label:"Keywords",name:"keywords",value:P.keywords,onChange:T,fullWidth:!0}))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12,marginTop:4},a.a.createElement(We.a,{variant:"contained",color:"secondary",component:"label",fullWidth:!0},"Upload JD",a.a.createElement("input",{type:"file",hidden:!0,accept:".pdf,.doc,.docx",onChange:function(e){var t=e.target.files[0];if(t&&["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(t.type))if(C(function(e){return Object(u.a)({},e,{jd:t})}),"application/pdf"===t.type){var r=URL.createObjectURL(t);x(r)}else x(null);else v({open:!0,message:"Invalid file type. Please upload a PDF or DOC file",severity:"error"}),e.target.value=null}})),w&&a.a.createElement(Ae.a,{mt:2,position:"relative"},a.a.createElement(E.a,{variant:"body1"},"JD Preview:"),a.a.createElement(d.a,{"aria-label":"close",size:"small",onClick:function(){C(function(e){return Object(u.a)({},e,{jd:null})}),x(null)},style:{position:"absolute",right:0,top:0}},a.a.createElement(_e.a,null)),a.a.createElement("embed",{src:w,width:"100%",height:"150px",type:"application/pdf"}))),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0},"Submit")))))},sb=r(317),fb=r.n(sb);function hb(){hb=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var pb=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(1),g=Object(l.a)(v,2),b=g[0],w=g[1],x=Object(n.useState)(0),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(!1),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(!1),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(null),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(s.c)(function(e){return e.auth.profile}),z=function(){var e=Object(c.a)(hb().mark(function e(){var t,r;return hb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,Kl.getJobDescription(b,f);case 4:t=e.sent,o(t.data.results),r=t.data.count,j(Math.ceil(r/25)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching jobDescription:",e.t0);case 13:return e.prev=13,y(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){z()},[b,f]);return a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Je,{open:d}),a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(Ur,{onSearch:function(e){h(e),w(1)},onReset:function(){h(""),w(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(E.a,{variant:"h5",component:"div",sx:{textAlign:"center"}},"Job Description")),!W.groups.includes("HR Recruiter")&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{textAlign:"right"}},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return D(!0)}},"Add"))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"},marginTop:"20px"}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(mb,{align:"center"},"Job Title"),a.a.createElement(mb,{align:"center"},"Report To"),a.a.createElement(mb,{align:"center"},"Min Education Level"),a.a.createElement(mb,{align:"center"},"Work Experience"),a.a.createElement(mb,{align:"center"},"Is JD Uploaded"),a.a.createElement(mb,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,r.map(function(e,t){return a.a.createElement(db,{key:t},a.a.createElement(mb,{align:"center"},e.designation),a.a.createElement(mb,{align:"center"},e.reports_to),a.a.createElement(mb,{align:"center"},e.min_education_level),a.a.createElement(mb,{align:"center"},e.work_experience," Years"),a.a.createElement(mb,{align:"center"},e.jd?"Yes":"No"),a.a.createElement(mb,{align:"center"},a.a.createElement(We.a,{variant:"text",onClick:function(){return function(e){var t=new zi.b;t.setFont("helvetica","bold"),t.setFontSize(16),t.text("".concat(e.designation," - Job Description"),14,10);var r=function(e){return e.map(function(e){return"\u2022 ".concat(e)}).join("\n")},n=[["Purpose",e.job_purpose],["Reports To",e.reports_to],["Direct Reports",e.directs_report],["Key Responsibilities",r(e.kra)],["Major Tasks & Responsibilities",r(e.mtr)],["Occasional Duties",r(e.occasional_duties)],["Education Level",e.min_education_level],["Work Experience","".concat(e.work_experience," years")],["Described Work Experience",e.desc_work_exp],["Skills & Abilities",r(e.ssa)],["Relevant Skills",r(e.relevant_skill)],["Preferred Background",r(e.preferred_background)]];fb()(t,{startY:20,margin:{top:5,left:10,right:10},head:[["Section","Details"]],body:n,styles:{fontSize:10,cellPadding:2,valign:"middle"},headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontSize:12,fontStyle:"bold",halign:"center"},columnStyles:{0:{cellWidth:65,fontStyle:"bold",halign:"left"},1:{cellWidth:"auto",halign:"left"}},alternateRowStyles:{fillColor:[245,245,245]},didParseCell:function(e){1===e.column.index&&(e.cell.styles.fontSize=10)}}),t.save("".concat(e.designation,"_Job_Description.pdf"))}(e)}},"Download pdf"),!W.groups.includes("HR Recruiter")&&a.a.createElement(We.a,{variant:"text",color:"success",onClick:function(){return G(e),void P(!0)}},"Edit")))})))),a.a.createElement(Vr,{currentPage:b,totalPages:_,handlePageChange:function(e,t){w(t)}}),a.a.createElement(Ce,{fullScreen:!0,title:"Create Job Description",openPopup:N,setOpenPopup:D},a.a.createElement(cb,{getJobDescription:z,setOpenPopup:D})),a.a.createElement(Ce,{fullScreen:!0,title:"Update Job Description",openPopup:k,setOpenPopup:P},a.a.createElement(ub,{data:F,getJobDescription:z,setOpenPopup:P}))))},mb=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),db=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function yb(){yb=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var vb=function(e){var t=e.getMCQQuetion,r=e.setOpenQuestionPopUp,o=Object(n.useState)({designation:"",interview_type:"",question:"",expected_answer:""}),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)({message:"",severity:"",open:!1}),w=Object(l.a)(E,2),x=w[0],O=w[1];Object(n.useEffect)(function(){!function(){var e=Object(c.a)(yb().mark(function e(){var t;return yb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.getDesginationList();case 3:t=e.sent,b(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()()},[]);var _=function(e){var t=e.target,r=t.name,n=t.value;f(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},j=function(){var e=Object(c.a)(yb().mark(function e(){var n;return yb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s.designation&&s.expected_answer&&s.question&&s.interview_type){e.next=4;break}return O({open:!0,message:"Please fill all the fields.",severity:"warning"}),e.abrupt("return");case 4:return d(!0),e.next=7,Kl.createInterviewQuestionAndanswwer(s);case 7:n=e.sent,O({open:!0,message:n.message||"Interview question created successfully",severity:"success"}),setTimeout(function(){t(),r(!1)},500),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error creating MCQ:",e.t0),O({open:!0,message:e.t0.message||"Error creating interview question",severity:"error"});case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,12,16,19]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(ut.a,{sx:{maxWidth:1e3,margin:"auto"}},a.a.createElement(Je,{open:m}),a.a.createElement($e,{open:x.open,message:x.message,severity:x.severity,onClose:function(){O(Object(u.a)({},x,{open:!1}))}}),a.a.createElement(Ae.a,{sx:{padding:"20px"}},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{options:g.map(function(e){return e.designation}),value:s.designation,onChange:function(e,t){return f(function(e){return Object(u.a)({},e,{designation:t})})},label:"Designation",margin:"dense",fullWidth:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,marginTop:"13px"},a.a.createElement(sr,{options:["Screening","Face to Face"],value:s.interview_type,onChange:function(e,t){return f(function(e){return Object(u.a)({},e,{interview_type:t})})},label:"Interview Question Type",margin:"dense",fullWidth:!0})),a.a.createElement(Ye.a,{label:"Question",size:"small",name:"question",value:s.question,onChange:_,fullWidth:!0,margin:"normal"}),a.a.createElement(Ye.a,{fullWidth:!0,multiline:!0,rows:4,size:"small",label:"Expected Answer",name:"expected_answer",style:{marginTop:11},value:s.expected_answer,onChange:_}),a.a.createElement(We.a,{style:{marginTop:16},variant:"contained",color:"primary",onClick:j,fullWidth:!0},"Submit")))};function gb(){gb=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var bb=function(e){var t=e.data,r=e.getMCQQuetion,o=e.setOpenQuestionPopUp,i=Object(n.useState)({designation:t.designation,interview_type:t.interview_type,question:t.question,expected_answer:t.expected_answer}),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)({message:"",severity:"",open:!1}),x=Object(l.a)(w,2),O=x[0],_=x[1];Object(n.useEffect)(function(){!function(){var e=Object(c.a)(gb().mark(function e(){var t;return gb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.getDesginationList();case 3:t=e.sent,E(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()()},[]);var j=function(e){var t=e.target,r=t.name,n=t.value;h(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},L=function(){var e=Object(c.a)(gb().mark(function e(){var n;return gb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f.designation&&f.expected_answer&&f.question&&f.interview_type){e.next=4;break}return _({open:!0,message:"Please fill all the fields.",severity:"warning"}),e.abrupt("return");case 4:return y(!0),e.next=7,Kl.UpdateInterviewQuestionandanswwer(t.id,f);case 7:n=e.sent,_({open:!0,message:n.message||"Interview question updated successfully",severity:"success"}),setTimeout(function(){r(),o(!1)},500),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error updating MCQ:",e.t0),_({open:!0,message:e.t0.message||"Error updating interview question",severity:"error"});case 16:return e.prev=16,y(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,12,16,19]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(ut.a,{sx:{maxWidth:800,margin:"auto",padding:"20px",borderRadius:"15px",boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.1)"}},a.a.createElement(Je,{open:d}),a.a.createElement($e,{open:O.open,message:O.message,severity:O.severity,onClose:function(){_(Object(u.a)({},O,{open:!1}))}}),a.a.createElement(Ae.a,null,a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{options:b.map(function(e){return e.designation}),value:f.designation,onChange:function(e,t){return h(function(e){return Object(u.a)({},e,{designation:t})})},label:"Designation",fullWidth:!0,margin:"dense",sx:{"& .MuiInputBase-root":{borderRadius:"10px"}}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{options:["Screening","Face to Face"],value:f.interview_type,onChange:function(e,t){return h(function(e){return Object(u.a)({},e,{interview_type:t})})},label:"Interview Question Type",fullWidth:!0,margin:"dense",sx:{"& .MuiInputBase-root":{borderRadius:"10px"}}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{label:"Question",name:"question",value:f.question,onChange:j,fullWidth:!0,margin:"normal",size:"small",sx:{"& .MuiInputBase-root":{borderRadius:"10px"}}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,multiline:!0,rows:4,size:"small",label:"Expected Answer",name:"expected_answer",value:f.expected_answer,onChange:j,sx:{marginTop:2,"& .MuiInputBase-root":{borderRadius:"10px"}}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:L,fullWidth:!0,sx:{marginTop:3,padding:"12px",borderRadius:"10px",backgroundColor:"#007BFF","&:hover":{backgroundColor:"#0056b3"}}},"Submit")))))};function Eb(){Eb=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var wb=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=Object(n.useState)([]),r=Object(l.a)(t,2),o=r[0],i=r[1],f=Object(n.useState)(!0),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)(!1),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)(!1),w=Object(l.a)(b,2),x=w[0],O=w[1],_=Object(n.useState)(""),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(""),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(1),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)(0),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useState)([]),B=Object(l.a)(R,2),M=B[0],q=B[1],U=Object(n.useState)(null),Y=Object(l.a)(U,2),V=Y[0],Q=Y[1],H=Object(n.useState)({message:"",severity:"",open:!1}),J=Object(l.a)(H,2),K=J[0],Z=J[1],X=Object(n.useCallback)(Object(c.a)(Eb().mark(function e(){var t;return Eb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Kl.getInterviewQuestionAndAnswer(A,L,C);case 4:t=e.sent,i(t.data.results),z(Math.ceil(t.data.count/25)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching MCQs:",e.t0),Z({open:!0,message:e.t0.message||"Error fetching MCQs",severity:"error"});case 13:return e.prev=13,m(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,9,13,16]])})),[A,L,C]);Object(n.useEffect)(function(){!function(){var e=Object(c.a)(Eb().mark(function e(){var t;return Eb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.getDesginationList();case 3:t=e.sent,q(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()()},[]),Object(n.useEffect)(function(){X()},[A,L,C]);var $=function(){var e=Object(c.a)(Eb().mark(function e(t){var r;return Eb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kl.DeteteInterviewQuestionandanswwer(t.id);case 3:200===(r=e.sent).status&&(Z({message:r.data.message||"Question deleted successfully",severity:"success",open:!0}),setTimeout(function(){X()},400)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting  Question:",e.t0),Z({open:!0,message:e.t0.response.data.error||"Error deleting  Question",severity:"error"});case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}();return p?a.a.createElement(E.a,{variant:"h6",align:"center"},"Loading..."):a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:K.open,message:K.message,severity:K.severity,onClose:function(){Z(Object(u.a)({},K,{open:!1}))}}),a.a.createElement(ut.a,{style:{padding:"20px",margin:"1rem",backgroundColor:"#f9f9f9",borderRadius:"10px"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center",justifyContent:"space-between"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(sr,{fullWidth:!0,name:"designation",value:L,size:"small",disablePortal:!0,id:"combo-box-stage",onChange:function(e,t){return S(t)},options:M.map(function(e){return e.designation}),getOptionLabel:function(e){return e},label:"Filter By Designation"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(sr,{fullWidth:!0,size:"small",value:C,disablePortal:!0,id:"combo-box-stage",onChange:function(e,t){return T(t)},options:["Screening","Face to Face"],getOptionLabel:function(e){return e},label:"Type of question"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(E.a,{variant:"h5",sx:{color:"#222",fontWeight:800,textAlign:"center"}},"Interview Questions")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,textAlign:"end"},!e.groups.includes("HR Recruiter")&&a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return O(!0)},sx:{padding:"10px 20px",borderRadius:"8px",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)"}},"Add Question")))),a.a.createElement(Ae.a,{sx:{maxWidth:1300,margin:"auto",padding:1}},o.length>0?a.a.createElement(Yn.a,{component:ut.a,sx:{borderRadius:"8px",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"}},a.a.createElement(Vn.a,null,a.a.createElement(Qn.a,{sx:{backgroundColor:"#f5f5f5"}},a.a.createElement(Un.a,null,a.a.createElement(qn.a,{align:"center"},a.a.createElement("strong",null,"Designation")),a.a.createElement(qn.a,{align:"center"},a.a.createElement("strong",null,"Interview Type")),a.a.createElement(qn.a,{align:"center"},a.a.createElement("strong",null,"Question")),a.a.createElement(qn.a,{align:"center"},a.a.createElement("strong",null,"Expected Answer")),a.a.createElement(qn.a,{align:"center"},a.a.createElement("strong",null,"Action")))),a.a.createElement(Hn.a,null,o.map(function(t){return a.a.createElement(Un.a,{key:t.id},a.a.createElement(qn.a,{align:"center"},t.designation),a.a.createElement(qn.a,{align:"center"},t.interview_type),a.a.createElement(qn.a,{align:"center"},t.question),a.a.createElement(qn.a,{align:"center"},t.expected_answer),a.a.createElement(qn.a,{align:"center"},!e.groups.includes("HR Recruiter")&&a.a.createElement(Ae.a,{display:"flex",gap:"10px",justifyContent:"center",alignItems:"center"},a.a.createElement(We.a,{variant:"contained",color:"success",size:"small",onClick:function(){Q(t),g(!0)}},"Edit"),a.a.createElement(We.a,{variant:"contained",color:"error",size:"small",onClick:function(){$(t)}},"Delete"))))})))):a.a.createElement(E.a,{variant:"h6",align:"center"},"No Questions found.")),a.a.createElement(Vr,{currentPage:A,totalPages:W,handlePageChange:function(e,t){return I(t)}})),a.a.createElement(Ce,{fullScreen:!0,title:"Create Interview Question",openPopup:x,setOpenPopup:O},a.a.createElement(vb,{getMCQQuetion:X,setOpenQuestionPopUp:O})),a.a.createElement(Ce,{fullScreen:!0,title:"Update Interview Question",openPopup:v,setOpenPopup:g},a.a.createElement(bb,{getMCQQuetion:X,setOpenQuestionPopUp:g,data:V})))},xb=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})},r=t("Director","HR"),o=t("Director","HR","HR Recruiter"),i=[{label:"Designation",visible:r,component:a.a.createElement(og,null)},{label:"Department",visible:r,component:a.a.createElement(pg,null)},{label:"Source",visible:r,component:a.a.createElement(bg,null)},{label:"Location",visible:r,component:a.a.createElement(jg,null)},{label:"MCQ Question",visible:r,component:a.a.createElement(Dg,null)},{label:"Interview Question",visible:o,component:a.a.createElement(wb,null)},{label:"Attribute",visible:r,component:a.a.createElement(Wg,null)},{label:"Competency Attribute",visible:r,component:a.a.createElement(Qg,null)},{label:"Role Clarity",visible:r,component:a.a.createElement(rb,null)},{label:"Job Description",visible:o,component:a.a.createElement(pb,null)}].filter(function(e){return e.visible}),c=Object(n.useState)(0),u=Object(l.a)(c,2),f=u[0],h=u[1];return a.a.createElement("div",null,a.a.createElement(Xr,{tabs:i,activeTab:f,onTabChange:function(e){return h(e)}}),a.a.createElement("div",null,i[f].component&&i[f].component))};function Ob(){Ob=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var _b=function(e){var t=e.selectedData,r=e.onClose,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],s=i[1],f=gt(),h=f.handleSuccess,p=f.handleError,m=f.handleCloseSnackbar,d=f.alertInfo,y=function(){var e=Object(c.a)(Ob().mark(function e(){return Ob().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=16;break}return e.prev=1,e.next=4,Kn.deleteWhatsappData(t.id);case 4:h("Group deleted successfully"),setTimeout(function(){},300),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),p(e.t0),console.error("Error deleting group:",e.t0),alert("Error deleting group");case 13:return e.prev=13,r(),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,8,13,16]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:d.open,onClose:m,severity:d.severity,message:d.message}),a.a.createElement(Ae.a,{sx:{display:"flex",alignItems:"center",gap:1,marginBottom:2}},a.a.createElement(mr.a,{checked:u,onChange:function(e){s(e.target.checked)},color:"primary"}),a.a.createElement("span",null,'Are you sure you want to delete the WhatsApp group "',t.whatsapp_group,'" of "',t.name,'"?')),a.a.createElement(We.a,{variant:"contained",color:"error",onClick:y,fullWidth:!0,disabled:!u},"Delete Group"))};function jb(){jb=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Lb=function(e){var t=e.selectedData,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)([]),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)({message:"",severity:"",open:!1}),d=Object(l.a)(m,2),y=d[0],v=d[1],g=function(){var e=Object(c.a)(jb().mark(function e(){var r;return jb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,ma(t.name);case 4:r=e.sent,p(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),v({message:e.t0.response.data.error||"Failed to get participants",severity:"error",open:!0});case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){g()},[]);var b=function(){var e=Object(c.a)(jb().mark(function e(r){var n,a;return jb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={customer:t.name,users:[r.contact]},e.prev=1,u(!0),e.next=5,ya(n);case 5:a=e.sent,console.log(a),setTimeout(function(){200===a.status&&(v({message:a.data.message,severity:"success",open:!0}),g())},1e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),v({message:e.t0.response.data.error,severity:"error",open:!0});case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(c.a)(jb().mark(function e(r){var n,a;return jb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={customer:t.name,users:[r.contact]},e.prev=1,u(!0),e.next=5,da(n);case 5:a=e.sent,setTimeout(function(){200===a.status&&(v({message:a.data.message,severity:"success",open:!0}),g())},1e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),v({message:e.t0.response.data.error,severity:"error",open:!0});case 12:return e.prev=12,u(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,9,12,15]])}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(c.a)(jb().mark(function e(){var r,n;return jb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={company:t.name},e.prev=1,u(!0),e.next=5,va(r);case 5:n=e.sent,setTimeout(function(){200===n.status&&(v({message:n.data.message,severity:"success",open:!0}),g())},1e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),v({message:e.t0.response.data.error,severity:"error",open:!0});case 12:return e.prev=12,u(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,9,12,15]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:y.open,message:y.message,severity:y.severity,onClose:function(){v({open:!1})}}),a.a.createElement(Je,{open:i}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",marginBottom:"10px"},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:10,alignItems:"center"},a.a.createElement("h3",{style:{textAlign:"center",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:600}},"Participants")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2,alignItems:"end"},a.a.createElement(We.a,{size:"small",variant:"contained",color:"primary",onClick:w},"Add participants")))),a.a.createElement(Yn.a,{sx:{maxHeight:350,"&::-webkit-scrollbar":{width:10},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac",borderRadius:5}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,["Name","Contact","Member Type","Rank","Action"].map(function(e){return a.a.createElement(Sb,{align:"center"},e)}))),a.a.createElement(Hn.a,null,h&&h.map(function(e,t){return a.a.createElement(kb,{key:t},a.a.createElement(Sb,{align:"center"},e.name),a.a.createElement(Sb,{align:"center"},"+".concat(e.contact)),a.a.createElement(Sb,{align:"center"},e.type),a.a.createElement(Sb,{align:"center"},e.rank),a.a.createElement(Sb,{align:"center"},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",alignItems:"center",gap:4},"Glutape"===e.type&&"member"===e.rank&&a.a.createElement(We.a,{variant:"text",color:"success",size:"small",onClick:function(){return E(e)}},"Promote Admin"),a.a.createElement(We.a,{variant:"text",color:"error",size:"small",onClick:function(){return b(e)}},"Remove"))))})))))))},Sb=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:2}),t}),kb=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Pb(){Pb=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Cb=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),h=f[0],p=f[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(1),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(0),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(""),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useState)(!1),z=Object(l.a)(W,2),R=z[0],B=z[1],M=Object(n.useState)(!1),q=Object(l.a)(M,2),U=q[0],Y=q[1],V=Object(n.useState)(null),Q=Object(l.a)(V,2),H=Q[0],J=Q[1],K=gt(),Z=K.handleError,X=K.handleCloseSnackbar,$=K.alertInfo;Object(n.useEffect)(function(){ee()},[k,F]);var ee=function(){var e=Object(c.a)(Pb().mark(function e(){var t,r,n,a=arguments;return Pb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:k,r=a.length>1&&void 0!==a[1]?a[1]:F,e.prev=2,p(!0),e.next=6,Kn.getAllWhatsappGroupData(t,r);case 6:n=e.sent,v(n.data.results),D(Math.ceil(n.data.count/25)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),Z(e.t0),console.error(e.t0);case 15:p(!1);case 16:case"end":return e.stop()}},e,null,[[2,11]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:$.open,onClose:X,severity:$.severity,message:$.message}),a.a.createElement(Je,{open:h}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",marginBottom:"10px"},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){G(e),P(1)},onReset:function(){G(""),P(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,alignItems:"center"},a.a.createElement("h3",{style:{textAlign:"center",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Whatsapp Group Information")))),a.a.createElement(Yn.a,{sx:{maxHeight:450,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac",borderRadius:5}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,["Company ","Group Company","Group Name","Group ID","Action"].map(function(e){return a.a.createElement(Tb,{align:"center"},e)}))),a.a.createElement(Hn.a,null,y&&y.map(function(t,r){return a.a.createElement(Nb,{key:r},a.a.createElement(Tb,{align:"center"},t.name),a.a.createElement(Tb,{align:"center"},t.ref_customer),a.a.createElement(Tb,{align:"center"},t.whatsapp_group),e.groups.includes("Director")?a.a.createElement(Tb,{align:"center"},t.whatsapp_group_id):a.a.createElement(Tb,{align:"center"},"-"),a.a.createElement(Tb,{align:"center"},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",alignItems:"center"},a.a.createElement(We.a,{variant:"text",color:"info",size:"small",onClick:function(){return w((e=t).id),j(e),void i(!0);var e}},"View company"),a.a.createElement(We.a,{variant:"text",color:"secondary",size:"small",onClick:function(){return e=t,Y(!0),void J(e);var e}},"View participants"))))})))),a.a.createElement(Vr,{currentPage:k,totalPages:N,handlePageChange:function(e,t){P(t)}}),a.a.createElement(Ce,{title:"Whatsapp Group Delete",openPopup:R,setOpenPopup:B},a.a.createElement(_b,{selectedData:H,onClose:function(){B(!1),ee()}})),a.a.createElement(Ce,{fullScreen:!0,openPopup:U,setOpenPopup:Y},a.a.createElement(Lb,{selectedData:H})),a.a.createElement(Ce,{fullScreen:!0,title:"Update Customer",openPopup:o,setOpenPopup:i},a.a.createElement(Po,{setOpenPopup:i,getAllCompanyDetails:ee,recordForEdit:E,selectedCustomers:_})))))},Tb=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Nb=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Db(){Db=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ab=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)({}),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(""),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(""),D=Object(l.a)(N,2),A=D[0],I=D[1],F=gt(),G=F.handleError,W=F.handleCloseSnackbar,z=F.alertInfo,R=Object(n.useState)({message:"",severity:"",open:!1}),B=Object(l.a)(R,2),M=B[0],q=B[1],U=Object(n.useCallback)(Object(c.a)(Db().mark(function e(){var t,r,n,a=arguments;return Db().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:m,r=a.length>1&&void 0!==a[1]?a[1]:C,e.prev=2,o(!0),e.next=6,Kn.getCustomerNotHavingWhatsappGroup(t,r,A);case 6:n=e.sent,f(n.data.results),b(Math.ceil(n.data.count/25)),m>Math.ceil(n.data.count/25)&&d(1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),G(e.t0),console.error(e.t0);case 16:return e.prev=16,o(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[2,12,16,19]])})),[C,A]);Object(n.useEffect)(function(){U(m)},[m,C,A,U]);var Y=function(){var e=Object(c.a)(Db().mark(function e(){return Db().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(m,C);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),V=Array.isArray(s)?s.map(function(e){return{name:e.name,id:e.id}}):[],Q=function(){var e=Object(c.a)(Db().mark(function e(t){return Db().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,ha({customer:t.name});case 4:q({message:"Whatsapp Group created successfully",severity:"success",open:!0}),Y(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),q({message:e.t0.response.data.message||"Failed to create Whatsapp Group",severity:"error",open:!0});case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:z.open,onClose:W,severity:z.severity,message:z.message}),a.a.createElement($e,{open:M.open,message:M.message,severity:M.severity,onClose:function(){q({open:!1})}}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",marginBottom:"10px"},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){T(e),d(1)},onReset:function(){T(""),d(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,alignItems:"center"},a.a.createElement("h3",{style:{textAlign:"center",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Customer Not Having Whatsapp Group")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",fullWidth:!0,value:Ib.find(function(e){return e.value===A})||null,onChange:function(e,t){return I(t?t.value:null)},options:Ib,getOptionLabel:function(e){return e.label},label:"Filter By Type of Customer"})))),a.a.createElement(Yn.a,{sx:{maxHeight:450,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac",borderRadius:5}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,["Company","Action"].map(function(e){return a.a.createElement(Fb,{align:"center"},e)}))),a.a.createElement(Hn.a,null,V.map(function(e,t){return a.a.createElement(Gb,{key:t},a.a.createElement(Fb,{align:"center"},e.name),a.a.createElement(Fb,{align:"center"},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",alignItems:"center",gap:4},a.a.createElement(We.a,{variant:"outlined",color:"info",size:"small",onClick:function(){return S(e.id),void O(!0)}},"View"),a.a.createElement(We.a,{variant:"contained",color:"success",size:"small",onClick:function(){return Q(e)}},"Create Group"))))})))),a.a.createElement(Vr,{currentPage:m,totalPages:g,handlePageChange:function(e,t){d(t)}}),a.a.createElement(Ce,{title:"Kyc Update",openPopup:x,setOpenPopup:O},a.a.createElement(go,{setOpenPopup:O,getIncompleteKycCustomerData:Y,recordForEdit:L,onDataUpdated:Y})))))},Ib=[{label:"Industrial Customer",value:"industrial_customer"},{label:"Distribution Customer",value:"distribution_customer"},{label:"Exclusive Distribution Customer",value:"Exclusive Distribution Customer"}],Fb=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Gb=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Wb(){Wb=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var zb=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(""),j=Object(l.a)(_,2),L=j[0],S=j[1];Object(n.useEffect)(function(){k(m,L)},[m,x,L]);var k=function(){var e=Object(c.a)(Wb().mark(function e(){var t;return Wb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kn.getSalesPersonNotInGroupData(m,x,L);case 4:t=e.sent,f(t.data.results),b(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}(),P=Array.isArray(s)?s.map(function(e){return{company:e.name,whatsapp_group:e.whatsapp_group,sales_person_not_in_group:Array.isArray(e.member_details)?e.member_details.map(function(e,t){return a.a.createElement("div",{key:t,style:{border:"1px solid #4caf50",borderRadius:"20px",color:"#4caf50"}},e)}):a.a.createElement("div",{style:{border:"1px solid #4caf50",borderRadius:"20px",color:"#4caf50"}},"row.member_details")}}):[];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",marginBottom:"10px"},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){O(e),d(1)},onReset:function(){O(""),d(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,alignItems:"center"},a.a.createElement("h3",{style:{textAlign:"center",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Sales Person Not In Group")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",fullWidth:!0,value:Rb.find(function(e){return e.value===L})||null,onChange:function(e,t){return S(t?t.value:null)},options:Rb,getOptionLabel:function(e){return e.label},label:"Filter By Type of Customer"})))),a.a.createElement(dt,{headers:["Company ","Group ","Sales Person Not In Group"],data:P}),a.a.createElement(Vr,{currentPage:m,totalPages:g,handlePageChange:function(e,t){d(t)}}))))},Rb=[{label:"Industrial Customer",value:"industrial_customer"},{label:"Distribution Customer",value:"distribution_customer"},{label:"Exclusive Distribution Customer",value:"Exclusive Distribution Customer"}];function Bb(){Bb=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Mb=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(0),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(""),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)(""),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useState)({message:"",severity:"",open:!1}),B=Object(l.a)(R,2),M=B[0],q=B[1],U=function(){var e=Object(c.a)(Bb().mark(function e(){var t;return Bb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kn.getCustomerNotInGroupData(L,A,W);case 4:t=e.sent,O(t.data.results),T(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){U()},[L,A,W]);var Y=Array.isArray(x)?x.map(function(e){var t=e.id,r=e.name,n=e.whatsapp_group,o=e.assigned_to;return{company:r,whatsapp_group:n,id:t,assigned_to:Array.isArray(o)?o.map(function(e,t){return a.a.createElement("div",{key:t,style:{border:"1px solid #4caf50",borderRadius:"20px",color:"#4caf50"}},e)}):a.a.createElement("div",{style:{border:"1px solid #4caf50",borderRadius:"20px",color:"#4caf50"}},"assigned_to")}}):[];return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:M.open,message:M.message,severity:M.severity,onClose:function(){q({open:!1})}}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",marginBottom:"10px"},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){I(e),S(1)},onReset:function(){I(""),S(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,alignItems:"center"},a.a.createElement("h3",{style:{textAlign:"center",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Customer Not In Group")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",fullWidth:!0,value:Yb.find(function(e){return e.value===W})||null,onChange:function(e,t){return z(t?t.value:null)},options:Yb,getOptionLabel:function(e){return e.label},label:"Filter By Type of Customer"})))),a.a.createElement(Yn.a,{sx:{maxHeight:450,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac",borderRadius:5}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,["Company ","Group","Assigned Sales Person","Action"].map(function(e){return a.a.createElement(qb,{align:"center"},e)}))),a.a.createElement(Hn.a,null,Y.map(function(e,t){return a.a.createElement(Ub,{key:t},a.a.createElement(qb,{align:"center"},e.company),a.a.createElement(qb,{align:"center"},e.whatsapp_group),a.a.createElement(qb,{align:"center"},e.assigned_to),a.a.createElement(qb,{align:"center"},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",alignItems:"center",gap:4},a.a.createElement(We.a,{style:{fontSize:"12px"},variant:"outlined",color:"info",size:"small",onClick:function(){return b((t=e).id),d(t),void f(!0);var t}},"View"))))})))),a.a.createElement(Vr,{currentPage:L,totalPages:C,handlePageChange:function(e,t){S(t)}})),a.a.createElement(Ce,{fullScreen:!0,title:"Update Customer",openPopup:s,setOpenPopup:f},a.a.createElement(Po,{setOpenPopup:f,recordForEdit:g,getAllCompanyDetails:U,selectedCustomers:m}))))},qb=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Ub=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Yb=[{label:"Industrial Customer",value:"industrial_customer"},{label:"Distribution Customer",value:"distribution_customer"},{label:"Exclusive Distribution Customer",value:"Exclusive Distribution Customer"}],Vb=r(318),Qb=r.n(Vb);function Hb(){Hb=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Jb=function(e){var t=e.setOpenPopup,r=e.refreshData,o=Object(n.useState)({type_of_customer:""}),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(null),v=Object(l.a)(y,2),g=v[0],b=v[1],w=Object(n.useState)(null),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)("message"),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(""),A=Object(l.a)(D,2),I=A[0],F=A[1],G=function(){var e=Object(c.a)(Hb().mark(function e(t){var r,n;return Hb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target.files[0],F(""),!(r.type.startsWith("video/")&&r.size>15728640)){e.next=7;break}return F("Error: Video size must be less than or equal to 15MB."),b(null),_(null),e.abrupt("return");case 7:if(b(r),k("application/pdf"===r.type||r.type.startsWith("video/")),r&&(r.type.startsWith("image/")||"application/pdf"===r.type||r.type.startsWith("video/")))try{n=URL.createObjectURL(r),_(n)}catch(a){console.error("Error converting file to base64",a)}else _(null);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){return function(){O&&URL.revokeObjectURL(O)}},[O]);var W=function(e,t,r){if(r)f(function(e){return Object(u.a)({},e,Object(Y.a)({},r,t))});else{var n=e.target,a=n.name,o=n.value;f(function(e){return Object(u.a)({},e,Object(Y.a)({},a,o))})}},z=function(){var e=Object(c.a)(Hb().mark(function e(n){var a,o,i;return Hb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),d(!0),e.prev=2,(a=new FormData).append("type_of_customer",s.type_of_customer||""),g?("file",o=g.name,a.append("file",g),a.append("filename",o),a.append("caption",s.caption||"")):a.append("message",s.message||""),i=Kn.createWhatsappImageData,e.next=9,i(a);case 9:return t(!1),e.next=12,r();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error("Error creating WhatsApp group",e.t0);case 17:return e.prev=17,d(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[2,14,17,20]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:m}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return z(e)}},a.a.createElement(Fe.a,{xs:12,mb:3},a.a.createElement(sr,{fullWidth:!0,name:"type_of_customer",size:"small",disablePortal:!0,id:"combo-box-status",onChange:function(e,t){return W(e,t,"type_of_customer")},options:["Distribution","Exclusive","Distribution+Exclusive","Industrial"],getOptionLabel:function(e){return e},label:"Type Of Customer",value:s.type_of_customer})),a.a.createElement(wt.a,{component:"fieldset"},a.a.createElement(Qr.a,{component:"legend"},"Type"),a.a.createElement(Hr.a,{row:!0,"aria-label":"type",name:"type",value:T,onChange:function(e){return N(e.target.value)}},a.a.createElement(pr.a,{value:"message",control:a.a.createElement(Jr.a,null),label:"Message"}),a.a.createElement(pr.a,{value:"image",control:a.a.createElement(Jr.a,null),label:"Image"}),a.a.createElement(pr.a,{value:"pdf",control:a.a.createElement(Jr.a,null),label:"PDF"}),a.a.createElement(pr.a,{value:"video",control:a.a.createElement(Jr.a,null),label:"Video"}))),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},function(){switch(T){case"message":return a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"message",size:"small",label:"Message",variant:"outlined",value:s.message||"",onChange:function(e){return W(e)}});case"image":case"pdf":case"video":return a.a.createElement(a.a.Fragment,null,a.a.createElement(We.a,{variant:"contained",component:"label",size:"small",sx:{mt:1,mb:2}},"Upload File",a.a.createElement("input",{type:"file",hidden:!0,onChange:G})),I&&a.a.createElement(E.a,{color:"error",sx:{mt:2}},I),g&&a.a.createElement(Ae.a,{sx:{mt:2,mb:2}},S||"pdf"===T?a.a.createElement(E.a,{variant:"subtitle1"},g.name):O&&a.a.createElement("img",{src:O,alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px"}})),a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"caption",size:"small",label:"Caption",variant:"outlined",value:s.caption||"",onChange:function(e){return W(e)}}));default:return null}}())),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Kb(){Kb=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Zb=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(!1),C=Object(l.a)(P,2),T=C[0],N=C[1];Object(n.useEffect)(function(){D()},[m]);var D=function(){var e=Object(c.a)(Kb().mark(function e(){var t;return Kb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Kn.getWhatsappImageData(m);case 4:t=e.sent,o(t.data.results),b(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}(),A=Object(n.useCallback)(function(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())},[]);Object(n.useEffect)(function(){S&&(N(!0),setTimeout(function(){N(!1),k(null)},1500))},[S]);var F=function(){var e=Object(c.a)(Kb().mark(function e(t){var r;return Kb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),r={reference_id:t},e.next=5,Kn.resendWhatsappMessage(r);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message),e.t0.response&&k(e.t0.response.data.message);case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,7,11,14]])}));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(c.a)(Kb().mark(function e(){return Kb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Kn.bulkResendMessage();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message),e.t0.response&&k(e.t0.response.data.message);case 10:return e.prev=10,f(!1),e.finish(10);case 13:case"end":return e.stop()}},e,null,[[0,6,10,13]])}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(Kb().mark(function e(){return Kb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:s}),a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Ze.a,{open:T,autoHideDuration:1500,onClose:function(){return N(!1)},message:S}),a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(We.a,{color:"success",variant:"contained",onClick:function(){return _(!0)},startIcon:a.a.createElement(Qb.a,null)},"Whatsapp"))),a.a.createElement(Fe.a,{item:!0,xs:10,sm:4},a.a.createElement(We.a,{color:"success",variant:"contained",onClick:function(){return G()}},"Bulk Resend"))),Array.isArray(r)&&r.map(function(e,t){return a.a.createElement(ll.a,{key:e.id,sx:{margin:1}},a.a.createElement(ul.a,{expandIcon:a.a.createElement(I.a,null)},a.a.createElement(E.a,null,t+1," Date: ",A(e.creation_date)," | All:"," ",e.messages_statistics.all," | Sent:"," ",e.messages_statistics.sent," | Failed:"," ",e.messages_statistics.unsent," | Queue:"," ",e.messages_statistics.queue," | Refrence ID:"," ",e.reference_id)),a.a.createElement(sl.a,null,a.a.createElement(E.a,null,e.message)),a.a.createElement(sl.a,null,a.a.createElement(Fe.a,{item:!0,xs:12,sm:1,justifyContent:"flex-end"},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return F(e.reference_id)}},"Send Again"))))}),a.a.createElement(Ae.a,{sx:{marginBottom:4}},a.a.createElement(Vr,{currentPage:m,totalPages:g,handlePageChange:function(e,t){d(t)}}),a.a.createElement(Ce,{title:"Whatsapp Message Create",openPopup:O,setOpenPopup:_},a.a.createElement(Jb,{setOpenPopup:_,refreshData:W})))))};function Xb(){Xb=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var $b=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(0),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1];Object(n.useEffect)(function(){_()},[g,x]);var _=function(){var e=Object(c.a)(Xb().mark(function e(){var t,r,n=arguments;return Xb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:g,e.prev=1,o(!0),e.next=5,Kn.getAutomatioData(t,x);case 5:r=e.sent,f(r.data.results),d(Math.ceil(r.data.count/25)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),j=[{label:"All",value:""},{label:"Scheduled",value:"True"},{label:"Not Scheduled",value:"False"}],L=Array.isArray(s)?s.map(function(e){return{id:e.id,ref_id:e.ref_id,next_schedule_date:e.next_schedule_date,schedular_type:e.schedular_type,generation_date:e.generation_date}}):[];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",marginBottom:"10px"},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{fullWidth:!0,options:j,getOptionLabel:function(e){return e.label},renderInput:function(e){return a.a.createElement(Ye.a,Object.assign({},e,{label:"Is Scheduled"}))},value:j.find(function(e){return e.value===x}),onChange:function(e,t){var r=t?t.value:"";O(r)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,alignItems:"center"},a.a.createElement("h3",{style:{textAlign:"center",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Scheduler Log")))),a.a.createElement(dt,{headers:["Id","Reference Id ","Next Scheduled Date","Schedular Type","Generation Date"],data:L}),a.a.createElement(Vr,{pageCount:m,handlePageClick:function(e,t){b(t)}}))))},eE=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})},r=t("Director"),o=t("Customer Service"),i=Object(n.useState)(r?0:4),c=Object(l.a)(i,2),u=c[0],f=c[1],h=[{label:"Customer Not In Group",visible:r||o,index:0},{label:"Sales Person Not In Group",visible:r||o,index:1},{label:"Customer Not Having Group",visible:r||o,index:2},{label:"Bulk Message",visible:r||o,index:3},{label:"Group Info",visible:r||o,index:4},{label:"Scheduler Log",visible:r,index:5}].filter(function(e){return e.visible}),p=h.map(function(e){return e.index}),m={0:a.a.createElement(Mb,null),1:a.a.createElement(zb,null),2:a.a.createElement(Ab,null),3:a.a.createElement(Zb,null),4:a.a.createElement(Cb,null),5:a.a.createElement($b,null)};return a.a.createElement("div",null,a.a.createElement(Xr,{tabs:h,activeTab:u,onTabChange:function(e){return f(p[e])}}),p.includes(u)&&a.a.createElement("div",null,m[u]))};function tE(){tE=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var rE=function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getAllOrderBook,i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(t.estimated_date),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(t.ready_date),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(s.c)(function(e){return e.auth}).profile,x=gt(),O=x.handleSuccess,_=x.handleError,j=x.handleCloseSnackbar,L=x.alertInfo,S=function(){var e=Object(c.a)(tE().mark(function e(n){var a,i,c;return tE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,h(!0),a={orderbook:t.orderbook,product:t.product,pending_quantity:t.pending_quantity,quantity:t.quantity,rate:t.rate,amount:t.amount,gst:t.gst,total:t.total},t.estimated_date||(a.estimated_date=d),!t.ready_date&&b&&(a.ready_date=b),e.next=8,st.updateOrderBookData(t.id,a);case 8:i=e.sent,c=i.data.message||"Customer OrderBook updated successfully",O(c),setTimeout(function(){r(!1),o()},300),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),_(e.t0);case 17:return e.prev=17,h(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[1,14,17,20]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:L.open,onClose:j,severity:L.severity,message:L.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return S(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,size:"small",label:"Product",variant:"outlined",value:t.product?t.product:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,size:"small",label:"Pending Quantity",variant:"outlined",value:t.pending_quantity?t.pending_quantity:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,size:"small",label:"Request Dispatch Date",variant:"outlined",value:t.requested_date?t.requested_date:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"estimated_date",size:"small",label:"Estimated Date",variant:"outlined",value:d||"",onChange:function(e){return y(e.target.value)},InputLabelProps:{shrink:!0},inputProps:{min:new Date((new Date).setDate((new Date).getDate()+1)).toISOString().split("T")[0]},disabled:t&&t.estimated_date})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"ready_date",size:"small",label:"Ready Date",variant:"outlined",value:b||"",onChange:function(e){return E(e.target.value)},InputLabelProps:{shrink:!0},inputProps:{min:(new Date).toLocaleDateString("en-CA"),max:(new Date).toLocaleDateString("en-CA")},disabled:t&&t.ready_date}))),(w.groups.includes("Production")||w.groups.includes("Director")||w.groups.includes("Production Delhi"))&&a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))},nE=function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getAllOrderBook,i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(t.pending_quantity),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(s.c)(function(e){return e.auth}).profile,g=gt(),b=g.handleSuccess,E=g.handleError,w=g.handleCloseSnackbar,x=g.alertInfo,O=function(){var e=Object(c.a)(tE().mark(function e(n){var a,i,c;return tE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),h(!0),a={orderbook:t.orderbook,product:t.product,quantity:t.quantity,rate:t.rate,amount:t.amount,gst:t.gst,total:t.total,pending_quantity:d,revision:t.revision+1},e.next=6,st.updateOrderBookData(t.id,a);case 6:i=e.sent,c=i.data.message||"Customer OrderBook updated successfully",b(c),setTimeout(function(){r(!1),o()},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),E(e.t0);case 15:return e.prev=15,h(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:x.open,onClose:w,severity:x.severity,message:x.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return O(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,size:"small",label:"Product",variant:"outlined",value:t.product?t.product:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Pending Quantity by Product",variant:"outlined",value:d||"",onChange:function(e){var r=e.target.value;r<=t.pending_quantity&&y(r)},disabled:d>t.pending_quantity})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,size:"small",label:"Requested Date",variant:"outlined",value:t.requested_date?t.requested_date:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,name:"estimated_date",size:"small",label:"Estimated Date",variant:"outlined",value:t.estimated_date?t.estimated_date:"",InputLabelProps:{shrink:!0}}))),(v.groups.includes("Accounts")||v.groups.includes("Director"))&&a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))};function aE(){aE=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var oE=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(1),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(""),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(0),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)([]),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)(""),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useState)(""),M=Object(l.a)(B,2),q=M[0],U=M[1],Y=Object(n.useState)(""),V=Object(l.a)(Y,2),Q=V[0],H=V[1],J=Object(n.useState)(null),K=Object(l.a)(J,2),Z=K[0],X=K[1],$=Object(n.useRef)(null),ee=Object(s.c)(function(e){return e.auth}).profile,te=ee.sales_users||[],re=gt(),ne=re.handleError,ae=re.handleCloseSnackbar,oe=re.alertInfo,ie=function(){var e=Object(c.a)(aE().mark(function e(){var t;return aE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce();case 2:t=e.sent,F(t),setTimeout(function(){$.current.link.click()});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();console.log(Q);var ce=function(){var e=Object(c.a)(aE().mark(function e(){var t,r;return aE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,st.getOrderBookData("customer","all",z,q,S,Q);case 4:return t=e.sent,r=t.data.map(function(e){return ee.groups.includes("Factory-Mumbai-OrderBook")||ee.groups.includes("Factory-Delhi-OrderBook")?{company:e.company,order_book_date:e.order_book_date,pi_date:e.pi_date,proforma_invoice:e.proforma_invoice,billing_city:e.billing_city,shipping_city:e.shipping_city,product:e.product,quantity:e.quantity,pending_quantity:e.pending_quantity,pending_amount:e.pending_amount,seller_state:e.seller_state,estimated_date:e.estimated_date,ready_date:e.ready_date,requested_date:e.requested_date,special_instructions:e.special_instructions}:ee.groups.includes("Customer Service")?{company:e.company,order_book_date:e.order_book_date,pi_date:e.pi_date,proforma_invoice:e.proforma_invoice,billing_city:e.billing_city,shipping_city:e.shipping_city,product:e.product,quantity:e.quantity,rate:e.rate,pending_quantity:e.pending_quantity,seller_state:e.seller_state,billing_address:e.billing_address,billing_pincode:e.billing_pincode,shipping_address:e.shipping_address,shipping_pincode:e.shipping_pincode,payment_terms:e.payment_terms,delivery_terms:e.delivery_terms,transporter_name:e.transporter_name,place_of_supply:e.place_of_supply,buyer_order_no:e.buyer_order_no,buyer_order_date:e.buyer_order_date,estimated_date:e.estimated_date,ready_date:e.ready_date,requested_date:e.requested_date,special_instructions:e.special_instructions}:{company:e.company,order_book_date:e.order_book_date,pi_date:e.pi_date,proforma_invoice:e.proforma_invoice,billing_city:e.billing_city,shipping_city:e.shipping_city,billing_pincode:e.billing_pincode,shipping_pincode:e.shipping_pincode,product:e.product,quantity:e.quantity,amount:e.amount,pending_quantity:e.pending_quantity,seller_state:e.seller_state,pending_amount:e.pending_amount,estimated_date:e.estimated_date,ready_date:e.ready_date,requested_date:e.requested_date,special_instructions:e.special_instructions}}),h(!1),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.prev=13,h(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),le=Object(n.useCallback)(Object(c.a)(aE().mark(function e(){var t;return aE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,st.getOrderBookData("customer",O,z,q,S,Q);case 4:t=e.sent,o(t.data.results),N(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ne(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[O,z,q,S,Q]);Object(n.useEffect)(function(){le()},[O,z,q,S,Q]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:oe.open,onClose:ae,severity:oe.severity,message:oe.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{marginBottom:"10px"},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",fullWidth:!0,value:z,onChange:function(e,t){return R(t)},options:iE.map(function(e){return e}),getOptionLabel:function(e){return e},label:"Filter By State"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",fullWidth:!0,value:cE.find(function(e){return e.value===Q})||null,onChange:function(e,t){return H(t?t.value:null)},options:cE,getOptionLabel:function(e){return e.label},label:"Filter By Ready Date"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",fullWidth:!0,value:q,onChange:function(e,t){return U(t)},options:te.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){k(e),_(1)},onReset:function(){k(""),_(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(We.a,{variant:"contained",onClick:ie},"Download CSV"),I.length>0&&a.a.createElement(Bn.CSVLink,{headers:ee.groups.includes("Customer Service")?lE:uE,data:I,ref:$,filename:"Customer Order Book.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})))),a.a.createElement(Ae.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Customer Order Book Details")),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,["Pi No","Pi Date","Approval Date","Company","Raised By","Billing City","Shipping City","Product","Quantity","Pending Quantity","EST DATE","Ready Date","Request Date","Special Instructions","Revision","ACTION"].map(function(e,t){return a.a.createElement(sE,{key:t,align:"center"},e)}))),a.a.createElement(Hn.a,null,r.map(function(e,t){return a.a.createElement(fE,{key:t},a.a.createElement(sE,{align:"center"},e.proforma_invoice),a.a.createElement(sE,{align:"center"},e.pi_date),a.a.createElement(sE,{align:"center"},e.order_book_date),a.a.createElement(sE,{align:"center"},e.company),a.a.createElement(sE,{align:"center"},e.raised_by),a.a.createElement(sE,{align:"center"},e.billing_city),a.a.createElement(sE,{align:"center"},e.shipping_city),a.a.createElement(sE,{align:"center"},e.product),a.a.createElement(sE,{align:"center"},e.quantity),a.a.createElement(sE,{align:"center"},e.pending_quantity),a.a.createElement(sE,{align:"center"},e.estimated_date),a.a.createElement(sE,{align:"center"},e.ready_date),a.a.createElement(sE,{align:"center"},e.requested_date),a.a.createElement(sE,null,e.special_instructions),a.a.createElement(sE,{align:"center"},e.revision),a.a.createElement(sE,null,a.a.createElement(We.a,{variant:"text",color:"info",size:"small",onClick:function(){return function(e){try{var t=r.find(function(t){return t.id===e.id});X(t),ee.groups.includes("Accounts")&&E(!0),(ee.groups.includes("Production")||ee.groups.includes("Production Delhi")||ee.groups.includes("Director"))&&y(!0)}catch(n){console.log("err",n)}}(e)}},"Production View")))})))),a.a.createElement(Vr,{totalPages:T,currentPage:O,handlePageChange:function(e,t){_(t)}}))),a.a.createElement(Ce,{title:"Update Customer OrderBook",openPopup:d,setOpenPopup:y},a.a.createElement(rE,{recordForEdit:Z,setOpenPopup:y,getAllOrderBook:le})),a.a.createElement(Ce,{title:"Update Customer OrderBook",openPopup:b,setOpenPopup:E},a.a.createElement(nE,{recordForEdit:Z,setOpenPopup:E,getAllOrderBook:le})))},iE=["Delhi","Maharashtra"],cE=[{label:"Ready",value:!0},{label:"Not Ready",value:!1}],lE=[{label:"Seller State",key:"seller_state"},{label:"Approval Date",key:"order_book_date"},{label:"PI Date",key:"pi_date"},{label:"PI Number",key:"proforma_invoice"},{label:"Customer",key:"company"},{label:"Billing City",key:"billing_city"},{label:"Billing Address",key:"billing_address"},{label:"Billing Pincode",key:"billing_pincode"},{label:"Shipping City",key:"shipping_city"},{label:"Shipping Address",key:"shipping_address"},{label:"Shipping Pincode",key:"shipping_pincode"},{label:"Product",key:"product"},{label:"Pending Quantity",key:"pending_quantity"},{label:"Invoice Quantity",key:""},{label:"Rate",key:"rate"},{label:"Amount",key:""},{label:"Payment Terms",key:"payment_terms"},{label:"Delivery Terms",key:"delivery_terms"},{label:"Transporter Name",key:"transporter_name"},{label:"Place Of Supply",key:"place_of_supply"},{label:"Buyer Order No",key:"buyer_order_no"},{label:"Buyer Order Date",key:"buyer_order_date"},{label:"Estimated Date",key:"estimated_date"},{label:"Ready Date",key:"ready_date"},{label:"Requested Date",key:"requested_date"},{label:"Special Instruction",key:"special_instructions"}],uE=[{label:"Customer",key:"company"},{label:"Approval Date",key:"order_book_date"},{label:"PI Date",key:"pi_date"},{label:"PI Number",key:"proforma_invoice"},{label:"Billing City",key:"billing_city"},{label:"Shipping City",key:"shipping_city"},{label:"Shipping Pincode",key:"shipping_pincode"},{label:"Billing Pincode",key:"billing_pincode"},{label:"Product",key:"product"},{label:"Quantity",key:"quantity"},{label:"Amount",key:"amount"},{label:"Pending Quantity",key:"pending_quantity"},{label:"Seller State",key:"seller_state"},{label:"Pending Amount",key:"pending_amount"},{label:"Estimated Date",key:"estimated_date"},{label:"Ready Date",key:"ready_date"},{label:"Requested Date",key:"requested_date"},{label:"Special Instruction",key:"special_instructions"}],sE=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),fE=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function hE(){hE=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var pE=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1];Object(n.useEffect)(function(){h()},[]);var h=function(){var e=Object(c.a)(hE().mark(function e(){var t;return hE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,st.getTotalPendingQuantity();case 4:t=e.sent,f(t.data),o(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o(!1);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),p=s.map(function(e,t){return{product:e.product__name,total:e.total}}),m=s.map(function(e){return{product__name:e.product__name,total:e.total}});return a.a.createElement("div",{style:{padding:"16px",margin:"16px",boxShadow:"0px 3px 6px #00000029",borderRadius:"4px",display:"flex",flexDirection:"column",backgroundColor:"rgb(255, 255, 255)"}},a.a.createElement(Je,{open:r}),a.a.createElement("div",{style:{display:"flex"}},a.a.createElement("div",{style:{flexGrow:.9}}),a.a.createElement("div",{style:{flexGrow:2}},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Total Pending Quantity")),a.a.createElement("div",{style:{flexGrow:.5},align:"right"},a.a.createElement(Bn.CSVLink,{data:m,headers:[{label:"Product",key:"product__name"},{label:"Total",key:"total"}],filename:"Total Pending Quantity.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}},a.a.createElement(We.a,{color:"success",variant:"contained"},"Download CSV")))),a.a.createElement(dt,{headers:["PRODUCT","TOTAL"],data:p,openInPopup:null,openInPopup2:null}))};function mE(){mE=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var dE=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(""),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(0),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)([]),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useState)(""),M=Object(l.a)(B,2),q=M[0],U=M[1],Y=Object(n.useState)(""),V=Object(l.a)(Y,2),Q=V[0],H=V[1],J=Object(n.useState)(""),K=Object(l.a)(J,2),Z=K[0],X=K[1],$=Object(n.useState)(null),ee=Object(l.a)($,2),te=ee[0],re=ee[1],ne=Object(n.useRef)(null),ae=Object(s.c)(function(e){return e.auth}).profile,oe=ae.sales_users||[],ie=gt(),ce=ie.handleError,le=ie.handleCloseSnackbar,ue=ie.alertInfo,se=function(){var e=Object(c.a)(mE().mark(function e(){var t;return mE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:t=e.sent,R(t),setTimeout(function(){ne.current.link.click()});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(c.a)(mE().mark(function e(){var t,r;return mE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,st.getOrderBookData("product","all",q,Q,T,Z);case 4:return t=e.sent,r=t.data.map(function(e){return ae.groups.includes("Factory-Mumbai-OrderBook")||ae.groups.includes("Factory-Delhi-OrderBook")?{product:e.product,order_book_date:e.order_book_date,pi_date:e.pi_date,proforma_invoice:e.proforma_invoice,quantity:e.quantity,pending_quantity:e.pending_quantity,pending_amount:e.pending_amount,company:e.company,billing_city:e.billing_city,shipping_city:e.shipping_city,seller_state:e.seller_state,estimated_date:e.estimated_date,ready_date:e.ready_date,requested_date:e.requested_date,special_instructions:e.special_instructions}:ae.groups.includes("Customer Service")?{product:e.product,order_book_date:e.order_book_date,pi_date:e.pi_date,proforma_invoice:e.proforma_invoice,quantity:e.quantity,amount:e.amount,pending_quantity:e.pending_quantity,company:e.company,billing_address:e.billing_address,billing_pincode:e.billing_pincode,shipping_address:e.shipping_address,shipping_pincode:e.shipping_pincode,seller_state:e.seller_state,estimated_date:e.estimated_date,ready_date:e.ready_date,requested_date:e.requested_date,special_instructions:e.special_instructions}:{product:e.product,order_book_date:e.order_book_date,pi_date:e.pi_date,proforma_invoice:e.proforma_invoice,quantity:e.quantity,amount:e.amount,pending_quantity:e.pending_quantity,pending_amount:e.pending_amount,company:e.company,billing_city:e.billing_city,shipping_city:e.shipping_city,billing_pincode:e.billing_pincode,shipping_pincode:e.shipping_pincode,seller_state:e.seller_state,estimated_date:e.estimated_date,ready_date:e.ready_date,requested_date:e.requested_date,special_instructions:e.special_instructions}}),h(!1),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.prev=13,h(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),he=Object(n.useCallback)(Object(c.a)(mE().mark(function e(){var t;return mE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,st.getOrderBookData("product",S,q,Q,T,Z);case 4:t=e.sent,o(t.data.results),F(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ce(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[S,q,Q,T,Z]);Object(n.useEffect)(function(){he()},[S,q,Q,T,Z]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:ue.open,onClose:le,severity:ue.severity,message:ue.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{marginBottom:"10px"},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",fullWidth:!0,value:q,onChange:function(e,t){return U(t)},options:yE.map(function(e){return e}),getOptionLabel:function(e){return e},label:"Filter By State"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",fullWidth:!0,value:bE.find(function(e){return e.value===Z})||null,onChange:function(e,t){return X(t?t.value:null)},options:bE,getOptionLabel:function(e){return e.label},label:"Filter By Ready Date"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",fullWidth:!0,value:Q,onChange:function(e,t){return H(t)},options:oe.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){N(e),k(1)},onReset:function(){N(""),k(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(We.a,{sx:{marginLeft:"10px"},variant:"contained",onClick:se},"Download CSV"),z.length>0&&a.a.createElement(Bn.CSVLink,{headers:ae.groups.includes("Customer Service")?gE:vE,data:z,ref:ne,filename:"Product Order Book.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})))),a.a.createElement(Ae.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Product Order Book Details")),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,["Pi No","Pi Date","Approval Date","Company","Raised By","Billing City","Shipping City","Product","Quantity","Pending Quantity","EST DATE","Ready Date","Request Date","Special Instructions","Revision","ACTION"].map(function(e,t){return a.a.createElement(EE,{key:t,align:"center"},e)}))),a.a.createElement(Hn.a,null,r.map(function(e,t){return a.a.createElement(wE,{key:t},a.a.createElement(EE,{align:"center"},e.proforma_invoice),a.a.createElement(EE,{align:"center"},e.pi_date),a.a.createElement(EE,{align:"center"},e.order_book_date),a.a.createElement(EE,{align:"center"},e.company),a.a.createElement(EE,{align:"center"},e.raised_by),a.a.createElement(EE,{align:"center"},e.billing_city),a.a.createElement(EE,{align:"center"},e.shipping_city),a.a.createElement(EE,{align:"center"},e.product),a.a.createElement(EE,{align:"center"},e.quantity),a.a.createElement(EE,{align:"center"},e.pending_quantity),a.a.createElement(EE,{align:"center"},e.estimated_date),a.a.createElement(EE,{align:"center"},e.ready_date),a.a.createElement(EE,{align:"center"},e.requested_date),a.a.createElement(EE,null,e.special_instructions),a.a.createElement(EE,{align:"center"},e.revision),a.a.createElement(EE,null,(ae.groups.includes("Accounts")||ae.groups.includes("Director"))&&a.a.createElement(We.a,{variant:"text",color:"info",size:"small",onClick:function(){return function(e){try{var t=r.find(function(t){return t.id===e.id});re(t),(ae.groups.includes("Accounts")||ae.groups.includes("Director"))&&_(!0)}catch(n){console.log(n)}}(e)}},"Account View"),(ae.groups.includes("Production")||ae.groups.includes("Production Delhi")||ae.groups.includes("Director"))&&a.a.createElement(We.a,{variant:"text",color:"secondary",size:"small",onClick:function(){return function(e){try{var t=r.find(function(t){return t.id===e.id});re(t),(ae.groups.includes("Production")||ae.groups.includes("Production Delhi")||ae.groups.includes("Director"))&&E(!0)}catch(n){console.log(n)}}(e)}},"Production View")))})))),a.a.createElement(Vr,{totalPages:I,currentPage:S,handlePageChange:function(e,t){k(t)}}))),a.a.createElement(Ce,{maxWidth:"lg",title:"View Total Pending Quantity",openPopup:d,setOpenPopup:y},a.a.createElement(pE,null)),a.a.createElement(Ce,{title:"Update Product OrderBook",openPopup:b,setOpenPopup:E},a.a.createElement(rE,{recordForEdit:te,setOpenPopup:E,getAllOrderBook:he})),a.a.createElement(Ce,{title:"Update Customer OrderBook",openPopup:O,setOpenPopup:_},a.a.createElement(nE,{recordForEdit:te,setOpenPopup:_,getAllOrderBook:he})))},yE=["Delhi","Maharashtra"],vE=[{label:"Product",key:"product"},{label:"Approval Date",key:"order_book_date"},{label:"PI Date",key:"pi_date"},{label:"PI Number",key:"proforma_invoice"},{label:"Quantity",key:"quantity"},{label:"Amount",key:"amount"},{label:"Pending Quantity",key:"pending_quantity"},{label:"Customer",key:"company"},{label:"Billing City",key:"billing_city"},{label:"Shipping City",key:"shipping_city"},{label:"Shipping Pincode",key:"shipping_pincode"},{label:"Billing Pincode",key:"billing_pincode"},{label:"Seller State",key:"seller_state"},{label:"Pending Amount",key:"pending_amount"},{label:"Estimated Date",key:"estimated_date"},{label:"Ready Date",key:"ready_date"},{label:"Special Instruction",key:"special_instructions"}],gE=[{label:"Product",key:"product"},{label:"Approval Date",key:"order_book_date"},{label:"PI Date",key:"pi_date"},{label:"PI Number",key:"proforma_invoice"},{label:"Quantity",key:"quantity"},{label:"Amount",key:"amount"},{label:"Pending Quantity",key:"pending_quantity"},{label:"Customer",key:"company"},{label:"Billing City",key:"billing_city"},{label:"Billing Pincode",key:"billing_pincode"},{label:"Shipping Address",key:"shipping_address"},{label:"Shipping City",key:"shipping_city"},{label:"Shipping Pincode",key:"shipping_pincode"},{label:"Seller State",key:"seller_state"},{label:"Special Instruction",key:"special_instructions"}],bE=[{label:"Ready",value:!0},{label:"Not Ready",value:!1}],EE=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),wE=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function xE(){xE=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var OE=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(null),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(0),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(""),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)([]),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useState)(""),M=Object(l.a)(B,2),q=M[0],U=M[1],Y=Object(n.useState)(""),V=Object(l.a)(Y,2),Q=V[0],H=V[1],J=Object(n.useState)(""),K=Object(l.a)(J,2),Z=K[0],X=K[1],$=Object(n.useRef)(null),ee=Object(s.c)(function(e){return e.auth}).profile,te=ee.sales_users||[],re=gt(),ne=re.handleError,ae=re.handleCloseSnackbar,oe=re.alertInfo,ie=function(){var e=Object(c.a)(xE().mark(function e(){var t;return xE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce();case 2:t=e.sent,R(t),setTimeout(function(){$.current.link.click()});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(c.a)(xE().mark(function e(){var t,r;return xE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,st.getOrderBookData("pi","all",q,Q,I,Z);case 4:return t=e.sent,r=t.data.map(function(e){return ee.groups.includes("Factory-Mumbai-OrderBook")||ee.groups.includes("Factory-Delhi-OrderBook")?{proforma_invoice:e.proforma_invoice,order_book_date:e.order_book_date,pi_date:e.pi_date,company:e.company,billing_city:e.billing_city,shipping_city:e.shipping_city,product:e.product,quantity:e.quantity,pending_amount:e.pending_amount,pending_quantity:e.pending_quantity,seller_state:e.seller_state,estimated_date:e.estimated_date,ready_date:e.ready_date,requested_date:e.requested_date,special_instructions:e.special_instructions}:{proforma_invoice:e.proforma_invoice,order_book_date:e.order_book_date,pi_date:e.pi_date,company:e.company,billing_city:e.billing_city,shipping_city:e.shipping_city,billing_pincode:e.billing_pincode,shipping_pincode:e.shipping_pincode,product:e.product,quantity:e.quantity,amount:e.amount,pending_amount:e.pending_amount,pending_quantity:e.pending_quantity,seller_state:e.seller_state,estimated_date:e.estimated_date,ready_date:e.ready_date,requested_date:e.requested_date,special_instructions:e.special_instructions}}),h(!1),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.prev=13,h(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),le=Object(n.useCallback)(Object(c.a)(xE().mark(function e(){var t;return xE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,st.getOrderBookData("pi",S,q,Q,I,Z);case 4:t=e.sent,o(t.data.results),N(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ne(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[S,q,Q,I,Z]);Object(n.useEffect)(function(){le()},[S,q,Q,I,Z]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:oe.open,onClose:ae,severity:oe.severity,message:oe.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{marginBottom:"10px"},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",fullWidth:!0,value:q,onChange:function(e,t){return U(t)},options:_E.map(function(e){return e}),getOptionLabel:function(e){return e},label:"Filter By State"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",fullWidth:!0,value:jE.find(function(e){return e.value===Z})||null,onChange:function(e,t){return X(t?t.value:null)},options:jE,getOptionLabel:function(e){return e.label},label:"Filter By Ready Date"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{size:"small",fullWidth:!0,value:Q,onChange:function(e,t){return H(t)},options:te.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){F(e),k(1)},onReset:function(){F(""),k(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(We.a,{sx:{marginLeft:"10px"},variant:"contained",onClick:ie},"Download CSV"),z.length>0&&a.a.createElement(Bn.CSVLink,{headers:LE,data:z,ref:$,filename:"PI Order Book.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})))),a.a.createElement(Ae.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"PI Order Book Details")),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,["Pi No","Pi Date","Approval Date","Company","Raised By","Billing City","Shipping City","Product","Quantity","Pending Quantity","EST DATE","Ready Date","Request Date","Special Instructions","Revision","ACTION"].map(function(e,t){return a.a.createElement(SE,{key:t,align:"center"},e)}))),a.a.createElement(Hn.a,null,r.map(function(e,t){return a.a.createElement(kE,{key:t},a.a.createElement(SE,{align:"center"},e.proforma_invoice),a.a.createElement(SE,{align:"center"},e.pi_date),a.a.createElement(SE,{align:"center"},e.order_book_date),a.a.createElement(SE,{align:"center"},e.company),a.a.createElement(SE,{align:"center"},e.raised_by),a.a.createElement(SE,{align:"center"},e.billing_city),a.a.createElement(SE,{align:"center"},e.shipping_city),a.a.createElement(SE,{align:"center"},e.product),a.a.createElement(SE,{align:"center"},e.quantity),a.a.createElement(SE,{align:"center"},e.pending_quantity),a.a.createElement(SE,{align:"center"},e.estimated_date),a.a.createElement(SE,{align:"center"},e.ready_date),a.a.createElement(SE,{align:"center"},e.requested_date),a.a.createElement(SE,null,e.special_instructions),a.a.createElement(SE,null,e.revision),a.a.createElement(SE,{align:"center"},(ee.groups.includes("Accounts")||ee.groups.includes("Director"))&&a.a.createElement(We.a,{variant:"text",color:"info",size:"small",onClick:function(){return function(e){try{var t=r.find(function(t){return t.id===e.id});_(t),(ee.groups.includes("Accounts")||ee.groups.includes("Director"))&&E(!0)}catch(n){console.log(n)}}(e)}},"Account View"),(ee.groups.includes("Production")||ee.groups.includes("Production Delhi")||ee.groups.includes("Director"))&&a.a.createElement(We.a,{variant:"text",color:"secondary",size:"small",onClick:function(){return function(e){try{var t=r.find(function(t){return t.id===e.id});_(t),(ee.groups.includes("Production")||ee.groups.includes("Production Delhi")||ee.groups.includes("Director"))&&y(!0)}catch(n){console.log(n)}}(e)}},"Production View")))})))),a.a.createElement(Vr,{totalPages:T,currentPage:S,handlePageChange:function(e,t){k(t)}}))),a.a.createElement(Ce,{title:"Update PI OrderBook",openPopup:d,setOpenPopup:y},a.a.createElement(rE,{recordForEdit:O,setOpenPopup:y,getAllOrderBook:le})),a.a.createElement(Ce,{title:"Update Customer OrderBook",openPopup:b,setOpenPopup:E},a.a.createElement(nE,{recordForEdit:O,setOpenPopup:E,getAllOrderBook:le})))},_E=["Delhi","Maharashtra"],jE=[{label:"Ready",value:!0},{label:"Not Ready",value:!1}],LE=[{label:"PI Number",key:"proforma_invoice"},{label:"Approval Date",key:"order_book_date"},{label:"PI Date",key:"pi_date"},{label:"Customer",key:"company"},{label:"Billing City",key:"billing_city"},{label:"Shipping City",key:"shipping_city"},{label:"Shipping Pincode",key:"shipping_pincode"},{label:"Billing Pincode",key:"billing_pincode"},{label:"Product",key:"product"},{label:"Quantity",key:"quantity"},{label:"Amount",key:"amount"},{label:"Pending Amount",key:"pending_amount"},{label:"Pending Quantity",key:"pending_quantity"},{label:"Seller State",key:"seller_state"},{label:"Estimated Date",key:"estimated_date"},{label:"Ready Date",key:"ready_date"},{label:"Requested Date",key:"requested_date"},{label:"Special Instruction",key:"special_instructions"}],SE=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),kE=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),PE=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})},r=t("Director","Stores Delhi","Production Delhi","Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Customer Relationship Executive","Customer Relationship Manager","Sales Manager without Leads","Sales Manager with Lead","Accounts","Accounts Billing Department","Production","Business Development Manager","Business Development Executive"),o=t("Factory-Mumbai-OrderBook","Factory-Delhi-OrderBook"),i=t("Factory-Mumbai-Dispatch"),c=t("Customer Service"),u=Object(n.useState)(r||o?0:4),f=Object(l.a)(u,2),h=f[0],p=f[1],m=[{label:"Customer Wise Orderbook",visible:o||r||c||i,index:0},{label:"Product Wise Orderbook",visible:o||r||c||i,index:1},{label:"PI Wise Orderbook",visible:o||r||i,index:2}].filter(function(e){return e.visible}),d=m.map(function(e){return e.index}),y={0:a.a.createElement(oE,null),1:a.a.createElement(dE,null),2:a.a.createElement(OE,null)};return a.a.createElement("div",null,a.a.createElement(Xr,{tabs:m,activeTab:h,onTabChange:function(e){return p(d[e])}}),d.includes(h)&&a.a.createElement("div",null,y[h]))},CE=function(e){var t=e.orderBookSummary,r=function(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)},n=t.reduce(function(e,t){return e+t.total_amount},0),o=["Total",r(n.toFixed(2))],i=t.map(function(e){return{seller_state:e.orderbook__proforma_invoice__seller_account__unit,amount:r(e.total_amount)}}),c=[].concat(Object(vr.a)(i),[o]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:2}),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"View Order Book Summary")),a.a.createElement(Ae.a,{flexGrow:.5,align:"right"})),a.a.createElement(dt,{headers:["SELLER UNIT","AMOUNT"],data:c,openInPopup:null}))))},TE=function(e){var t=e.currentOrderBookSummaryFM,r=function(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)},n=t.reduce(function(e,t){return e+t.total_amount},0),o=["Total","","",r(n.toFixed(2))],i=t.map(function(e){return{product_desc:e.product__description__name,quantity:e.total_quantity,unit:e.product__unit__name,amount:r(e.total_amount)}}),c=[].concat(Object(vr.a)(i),[o]);return a.a.createElement(a.a.Fragment,null," ",a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:2}),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Current Order Book(Finish Goods)")),a.a.createElement(Ae.a,{flexGrow:.5,align:"right"})),a.a.createElement(dt,{headers:["PRODUCT DESC.","QTY","UNIT","TOTAL AMOUNT"],data:c,openInPopup:null}))))},NE=function(e){var t=e.currentOrderBookSummaryRM,r=function(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)},n=t.reduce(function(e,t){return e+t.total_amount},0),o=["Total","","",r(n.toFixed(2))],i=t.map(function(e){return{product_desc:e.product__description__name,quantity:e.total_quantity,unit:e.product__unit__name,amount:r(e.total_amount)}}),c=[].concat(Object(vr.a)(i),[o]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:2}),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Current Order Book(Raw Material)")),a.a.createElement(Ae.a,{flexGrow:.5,align:"right"})),a.a.createElement(dt,{headers:["PRODUCT DESC.","QTY","UNIT","TOTAL AMOUNT"],data:c,openInPopup:null}))))},DE=function(e){var t=e.currentSalesSummaryFM,r=function(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)},n=t.reduce(function(e,t){return e+t.total_amount},0),o=["Total","","",r(n.toFixed(2))],i=t.map(function(e){return{product_desc:e.product__description__name,quantity:e.total_quantity,unit:e.product__unit__name,amount:r(e.total_amount)}}),c=[].concat(Object(vr.a)(i),[o]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:2}),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Current Month Sales(Finish Goods)")),a.a.createElement(Ae.a,{flexGrow:.5,align:"right"})),a.a.createElement(dt,{headers:["PRODUCT DESC.","QTY","UNIT","TOTAL AMOUNT"],data:c,openInPopup:null}))))},AE=function(e){var t=e.currentSalesSummaryRM,r=function(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)},n=t.reduce(function(e,t){return e+t.total_amount},0),o=["Total","","",r(n.toFixed(2))],i=t.map(function(e){return{product_desc:e.product__description__name,quantity:e.total_quantity,unit:e.product__unit__name,amount:r(e.total_amount)}}),c=[].concat(Object(vr.a)(i),[o]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:2}),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Current Month Sales(Raw Material)")),a.a.createElement(Ae.a,{flexGrow:.5,align:"right"})),a.a.createElement(dt,{headers:["PRODUCT DESC.","QTY","UNIT","TOTAL AMOUNT"],data:c,openInPopup:null}))))},IE=function(e){var t=e.salesPersonSummary,r=function(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)},n={sales_person_name:"Total",new_customer:t.reduce(function(e,t){return e+t.new_customer},0),pi_raised:t.reduce(function(e,t){return e+t.pi_raised},0),pi_dropped:t.reduce(function(e,t){return e+t.pi_dropped},0),pi_unpaid:t.reduce(function(e,t){return e+t.pi_unpaid},0),forecast_achieved:"-",unpaid_pi_value:r(t.reduce(function(e,t){return e+t.unpaid_pi_value},0).toFixed(2)),order_book_value:r(t.reduce(function(e,t){return e+t.order_book_value},0).toFixed(2)),sales_invoice_value:r(t.reduce(function(e,t){return e+t.sales_invoice_value},0).toFixed(2))},o=t.map(function(e){return{sales_person_name:"".concat(e.first_name," ").concat(e.last_name),new_customer:e.new_customer,pi_raised:e.pi_raised,pi_dropped:e.pi_dropped,pi_unpaid:e.pi_unpaid,forecast_achieved:e.forecast_achieved.toString().substring(0,2),unpaid_pi_value:r(e.unpaid_pi_value),order_book_value:r(e.order_book_value),sales_invoice_value:r(e.sales_invoice_value)}}),i=[].concat(Object(vr.a)(o),[n]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:2}),a.a.createElement(Ae.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Sales Person Summary")),a.a.createElement(Ae.a,{flexGrow:.5,align:"right"})),a.a.createElement(dt,{headers:["Sales Person Name","New Customer","PI Raised","PI Dropped","PI Unpaid","Forecast Achieved %","Unpaid PI Value","Order Book Value","Sales Invoice Value"],data:i,openInPopup:null,isLastRow:!!n}))))};function FE(){FE=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var GE=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=gt(),x=w.handleError,O=w.handleCloseSnackbar,_=w.alertInfo,j=function(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)},L=new Date,S=L.getMonth(),k=L.getFullYear(),P=(S+1)%12,C=(S+2)%12,T=(S+3)%12,N=["January","February","March","April","May","June","July","August","September","October","November","December"],D=function(){var e=Object(c.a)(FE().mark(function e(t){var r,n;return FE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Ke.getProfile();case 4:r=e.sent,n=r.data.sales_users.map(function(e){return{label:"".concat(e.name),value:e.email}}),y(n),o(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error",e.t0),o(!1);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}();console.log(d),Object(n.useEffect)(function(){D()},[]);var A=Object(n.useCallback)(Object(c.a)(FE().mark(function e(){var t;return FE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Mn.getProductWiseTurnoverForecast(f);case 4:t=e.sent,console.log("response",t.data),E(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),x(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[f]);Object(n.useEffect)(function(){A()},[f]);for(var I=b.map(function(e){var t,r={sales_person:e.first_name+" "+e.last_name,description:e.product__description__name,brand:e.product__brand__name},n=(t={},Object(Y.a)(t,"total_turnover_monthly_".concat(S),0),Object(Y.a)(t,"total_turnover_monthly_".concat(P),0),Object(Y.a)(t,"total_turnover_monthly_".concat(C),0),Object(Y.a)(t,"total_turnover_monthly_".concat(T),0),t);return e.total_turnover_monthly.forEach(function(e){var t=parseInt(e.month,10)-1,a="total_turnover_monthly_".concat(t);n[a]=e.total_turnover_monthly,r[a]=j(e.total_turnover_monthly)}),Object(u.a)({},r,{rawValues:n})}),F={sales_person:"Total",description:"-",brand:"-"},G=function(){var e="total_turnover_monthly_".concat((S+W)%12),t=I.reduce(function(t,r){return t+(r.rawValues[e]||0)},0);F[e]=j(t)},W=0;W<4;W++)G();I.length>0&&I.push(F),console.log("tableRow",I);var z=["Sales Person","Description","Brand","".concat(N[S]," - ").concat(k," Total Turnover"),"".concat(N[P]," - ").concat(P>S?k:k+1," Total TurnOver"),"".concat(N[C]," - ").concat(C>S?k:k+1," Total TurnOver"),"".concat(N[T]," - ").concat(T>S?k:k+1," Total TurnOver")];return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:_.open,onClose:O,severity:_.severity,message:_.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:2,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex"},a.a.createElement(Ae.a,{flexGrow:1},a.a.createElement(Gc,{label:"Sales Person",options:d,value:f,onChange:function(e){h(e.target.value)},onClear:function(){return h("")}})),a.a.createElement(Ae.a,{flexGrow:2,marginLeft:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Forecast Turnover")),a.a.createElement(Ae.a,{flexGrow:.5})),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,z.map(function(e,t){return a.a.createElement(WE,{align:"center",key:t},e)}))),a.a.createElement(Hn.a,null,I.map(function(e,t){return a.a.createElement(zE,{key:t},a.a.createElement(WE,{align:"center"},e.sales_person),a.a.createElement(WE,{align:"center"},e.description),a.a.createElement(WE,{align:"center"},e.brand),a.a.createElement(WE,{align:"center"},e["total_turnover_monthly_".concat(S)]?e["total_turnover_monthly_".concat(S)]:0),a.a.createElement(WE,{align:"center"},e["total_turnover_monthly_".concat(P)]?e["total_turnover_monthly_".concat(P)]:0),a.a.createElement(WE,{align:"center"},e["total_turnover_monthly_".concat(C)]?e["total_turnover_monthly_".concat(C)]:0),a.a.createElement(WE,{align:"center"},e["total_turnover_monthly_".concat(T)]?e["total_turnover_monthly_".concat(T)]:0))})))))))},WE=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),zE=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),RE={getSalesAnalyticDashboard:function(e,t){var r=new URLSearchParams;return e&&r.append("email",e),t&&r.append("sales_type",t),ge.get("/api/dashboard/sales-analytic/?".concat(r.toString()))},getLastThreeMonthForecastData:function(){return ge.get("/api/dashboard/last-three-months-forecast/")},getLastThreeMonthForecastDataByFilter:function(e){return ge.get("/api/dashboard/last-three-months-forecast/?email=".concat(e))},getIndiaMartLeadData:function(){return ge.get("/api/dashboard/india-mart-lead/")},getIndiaMartLeadDataByFilter:function(e){return ge.get("/api/dashboard/india-mart-lead/?date=".concat(e))},getCallPerformanceData:function(e,t){return ge.get("/api/dashboard/call-performance/?start_date=".concat(e,"&end_date=").concat(t))},getCallPerformanceDataByFilter:function(e,t,r){return ge.get("/api/dashboard/call-performance/?email=".concat(e,"&start_date=").concat(t,"&end_date=").concat(r))},getDailyProfitableReportsData:function(){return ge.get("/api/dashboard/daily-profitablity-report/")},getDailyProfitableReportsDataByFilter:function(e,t){return ge.get("/api/dashboard/daily-profitablity-report/?date_range_after=".concat(e,"&date_range_before=").concat(t))},getDescriptionWiseTurnoverDataByFilter:function(e,t){return ge.get("/api/dashboard/description-wise-turnover/?start_date=".concat(e,"&end_date=").concat(t))},getDailyProfitableSalesReportsDataByFilter:function(e,t,r){return ge.get("/api/dashboard/daily-profitablity-report-sales-invoice-wise/?date_range_after=".concat(e,"&date_range_before=").concat(t,"&sales_invoice__order_book__proforma_invoice__seller_account__unit=").concat(r))},getDailyInvoiceQuantityData:function(){return ge.get("/api/dashboard/daily-invoice-quantity/")},getDailyInvoiceQuantityDataByFilter:function(e){return ge.get("/api/dashboard/daily-invoice-quantity/?email=".concat(e))},getDailyOrderBookQuantityData:function(){return ge.get("/api/dashboard/daily-order-book-quantity/")},getDailyOrderBookQuantityDataByFilter:function(e){return ge.get("/api/dashboard/daily-order-book-quantity/?email=".concat(e))},getConsLastThreeMonthForecastData:function(){return ge.get("/api/dashboard/consolidated-last-three-months-forecast/")},getConsLastThreeMonthForecastDataByFilter:function(e){return ge.get("/api/dashboard/consolidated-last-three-months-forecast/?email=".concat(e))},getConsCallPerformanceData:function(e,t){return ge.get("/api/dashboard/consolidated-call-performance/?start_date=".concat(e,"&end_date=").concat(t))},getConsCallPerformanceDataByFilter:function(e,t,r){return ge.get("/api/dashboard/consolidated-call-performance/?email=".concat(e,"&start_date=").concat(t,"&end_date=").concat(r))},getConsDailyInvoiceQuantityData:function(){return ge.get("/api/dashboard/consolidated-daily-invoice-quantity/")},getConsDailyInvoiceQuantityDataByFilter:function(e){return ge.get("/api/dashboard/consolidated-daily-invoice-quantity/?email=".concat(e))},getConsDailyOrderBookQuantityData:function(){return ge.get("/api/dashboard/consolidated-daily-order-book-quantity/")},getConsDailyOrderBookQuantityDataByFilter:function(e){return ge.get("/api/dashboard/consolidated-daily-order-book-quantity/?email=".concat(e))},getRetailerCustomerData:function(){return ge.get("/api/customer/customer-summary/")},getLeadRetailData:function(){return ge.get("/api/lead/lead-summary/")},getTopCustomersMonthwise:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25;return ge.get("/api/dashboard/top-customer/?number=".concat(e))},potentialTurnoverReport:function(e){return ge.get("/api/dashboard/potential-turnover/?page=".concat(e))},getCRReportData:function(e){return ge.get("/api/dashboard/cr-report/?email=".concat(e))},getSalesQuatityAnalysis:function(e,t,r){var n=new URLSearchParams;return e&&n.append("start_month",e),t&&n.append("start_year",t),r&&n.append("email",r),ge.get("/api/dashboard/sales-qty/?".concat(n.toString()))},getSalesQuatityAnalysisdetailsByproduct:function(e,t,r,n,a,o){var i=new URLSearchParams;return e&&i.append("description",e),t&&i.append("brand",t),r&&i.append("unit",r),n&&i.append("start_month",n),a&&i.append("year",a),o&&i.append("email",o),ge.get("/api/dashboard/customers-sale-qty/?".concat(i.toString()))},getFollowupCallDashboard:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=new URLSearchParams;return e&&o.append("email",e),t&&o.append("start_date",t),r&&o.append("end_date",r),n&&o.append("type",n),a&&o.append("sales_type",a),ge.get("/api/dashboard/followup-dashboard/?".concat(o.toString()))},getCallStatusDataByFilter:function(e,t,r){var n=new URLSearchParams;return e&&n.append("call_status_type",e),t&&n.append("email",t),r&&n.append("sales_type",r),ge.get("/api/dashboard/call-status/?".concat(n.toString()))}};function BE(){BE=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ME=function(e){var t=e.idForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)([]),f=Object(l.a)(s,2),h=f[0],p=f[1],m=gt(),d=m.handleError,y=m.handleCloseSnackbar,v=m.alertInfo,g=function(){var e=Object(c.a)(BE().mark(function e(){var r;return BE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,RE.getDailyProfitableSalesReportsDataByFilter(t.date_range_before,t.date_range_after,t.unit);case 4:r=e.sent,p(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d(e.t0);case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){g()},[]);var b=h.map(function(e,t){return{unit:e.sales_invoice__order_book__proforma_invoice__seller_account__unit,date:e.sales_invoice__generation_date,invoice_no:e.sales_invoice,product:e.product__name,company:e.sales_invoice__order_book__company__name,quantity:e.quantity,rate:e.rate,amount:e.amount,cost:e.cost,cost_value:e.cost_value,total:e.total}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:v.open,onClose:y,severity:v.severity,message:v.message}),a.a.createElement(Je,{open:i}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex",justifyContent:"flex-end",marginBottom:5},a.a.createElement(Bn.CSVLink,{data:b,headers:[{label:"Unit",key:"unit"},{label:"Date",key:"date"},{label:"Invoice No",key:"invoice_no"},{label:"Product",key:"product"},{label:"Company",key:"company"},{label:"Quantity",key:"quantity"},{label:"Rate",key:"rate"},{label:"Amount",key:"amount"},{label:"Cost",key:"cost"},{label:"Cost Value",key:"cost_value"},{label:"Total",key:"total"}],filename:"Daily Profitability Sales Report.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}},a.a.createElement("div",{className:"btn btn-primary",style:{display:"inline-block",padding:"6px 16px",margin:"10px",fontSize:"0.875rem",minWidth:"64px",fontWeight:500,lineHeight:1.75,borderRadius:"4px",letterSpacing:"0.02857em",textTransform:"uppercase",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2)"}},"Download CSV"))),a.a.createElement(dt,{headers:["Unit","Date","Invoice No","Product","Company","Quantity","Rate","Amount","Cost","Cost Value","Total"],data:b,openInPopup:null,openInPopup2:null,openInPopup3:null,openInPopup4:null,Styles:{paddingLeft:"10px",paddingRight:"10px"}})))},qE=function(e){var t=e.dailyProfitableReportsFilterData,r=Object(n.useState)(null),o=Object(l.a)(r,2),i=o[0],c=o[1],u=Object(n.useState)(!1),s=Object(l.a)(u,2),f=s[0],h=s[1],p=t.map(function(e,t){return{date_range_before:e.date_range_before,date_range_after:e.date_range_after,unit:e.sales_invoice__order_book__proforma_invoice__seller_account__unit,total:e.total}});return a.a.createElement("div",null,a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:2,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"DAILY PROFITABILITY REPORTS")),a.a.createElement(dt,{headers:["Date Range Before","Date Range After","Unit","Total","Action"],data:p,openInPopup:function(e){console.log(e),c(e),h(!0)},openInPopup2:null,openInPopup3:null,openInPopup4:null}))),a.a.createElement(Ce,{maxWidth:"xl",title:"View Daily Profitability Sales Reports",openPopup:f,setOpenPopup:h},a.a.createElement(ME,{idForEdit:i,setOpenPopup:h})))};function UE(){UE=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var YE=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(0),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)({message:"",severity:"",open:!1}),w=Object(l.a)(E,2),x=w[0],O=w[1],_=function(){var e=Object(c.a)(UE().mark(function e(){var t;return UE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,RE.potentialTurnoverReport(s);case 4:t=e.sent,console.log("API Response:",t),d(Math.ceil(t.data.count/25)),b(t.data.results),console.log("Potential Data:",t.data.results),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),O({message:"Failed to fetch potential customers",severity:"error",open:!0});case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){_()},[s]);var j=new Intl.NumberFormat("en-IN",{maximumFractionDigits:2}),L=function(){var e=0;return g.forEach(function(t){e+=t.amount||0}),{approx_turnover_total:j.format(e)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:x.open,message:x.message,severity:x.severity,onClose:function(){O({open:!1})}}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Potential Turnover")),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(VE,{align:"center"},"Customer"),a.a.createElement(VE,{align:"center"},"Product"),a.a.createElement(VE,{align:"center"},"Potential Quantity"),a.a.createElement(VE,{align:"center"},"Last Updated"),a.a.createElement(VE,{align:"center"},"Created By"),a.a.createElement(VE,{align:"center"},"Approx Turnover"))),a.a.createElement(Hn.a,null,g.length>0?g.map(function(e,t){return a.a.createElement(QE,{key:t},a.a.createElement(VE,{align:"center"},e.customer||"N/A"),a.a.createElement(VE,{align:"center"},e.product||"N/A"),a.a.createElement(VE,{align:"center"},j.format(e.quantity||0)),a.a.createElement(VE,{align:"center"},e.updated_date?new Date(e.updated_date).toLocaleDateString("en-IN"):"N/A"),a.a.createElement(VE,{align:"center"},e.updated_by||"N/A"),a.a.createElement(VE,{align:"center"},j.format(e.amount||0)))}):a.a.createElement(QE,null,a.a.createElement(VE,{align:"center",colSpan:6},"No Data Available")),g.length>0&&a.a.createElement(QE,null,a.a.createElement(VE,{align:"center"},a.a.createElement("strong",null,"Total")),a.a.createElement(VE,{align:"center"}),a.a.createElement(VE,{align:"center"}),a.a.createElement(VE,{align:"center"}),a.a.createElement(VE,{align:"center"}),a.a.createElement(VE,{align:"center"},L.approx_turnover_total))))),a.a.createElement(Vr,{currentPage:s,totalPages:m,handlePageChange:function(e,t){f(t)}}))))},VE=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),QE=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function HE(){HE=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function JE(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(0),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(new Date),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(new Date),O=Object(l.a)(w,2),_=O[0],j=O[1],L=(new Date).toISOString().split("T")[0],S=new Date("2030-12-31").toISOString().split("T")[0],k=Object(s.c)(function(e){return e.auth}).profile,P=Object(n.useReducer)(XE,ZE),C=Object(l.a)(P,2),T=C[0],N=C[1],D=T.orderBookSummary,A=T.currentOrderBookSummaryFM,I=T.currentOrderBookSummaryRM,F=T.currentSalesSummaryFM,G=T.currentSalesSummaryRM,W=T.salesPersonSummary,z=T.dailyProfitableReportsFilterData,R=new Set(["devannsh@glutape.com","mahesh@glutaoe.com"]),B=R.has(k.email)||k.groups.some(function(e){return["Accounts","Accounts Executive","Director"].includes(e)}),M=R.has(k.email)||k.groups.some(function(e){return["Director"].includes(e)}),q=[{label:"OrderBook Summary"},{label:"OrderBook FG"},{label:"OrderBook RM"},{label:"Sales FG"},{label:"Sales RM"},{label:"Sales P. Summary"},{label:"Forecast T."}].concat(Object(vr.a)(B?[{label:"Profit Report"}]:[]),Object(vr.a)(M?[{label:"Potential Turnover"}]:[]));Object(n.useEffect)(function(){Q()},[]),Object(n.useEffect)(function(){U(),Y(),V()},[_,b]);var U=function(){var e=Object(c.a)(HE().mark(function e(){var t,r,n;return HE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),t=_?_.toISOString().split("T")[0]:"",r=b?b.toISOString().split("T")[0]:"",e.next=6,st.getFilterDashboardData(t,r);case 6:n=e.sent,N({type:"SET_ORDER_BOOK_SUMMARY",payload:n.data.Order_Book_Summary}),N({type:"SET_CURRENT_ORDER_BOOK_SUMMARY_FM",payload:n.data.Order_Book_FG}),N({type:"SET_CURRENT_ORDER_BOOK_SUMMARY_RM",payload:n.data.Order_Book_RM}),N({type:"SET_CURRENT_SALES_SUMMARY_FM",payload:n.data.Sales_Invoice_FG}),N({type:"SET_CURRENT_SALES_SUMMARY_RM",payload:n.data.Sales_Invoice_RM}),o(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),o(!1),console.log("Dashboard Filter By error",e.t0);case 19:case"end":return e.stop()}},e,null,[[0,15]])}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(c.a)(HE().mark(function e(){var t,r,n;return HE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),t=_?_.toISOString().split("T")[0]:"",r=b?b.toISOString().split("T")[0]:"",e.next=6,RE.getDailyProfitableReportsDataByFilter(t,r);case 6:n=e.sent,N({type:"SET_DAILY_PROFITABLE_REPORTS_FILTER_DATA",payload:n.data}),o(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),o(!1),console.log("Dashboard Filter By error",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(HE().mark(function e(){var t,r,n;return HE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),t=_?_.toISOString().split("T")[0]:"",r=b?b.toISOString().split("T")[0]:"",e.next=6,RE.getDescriptionWiseTurnoverDataByFilter(t,r);case 6:n=e.sent,N({type:"SET_DESCRIPTION_WISE_TURNOVER_FILTER_DATA",payload:n.data.description_wise_turnover}),N({type:"SET_SALES_DATA",payload:n.data.sales_data}),o(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),o(!1),console.log("Description wise turnover Filter By error",e.t0);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(HE().mark(function e(){var t;return HE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,st.getAllDashboardData();case 4:t=e.sent,N({type:"SET_ORDER_BOOK_SUMMARY",payload:t.data.Order_Book_Summary}),N({type:"SET_CURRENT_ORDER_BOOK_SUMMARY_FM",payload:t.data.Order_Book_FG}),N({type:"SET_CURRENT_ORDER_BOOK_SUMMARY_RM",payload:t.data.Order_Book_RM}),N({type:"SET_CURRENT_SALES_SUMMARY_FM",payload:t.data.Sales_Invoice_FG}),N({type:"SET_CURRENT_SALES_SUMMARY_RM",payload:t.data.Sales_Invoice_RM}),N({type:"SET_SALES_PERSON_SUMMARY",payload:t.data.sales_summary}),o(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),o(!1),console.log("Dashboard error",e.t0);case 18:case"end":return e.stop()}},e,null,[[0,14]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:r}),a.a.createElement("div",null,a.a.createElement(Xr,{tabs:q,activeTab:d,onTabChange:function(e){y(e)}}),7===d&&a.a.createElement(Ae.a,{sx:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",margin:"10px",padding:"20px"}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:5,sm:5,md:5,lg:5},a.a.createElement(wt.a,{fullWidth:!0,size:"small"},a.a.createElement(xt.a,{id:"demo-select-small"},"Date"),a.a.createElement(cn.a,{labelId:"demo-select-small",id:"demo-select-small",label:"Date",onChange:function(e){return function(e){var t=e.target.value;if("Today"===t){var r=new Date;E(r),j(r)}else if("Yesterday"===t){var n=new Date;n.setDate(n.getDate()-1),E(n),j(n)}else if("Last 7 Days"===t){var a=new Date,o=new Date;o.setDate(o.getDate()-7),E(a),j(o)}else if("Last 30 Days"===t){var i=new Date,c=new Date;c.setDate(c.getDate()-30),E(i),j(c)}else if("This Month"===t){var l=new Date,u=new Date(l.getFullYear(),l.getMonth(),1);E(l),j(u)}else if("Last Month"===t){var s=new Date;s.setDate(0);var f=new Date(s.getFullYear(),s.getMonth(),1);E(s),j(f)}else"Custom Date"===t&&(j(new Date),E(new Date),h(!0))}(e)}},KE.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.value)})))))),a.a.createElement("div",null,0===d&&a.a.createElement("div",null," ",a.a.createElement(CE,{orderBookSummary:D})),1===d&&a.a.createElement("div",null,a.a.createElement(TE,{currentOrderBookSummaryFM:A})),2===d&&a.a.createElement("div",null,a.a.createElement(NE,{currentOrderBookSummaryRM:I})),3===d&&a.a.createElement("div",null,a.a.createElement(DE,{currentSalesSummaryFM:F})),4===d&&a.a.createElement("div",null,a.a.createElement(AE,{currentSalesSummaryRM:G})),5===d&&a.a.createElement("div",null,a.a.createElement(IE,{salesPersonSummary:W})),6===d&&a.a.createElement("div",null,a.a.createElement(GE,null)),7===d&&a.a.createElement("div",null,a.a.createElement(qE,{dailyProfitableReportsFilterData:z})),8===d&&a.a.createElement("div",null,a.a.createElement(YE,null)))),a.a.createElement(Ce,{openPopup:f,setOpenPopup:h,title:"Date Filter",maxWidth:"md"},a.a.createElement(Ae.a,{sx:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",margin:"10px",padding:"20px"}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:5,sm:5,md:5,lg:5},a.a.createElement(Ve,{fullWidth:!0,label:"Start Date",variant:"outlined",size:"small",type:"date",id:"start-date",value:_?_.toISOString().split("T")[0]:"",min:L,max:S,onChange:function(e){var t=new Date(e.target.value);j(t),E(new Date)}})),a.a.createElement(Fe.a,{item:!0,xs:5,sm:5,md:5,lg:5},a.a.createElement(Ve,{fullWidth:!0,label:"End Date",variant:"outlined",size:"small",type:"date",id:"end-date",value:b?b.toISOString().split("T")[0]:"",min:_?_.toISOString().split("T")[0]:L,max:S,onChange:function(e){var t=new Date(e.target.value);E(t)},disabled:!_})),a.a.createElement(Fe.a,{item:!0,xs:2,sm:2,md:2,lg:2},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){j(new Date),E(new Date)}},"Reset"))))))}var KE=[{value:"Today"},{value:"Yesterday"},{value:"Last 7 Days"},{value:"Last 30 Days"},{value:"This Month"},{value:"Last Month"},{value:"Custom Date"}],ZE={orderBookSummary:[],currentOrderBookSummaryFM:[],currentOrderBookSummaryRM:[],currentSalesSummaryFM:[],currentSalesSummaryRM:[],salesPersonSummary:[],dailyProfitableReportsFilterData:[],descriptionWiseTurnoverFilterData:[],salesData:[]},XE=function(e,t){switch(t.type){case"SET_ORDER_BOOK_SUMMARY":return Object(u.a)({},e,{orderBookSummary:t.payload});case"SET_CURRENT_ORDER_BOOK_SUMMARY_FM":return Object(u.a)({},e,{currentOrderBookSummaryFM:t.payload});case"SET_CURRENT_ORDER_BOOK_SUMMARY_RM":return Object(u.a)({},e,{currentOrderBookSummaryRM:t.payload});case"SET_CURRENT_SALES_SUMMARY_FM":return Object(u.a)({},e,{currentSalesSummaryFM:t.payload});case"SET_CURRENT_SALES_SUMMARY_RM":return Object(u.a)({},e,{currentSalesSummaryRM:t.payload});case"SET_SALES_PERSON_SUMMARY":return Object(u.a)({},e,{salesPersonSummary:t.payload});case"SET_DAILY_PROFITABLE_REPORTS_FILTER_DATA":return Object(u.a)({},e,{dailyProfitableReportsFilterData:t.payload});case"SET_DESCRIPTION_WISE_TURNOVER_FILTER_DATA":return Object(u.a)({},e,{descriptionWiseTurnoverFilterData:t.payload});case"SET_SALES_DATA":return Object(u.a)({},e,{salesData:t.payload});default:return e}},$E=r(91),ew=function(e){var t=e.chartType,r=e.data,n=e.options,o=e.widthStyle,i=e.heightStyle;return a.a.createElement("div",null,r.length>0?a.a.createElement($E.b,{chartType:t,data:r,options:n,width:o,height:i}):a.a.createElement("p",null,"Loading chart..."))},tw=function(e){var t=e.callDashboardData;console.log("CallDashboard",t);var r=Object(u.a)({},t),n=[["Call Status","Count"],["Connected",r.Connected],["Disconnected",r.Disconnected],["Incoming",r.Incoming],["Missed",r.Missed]],o=[["Call Type","Count"],["Connected",r.Connected],["Disconnected",r.Disconnected],["Incoming",r.Incoming],["Missed",r.Missed]];return a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:6},a.a.createElement(Nl.a,{sx:{backgroundColor:"#007bff",color:"#fff",height:"100%"}},a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",sx:{fontWeight:"bold"}},"Total Calls : ",a.a.createElement("span",null," ",r.total_followups))))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:6},a.a.createElement(Nl.a,{sx:{backgroundColor:"#28a745",color:"#fff",height:"100%"}},a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",sx:{fontWeight:"bold"}},"Total Duration : ",a.a.createElement("span",null," ",r.total_duration))))),a.a.createElement(Fe.a,{item:!0,xs:12,md:6},a.a.createElement(Nl.a,{sx:{height:"100%"}},a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",sx:{textAlign:"center",fontWeight:"bold"}},"Call Status Overview"),a.a.createElement($E.a,{chartType:"BarChart",data:n,options:{title:"Call Status Overview",chartArea:{width:"70%"},hAxis:{title:"Number of Calls",minValue:0},vAxis:{title:"Call Status"},bars:"horizontal",colors:["#007bff"]},width:"100%",height:"350px"})))),a.a.createElement(Fe.a,{item:!0,xs:12,md:6},a.a.createElement(Nl.a,{sx:{height:"100%"}},a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",sx:{textAlign:"center",fontWeight:"bold"}},"Call Status Distribution"),a.a.createElement($E.a,{chartType:"PieChart",data:o,options:{title:"Call Status Distribution",pieHole:.4,is3D:!1,colors:["#007bff","#dc3545","#ffc107","#17a2b8"]},width:"100%",height:"350px"})))))},rw=function(e){var t=e.barChartData,r=e.pieChartData,o=e.newCustomerData,i=e.CallDashboardData,c=e.getFollowupCallDashboard,u=e.pendingFollowup,f=e.pendingDescription,h=e.callStatusData,p=e.filterValue,m=e.handleSegmentHover,d=e.handleAutocompleteChange,v=e.assign,g=e.total,b=e.piData,w=e.indiaMartLeadData,O=e.funnelData,_=e.hoveredSegment,j=e.handleRowClick,L=e.descriptionQuantity,S=e.callPerformance,k=e.dailyInvoiceQuantity,P=e.dailyOrderBookQuantity,C=e.handleChange,T=e.selectedDate,N=e.handleStartDateChange,D=e.handleEndDateChange,A=e.startDate,I=e.endDate,F=e.maxDate,G=e.minDate,W=e.getResetDate,z=e.team,R=e.selectedWeek,B=e.handleDateChange,M=e.getMonthyCallStatusData,q=Object(s.c)(function(e){return e.auth.profile}),U=Object(n.useState)([]),Y=Object(l.a)(U,2),V=Y[0],Q=Y[1],H=Object(n.useState)(null),J=Object(l.a)(H,2),K=J[0],Z=J[1],X=Object(n.useState)([]),$=Object(l.a)(X,2),ee=$[0],te=$[1],re=Object(n.useState)(null),ne=Object(l.a)(re,2),ae=ne[0],oe=ne[1],ie=Object(n.useState)("monthly"),ce=Object(l.a)(ie,2),le=ce[0],ue=ce[1],se=Object(n.useState)("customer"),fe=Object(l.a)(se,2),he=fe[0],pe=fe[1],me=q.active_sales_user||[],de=Object(n.useState)(!q.groups.includes("Director")&&!q.groups.includes("Sales Manager")&&!q.groups.includes("Sales Deputy Manager")&&!q.groups.includes("Sales Assistant Deputy Manager")&&!q.groups.includes("Sales Executive")&&!q.groups.includes("Sales Manager without Leads")&&!q.groups.includes("Customer Relationship Executive")&&!q.groups.includes("Customer Relationship Manager")&&!q.groups.includes("Business Development Executive")&&!q.groups.includes("Business Development Manager")),ye=Object(l.a)(de,1)[0],ve=me;z&&(ve=me.filter(function(e){return["Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Director"].includes(e.groups__name)}));var ge=ve.map(function(e){return{email:e.email,primaryGroup:z?e.groups__name:null,name:e.name}}),be=ge.find(function(e){return e.email===v});ge.sort(function(e,t){var r=["Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Director"],n=r.indexOf(e.primaryGroup),a=r.indexOf(t.primaryGroup);if(n<a)return-1;if(n>a)return 1;var o=e.email||"",i=t.email||"";return o.localeCompare(i)});var Ee=function(e){"weekly"===e?M("weekly",p||""):"daily"===e&&M("daily",p||""),ue(e)};Object(n.useEffect)(function(){p?M(le,p):ue("monthly")},[p]),Object(n.useEffect)(function(){c(p||"","lead"===he?"lead":"customer")},[p,A,I]);var we=function(e){pe(e),c(p||"","lead"===e?"lead":"customer")};Object(n.useEffect)(function(){if(k.length){var e=Object.keys(k[0])[0];Z(e),Q(k[0][e])}if(P.length){var t=Object.keys(P[0])[0];oe(t),te(P[0][t])}},[k,P]);var xe=k.map(function(e){return Object.keys(e)[0]}),Oe=P.map(function(e){return Object.keys(e)[0]}),_e=["#f14c14","#f39c35","#68BC00","#1d7b63","#4e97a8","#4466a3"],je=["#8884d8","#83a6ed","#8dd1e1","#82ca9d","#ffbb00","#ff7f50","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#adff2f","#008080"],Le={color:"#fff",fontWeight:"bold"};return a.a.createElement(Ae.a,{sx:{margin:"10px"}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{marginTop:"0px"}},a.a.createElement(pr.a,{control:a.a.createElement(Ei.a,{checked:ye,disabled:!0}),label:"Privacy"}))),ye?a.a.createElement("div",{style:{filter:"blur(4px)"}},a.a.createElement(Fe.a,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},sx:{margin:"20px"}},r.map(function(e,t){var r=0;return 0!==g&&(r=e.value/g*100),a.a.createElement(Fe.a,{item:!0,xs:1,sm:2,md:3,lg:3,key:t,sx:{marginTop:"20px"}},a.a.createElement(Ae.a,{sx:{backgroundColor:je[t%je.length],textAlign:"center"}},a.a.createElement(Ae.a,{display:"flex",flexDirection:"row",justifyContent:"space-around"},a.a.createElement(Ae.a,{sx:{marginTop:"10px"}},a.a.createElement(nw,{variant:"determinate",value:r})),a.a.createElement(Ae.a,{sx:{marginTop:"10px"}},a.a.createElement(E.a,{variant:"subtitle1",sx:{color:"white",fontWeight:"bold"}},e.label),a.a.createElement(E.a,{variant:"h6",sx:{color:"white",fontWeight:"bold"}},e.value)))))})),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,lg:6,md:6},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Actual vs Forecast(Quantity)"),a.a.createElement(y.a,null),a.a.createElement(ew,{chartType:"ColumnChart",data:[["Combination","Actual","Forecast"]].concat(Object(vr.a)(t.map(function(e){return[e.combination,e.actual,e.forecast]}))),options:{width:"100%",height:"300px"},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Fe.a,{item:!0,xs:12,lg:6,md:6},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"New Customer Data"),a.a.createElement(y.a,null),a.a.createElement(ew,{chartType:"LineChart",data:[["Combination","Count"]].concat(Object(vr.a)(o.map(function(e){return[e.combination,e.count]}))),options:{width:"100%",height:"300px"},widthStyle:"100%",heightStyle:"300px"})))))):a.a.createElement("div",null,a.a.createElement(Fe.a,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},sx:{margin:"20px"}},r.map(function(e,t){var r=0;return 0!==g&&(r=e.value/g*100),a.a.createElement(Fe.a,{item:!0,xs:1,sm:2,md:3,lg:3,key:t,sx:{marginTop:"20px"}},a.a.createElement(Ae.a,{sx:{backgroundColor:je[t%je.length],textAlign:"center"}},a.a.createElement(Ae.a,{display:"flex",flexDirection:"row",justifyContent:"space-around"},a.a.createElement(Ae.a,{sx:{marginTop:"10px"}},a.a.createElement(nw,{variant:"determinate",value:r})),a.a.createElement(Ae.a,{sx:{marginTop:"10px"}},a.a.createElement(E.a,{variant:"subtitle1",sx:{color:"white",fontWeight:"bold"}},e.label),a.a.createElement(E.a,{variant:"h6",sx:{color:"white",fontWeight:"bold"}},e.value)))))})),a.a.createElement(Fe.a,{container:!0,spacing:1,sx:{my:"20px"}},!(q.groups.includes("Sales Executive")||q.groups.includes("Customer Relationship Executive"))&&a.a.createElement(ut.a,{sx:{width:"100%",padding:"20px"}},a.a.createElement(Fe.a,{container:!0,alignItems:"center",spacing:1},a.a.createElement(Fe.a,{item:!0,xs:9,sm:9,md:9,lg:9},a.a.createElement(sr,{size:"small",value:be,onChange:function(e,t){return d(t)},options:ge,groupBy:function(e){return e.primaryGroup||""},getOptionLabel:function(e){return"".concat(e.name," - ").concat(e.email)},label:"Filter By Sales Person"}))))),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,lg:4,md:40},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Actual vs Forecast (Quantity)"),a.a.createElement(y.a,null),t.length>0?a.a.createElement(ew,{chartType:"ColumnChart",data:[["Combination","Actual","Forecast"]].concat(Object(vr.a)(t.map(function(e){return[e.combination,e.actual,e.forecast]}))),options:{width:"100%",height:"300px"},widthStyle:"100%",heightStyle:"300px"}):a.a.createElement(E.a,{variant:"body1",color:"textSecondary",style:{textAlign:"center",marginTop:"20px"}},"No data available")))),a.a.createElement(Fe.a,{item:!0,xs:12,lg:4,md:4},!(q.groups.includes("Customer Relationship Manager")||q.groups.includes("Customer Relationship Executive"))&&a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"New Customer Data"),a.a.createElement(y.a,null),a.a.createElement(ew,{chartType:"LineChart",data:[["Combination","Count"]].concat(Object(vr.a)(o.map(function(e){return[e.combination,e.count]}))),options:{width:"100%",height:"300px"},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Pending Follow-Up Data"),a.a.createElement(y.a,null),a.a.createElement(ew,{chartType:"BarChart",data:[["Label","Value"]].concat(Object(vr.a)(u.map(function(e){return[e.label,e.value]}))),options:{width:"100%",height:"300px",legend:{position:"none"}},widthStyle:"100%",heightStyle:"300px"}))))),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{marginTop:"20px"}},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"PI Data"),a.a.createElement(y.a,null),a.a.createElement(ew,{chartType:"PieChart",data:[["Label","Value"]].concat(Object(vr.a)(b.map(function(e){return[e.label,e.value]}))),options:{width:"100%",height:"300px",pieHole:.4}})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{marginTop:"20px"}},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Sales Funnel"),a.a.createElement(y.a,null),a.a.createElement("div",{className:"funnelChart",style:{width:"100%",minHeight:"1px",fontSize:"12px",padding:"10px 0",margin:"2px 0",color:"black",clipPath:"polygon(0 0, 100% 0, 60% 78%, 60% 90%, 40% 100%, 40% 78%)",WebkitClipPath:"polygon(0 0, 100% 0, 60% 78%, 60% 90%, 40% 100%, 40% 78%)",textAlign:"center"}},O.map(function(e,t){return a.a.createElement("div",{key:t,className:"chartSegment",style:{backgroundColor:_e[t%_e.length],opacity:_===e?.7:1},onMouseEnter:function(){return m(e)},onClick:function(){return j(e)}},a.a.createElement("span",{style:Le},e.label),"\xa0",a.a.createElement("span",{style:Le},e.value))}))))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{marginTop:"20px"}},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Description"),a.a.createElement(y.a,null),a.a.createElement(ew,{chartType:"PieChart",data:[["Product Description","Quantity"]].concat(Object(vr.a)(L.map(function(e){return[e.name,e.value]}))),options:{width:"100%",height:"400px"},widthStyle:"100%",heightStyle:"300px"}))))),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Ae.a,{style:{marginLeft:"20px",marginTop:"30px",width:"100%"}},a.a.createElement(We.a,{variant:"customer"===he?"contained":"outlined",color:"primary",size:"small",onClick:function(){return we("customer")}},"Customer"),!q.groups.includes("Customer Relationship Executive")&&a.a.createElement(We.a,{variant:"lead"===he?"contained":"outlined",color:"primary",size:"small",onClick:function(){return we("lead")},style:{marginLeft:"20px"}},"Lead")),a.a.createElement(Ae.a,{display:"flex",alignItems:"center",justifyContent:"start",sx:{marginLeft:"20px",marginTop:"20px"}},a.a.createElement(wt.a,{sx:{minWidth:120,marginRight:2}},a.a.createElement(xt.a,{id:"date-select-label"},"Date"),a.a.createElement(cn.a,{labelId:"date-select-label",id:"date-select",label:"Date",value:T||"",onChange:C,size:"small"},aw.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.value)}))),"Custom Date"===T&&a.a.createElement(a.a.Fragment,null,a.a.createElement(wt.a,{sx:{marginRight:2}},a.a.createElement(Ve,{fullWidth:!0,label:"Start Date",variant:"outlined",size:"small",type:"date",id:"start-date",value:A?A.toISOString().split("T")[0]:"",min:G,max:F,onChange:N})),a.a.createElement(wt.a,null,a.a.createElement(Ve,{fullWidth:!0,label:"End Date",variant:"outlined",size:"small",type:"date",id:"end-date",value:I?I.toISOString().split("T")[0]:"",min:A?A.toISOString().split("T")[0]:G,max:F,onChange:D,disabled:!A})),a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:W,sx:{marginLeft:2}},"Reset"))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},"customer"===he&&a.a.createElement(tw,{callDashboardData:i}),"lead"===he&&a.a.createElement(tw,{callDashboardData:i}))),q.groups.includes("Director")&&a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:12,sx:{marginTop:"20px"}},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"IndiaMart Leads"),a.a.createElement(y.a,null),a.a.createElement(Ve,{id:"date",size:"small",label:"Date",type:"date",value:R,onChange:B,InputLabelProps:{shrink:!0},sx:{width:"300px",marginTop:"10px"}}),a.a.createElement(ew,{chartType:"ColumnChart",data:[["Day","Total Leads"]].concat(Object(vr.a)(w.map(function(e){return[e.day,e.totalLeads]}))),options:{width:"100%",height:"300px"},widthStyle:"100%",heightStyle:"300px"}))))),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{marginTop:"20px"}},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"OrderBook Pending Quantity by Description"),a.a.createElement(y.a,null),a.a.createElement(ew,{chartType:"BarChart",data:[["Product Description","Pending Quantity"]].concat(Object(vr.a)(f.map(function(e){return[e.name,e.value]}))),options:{width:"100%",height:"400px",legend:{position:"none"}},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{marginTop:"20px"}},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Daily Sales Invoice Quantity"),a.a.createElement(y.a,null),a.a.createElement(sr,{sx:{marginTop:"10px"},size:"small",value:K,onChange:function(e,t){return function(e){Z(e);var t=k.find(function(t){return t.hasOwnProperty(e)});t&&t[e]&&Q(t[e])}(t)},options:xe,getOptionLabel:function(e){return e},label:"Filter By Description"}),a.a.createElement(ew,{chartType:"LineChart",data:[["Date","Total"]].concat(Object(vr.a)(V.map(function(e){return[e.sales_invoice__generation_date,e.total]}))),options:{width:"100%",height:"400px"},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{marginTop:"20px"}},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Daily Sales OrderBook Quantity"),a.a.createElement(y.a,null),a.a.createElement(sr,{sx:{marginTop:"10px"},size:"small",value:ae,onChange:function(e,t){return function(e){oe(e);var t=P.find(function(t){return t.hasOwnProperty(e)});t&&t[e]&&te(t[e])}(t)},options:Oe,getOptionLabel:function(e){return e},label:"Filter By Description"}),a.a.createElement(ew,{chartType:"LineChart",data:[["Date","Total"]].concat(Object(vr.a)(ee&&ee.map(function(e){return[e.orderbook__proforma_invoice__generation_date,e.total]})||[])),options:{width:"100%",height:"400px"},widthStyle:"100%",heightStyle:"300px"}))))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3,sx:{marginTop:"20px"}},a.a.createElement(We.a,{variant:"monthly"===le?"contained":"outlined",sx:{margin:"0 10px 10px 0"},color:"primary",onClick:function(){return Ee("monthly")}},"Monthly Call Status"),a.a.createElement(We.a,{variant:"weekly"===le?"contained":"outlined",sx:{margin:"0 10px 10px 0"},color:"primary",onClick:function(){return Ee("weekly")}},"Weekly Call Status"),a.a.createElement(We.a,{variant:"daily"===le?"contained":"outlined",sx:{margin:"0 10px 10px 0"},color:"primary",onClick:function(){return Ee("daily")}},"Daily Call Status"),"monthly"===le&&a.a.createElement(ew,{chartType:"ColumnChart",data:[["Month","Existing Lead","New Lead","Customer"]].concat(Object(vr.a)(h.map(function(e){return[e.combination,e.existing_lead,e.new_lead,e.customer]}))),options:{title:"Monthly Call Status",width:"100%",height:"400px",isStacked:!0,legend:{position:"top"}},widthStyle:"100%",heightStyle:"300px"}),"weekly"===le&&a.a.createElement(ew,{chartType:"ColumnChart",data:[["Week","Existing Lead","New Lead","Customer"]].concat(Object(vr.a)(h.map(function(e){return[e.combination,e.existing_lead,e.new_lead,e.customer]}))),options:{title:"Weekly Call Status",width:"100%",height:"400px",curveType:"function",legend:{position:"top"}},widthStyle:"100%",heightStyle:"300px"}),"daily"===le&&a.a.createElement(ew,{chartType:"ColumnChart",data:[["Day","Existing Lead","New Lead","Customer"]].concat(Object(vr.a)(h.map(function(e){return[e.combination,e.existing_lead,e.new_lead,e.customer]}))),options:{title:"Daily Call Status",width:"100%",height:"400px",legend:{position:"top"}},widthStyle:"100%",heightStyle:"300px"})),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:12,sx:{marginTop:"20px"}},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Call Performance"),a.a.createElement(y.a,null),a.a.createElement(Ae.a,{display:"flex",alignItems:"center",justifyContent:"start",sx:{marginTop:"20px"}},a.a.createElement(wt.a,{sx:{minWidth:120,marginRight:2}},a.a.createElement(xt.a,{id:"date-select-label"},"Date"),a.a.createElement(cn.a,{labelId:"date-select-label",id:"date-select",label:"Date",value:T||"",onChange:C,size:"small"},aw.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.value)}))),"Custom Date"===T&&a.a.createElement(a.a.Fragment,null,a.a.createElement(wt.a,{sx:{marginRight:2}},a.a.createElement(Ve,{fullWidth:!0,label:"Start Date",variant:"outlined",size:"small",type:"date",id:"start-date",value:A?A.toISOString().split("T")[0]:"",min:G,max:F,onChange:N})),a.a.createElement(wt.a,null,a.a.createElement(Ve,{fullWidth:!0,label:"End Date",variant:"outlined",size:"small",type:"date",id:"end-date",value:I?I.toISOString().split("T")[0]:"",min:A?A.toISOString().split("T")[0]:G,max:F,onChange:D,disabled:!A})),a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:W,sx:{marginLeft:2}},"Reset"))),a.a.createElement(ew,{chartType:"BarChart",data:[["Call Category","Value"]].concat(Object(vr.a)(S.map(function(e){return[e.name,e.value]}))),options:{width:"100%",height:"300px"},widthStyle:"100%",heightStyle:"300px"})))))))};function nw(e){return a.a.createElement(Ae.a,{sx:{position:"relative",display:"inline-flex"}},a.a.createElement(He.a,Object.assign({variant:"indeterminate"},e,{size:60})),a.a.createElement(Ae.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},a.a.createElement(E.a,{variant:"caption",component:"div",color:"#ffffff"},"".concat(Math.round(e.value),"%"))))}var aw=[{value:"Today"},{value:"Custom Date"}];function ow(){ow=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var iw=function(){var e=Object(f.n)(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)([]),h=Object(l.a)(u,2),p=h[0],m=h[1],d=Object(n.useState)([]),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)([]),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)([]),F=Object(l.a)(I,2),G=F[0],W=F[1],z=Object(n.useState)([]),R=Object(l.a)(z,2),B=R[0],M=R[1],q=Object(n.useState)([]),U=Object(l.a)(q,2),Y=U[0],V=U[1],Q=Object(n.useState)([]),H=Object(l.a)(Q,2),J=H[0],K=H[1],Z=Object(n.useState)([]),X=Object(l.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)(null),re=Object(l.a)(te,2),ne=re[0],ae=re[1],oe=Object(n.useState)([]),ie=Object(l.a)(oe,2),ce=ie[0],le=ie[1],ue=Object(n.useState)([]),se=Object(l.a)(ue,2),fe=se[0],he=se[1],pe=Object(n.useState)(!1),me=Object(l.a)(pe,2),de=me[0],ye=me[1],ve=Object(n.useState)(null),ge=Object(l.a)(ve,2),be=ge[0],Ee=ge[1],we=Object(n.useState)(null),xe=Object(l.a)(we,2),Oe=xe[0],_e=xe[1],je=Object(n.useState)(0),Le=Object(l.a)(je,2),Se=Le[0],ke=Le[1],Pe=Object(n.useState)(null),Ce=Object(l.a)(Pe,2),Te=Ce[0],Ne=Ce[1],De=Object(s.c)(function(e){return e.auth.profile}),Ae=new Date,Ie=Object(n.useState)("Today"),Fe=Object(l.a)(Ie,2),Ge=Fe[0],We=Fe[1],ze=Object(n.useState)(Ae),Re=Object(l.a)(ze,2),Be=Re[0],Me=Re[1],qe=Object(n.useState)(Ae),Ue=Object(l.a)(qe,2),Ye=Ue[0],Ve=Ue[1],Qe=(new Date).toISOString().split("T")[0],He=new Date("2030-12-31").toISOString().split("T")[0],Ke=Ae.toISOString().split("T")[0],Ze=Object(n.useState)(Ke),Xe=Object(l.a)(Ze,2),$e=Xe[0],et=Xe[1];Object(n.useEffect)(function(){tt(),nt(),ut("monthly"),it(),ct(),at()},[]),Object(n.useEffect)(function(){rt()},[De]),Object(n.useEffect)(function(){Te&&st(Te,Ye,Be)},[Ye,Be,Te]);var tt=function(){var e=Object(c.a)(ow().mark(function e(t){var r,n,a,o,c,l,u,s,f,h,p,d,y,v,g;return ow().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,RE.getSalesAnalyticDashboard(t||"");case 4:r=e.sent,n=r.data.customer_dashboard,a=r.data.lead_dashboard,o=r.data.new_customers,c=r.data.pending_followup,l=r.data.pi_data,u=r.data.current_month_order_description,s=r.data.pending_order_description_wise,ke(n.total_customers),f=[{label:"Active Customers",value:n.active_customers},{label:"Dead Customers",value:n.dead_customers},{label:"New Customers",value:n.new_customers},{label:"Total",value:n.total_customers}],h=[{name:"new",label:"New",value:a.new},{name:"open",label:"Open",value:a.open},{name:"opportunity",label:"Opportunity",value:a.opportunity},{name:"potential",label:"Potential",value:a.potential},{name:"not_interested",label:"Not Interested",value:a.not_interested},{name:"converted",label:"Converted",value:a.converted}],p=Object.keys(o).map(function(e){return{combination:e,count:o[e].count}}),d=[{label:"Upcoming FollowUp",value:c.upcoming_follow_ups},{label:"Today FollowUp",value:c.todays_followups},{label:"Overdue FollowUp",value:c.overdue_follow_ups}],y=[{label:"Paid PI",value:l.paid_pi},{label:"Unpaid PI",value:l.unpaid_pi},{label:"Dropped PI",value:l.dropped_pi}],v=u.map(function(e){return{name:e.product__description__name,value:e.total_quantity}}),g=s.map(function(e){return{name:e.product__description__name,value:e.total_pending_quantity}}),A(g),W(v),x(f),C(d),L(p),m(h),M(y),e.next=33;break;case 29:e.prev=29,e.t0=e.catch(0),i(!1),console.log("error",e.t0);case 33:case"end":return e.stop()}},e,null,[[0,29]])}));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(c.a)(ow().mark(function e(){var t,r,n,a;return ow().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,RE.getLastThreeMonthForecastData();case 4:t=e.sent,r=Object.keys(t.data),n=r.every(function(e){return 0===t.data[e].length}),a=[],n||(a=r.flatMap(function(e){return t.data[e].map(function(e){return{combination:"".concat(cw[e.month-1],"-").concat(e.year),actual:e.actual||0,forecast:e.total_forecast||0}})})).forEach(function(e){e.combination=String(e.combination)}),g(a),i(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}(),nt=function(){var e=Object(c.a)(ow().mark(function e(){var t,r;return ow().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,RE.getIndiaMartLeadData();case 4:t=e.sent,r=t.data.map(function(e){return{day:e.day,totalLeads:e.total_leads}}),V(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.error("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),at=function(){var e=Object(c.a)(ow().mark(function e(){var t,r,n,a,o,c,l;return ow().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),t=6e4*Ye.getTimezoneOffset(),r=new Date(Ye.getTime()-t),n=new Date(Be.getTime()-t),a=r.toISOString().split("T")[0],o=n.toISOString().split("T")[0],e.next=9,RE.getCallPerformanceData(a,o);case 9:c=e.sent,l=[{name:"Order",value:c.data.order},{name:"Followup",value:c.data.followup},{name:"Credit",value:c.data.credit},{name:"Issue",value:c.data.issue},{name:"Not Connect",value:c.data.not_connect},{name:"OEM",value:c.data.oem},{name:"One Time",value:c.data.one_time},{name:"Passed",value:c.data.passed},{name:"Potential",value:c.data.potential},{name:"Sample",value:c.data.sample},{name:"Dropped",value:c.data.dropped}],ee(l),i(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 19:case"end":return e.stop()}},e,null,[[0,15]])}));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=Object(c.a)(ow().mark(function e(){var t,r,n,a,o,c=arguments;return ow().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",r=c.length>1&&void 0!==c[1]?c[1]:"",e.prev=2,i(!0),n=Ye.toISOString().split("T")[0],a=Be.toISOString().split("T")[0],e.next=8,RE.getFollowupCallDashboard(t||"",n,a,r||"");case 8:o=e.sent,ae(o.data),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),i(!1),console.log("Error fetching followup call dashboard data");case 16:return e.prev=16,i(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[2,12,16,19]])}));return function(){return e.apply(this,arguments)}}(),it=function(){var e=Object(c.a)(ow().mark(function e(){var t;return ow().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,RE.getDailyInvoiceQuantityData();case 4:t=e.sent,le(t.data),i(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=Object(c.a)(ow().mark(function e(){var t;return ow().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,RE.getDailyOrderBookQuantityData();case 4:t=e.sent,he(t.data),i(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),lt=function(){var e=Object(c.a)(ow().mark(function e(t){var r,n,a;return ow().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),r=t.target.value,e.next=5,RE.getIndiaMartLeadDataByFilter(r);case 5:n=e.sent,a=n.data.map(function(e){return{day:e.day,totalLeads:e.total_leads}}),V(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Object(c.a)(ow().mark(function e(){var t,r,n,a,o,c=arguments;return ow().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"monthly",r=c.length>1?c[1]:void 0,e.prev=2,i(!0),e.next=6,RE.getCallStatusDataByFilter(t,r);case 6:n=e.sent,a=n.data,o=Object.keys(a).map(function(e){return{combination:e,existing_lead:a[e].existing_lead,new_lead:a[e].new_lead,customer:a[e].customer}}),K(o),i(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.log("error",e.t0),i(!1);case 17:case"end":return e.stop()}},e,null,[[2,13]])}));return function(){return e.apply(this,arguments)}}(),st=function(){var e=Object(c.a)(ow().mark(function e(t,r,n){var a,o,c,l,u;return ow().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),a=t,o=r?r.toISOString().split("T")[0]:"",c=n?n.toISOString().split("T")[0]:"",e.next=7,RE.getCallPerformanceDataByFilter(a,o,c);case 7:l=e.sent,u=[{name:"Order",value:l.data.order},{name:"Followup",value:l.data.followup},{name:"Credit",value:l.data.credit},{name:"Issue",value:l.data.issue},{name:"Not Connect",value:l.data.not_connect},{name:"OEM",value:l.data.oem},{name:"One Time",value:l.data.one_time},{name:"Passed",value:l.data.passed},{name:"Potential",value:l.data.potential},{name:"Sample",value:l.data.sample},{name:"Dropped",value:l.data.dropped}],ee(u),i(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t,r,n){return e.apply(this,arguments)}}(),ft=function(){var e=Object(c.a)(ow().mark(function e(t){var r,n;return ow().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),r=t,e.next=5,RE.getDailyInvoiceQuantityDataByFilter(r);case 5:n=e.sent,le(n.data),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),ht=function(){var e=Object(c.a)(ow().mark(function e(t){var r,n;return ow().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),r=t,e.next=5,RE.getDailyOrderBookQuantityDataByFilter(r);case 5:n=e.sent,he(n.data),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:o}),a.a.createElement(rw,{barChartData:v,pieChartData:w,newCustomerData:j,CallDashboardData:ne,getFollowupCallDashboard:ot,pendingFollowup:P,pendingDescription:D,piData:B,indiaMartLeadData:Y,callStatusData:J,handleSegmentHover:function(e){Ee(e)},handleAutocompleteChange:function(e){e?(Ne(e.email),tt(e.email),ht(e.email),_e(e.email),ft(e.email)):(rt(),tt(),it(),ct(),Ne(null),at(),ut("monthly"))},assign:Oe,total:Se,getResetDate:function(){Ve(Ae),Me(Ae),We("Today")},funnelData:p,hoveredSegment:be,handleRowClick:function(t){"New"===t.label&&e("/leads/all-lead"),"Open"===t.label&&e("/leads/all-lead")},descriptionQuantity:G,callPerformance:$,dailyInvoiceQuantity:ce,dailyOrderBookQuantity:fe,handleChange:function(e){var t=e.target.value;We(t);var r,n,a=new Date;switch(t){case"Today":r=a,n=a}r&&n&&(Ve(r),Me(n))},selectedDate:Ge,handleStartDateChange:function(e){var t=new Date(e.target.value);Ve(t),Me(new Date)},handleEndDateChange:function(e){var t=new Date(e.target.value);Me(t)},startDate:Ye,endDate:Be,maxDate:He,minDate:Qe,openPopup3:de,setOpenPopup3:ye,team:!1,selectedWeek:$e,handleDateChange:function(e){et(e.target.value),lt(e)},getMonthyCallStatusData:ut,filterValue:Te}))},cw=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],lw=function(e){var t=e.barChartData,r=e.pieChartData,o=e.newCustomerData,i=e.callDashboardData,c=e.getFollowupCallDashboard,u=e.getMonthyCallStatusData,f=e.pendingFollowup,h=e.pendingDescription,p=e.callStatusData,m=e.handleSegmentHover,d=e.handleAutocompleteChange,v=e.assign,g=e.total,b=e.piData,w=e.funnelData,O=e.hoveredSegment,_=e.handleRowClick,j=e.descriptionQuantity,L=e.callPerformance,S=e.dailyInvoiceQuantity,k=e.dailyOrderBookQuantity,P=e.handleChange,C=e.selectedDate,T=e.handleStartDateChange,N=e.handleEndDateChange,D=e.startDate,A=e.endDate,I=e.maxDate,F=e.minDate,G=e.getResetDate,W=e.team,z=e.filterValue,R=Object(s.c)(function(e){return e.auth.profile}),B=Object(n.useState)([]),M=Object(l.a)(B,2),q=M[0],U=M[1],Y=Object(n.useState)(null),V=Object(l.a)(Y,2),Q=V[0],H=V[1],J=Object(n.useState)([]),K=Object(l.a)(J,2),Z=K[0],X=K[1],$=Object(n.useState)(null),ee=Object(l.a)($,2),te=ee[0],re=ee[1],ne=Object(n.useState)("monthly"),ae=Object(l.a)(ne,2),oe=ae[0],ie=ae[1],ce=Object(n.useState)("customer"),le=Object(l.a)(ce,2),ue=le[0],se=le[1],fe=R.active_sales_user||[],he=fe;W&&(he=fe.filter(function(e){return["Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Director"].includes(e.groups__name)}));var pe=he.map(function(e){return{email:e.email,primaryGroup:W?e.groups__name:null,name:e.name}}),me=pe.find(function(e){return e.email===v});pe.sort(function(e,t){var r=["Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Director"],n=r.indexOf(e.primaryGroup),a=r.indexOf(t.primaryGroup);if(n<a)return-1;if(n>a)return 1;var o=e.email||"",i=t.email||"";return o.localeCompare(i)}),Object(n.useEffect)(function(){z?u(oe,z):ie("monthly")},[z]);var de=function(e){"weekly"===e?u("weekly",z||""):"daily"===e&&u("daily",z||""),ie(e)};Object(n.useEffect)(function(){z||se("customer"),c(z||"","lead"===ue?"lead":"customer")},[z,D,A]);var ye=function(e){se(e),c(z||"","lead"===e?"lead":"customer")};Object(n.useEffect)(function(){if(S.length){var e=Object.keys(S[0])[0];H(e),U(S[0][e])}if(k.length){var t=Object.keys(k[0])[0];re(t),X(k[0][t])}},[S,k]);var ve=S.map(function(e){return Object.keys(e)[0]}),ge=k.map(function(e){return Object.keys(e)[0]}),be=["#f14c14","#f39c35","#68BC00","#1d7b63","#4e97a8","#4466a3"],Ee=["#8884d8","#83a6ed","#8dd1e1","#82ca9d","#ffbb00","#ff7f50","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#adff2f","#008080"],we={color:"#fff",fontWeight:"bold"};return a.a.createElement(Ae.a,{sx:{margin:"20px"}},a.a.createElement("div",null,a.a.createElement(Fe.a,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},sx:{margin:"20px"}},r.map(function(e,t){var r=0;return 0!==g&&(r=e.value/g*100),a.a.createElement(Fe.a,{item:!0,xs:1,sm:2,md:3,lg:3,key:t,sx:{marginTop:"20px"}},a.a.createElement(Ae.a,{sx:{backgroundColor:Ee[t%Ee.length],textAlign:"center"}},a.a.createElement(Ae.a,{display:"flex",flexDirection:"row",justifyContent:"space-around"},a.a.createElement(Ae.a,{sx:{marginTop:"10px"}},a.a.createElement(uw,{variant:"determinate",value:r})),a.a.createElement(Ae.a,{sx:{marginTop:"10px"}},a.a.createElement(E.a,{variant:"subtitle1",sx:{color:"white",fontWeight:"bold"}},e.label),a.a.createElement(E.a,{variant:"h6",sx:{color:"white",fontWeight:"bold"}},e.value)))))})),a.a.createElement(Fe.a,{container:!0,spacing:1,sx:{my:"20px"}},!R.groups.includes("Sales Executive")&&a.a.createElement(ut.a,{sx:{width:"100%",padding:"20px"}},a.a.createElement(Fe.a,{container:!0,alignItems:"center",spacing:1},a.a.createElement(Fe.a,{item:!0,xs:9,sm:9,md:9,lg:9},a.a.createElement(sr,{size:"small",value:me,onChange:function(e,t){return d(t)},options:pe,groupBy:function(e){return e.primaryGroup||""},getOptionLabel:function(e){return"".concat(e.name," - ").concat(e.email)},label:"Filter By Sales Person"}))))),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Actual vs Forecast(Quantity)"),a.a.createElement(y.a,null),a.a.createElement(ew,{chartType:"ColumnChart",data:[["Combination","Actual","Forecast"]].concat(Object(vr.a)(t.map(function(e){return[e.combination,e.actual,e.forecast]}))),options:{width:"100%",height:"300px"},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"New Customer Data"),a.a.createElement(y.a,null),a.a.createElement(ew,{chartType:"LineChart",data:[["Combination","Count"]].concat(Object(vr.a)(o.map(function(e){return[e.combination,e.count]}))),options:{width:"100%",height:"300px"},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Pending Follow-Up Data"),a.a.createElement(y.a,null),a.a.createElement(ew,{chartType:"BarChart",data:[["Label","Value"]].concat(Object(vr.a)(f.map(function(e){return[e.label,e.value]}))),options:{width:"100%",height:"300px",legend:{position:"none"}},widthStyle:"100%",heightStyle:"300px"}))))),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{marginTop:"20px"}},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Description"),a.a.createElement(y.a,null),a.a.createElement(ew,{chartType:"PieChart",data:[["Product Description","Quantity"]].concat(Object(vr.a)(j.map(function(e){return[e.name,e.value]}))),options:{width:"100%",height:"400px"},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{marginTop:"20px"}},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Sales Funnel"),a.a.createElement(y.a,null),a.a.createElement("div",{className:"funnelChart",style:{width:"100%",minHeight:"1px",fontSize:"12px",padding:"10px 0",margin:"2px 0",color:"black",clipPath:"polygon(0 0, 100% 0, 60% 78%, 60% 90%, 40% 100%, 40% 78%)",WebkitClipPath:"polygon(0 0, 100% 0, 60% 78%, 60% 90%, 40% 100%, 40% 78%)",textAlign:"center"}},w.map(function(e,t){return a.a.createElement("div",{key:t,className:"chartSegment",style:{backgroundColor:be[t%be.length],opacity:O===e?.7:1},onMouseEnter:function(){return m(e)},onClick:function(){return _(e)}},a.a.createElement("span",{style:we},e.label),"\xa0",a.a.createElement("span",{style:we},e.value))}))))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{marginTop:"20px"}},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"PI Data"),a.a.createElement(y.a,null),a.a.createElement(ew,{chartType:"PieChart",data:[["Label","Value"]].concat(Object(vr.a)(b.map(function(e){return[e.label,e.value]}))),options:{width:"100%",height:"300px",pieHole:.4}}))))),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Ae.a,{style:{marginLeft:"20px",marginTop:"30px",width:"100%"}},a.a.createElement(We.a,{variant:"customer"===ue?"contained":"outlined",color:"primary",size:"small",onClick:function(){return ye("customer")}},"Customer"),!R.groups.includes("Customer Relationship Executive")&&a.a.createElement(We.a,{variant:"lead"===ue?"contained":"outlined",color:"primary",size:"small",onClick:function(){return ye("lead")},style:{marginLeft:"20px"}},"Lead")),a.a.createElement(Ae.a,{display:"flex",alignItems:"center",justifyContent:"start",sx:{marginLeft:"20px",marginTop:"20px"}},a.a.createElement(wt.a,{sx:{minWidth:120,marginRight:2}},a.a.createElement(xt.a,{id:"date-select-label"},"Date"),a.a.createElement(cn.a,{labelId:"date-select-label",id:"date-select",label:"Date",value:C||"",onChange:P,size:"small"},sw.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.value)}))),"Custom Date"===C&&a.a.createElement(a.a.Fragment,null,a.a.createElement(wt.a,{sx:{marginRight:2}},a.a.createElement(Ve,{fullWidth:!0,label:"Start Date",variant:"outlined",size:"small",type:"date",id:"start-date",value:D?D.toISOString().split("T")[0]:"",min:F,max:I,onChange:T})),a.a.createElement(wt.a,null,a.a.createElement(Ve,{fullWidth:!0,label:"End Date",variant:"outlined",size:"small",type:"date",id:"end-date",value:A?A.toISOString().split("T")[0]:"",min:D?D.toISOString().split("T")[0]:F,max:I,onChange:N,disabled:!D})),a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:G,sx:{marginLeft:2}},"Reset"))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},"customer"===ue&&a.a.createElement(tw,{callDashboardData:i}),"lead"===ue&&a.a.createElement(tw,{callDashboardData:i}))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12,sx:{marginTop:"20px"}},a.a.createElement(We.a,{variant:"monthly"===oe?"contained":"outlined",sx:{margin:"0 10px 10px 0"},color:"primary",onClick:function(){return de("monthly")}},"Monthly Call Status"),a.a.createElement(We.a,{variant:"weekly"===oe?"contained":"outlined",sx:{margin:"0 10px 10px 0"},color:"primary",onClick:function(){return de("weekly")}},"Weekly Call Status"),a.a.createElement(We.a,{variant:"daily"===oe?"contained":"outlined",sx:{margin:"0 10px 10px 0"},color:"primary",onClick:function(){return de("daily")}},"Daily Call Status"),"monthly"===oe&&a.a.createElement(ew,{chartType:"ColumnChart",data:[["Month","Existing Lead","New Lead","Customer"]].concat(Object(vr.a)(p.map(function(e){return[e.combination,e.existing_lead,e.new_lead,e.customer]}))),options:{title:"Monthly Call Status",width:"100%",height:"400px",isStacked:!0,legend:{position:"top"}},widthStyle:"100%",heightStyle:"300px"}),"weekly"===oe&&a.a.createElement(ew,{chartType:"ColumnChart",data:[["Week","Existing Lead","New Lead","Customer"]].concat(Object(vr.a)(p.map(function(e){return[e.combination,e.existing_lead,e.new_lead,e.customer]}))),options:{title:"Weekly Call Status",width:"100%",height:"400px",curveType:"function",legend:{position:"top"}},widthStyle:"100%",heightStyle:"300px"}),"daily"===oe&&a.a.createElement(ew,{chartType:"ColumnChart",data:[["Day","Existing Lead","New Lead","Customer"]].concat(Object(vr.a)(p.map(function(e){return[e.combination,e.existing_lead,e.new_lead,e.customer]}))),options:{title:"Daily Call Status",width:"100%",height:"400px",legend:{position:"top"}},widthStyle:"100%",heightStyle:"300px"})),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{marginTop:"20px"}},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"OrderBook Pending Quantity by Description"),a.a.createElement(y.a,null),a.a.createElement(ew,{chartType:"BarChart",data:[["Product Description","Pending Quantity"]].concat(Object(vr.a)(h.map(function(e){return[e.name,e.value]}))),options:{width:"100%",height:"400px",legend:{position:"none"}},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{marginTop:"20px"}},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Daily Sales Invoice Quantity"),a.a.createElement(y.a,null),a.a.createElement(sr,{sx:{marginTop:"10px"},size:"small",value:Q,onChange:function(e){H(e);var t=S.find(function(t){return t.hasOwnProperty(e)});t&&t[e]&&U(t[e])},options:ve,getOptionLabel:function(e){return e},label:"Filter By Description"}),a.a.createElement(ew,{chartType:"LineChart",data:[["Date","Total"]].concat(Object(vr.a)(q.map(function(e){return[e.sales_invoice__generation_date,e.total]}))),options:{width:"100%",height:"400px"},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{marginTop:"20px"}},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Daily Sales OrderBook Quantity"),a.a.createElement(y.a,null),a.a.createElement(sr,{sx:{marginTop:"10px"},size:"small",value:te,onChange:function(e){re(e);var t=k.find(function(t){return t.hasOwnProperty(e)});t&&t[e]&&X(t[e])},options:ge,getOptionLabel:function(e){return e},label:"Filter By Description"}),a.a.createElement(ew,{chartType:"LineChart",data:[["Date","Total"]].concat(Object(vr.a)(Z&&Z.map(function(e){return[e.orderbook__proforma_invoice__generation_date,e.total]})||[])),options:{width:"100%",height:"400px"},widthStyle:"100%",heightStyle:"300px"}))))),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:12,sx:{marginTop:"20px"}},a.a.createElement(Nl.a,null,a.a.createElement(Dl.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Call Performance"),a.a.createElement(y.a,null),a.a.createElement(Ae.a,{display:"flex",alignItems:"center",justifyContent:"start",sx:{marginTop:"20px"}},a.a.createElement(wt.a,{sx:{minWidth:120,marginRight:2}},a.a.createElement(xt.a,{id:"date-select-label"},"Date"),a.a.createElement(cn.a,{labelId:"date-select-label",id:"date-select",label:"Date",value:C||"",onChange:P,size:"small"},sw.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.value)}))),"Custom Date"===C&&a.a.createElement(a.a.Fragment,null,a.a.createElement(wt.a,{sx:{marginRight:2}},a.a.createElement(Ve,{fullWidth:!0,label:"Start Date",variant:"outlined",size:"small",type:"date",id:"start-date",value:D?D.toISOString().split("T")[0]:"",min:F,max:I,onChange:T})),a.a.createElement(wt.a,null,a.a.createElement(Ve,{fullWidth:!0,label:"End Date",variant:"outlined",size:"small",type:"date",id:"end-date",value:A?A.toISOString().split("T")[0]:"",min:D?D.toISOString().split("T")[0]:F,max:I,onChange:N,disabled:!D})),a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:G,sx:{marginLeft:2}},"Reset"))),a.a.createElement(ew,{chartType:"BarChart",data:[["Call Category","Value"]].concat(Object(vr.a)(L.map(function(e){return[e.name,e.value]}))),options:{width:"100%",height:"300px"},widthStyle:"100%",heightStyle:"300px"})))))))};function uw(e){return a.a.createElement(Ae.a,{sx:{position:"relative",display:"inline-flex"}},a.a.createElement(He.a,Object.assign({variant:"indeterminate"},e,{size:60})),a.a.createElement(Ae.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},a.a.createElement(E.a,{variant:"caption",component:"div",color:"#ffffff"},"".concat(Math.round(e.value),"%"))))}var sw=[{value:"Today"},{value:"Custom Date"}];function fw(){fw=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var hw=function(){var e=Object(f.n)(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)([]),h=Object(l.a)(u,2),p=h[0],m=h[1],d=Object(n.useState)([]),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)([]),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)([]),F=Object(l.a)(I,2),G=F[0],W=F[1],z=Object(n.useState)([]),R=Object(l.a)(z,2),B=R[0],M=R[1],q=Object(n.useState)([]),U=Object(l.a)(q,2),Y=U[0],V=U[1],Q=Object(n.useState)([]),H=Object(l.a)(Q,2),J=H[0],K=H[1],Z=Object(n.useState)([]),X=Object(l.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)([]),re=Object(l.a)(te,2),ne=re[0],ae=re[1],oe=Object(n.useState)(!1),ie=Object(l.a)(oe,2),ce=ie[0],le=ie[1],ue=Object(n.useState)(null),se=Object(l.a)(ue,2),fe=se[0],he=se[1],pe=Object(n.useState)(null),me=Object(l.a)(pe,2),de=me[0],ye=me[1],ve=Object(n.useState)(0),ge=Object(l.a)(ve,2),be=ge[0],Ee=ge[1],we=Object(n.useState)(null),xe=Object(l.a)(we,2),Oe=xe[0],_e=xe[1],je=Object(n.useState)(null),Le=Object(l.a)(je,2),Se=Le[0],ke=Le[1],Pe=Object(s.c)(function(e){return e.auth.profile}),Ce=new Date,Te=Object(n.useState)("Today"),Ne=Object(l.a)(Te,2),De=Ne[0],Ae=Ne[1],Ie=Object(n.useState)(Ce),Fe=Object(l.a)(Ie,2),Ge=Fe[0],We=Fe[1],ze=Object(n.useState)(Ce),Re=Object(l.a)(ze,2),Be=Re[0],Me=Re[1],qe=(new Date).toISOString().split("T")[0],Ue=new Date("2030-12-31").toISOString().split("T")[0];Object(n.useEffect)(function(){Ye(),Ze(),Xe(),Qe("monthly")},[]),Object(n.useEffect)(function(){Ve()},[Pe]),Object(n.useEffect)(function(){Oe?et(Oe,Be,Ge):He()},[Be,Ge,Oe]);var Ye=function(){var e=Object(c.a)(fw().mark(function e(t){var r,n,a,o,c,l,u,s,f,h,p,d,y,v,g;return fw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,RE.getSalesAnalyticDashboard(t||"","team");case 4:r=e.sent,n=r.data.customer_dashboard,a=r.data.lead_dashboard,o=r.data.new_customers,c=r.data.pending_followup,l=r.data.pi_data,u=r.data.current_month_order_description,s=r.data.pending_order_description_wise,Ee(n.total_customers),f=[{label:"Active Customers",value:n.active_customers},{label:"Dead Customers",value:n.dead_customers},{label:"New Customers",value:n.new_customers},{label:"Total",value:n.total_customers}],h=[{name:"new",label:"New",value:a.new},{name:"open",label:"Open",value:a.open},{name:"opportunity",label:"Opportunity",value:a.opportunity},{name:"potential",label:"Potential",value:a.potential},{name:"not_interested",label:"Not Interested",value:a.not_interested},{name:"converted",label:"Converted",value:a.converted}],p=Object.keys(o).map(function(e){return{combination:e,count:o[e].count}}),d=[{label:"Upcoming FollowUp",value:c.upcoming_follow_ups},{label:"Today FollowUp",value:c.todays_followups},{label:"Overdue FollowUp",value:c.overdue_follow_ups}],y=[{label:"Paid PI",value:l.paid_pi},{label:"Unpaid PI",value:l.unpaid_pi},{label:"Dropped PI",value:l.dropped_pi}],v=u.map(function(e){return{name:e.product__description__name,value:e.total_quantity}}),g=s.map(function(e){return{name:e.product__description__name,value:e.total_pending_quantity}}),A(g),W(v),x(f),C(d),L(p),m(h),M(y),e.next=33;break;case 29:e.prev=29,e.t0=e.catch(0),i(!1),console.log("error",e.t0);case 33:case"end":return e.stop()}},e,null,[[0,29]])}));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(c.a)(fw().mark(function e(){var t,r,n,a;return fw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,RE.getConsLastThreeMonthForecastData();case 4:t=e.sent,r=Object.keys(t.data),n=r.every(function(e){return 0===t.data[e].length}),a=[],n||(a=r.flatMap(function(e){return t.data[e].map(function(e){return{combination:"".concat(pw[e.month-1],"-").concat(e.year),actual:e.actual||0,forecast:e.total_forecast||0}})})).forEach(function(e){e.combination=String(e.combination)}),g(a),i(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(c.a)(fw().mark(function e(){var t,r,n,a,o,c=arguments;return fw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"monthly",r=c.length>1?c[1]:void 0,e.prev=2,i(!0),e.next=6,RE.getCallStatusDataByFilter(t,r,"team");case 6:n=e.sent,a=n.data,o=Object.keys(a).map(function(e){return{combination:e,existing_lead:a[e].existing_lead,new_lead:a[e].new_lead,customer:a[e].customer}}),V(o),i(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.log("error",e.t0),i(!1);case 17:case"end":return e.stop()}},e,null,[[2,13]])}));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(c.a)(fw().mark(function e(){var t,r,n,a,o,c,l;return fw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),t=6e4*Be.getTimezoneOffset(),r=new Date(Be.getTime()-t),n=new Date(Ge.getTime()-t),a=r.toISOString().split("T")[0],o=n.toISOString().split("T")[0],e.next=9,RE.getConsCallPerformanceData(a,o);case 9:c=e.sent,l=[{name:"Order",value:c.data.order},{name:"Followup",value:c.data.followup},{name:"Credit",value:c.data.credit},{name:"Issue",value:c.data.issue},{name:"Not Connect",value:c.data.not_connect},{name:"OEM",value:c.data.oem},{name:"One Time",value:c.data.one_time},{name:"Passed",value:c.data.passed},{name:"Potential",value:c.data.potential},{name:"Sample",value:c.data.sample},{name:"Dropped",value:c.data.dropped}],K(l),i(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 19:case"end":return e.stop()}},e,null,[[0,15]])}));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(c.a)(fw().mark(function e(t,r){var n,a,o;return fw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),n=Be.toISOString().split("T")[0],a=Ge.toISOString().split("T")[0],e.next=6,RE.getFollowupCallDashboard(t||"",n,a,r||"","team");case 6:o=e.sent,ke(o.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("Error fetching followup call dashboard data");case 14:return e.prev=14,i(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}));return function(t,r){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(c.a)(fw().mark(function e(){var t;return fw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,RE.getConsDailyInvoiceQuantityData();case 4:t=e.sent,ee(t.data),i(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(c.a)(fw().mark(function e(){var t;return fw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,RE.getConsDailyOrderBookQuantityData();case 4:t=e.sent,ae(t.data),i(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=Object(c.a)(fw().mark(function e(t){var r,n,a,o,c;return fw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,RE.getConsLastThreeMonthForecastDataByFilter(r);case 5:n=e.sent,a=Object.keys(n.data),o=a.every(function(e){return 0===n.data[e].length}),c=[],o||(c=a.flatMap(function(e){return n.data[e].map(function(e){return{combination:"".concat(pw[e.month-1],"-").concat(e.year),actual:e.actual||0,forecast:e.total_forecast||0}})})).forEach(function(e){e.combination=String(e.combination)}),g(c),i(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 18:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(c.a)(fw().mark(function e(t,r,n){var a,o,c,l,u;return fw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),a=t,o=r?r.toISOString().split("T")[0]:"",c=n?n.toISOString().split("T")[0]:"",e.next=7,RE.getConsCallPerformanceDataByFilter(a,o,c);case 7:l=e.sent,u=[{name:"Order",value:l.data.order},{name:"Followup",value:l.data.followup},{name:"Credit",value:l.data.credit},{name:"Issue",value:l.data.issue},{name:"Not Connect",value:l.data.not_connect},{name:"OEM",value:l.data.oem},{name:"One Time",value:l.data.one_time},{name:"Passed",value:l.data.passed},{name:"Potential",value:l.data.potential},{name:"Sample",value:l.data.sample},{name:"Dropped",value:l.data.dropped}],K(u),i(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t,r,n){return e.apply(this,arguments)}}(),tt=function(){var e=Object(c.a)(fw().mark(function e(t){var r,n;return fw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),r=t,e.next=5,RE.getConsDailyInvoiceQuantityDataByFilter(r);case 5:n=e.sent,ee(n.data),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(c.a)(fw().mark(function e(t){var r,n;return fw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),r=t,e.next=5,RE.getConsDailyOrderBookQuantityDataByFilter(r);case 5:n=e.sent,ae(n.data),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:o}),a.a.createElement(lw,{barChartData:v,pieChartData:w,newCustomerData:j,callDashboardData:Se,getFollowupCallDashboard:Ke,getMonthyCallStatusData:Qe,pendingFollowup:P,pendingDescription:D,piData:B,callStatusData:Y,handleSegmentHover:function(e){he(e)},handleAutocompleteChange:function(e){e?(_e(e.email),Ye(e.email),ye(e.email),$e(e.email),et(e.email,Be,Ge),Ke(e.email,Be,Ge),tt(e.email),rt(e.email)):(Ye(),Ve(),ye(null),_e(null),He(),Ke(),Ze(),Xe(),Qe("monthly"))},assign:de,total:be,getResetDate:function(){Me(Ce),We(Ce),Ae("Today")},funnelData:p,hoveredSegment:fe,handleRowClick:function(t){"New"===t.label&&e("/leads/all-lead"),"Open"===t.label&&e("/leads/all-lead")},descriptionQuantity:G,callPerformance:J,dailyInvoiceQuantity:$,dailyOrderBookQuantity:ne,handleChange:function(e){var t=e.target.value;Ae(t);var r,n,a=new Date;switch(t){case"Today":r=new Date(a),n=new Date(a);break;case"Custom Date":r=new Date,(n=new Date).setDate(r.getDate()+1)}r&&n&&(Me(r),We(n))},selectedDate:De,handleStartDateChange:function(e){var t=new Date(e.target.value);Me(t),We(new Date)},handleEndDateChange:function(e){var t=new Date(e.target.value);We(t)},startDate:Be,endDate:Ge,maxDate:Ue,minDate:qe,openPopup3:ce,setOpenPopup3:le,team:!0,filterValue:Oe}))},pw=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],mw=r(673);function dw(){dw=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var yw=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(0),u=Object(l.a)(i,2),s=u[0],f=u[1];Object(n.useEffect)(function(){(function(){var e=Object(c.a)(dw().mark(function e(){var t;return dw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,RE.getRetailerCustomerData();case 3:t=e.sent,o(t.data.state_based_count||[]),f(t.data.retailer_customer_count),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}})()()},[]);var h={retailerCustomerCount:s,stateBasedCount:r},p=h.stateBasedCount,m=[["State","Customer Count"]].concat(Object(vr.a)(Object.values(p).map(function(e){return[e.state,e.count]})));return a.a.createElement("div",{className:"p-4 grid gap-4"},a.a.createElement(Nl.a,{className:"shadow-lg mb-2"},a.a.createElement(Dl.a,null,a.a.createElement("h2",{className:"text-md font-extrabold tracking-tight text-center"},"Distribution Customer Count:"," ",a.a.createElement("span",{className:"mx-2"}," ",h.retailerCustomerCount)))),a.a.createElement(Nl.a,{className:"shadow-lg"},a.a.createElement(mw.a,null,a.a.createElement("h2",{className:"text-xl font-bold"},"Customer Count by State")),a.a.createElement(Dl.a,null,a.a.createElement($E.a,{chartType:"BarChart",data:m,options:{title:"Active State-Based Customer Distribution",chartArea:{width:"50%"},hAxis:{title:"Customer Count",minValue:0},vAxis:{title:"State"}},width:"100%",height:"400px"}))))};function vw(){vw=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var gw=function(){var e=Object(n.useState)({stage_based_leads:[],source_based_leads:[]}),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)("Accumetric"),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(0),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1];Object(n.useEffect)(function(){E()},[]);var E=function(){var e=Object(c.a)(vw().mark(function e(){var t;return vw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,RE.getLeadRetailData();case 4:(t=e.sent).data&&(o(t.data),d(t.data.total_leads||0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching lead data:",e.t0);case 11:return e.prev=11,b(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),w=function(e,t){return t.reduce(function(t,r){return t+(r[e]||0)},0)},x=s&&r.source_based_leads.length>0?r.source_based_leads.filter(function(e){return e.references__source===s}):r.source_based_leads,O=[["Stage","Total Leads"]].concat(Object(vr.a)((r.stage_based_leads||[]).map(function(e){return["".concat(e.stage.charAt(0).toUpperCase()+e.stage.slice(1)," [").concat(e.total_leads||0,"]"),e.total_leads||0]}))),_=[["Source","New [".concat(w("new",x),"]"),"Open [".concat(w("open",x),"]"),"Opportunity [".concat(w("opportunity",x),"]"),"Potential [".concat(w("potential",x),"]"),"Interested [".concat(w("interested",x),"]"),"Converted [".concat(w("converted",x),"]"),"Not Interested [".concat(w("not_interested",x),"]"),"Close [".concat(w("close",x),"]")]].concat(Object(vr.a)(x.map(function(e){return[e.references__source||"Unknown",e.new||0,e.open||0,e.opportunity||0,e.potential||0,e.interested||0,e.converted||0,e.not_interested||0,e.close||0]}))),j={stage:{title:"Leads by Stage",hAxis:{title:"Stages",textStyle:{fontSize:12}},vAxis:{title:"Total Leads",minValue:0,gridlines:{count:8}},legend:{position:"none"},bar:{groupWidth:"50%"},animation:{duration:500,easing:"out"}},source:{title:"Leads by Source",chartArea:{width:"60%"},isStacked:!0,hAxis:{title:"Total Leads",minValue:0,gridlines:{count:12}},vAxis:{title:"Source"},animation:{duration:500,easing:"out"}}};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:g}),a.a.createElement("div",{className:"p-4 grid gap-4 mx-auto w-[70%]"},a.a.createElement(Nl.a,{className:"shadow-lg mb-2"},a.a.createElement(Dl.a,null,a.a.createElement("h2",{className:"text-md font-extrabold tracking-tight text-center"},"Total Leads: ",a.a.createElement("span",{className:"mx-2"},m)))),a.a.createElement(Nl.a,{className:"shadow-lg mb-2"},a.a.createElement(mw.a,null,a.a.createElement("h2",{className:"text-xl font-bold"},"Leads by Stage")),a.a.createElement(Dl.a,null,a.a.createElement($E.a,{chartType:"ColumnChart",data:O,options:j.stage,width:"100%",height:"400px"}))),a.a.createElement(Nl.a,{className:"shadow-lg"},a.a.createElement(mw.a,null,a.a.createElement("h2",{className:"text-xl font-bold"},"Leads by Source")),a.a.createElement(Dl.a,null,a.a.createElement(sr,{size:"small",value:s,disablePortal:!0,id:"combo-box-stage",onChange:function(e,t){return f(t)},options:r.source_based_leads.map(function(e){return e.references__source}),getOptionLabel:function(e){return e},label:"Filter By Source"}),a.a.createElement($E.a,{chartType:"BarChart",data:_,options:j.source,width:"100%",height:"400px"})))))};function bw(){bw=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ew=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)("25"),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)({message:"",severity:"",open:!1}),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useState)(function(){for(var e=new Date,t=[],r=3;r>=0;r--){var n=new Date(e.getFullYear(),e.getMonth()-r,1);t.push(n.toLocaleString("default",{month:"long"}))}return t}()),B=Object(l.a)(R,1)[0],M=function(){var e=Object(c.a)(bw().mark(function e(){var t;return bw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,RE.getTopCustomersMonthwise(A);case 4:t=e.sent,f(t.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),z({message:"Failed to fetch top customers",severity:"error",open:!0});case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[1,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){M()},[A]);var q=new Intl.NumberFormat("en-IN",{maximumFractionDigits:2}),U=function(){var e=0,t=0,r=0,n=0,a=0;return s.forEach(function(o){e+=o.third_last_month_total||0,t+=o.second_last_month_total||0,r+=o.last_month_total||0,n+=o.this_month_total||0,a+=o.total||0}),{thirdLastMonthTotal:q.format(e),secondLastMonthTotal:q.format(t),lastMonthTotal:q.format(r),thisMonthTotal:q.format(n),overallTotal:q.format(a)}}(),Y=function(){var e=Object(c.a)(bw().mark(function e(t){var r,n;return bw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kn.getCompanyDataById(t.order_book__company);case 3:r=e.sent,n=r.data,S(n.id),O(n),b(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:W.open,message:W.message,severity:W.severity,onClose:function(){z({open:!1})}}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ae.a,{display:"flex",gap:"2rem"},a.a.createElement(sr,{fullWidth:!0,size:"small",disablePortal:!0,id:"combo-box-status",options:Ow,onChange:function(e,t){I(t.value)},getOptionLabel:function(e){return e.label},label:"Filter By Top Customers"}))))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Top Customers")),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(ww,{align:"center"},"Customer"),a.a.createElement(ww,{align:"center"},B[0]),a.a.createElement(ww,{align:"center"},B[1]),a.a.createElement(ww,{align:"center"},B[2]),a.a.createElement(ww,{align:"center"},"Total"),a.a.createElement(ww,{align:"center"},B[3]),a.a.createElement(ww,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,s.map(function(e,t){return a.a.createElement(xw,{key:t},a.a.createElement(ww,{align:"center"},e.order_book__company__name),a.a.createElement(ww,{align:"center"},q.format(e.third_last_month_total)),a.a.createElement(ww,{align:"center"},q.format(e.second_last_month_total)),a.a.createElement(ww,{align:"center"},q.format(e.last_month_total)),a.a.createElement(ww,{align:"center"},q.format(e.total)),a.a.createElement(ww,{align:"center"},q.format(e.this_month_total)),a.a.createElement(ww,{align:"center",display:"flex",gap:2},a.a.createElement(We.a,{sx:{color:"#1976d2"},onClick:function(){return S((t=e).order_book__company),T(t),void d(!0);var t}},"View"),a.a.createElement(We.a,{sx:{color:"#28a745"},onClick:function(){return Y(e)}},"Create PI")))}),a.a.createElement(xw,null,a.a.createElement(ww,{align:"center"},a.a.createElement("strong",null,"Total")),a.a.createElement(ww,{align:"center"},U.thirdLastMonthTotal),a.a.createElement(ww,{align:"center"},U.secondLastMonthTotal),a.a.createElement(ww,{align:"center"},U.lastMonthTotal),a.a.createElement(ww,{align:"center"},U.overallTotal),a.a.createElement(ww,{align:"center"},U.thisMonthTotal))))),a.a.createElement(Ce,{fullScreen:!0,title:"Update Customer",openPopup:m,setOpenPopup:d},a.a.createElement(Po,{setOpenPopup:d,getAllCompanyDetails:M,recordForEdit:L,selectedCustomers:C})),a.a.createElement(Ce,{fullScreen:!0,title:"Create Customer Proforma Invoice",openPopup:g,setOpenPopup:b},a.a.createElement(Pp,{recordForEdit:L,rowData:x,setOpenPopup:b})))))},ww=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),xw=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Ow=[{label:"Top 25",value:"25"},{label:"Top 50",value:"50"},{label:"Top 75",value:"75"},{label:"Top 100",value:"100"}];function _w(){_w=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var jw=function(){var e=Object(s.c)(function(e){return e.auth}).profile.active_sales_user||[],t=Object(n.useState)(""),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),h=f[0],p=f[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)({message:"",severity:"",open:!1}),b=Object(l.a)(g,2),E=b[0],w=b[1],x=e.filter(function(e){return"Customer Relationship Executive"===e.groups__name||"Customer Relationship Manager"===e.groups__name}),O=function(){var e=Object(c.a)(_w().mark(function e(){var t;return _w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,RE.getCRReportData(o);case 4:t=e.sent,v(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),w({message:"Failed to fetch top customers",severity:"error",open:!0});case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[1,8,11,14]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){O()},[o]),a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:E.open,message:E.message,severity:E.severity,onClose:function(){w({open:!1})}}),a.a.createElement(Je,{open:h}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ae.a,{display:"flex",gap:"2rem"},a.a.createElement(sr,{fullWidth:!0,size:"small",value:o,onChange:function(e,t){return i(t)},options:x.map(function(e){return e.email}),getOptionLabel:function(e){return"".concat(e)},label:"Filter By Employee"}))))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Sales Analysis Report - CR")),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(Lw,{align:"center"},"Description"),a.a.createElement(Lw,{align:"center"},"Brand"),a.a.createElement(Lw,{align:"center"},"Unit"),a.a.createElement(Lw,{align:"center"},"Forecast (This Month)"),a.a.createElement(Lw,{align:"center"},"Potential"),a.a.createElement(Lw,{align:"center"},"Last Month Invoicing (In Quantity)"),a.a.createElement(Lw,{align:"center"},"This Month Invoicing (In Quantity)"))),a.a.createElement(Hn.a,null,y&&y.map(function(e,t){return a.a.createElement(Sw,{key:t},a.a.createElement(Lw,{align:"center"},e.product__description__name),a.a.createElement(Lw,{align:"center"},e.product__brand__name),a.a.createElement(Lw,{align:"center"},e.product__unit__name),a.a.createElement(Lw,{align:"center"},e.forecast),a.a.createElement(Lw,{align:"center"},e.potential),a.a.createElement(Lw,{align:"center"},e.last_month),a.a.createElement(Lw,{align:"center"},e.this_month))})))))))},Lw=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Sw=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function kw(){kw=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Pw=function(e){var t=e.rowData,r=e.startMonth,o=e.startYear,i=e.filterValue,u=t.product__description__name,s=t.product__brand__name,f=t.product__unit__name,h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)([]),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useState)({message:"",severity:"",open:!1}),B=Object(l.a)(R,2),M=B[0],q=B[1],U=function(){var e=Object(c.a)(kw().mark(function e(){var t;return kw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,RE.getSalesQuatityAnalysisdetailsByproduct(u,s,f,r+1,o,i);case 4:t=e.sent,z(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),q({message:"Failed to fetch sales quantity analysis",severity:"error",open:!0});case 11:return e.prev=11,d(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[1,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){U()},[r,o,t,i]);var Y=new Intl.NumberFormat("en-IN",{maximumFractionDigits:2}),V=function(){var e=0,t=0,r=0;return W.forEach(function(n){e+=n.max_qty||0,t+=n.current_month_qty||0,r+=n.short_qty||0}),{totalMaxQty:Y.format(e),totalCurrentMonthQty:Y.format(t),totalshortQty:Y.format(r)}}(),Q=function(){var e=Object(c.a)(kw().mark(function e(t){var r,n;return kw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kn.getCompanyDataById(t.id);case 3:r=e.sent,n=r.data,T(n.id),S(n),O(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:M.open,message:M.message,severity:M.severity,onClose:function(){q({open:!1})}}),a.a.createElement(Je,{open:m}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Sales Quantity Analysis")),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(Cw,{align:"center"},"Company"),a.a.createElement(Cw,{align:"center"},"Product Description"),a.a.createElement(Cw,{align:"center"},"Brand"),a.a.createElement(Cw,{align:"center"},"Unit"),a.a.createElement(Cw,{align:"center"},"Max Qty"),a.a.createElement(Cw,{align:"center"},"This Month QTY"),a.a.createElement(Cw,{align:"center"},"Short QTY"),a.a.createElement(Cw,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,W.length>0?W.map(function(e,t){return a.a.createElement(Tw,{key:t},a.a.createElement(Cw,{align:"center"},e.company_name||"N/A"),a.a.createElement(Cw,{align:"center"},e.description||"N/A"),a.a.createElement(Cw,{align:"center"},e.brand||"N/A"),a.a.createElement(Cw,{align:"center"},e.unit||"N/A"),a.a.createElement(Cw,{align:"center"},e.max_qty||0),a.a.createElement(Cw,{align:"center"},e.current_month_qty||0),a.a.createElement(Cw,{align:"center"},e.short_qty),a.a.createElement(Cw,{align:"center",display:"flex",gap:2},a.a.createElement(We.a,{sx:{color:"#1976d2"},onClick:function(){return T((t=e).id),I(t),void b(!0);var t}},"View"),a.a.createElement(We.a,{sx:{color:"#28a745"},onClick:function(){return Q(e)}},"Create PI")))}):a.a.createElement(Tw,null,a.a.createElement(Cw,{align:"center",colSpan:14},"No Data Available")),W.length>0&&a.a.createElement(Tw,null,a.a.createElement(Cw,{align:"center"},a.a.createElement("strong",null,"Total")),a.a.createElement(Cw,{align:"center"}),a.a.createElement(Cw,{align:"center"}),a.a.createElement(Cw,{align:"center"}),a.a.createElement(Cw,{align:"center"},V.totalMaxQty),a.a.createElement(Cw,{align:"center"},V.totalCurrentMonthQty),a.a.createElement(Cw,{align:"center"},V.totalshortQty))))),a.a.createElement(Ce,{fullScreen:!0,title:"Update Customer",openPopup:g,setOpenPopup:b},a.a.createElement(Po,{setOpenPopup:b,getAllCompanyDetails:U,recordForEdit:C,selectedCustomers:A})),a.a.createElement(Ce,{fullScreen:!0,title:"Create Customer Proforma Invoice",openPopup:x,setOpenPopup:O},a.a.createElement(Pp,{recordForEdit:C,rowData:L,setOpenPopup:O})))))},Cw=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Tw=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Nw(){Nw=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Dw=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(function(){var e=(new Date).getMonth();return 0===e||1===e||2===e?e:3}),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)((new Date).getFullYear()),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(null),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)({message:"",severity:"",open:!1}),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(s.c)(function(e){return e.auth}).profile.active_sales_user||[],A=Object(n.useState)(""),I=Object(l.a)(A,2),F=I[0],G=I[1],W=function(e,t){for(var r=["January","February","March","April","May","June","July","August","September","October","November","December"],n=new Date,a=n.getMonth(),o=n.getFullYear(),i={dynamicMonths:[],dynamicHeaders:[]},c=t,l=e;c<o||c===o&&l<=a;)i.dynamicMonths.push("".concat(r[l],"_").concat(c)),i.dynamicHeaders.push("".concat(r[l]," ").concat(c)),12===++l&&(l=0,c++);return i}(d,b),z=function(){var e=Object(c.a)(Nw().mark(function e(){var t,r;return Nw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,RE.getSalesQuatityAnalysis(d+1,b,F);case 4:t=e.sent,h(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),r=e.t0.response.data.message,N({message:r||"Failed to fetch sales quantity analysis",severity:"error",open:!0});case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,8,12,15]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){z()},[d,b,F]);return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:T.open,message:T.message,severity:T.severity,onClose:function(){N({open:!1})}}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Fe.a,{item:!0,xs:12,md:7},a.a.createElement(Ae.a,{display:"flex",gap:"1rem",marginBottom:"1rem"},a.a.createElement(sr,{fullWidth:!0,size:"small",value:F,onChange:function(e,t){return G(t)},options:D.map(function(e){return e.email}),getOptionLabel:function(e){return"".concat(e)},label:"Filter By Employee"}),a.a.createElement(sr,{fullWidth:!0,size:"small",disablePortal:!0,id:"combo-box-start-month",value:Fw.find(function(e){return e.value-1===d}),onChange:function(e,t){return y(t.value-1)},options:Fw,getOptionLabel:function(e){return e.label},label:"Select Start Month"}),a.a.createElement(sr,{fullWidth:!0,size:"small",disablePortal:!0,id:"combo-box-start-year",value:{label:b},onChange:function(e,t){return E(t.label)},options:Object(vr.a)(Array(3).keys()).map(function(e){return{label:(new Date).getFullYear()-e}}),getOptionLabel:function(e){return"".concat(e.label)},label:"Select Start Year"}))),a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Sales Quantity Analysis")),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(Aw,{align:"center"},"Description"),a.a.createElement(Aw,{align:"center"},"Brand"),a.a.createElement(Aw,{align:"center"},"Unit"),W.dynamicHeaders.map(function(e,t){return a.a.createElement(Aw,{align:"center",key:t},e)}),a.a.createElement(Aw,{align:"center"},"Max QTY"),a.a.createElement(Aw,{align:"center"},"Short QTY"),a.a.createElement(Aw,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,f.length>0?f.map(function(e,t){return a.a.createElement(Iw,{key:t},a.a.createElement(Aw,{align:"center"},e.product__description__name||"N/A"),a.a.createElement(Aw,{align:"center"},e.product__brand__name||"N/A"),a.a.createElement(Aw,{align:"center"},e.product__unit__name||"N/A"),W.dynamicMonths.map(function(t,r){return a.a.createElement(Aw,{align:"center",key:r},e[t]||0)}),a.a.createElement(Aw,{align:"center"},e.max_qty),a.a.createElement(Aw,{align:"center"},e.short_qty||"-"),a.a.createElement(Aw,{align:"center"},a.a.createElement(We.a,{variant:"contained",color:"secondary",size:"small",onClick:function(){return k(e),void _(!0)}},"View")))}):a.a.createElement(Iw,null,a.a.createElement(Aw,{align:"center",colSpan:10},"No Data Available"))))),a.a.createElement(Ce,{fullScreen:!0,openPopup:O,setOpenPopup:_},a.a.createElement(Pw,{getSalesQuantityAnalysis:z,rowData:S,startMonth:d,startYear:b,setOpenPopup:_,filterValue:F})))))},Aw=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Iw=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Fw=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],Gw=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=[{label:"Sales Person Analytics",roles:["Director","Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Sales Manager without Leads","Sales Manager with Lead","HR","Factory-Mumbai-OrderBook","Factory-Delhi-OrderBook","Factory-Delhi-Dispatch","Factory-Mumbai-Dispatch","Customer Service","Purchase","Stores","Production Delhi","Stores Delhi","Production","Accounts","Accounts Billing Department","Accounts Executive","Customer Relationship Executive","Customer Relationship Manager","Business Development Manager","Business Development Executive"],component:a.a.createElement(iw,null)},{label:"Sales Team Analytics",roles:["Director","Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Manager without Leads","Sales Manager with Lead","Business Development Manager"],component:a.a.createElement(hw,null)},{label:"Distribution Customer",roles:["Director"],component:a.a.createElement(yw,null)},{label:"Lead",roles:["Director"],component:a.a.createElement(gw,null)},{label:"Top Customer",roles:["Director","Customer Relationship Manager","Customer Relationship Executive"],component:a.a.createElement(Ew,null)},{label:"CR Report",roles:["Director","Customer Relationship Manager","Customer Relationship Executive"],component:a.a.createElement(jw,null)},{label:"Sales Qty Analysis",roles:["Director","Customer Relationship Executive","Customer Relationship Manager","Business Development Manager","Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Sales Manager without Leads","Sales Manager with Lead"],component:a.a.createElement(Dw,null)}].filter(function(t){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}.apply(void 0,Object(vr.a)(t.roles))}),r=Object(n.useState)(0),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Xr,{tabs:t.map(function(e){return{label:e.label,index:e.index}}),activeTab:i,onTabChange:function(e){c(e)}}),t.length>0&&t[i]?a.a.createElement("div",null,t[i].component):null)},Ww=r(674);function zw(){zw=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Rw=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(0),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)([]),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(""),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(s.c)(function(e){return e.auth}).profile,A=gt(),I=A.handleError,F=A.handleCloseSnackbar,G=A.alertInfo,W=function(){var e=Object(c.a)(zw().mark(function e(){var t;return zw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Ke.getProfile();case 4:t=e.sent,k(t.data.sales_users),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){W()},[]);var z=Object(n.useCallback)(Object(c.a)(zw().mark(function e(){var t;return zw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,st.getDispatchData("false",d,O,T);case 4:t=e.sent,o(t.data.results),E(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),I(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[d,O,T]);Object(n.useEffect)(function(){z()},[d,T,O]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:G.open,onClose:F,severity:G.severity,message:G.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{sx:{flexGrow:1,mr:1},size:"small",value:T,onChange:function(e,t){return N(t)},options:S.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Person"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){_(e),y(1)},onReset:function(){_(""),y(1)}})))),a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sx:{textAlign:"center"}},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Pending Dispatch")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(qw,null,a.a.createElement(Mw,{align:"center"}),a.a.createElement(Mw,{align:"center"},"Sales Invoice"),a.a.createElement(Mw,{align:"center"},"User"),a.a.createElement(Mw,{align:"center"},"PI No"),a.a.createElement(Mw,{align:"center"},"Customer"),a.a.createElement(Mw,{align:"center"},"Date"),a.a.createElement(Mw,{align:"center"},"Dispatch Location"),(D.groups.includes("Factory-Mumbai-Dispatch")||D.groups.includes("Factory-Delhi-Dispatch")||D.groups.includes("Director"))&&a.a.createElement(Mw,{align:"center"},"Dispatched"))),a.a.createElement(Hn.a,null," ",r.map(function(e){return a.a.createElement(Bw,{key:e.id,row:e,getAllDispatchDetails:z,users:D})})))),a.a.createElement(Vr,{currentPage:d,totalPages:b,handlePageChange:function(e,t){y(t)}}))))};function Bw(e){var t=e.row,r=e.getAllDispatchDetails,o=e.users,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(t.dispatched),p=Object(l.a)(h,2),m=p[0],y=p[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],w=g[1],x=Object(n.useState)(""),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(""),S=Object(l.a)(L,2),k=S[0],P=S[1],C=function(){var e=Object(c.a)(zw().mark(function e(n){var a;return zw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),f(!0),(a=new FormData).append("dispatched",m),e.next=7,st.updateDispatched(t.id,a);case 7:r(),f(!1),w(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("error :>> ",e.t0),f(!1);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Un.a,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(qn.a,null,a.a.createElement(d.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return f(!s)}},s?a.a.createElement(Sm.a,null):a.a.createElement(jm.a,null))),a.a.createElement(qn.a,{align:"center"},t.sales_invoice),a.a.createElement(qn.a,{align:"center"},t.user),a.a.createElement(qn.a,{align:"center"},t.pi_list&&t.pi_list.length>0?t.pi_list.join(", "):"NA"),a.a.createElement(qn.a,{align:"center"},t.customer),a.a.createElement(qn.a,{align:"center"},Ra()(t.date).format("DD-MM-YYYY")),a.a.createElement(qn.a,{align:"center"},t.dispatch_location),(o.groups.includes("Factory-Mumbai-Dispatch")||o.groups.includes("Factory-Delhi-Dispatch")||o.groups.includes("Director"))&&a.a.createElement(qn.a,{align:"center"},a.a.createElement(We.a,{onClick:function(){w(!0),j(t.sales_invoice),P(t.customer)},variant:"contained",color:"success"},"Confirm Dispatch"))),a.a.createElement(Un.a,null,a.a.createElement(qn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(J.a,{in:s,timeout:"auto",unmountOnExit:!0},a.a.createElement(Ae.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Vn.a,{size:"small","aria-label":"purchases"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,{align:"center"},"DISPATCH ID"),a.a.createElement(qn.a,{align:"center"},"PRODUCT"),a.a.createElement(qn.a,{align:"center"},"QUANTITY"))),a.a.createElement(Hn.a,null,t.products.map(function(e){return a.a.createElement(Un.a,{key:e.dispatch_book},a.a.createElement(qn.a,{align:"center"},e.dispatch_book),a.a.createElement(qn.a,{align:"center"},e.product),a.a.createElement(qn.a,{align:"center"},e.quantity))}))))))),a.a.createElement(je.a,{open:b,onClose:function(){return w(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(Le.a,{id:"alert-dialog-title"},"Dispatch"),a.a.createElement(Se.a,null,a.a.createElement(Ww.a,{id:"alert-dialog-description"},a.a.createElement(pr.a,{label:"Do you confirm that ".concat(_," to ").concat(k," is dispatched. ?"),control:a.a.createElement(mr.a,{checked:m,onChange:function(e){y(e.target.checked)},inputProps:{"aria-label":"controlled"}})}))),a.a.createElement(fu.a,null,a.a.createElement(We.a,{disabled:!1===m,variant:"contained",color:"success",onClick:function(e){return C(e)}},"Submit"),a.a.createElement(We.a,{variant:"contained",onClick:function(){return w(!1)}},"Cancel"))))}var Mw=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),qw=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Uw=r(121),Yw=r.n(Uw),Vw=function(e){var t=e.lrCopyImage,r=e.podCopyImage,n=e.hideImage;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{container:!0,justifyContent:"center"},a.a.createElement(ut.a,{sx:{display:"flex",flexDirection:"column",width:"100%"}},a.a.createElement(Ae.a,{component:"form",noValidate:!0},a.a.createElement(Fe.a,{container:!0,spacing:2,justifyContent:"center"},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{sx:{width:"100%",height:"100%",borderRadius:5,overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"}},n?a.a.createElement("img",{src:t||"",alt:"lrcopy",style:{maxHeight:"100%",maxWidth:"100%",cursor:"pointer"}}):a.a.createElement("img",{src:r||"",alt:"podcopy",style:{maxHeight:"100%",maxWidth:"100%",cursor:"pointer"}}))))))))};function Qw(){Qw=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Hw=function(e){var t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=e.idData,y=e.getAllDispatchDetails,v=e.setOpenPopup,g=e.userData,b=Object(n.useState)(""),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(""),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(!1),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)(""),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)(""),F=Object(l.a)(I,2),G=F[0],W=F[1],z=Object(n.useState)([]),R=Object(l.a)(z,2),B=R[0],M=R[1],q=Object(s.c)(function(e){return e.auth}).profile;console.log(p);var U=function(e){var t=e.target,r=t.name,n=t.value;M(Object(u.a)({},B,Object(Y.a)({},r,n)))};console.log("lrCopy ",w||d.lr_copy);var V=function(){var e=Object(c.a)(Qw().mark(function e(t){var r,n,a,o;return Qw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),r=new FormData,"Customer Service"===g.groups.toString()||"Director"===g.groups.toString()?(r.append("sales_invoice",d.sales_invoice),r.append("transporter",B.transporter?B.transporter:d.transporter),r.append("lr_number",B.lr_number?B.lr_number:d.lr_number),r.append("lr_date",B.lr_date?B.lr_date:d.lr_date),""!==w&&r.append("lr_copy",w||""),""!==D&&r.append("pod_copy",D||""),r.append("dispatched",!0)):(r.append("sales_invoice",d.sales_invoice),r.append("transporter",B.transporter?B.transporter:d.transporter),r.append("lr_number",B.lr_number?B.lr_number:d.lr_number),r.append("lr_date",B.lr_date?B.lr_date:d.lr_date),""!==w&&r.append("lr_copy",w||""),r.append("dispatched",!0)),n=B.lr_date?B.lr_date:d.lr_date,a=B.lr_number?B.lr_number:d.lr_number,o=B.transporter?B.transporter:d.transporter,console.log("LRDATE",n),""===w&&""===D&&(null===n||null===a||null===o||"Customer Service"!==g.groups.toString())&&"Director"!==g.groups.toString()){e.next=17;break}return i(!0),e.next=12,st.updateDispatched(d.id,r);case 12:v(!1),y(),i(!1),e.next=24;break;case 17:if(""===w&&(null===n||null===a||null===o)){e.next=24;break}return i(!0),e.next=21,st.updateDispatched(d.id,r);case 21:v(!1),y(),i(!1);case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(0),console.log("error :>> ",e.t0),i(!1);case 30:case"end":return e.stop()}},e,null,[[0,26]])}));return function(t){return e.apply(this,arguments)}}(),Q=function(){m(!0),C(!P)};return a.a.createElement("div",null,a.a.createElement(Je,{open:o}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return V(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Sales Invoice",variant:"outlined",value:d.sales_invoice})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Customer",variant:"outlined",value:d.customer})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"transporter",size:"small",label:"Transporter",variant:"outlined",value:B.transporter?B.transporter:d.transporter,onChange:U})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"lr_number",size:"small",label:"Dispatch Document Number",variant:"outlined",value:B.lr_number?B.lr_number:d.lr_number,onChange:U})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"lr_date",size:"small",label:"Dispatch Document Date",variant:"outlined",value:B.lr_date?B.lr_date:d.lr_date,onChange:U,InputLabelProps:{shrink:!0}})),(q.groups.includes("Factory-Mumbai-Dispatch")||q.groups.includes("Factory-Delhi-Dispatch")||q.groups.includes("Director"))&&a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement("label",null,"LR Copy : "),a.a.createElement("input",{type:"file",name:"file",onChange:function(e){x(e.target.files[0]),L(URL.createObjectURL(e.target.files[0]))}}),a.a.createElement("img",{src:j||d.lr_copy,alt:"Dispatch Document",height:"80px",width:"75px",style:{cursor:"pointer"},onClick:Q})),(g.groups.includes("Customer Service")||g.groups.includes("Director"))&&a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement("label",null,"POD Copy : "),a.a.createElement("input",{type:"file",name:"file",onChange:function(e){A(e.target.files[0]),W(URL.createObjectURL(e.target.files[0]))}}),a.a.createElement("img",{src:G||d.pod_copy,alt:"podcopy",height:"80px",width:"70px",onClick:Q}))),a.a.createElement(Lt,{sx:{marginTop:"1rem"},type:"submit",fullWidth:!0,variant:"contained",text:"Submit"})),a.a.createElement(Ce,{fullScreen:!0,title:"Previw Image",openPopup:p,setOpenPopup:m},a.a.createElement(Vw,{lrCopyImage:j,podCopyImage:G,setClose:m,hideImage:P})))};function Jw(){Jw=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Kw=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(""),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(0),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)([]),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(""),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(s.c)(function(e){return e.auth}).profile,A=gt(),I=A.handleError,F=A.handleCloseSnackbar,G=A.alertInfo,W=function(){var e=Object(c.a)(Jw().mark(function e(){var t;return Jw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Ke.getProfile();case 4:t=e.sent,k(t.data.sales_users),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){W()},[]);var z=Object(n.useCallback)(Object(c.a)(Jw().mark(function e(){var t;return Jw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,st.getDispatchData(!0,d,b,T);case 4:t=e.sent,o(t.data.results),_(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),I(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[d,b,T]);Object(n.useEffect)(function(){z()},[d,b,T]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:G.open,onClose:F,severity:G.severity,message:G.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{sx:{flexGrow:1,mr:1},size:"small",value:T,onChange:function(e,t){return N(t)},options:S.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Person"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,sx:{textAlign:"center"}},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Dispatched")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){E(e),y(1)},onReset:function(){E(""),y(1)}})))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement($w,null,a.a.createElement(Xw,{align:"center"}),a.a.createElement(Xw,{align:"center"},"Sales Invoice"),a.a.createElement(Xw,{align:"center"},"User"),a.a.createElement(Xw,{align:"center"},"PI No"),a.a.createElement(Xw,{align:"center"},"Customer"),a.a.createElement(Xw,{align:"center"},"Date"),a.a.createElement(Xw,{align:"center"},"Dispatch Location"),"Customer Service"===D.groups.toString()&&a.a.createElement(Xw,{align:"center"},"LR COPY"),a.a.createElement(Xw,{align:"center"},"ACTION"))),a.a.createElement(Hn.a,null,r.map(function(e){return a.a.createElement(Zw,{key:e.id,row:e,getAllDispatchDetails:z,userData:D})})))),a.a.createElement(Vr,{currentPage:d,totalPages:O,handlePageChange:function(e,t){y(t)}}))))};function Zw(e){var t=e.row,r=e.getAllDispatchDetails,o=e.userData,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],y=p[1],v=Object(n.useState)(""),g=Object(l.a)(v,2),b=g[0],w=g[1],x=function(){var e=Object(c.a)(Jw().mark(function e(t){var r;return Jw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.lr_copy?t.lr_copy:"",Yw.a.saveAs(r,"image");case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Un.a,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(qn.a,null,a.a.createElement(d.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return f(!s)}},s?a.a.createElement(Sm.a,null):a.a.createElement(jm.a,null))),a.a.createElement(qn.a,{align:"center"},t.sales_invoice),a.a.createElement(qn.a,{align:"center"},t.user),a.a.createElement(qn.a,{align:"center"},t.pi_list&&t.pi_list.length>0?t.pi_list.join(", "):"NA"),a.a.createElement(qn.a,{align:"center"},t.customer),a.a.createElement(qn.a,{align:"center"},Ra()(t.date).format("DD-MM-YYYY")),a.a.createElement(qn.a,{align:"center"},t.dispatch_location),"Customer Service"===o.groups.toString()&&a.a.createElement(qn.a,{align:"center"},a.a.createElement(We.a,{color:"success",variant:"outlined",onClick:function(){return x(t)}},"Download")),(o.groups.includes("Factory-Delhi-Dispatch")||o.groups.includes("Factory-Mumbai-Dispatch")||o.groups.includes("Director")||o.groups.includes("Customer Service")||o.groups.includes("Accounts"))&&a.a.createElement(qn.a,{align:"center"},a.a.createElement("button",{type:"button",class:"btn btn-primary",onClick:function(){return function(e){w(e),y(!0)}(t)}},"View"))),a.a.createElement(Un.a,null,a.a.createElement(qn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(J.a,{in:s,timeout:"auto",unmountOnExit:!0},a.a.createElement(Ae.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Vn.a,{size:"small","aria-label":"purchases"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,{align:"center"},"DISPATCH ID"),a.a.createElement(qn.a,{align:"center"},"PRODUCT"),a.a.createElement(qn.a,{align:"center"},"QUANTITY"))),a.a.createElement(Hn.a,null,t.products.map(function(e){return a.a.createElement(Un.a,{key:e.dispatch_book},a.a.createElement(qn.a,{align:"center"},e.dispatch_book),a.a.createElement(qn.a,{align:"center"},e.product),a.a.createElement(qn.a,{align:"center"},e.quantity))}))))))),a.a.createElement(Ce,{maxWidth:"md",title:"Update Dispatch",openPopup:m,setOpenPopup:y},a.a.createElement(Hw,{idData:b,getAllDispatchDetails:r,setOpenPopup:y,userData:o})))}var Xw=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),$w=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function ex(){ex=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var tx=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(""),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(0),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(""),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(new Date),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)(new Date(A.getTime()-6048e5)),G=Object(l.a)(F,2),W=G[0],z=G[1],R=(new Date).toISOString().split("T")[0],B=new Date("2030-12-31").toISOString().split("T")[0],M=Object(n.useState)([]),q=Object(l.a)(M,2),U=q[0],Y=q[1],V=Object(n.useRef)(null),Q=gt(),H=Q.handleError,J=Q.handleCloseSnackbar,K=Q.alertInfo,Z=function(){var e=Object(c.a)(ex().mark(function e(){var t,r,n,a;return ex().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),t=W?W.toISOString().split("T")[0]:"",r=A?A.toISOString().split("T")[0]:"",e.next=6,st.getAllSaleRegisterData(t,r,"all",g,C);case 6:return n=e.sent,a=n.data.map(function(e){return{date:Ra()(e.date).format("DD-MM-YYYY"),sales_invoice:e.sales_invoice,customer:e.customer,dispatch_location:e.dispatch_location,lr_copy:e.lr_copy,pod_copy:e.pod_copy}}),o(!1),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(0),H(e.t0),console.log("while downloading Price list",e.t0);case 16:return e.prev=16,o(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,12,16,19]])}));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(ex().mark(function e(){var t;return ex().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Ke.getProfile();case 4:t=e.sent,S(t.data.sales_users),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){X()},[]);var $=Object(n.useCallback)(Object(c.a)(ex().mark(function e(){var t,r,n;return ex().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),t=W?W.toISOString().split("T")[0]:"",r=A?A.toISOString().split("T")[0]:"",e.next=6,st.getAllSaleRegisterData(t,r,s,g,C);case 6:n=e.sent,d(n.data.results),O(Math.ceil(n.data.count/25)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),H(e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])})),[W,s,g,C]);Object(n.useEffect)(function(){$()},[W,s,g,C]);var ee=function(){var e=Object(c.a)(ex().mark(function e(){var t;return ex().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z();case 3:t=e.sent,Y(t),setTimeout(function(){V.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:K.open,onClose:J,severity:K.severity,message:K.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{label:"Start Date",variant:"outlined",size:"small",type:"date",id:"start-date",value:W?W.toISOString().split("T")[0]:"",min:R,max:A?new Date(A.getTime()-6048e5).toISOString().split("T")[0]:B,onChange:function(e){var t=new Date(e.target.value);z(t),I(new Date(t.getTime()+6048e5))}}),a.a.createElement(Ve,{label:"End Date",variant:"outlined",size:"small",id:"end-date",value:A?A.toISOString().split("T")[0]:"",min:W?W.toISOString().split("T")[0]:R,max:W?new Date(W.getTime()+6048e5).toISOString().split("T")[0]:B,disabled:!W})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{sx:{flexGrow:1,mr:1},size:"small",value:C,onChange:function(e,t){return T(t)},options:L.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Person"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ur,{onSearch:function(e){b(e),f(1)},onReset:function(){b(""),f(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:7},a.a.createElement("h3",{style:{textAlign:"right",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Sales Register")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:5,style:{textAlign:"right"}},U.length>0&&a.a.createElement(Bn.CSVLink,{data:U,headers:ox,ref:V,filename:"Sales_Register.csv",target:"_blank",style:{textDecoration:"none",outline:"none",visibility:"hidden"}}),a.a.createElement(We.a,{variant:"contained",color:"success",onClick:ee},"Export to Excel")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(ax,null,a.a.createElement(nx,{align:"center"}),a.a.createElement(nx,{align:"center"},"Date"),a.a.createElement(nx,{align:"center"},"User"),a.a.createElement(nx,{align:"center"},"PI No"),a.a.createElement(nx,{align:"center"},"Sales Invoice"),a.a.createElement(nx,{align:"center"},"Customer"),a.a.createElement(nx,{align:"center"},"Dispatch Location"),a.a.createElement(nx,{align:"center"},"LR COPY"),a.a.createElement(nx,{align:"center"},"POD COPY"))),a.a.createElement(Hn.a,null," ",m.map(function(e){return a.a.createElement(rx,{key:e.id,row:e,getSalesRegisterData:$})})))),a.a.createElement(Vr,{currentPage:s,totalPages:x,handlePageChange:function(e,t){return f(t)}}))))};function rx(e){var t=e.row,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],s=function(){var e=Object(c.a)(ex().mark(function e(t){var r;return ex().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.lr_copy?t.lr_copy:"",Yw.a.saveAs(r,"image");case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(ex().mark(function e(t){var r;return ex().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.pod_copy?t.pod_copy:"",Yw.a.saveAs(r,"image");case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{opn:i}),a.a.createElement(Un.a,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(qn.a,null,a.a.createElement(d.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return u(!i)}},i?a.a.createElement(Sm.a,null):a.a.createElement(jm.a,null))),a.a.createElement(qn.a,{align:"center"},Ra()(t.date).format("DD-MM-YYYY")),a.a.createElement(qn.a,{align:"center"},t.user),a.a.createElement(qn.a,{align:"center"},t.pi_list&&t.pi_list.length>0?t.pi_list.join(", "):"NA"),a.a.createElement(qn.a,{align:"center"},t.sales_invoice),a.a.createElement(qn.a,{align:"center"},t.customer),a.a.createElement(qn.a,{align:"center"},t.dispatch_location),a.a.createElement(qn.a,{align:"center"},null!==t.lr_copy&&a.a.createElement(We.a,{color:"success",variant:"outlined",onClick:function(){return s(t)}},"Download")),a.a.createElement(qn.a,{align:"center"},null!==t.pod_copy&&a.a.createElement(We.a,{color:"success",variant:"outlined",onClick:function(){return f(t)}},"Download"))),a.a.createElement(Un.a,null,a.a.createElement(qn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(J.a,{in:i,timeout:"auto",unmountOnExit:!0},a.a.createElement(Ae.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Vn.a,{size:"small","aria-label":"purchases"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,{align:"center"},"DISPATCH ID"),a.a.createElement(qn.a,{align:"center"},"PRODUCT"),a.a.createElement(qn.a,{align:"center"},"QUANTITY"),a.a.createElement(qn.a,{align:"center"},"RATE"),a.a.createElement(qn.a,{align:"center"},"AMOUNT"))),a.a.createElement(Hn.a,null,t.products.map(function(e){return a.a.createElement(Un.a,{key:e.dispatch_book},a.a.createElement(qn.a,{align:"center"},e.dispatch_book),a.a.createElement(qn.a,{align:"center"},e.product),a.a.createElement(qn.a,{align:"center"},e.quantity),a.a.createElement(qn.a,{align:"center"},e.rate),a.a.createElement(qn.a,{align:"center"},e.amount))}))))))))}var nx=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),ax=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),ox=[{label:"Date",key:"date"},{label:"Sales Invoice",key:"sales_invoice"},{label:"Customer",key:"customer"},{label:"Dispatch Location",key:"dispatch_location"},{label:"LR Copy",key:"lr_copy"},{label:"POD Copy",key:"pod_copy"}];function ix(){ix=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var cx=function(e){var t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=e.idData,y=e.getAllDispatchDetails,v=e.setOpenPopup,g=Object(n.useState)(""),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(""),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(!1),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)([]),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(d.dispatch_type),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(s.c)(function(e){return e.auth}).profile,z=function(e){var t=e.target,r=t.name,n=t.value;D(Object(u.a)({},N,Object(Y.a)({},r,n)))},R=function(){var e=Object(c.a)(ix().mark(function e(t){var r,n,a,o;return ix().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),(r=new FormData).append("sales_invoice",d.sales_invoice),r.append("transporter",N.transporter||d.transporter),r.append("lr_number",N.lr_number||d.lr_number),r.append("lr_date",N.lr_date||d.lr_date),r.append("dispatched",!0),r.append("dispatch_type",F||d.dispatch_type),E&&r.append("lr_copy",E),"Airway Bill"===F&&(r.append("shipping_date",N.shipping_date||d.shipping_date),r.append("shipping_number",N.shipping_number||d.shipping_number)),n=N.lr_date||d.lr_date,a=N.lr_number||d.lr_number,o=N.transporter||d.transporter,!(E||n&&a&&o)){e.next=21;break}return i(!0),e.next=19,st.updateDispatched(d.id,r);case 19:v(!1),y();case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log("Error:",e.t0);case 26:return e.prev=26,i(!1),e.finish(26);case 29:case"end":return e.stop()}},e,null,[[0,23,26,29]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:o}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return R(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Sales Invoice",variant:"outlined",value:d.sales_invoice})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Customer",variant:"outlined",value:d.customer})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"transporter",size:"small",label:"Transporter",variant:"outlined",value:N.transporter?N.transporter:d.transporter,onChange:z})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{size:"small",options:["Bill of Lading","Airway Bill"],label:"Choose type of Bill",onChange:function(e,t){return G(t)},value:F})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,name:"lr_number",size:"small",label:"Dispatch Document Number",variant:"outlined",value:N.lr_number?N.lr_number:d.lr_number,onChange:z})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"lr_date",size:"small",label:"Dispatch Document Date",variant:"outlined",value:N.lr_date?N.lr_date:d.lr_date,onChange:z,InputLabelProps:{shrink:!0}})),"Airway Bill"===F&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,type:"number",name:"shipping_number",size:"small",label:"Shipping Number",variant:"outlined",value:N.shipping_number?N.shipping_number:d.shipping_number,onChange:z,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"shipping_date",size:"small",label:"Shipping Date",variant:"outlined",value:N.shipping_date?N.shipping_date:d.shipping_date,onChange:z,InputLabelProps:{shrink:!0}}))),F&&(W.groups.includes("Factory-Mumbai-Dispatch")||W.groups.includes("Factory-Delhi-Dispatch")||W.groups.includes("Director"))&&a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement("label",null,"Bill of Lading"===F?"Bill Of Lading :":"Airway Bill"===F?"Airway Bill :":""),a.a.createElement("input",{type:"file",name:"file",onChange:function(e){w(e.target.files[0]),j(URL.createObjectURL(e.target.files[0]))}}),a.a.createElement("img",{src:_||d.lr_copy,alt:"Dispatch Document",height:"80px",width:"75px",style:{cursor:"pointer"},onClick:function(){m(!0),P(!k)}}))),a.a.createElement(Lt,{sx:{marginTop:"1rem"},type:"submit",fullWidth:!0,variant:"contained",text:"Submit"})),a.a.createElement(Ce,{fullScreen:!0,title:"Previw Image",openPopup:p,setOpenPopup:m},a.a.createElement(Vw,{lrCopyImage:_,setClose:m,hideImage:k})))};function lx(){lx=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var ux=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(""),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(0),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)([]),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(""),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(s.c)(function(e){return e.auth}).profile,A=gt(),I=A.handleError,F=A.handleCloseSnackbar,G=A.alertInfo,W=function(){var e=Object(c.a)(lx().mark(function e(){var t;return lx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Ke.getProfile();case 4:t=e.sent,k(t.data.sales_users),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){W()},[]);var z=Object(n.useCallback)(Object(c.a)(lx().mark(function e(){var t;return lx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,st.getDispatchData(!0,d,b,T,"not_lr");case 4:t=e.sent,o(t.data.results),_(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),I(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[d,b,T]);Object(n.useEffect)(function(){z()},[d,b,T]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:G.open,onClose:F,severity:G.severity,message:G.message}),a.a.createElement(Je,{open:f}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{sx:{flexGrow:1,mr:1},size:"small",value:T,onChange:function(e,t){return N(t)},options:S.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Person"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,sx:{textAlign:"center"}},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Export Invoice")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ur,{onSearch:function(e){E(e),y(1)},onReset:function(){E(""),y(1)}})))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(hx,null,a.a.createElement(fx,{align:"center"}),a.a.createElement(fx,{align:"center"},"Sales Invoice"),a.a.createElement(fx,{align:"center"},"User"),a.a.createElement(fx,{align:"center"},"PI No"),a.a.createElement(fx,{align:"center"},"Customer"),a.a.createElement(fx,{align:"center"},"Date"),a.a.createElement(fx,{align:"center"},"Dispatch Location"),"Customer Service"===D.groups.toString()&&a.a.createElement(fx,{align:"center"},"LR COPY"),a.a.createElement(fx,{align:"center"},"ACTION"))),a.a.createElement(Hn.a,null,r.map(function(e){return a.a.createElement(sx,{key:e.id,row:e,getAllDispatchDetails:z,userData:D})})))),a.a.createElement(Vr,{currentPage:d,totalPages:O,handlePageChange:function(e,t){y(t)}}))))};function sx(e){var t=e.row,r=e.getAllDispatchDetails,o=e.userData,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],y=p[1],v=Object(n.useState)(""),g=Object(l.a)(v,2),b=g[0],w=g[1],x=function(){var e=Object(c.a)(lx().mark(function e(t){var r;return lx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.lr_copy?t.lr_copy:"",Yw.a.saveAs(r,"image");case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Un.a,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(qn.a,null,a.a.createElement(d.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return f(!s)}},s?a.a.createElement(Sm.a,null):a.a.createElement(jm.a,null))),a.a.createElement(qn.a,{align:"center"},t.sales_invoice),a.a.createElement(qn.a,{align:"center"},t.user),a.a.createElement(qn.a,{align:"center"},t.pi_list&&t.pi_list.length>0?t.pi_list.join(", "):"NA"),a.a.createElement(qn.a,{align:"center"},t.customer),a.a.createElement(qn.a,{align:"center"},Ra()(t.date).format("DD-MM-YYYY")),a.a.createElement(qn.a,{align:"center"},t.dispatch_location),"Customer Service"===o.groups.toString()&&a.a.createElement(qn.a,{align:"center"},a.a.createElement(We.a,{color:"success",variant:"outlined",onClick:function(){return x(t)}},"Download")),(o.groups.includes("Factory-Delhi-Dispatch")||o.groups.includes("Factory-Mumbai-Dispatch")||o.groups.includes("Director")||o.groups.includes("Customer Service")||o.groups.includes("Accounts"))&&a.a.createElement(qn.a,{align:"center"},a.a.createElement("button",{type:"button",class:"btn btn-primary",onClick:function(){return function(e){w(e),y(!0)}(t)}},"View"))),a.a.createElement(Un.a,null,a.a.createElement(qn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(J.a,{in:s,timeout:"auto",unmountOnExit:!0},a.a.createElement(Ae.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Vn.a,{size:"small","aria-label":"purchases"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,{align:"center"},"DISPATCH ID"),a.a.createElement(qn.a,{align:"center"},"PRODUCT"),a.a.createElement(qn.a,{align:"center"},"QUANTITY"))),a.a.createElement(Hn.a,null,t.products.map(function(e){return a.a.createElement(Un.a,{key:e.dispatch_book},a.a.createElement(qn.a,{align:"center"},e.dispatch_book),a.a.createElement(qn.a,{align:"center"},e.product),a.a.createElement(qn.a,{align:"center"},e.quantity))}))))))),a.a.createElement(Ce,{maxWidth:"md",title:"Update Dispatch",openPopup:m,setOpenPopup:y},a.a.createElement(cx,{idData:b,getAllDispatchDetails:r,setOpenPopup:y,userData:o})))}var fx=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),hx=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),px=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})},r=t("Director","Accounts","Sales Manager","Sales Executive","Customer Relationship Manager","Customer Relationship Executive","Sales Deputy Manager","Sales Assistant Deputy Manager","Business Development Manager","Business Development Executive"),o=t("Factory-Delhi-Dispatch","Factory-Mumbai-Dispatch","Stores Delhi","Production Delhi"),i=t("Customer Service"),c=Object(n.useState)(r?0:4),u=Object(l.a)(c,2),f=u[0],h=u[1],p=[{label:"Pending Dispatch",visible:r||o||i,index:0},{label:"Dispatched",visible:r||o||i,index:1},{label:"Export Invoice",visible:r||o||i,index:2},{label:"Sales Register",visible:r||i,index:3}].filter(function(e){return e.visible}),m=p.map(function(e){return e.index}),d={0:a.a.createElement(Rw,null),1:a.a.createElement(Kw,null),2:a.a.createElement(ux,null),3:a.a.createElement(tx,null)};return a.a.createElement("div",null,a.a.createElement(Xr,{tabs:p,activeTab:f,onTabChange:function(e){return h(m[e])}}),m.includes(f)&&a.a.createElement("div",null,d[f]))},mx=r(681),dx=r(626);function yx(){yx=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var vx=function(e){var t=e.editData,r=e.getAllUsersDetails,o=e.setOpenPopup,i=e.groupsData,s=Object(n.useState)(!1),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)(t),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),w=b[0],x=b[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],N=Object(n.useState)(y.ref_user_group),D=Object(l.a)(N,2),A=D[0],F=D[1],G=gt(),W=G.handleSuccess,z=G.handleError,R=G.handleCloseSnackbar,B=G.alertInfo,M=Object(n.useState)({}),q=Object(l.a)(M,2),U=q[0],V=q[1],Q=function(e,t){v(Object(u.a)({},y,Object(Y.a)({},e,t)))},H=function(){var e=Object(c.a)(yx().mark(function e(){var t;return yx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Kn.getAllStatesList();case 4:t=e.sent,x(function(e){var r=y&&y.assigned_state_city&&y.assigned_state_city.data?y.assigned_state_city.data:{},n=t&&t.data&&t.data.data?t.data.data:{},a=Object(u.a)({},r);return Object.entries(n).forEach(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1],o=Array.isArray(n.cities)?n.cities:[],i=a[r]||{cities:[]},c=Array.isArray(i.cities)?i.cities:[],u=new Map;c.forEach(function(e){return u.set(e.city,e)}),o.forEach(function(e){return u.set(e.city,e)});var s=Array.from(u.values());a[r]={state_count:n.state_count,cities:s}}),a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),z(e.t0);case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();console.log(w),Object(n.useEffect)(function(){H()},[t]);var J=function(){var e=Object(c.a)(yx().mark(function e(){var t,r;return yx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,be.getAllGroupsUser();case 4:t=e.sent,r=t.data.data.map(function(e){var t=Object.keys(e)[0];return{key:t,value:e[t]}}),L(r),p(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),z(e.t0),p(!1);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){J()},[]),Object(n.useEffect)(function(){var e=j.find(function(e){var t=A;return e.key===t});e&&e.value.length>0&&C(e.value)},[A]),Object(n.useEffect)(function(){if(y&&y.assigned_state_city&&y.assigned_state_city.data){var e={},t=y.assigned_state_city.data;Object.entries(t).forEach(function(t){var r=Object(l.a)(t,2),n=r[0],a=r[1];e[n]={cities:a.cities.map(function(e){return e.city})}}),V(function(t){return Object(u.a)({},t,e)})}},[y.first_name]);var K=function(e,t){if(!U[e]||!U[e].cities)return!1;var r=t.map(function(e){return e.city});return U[e].cities.length===r.length},Z=function(e,t){if(!U[e]||!Array.isArray(U[e].cities))return!1;var r=t.map(function(e){return e.city}),n=U[e].cities;return n.length>0&&n.length<r.length},X=function(e,t){return!(!U[e]||!Array.isArray(U[e].cities))&&U[e].cities.includes(t)},$=function(e){if(!e)return{};var t={};return Object.entries(e).forEach(function(e){var r=Object(l.a)(e,2),n=r[0],a=r[1];t[n]=a.cities||[]}),t},ee=function(){var e=Object(c.a)(yx().mark(function e(t){var n,a,i;return yx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),p(!0),n={first_name:y.first_name,last_name:y.last_name,contact:y.contact,email:y.email,is_active:y.is_active,group_names:y.groups,ref_user:y.ref_user,state:U&&$(U)||[]},e.next=6,be.createUsers(y.emp_id,n);case 6:a=e.sent,i=a.data.message||"Active User Created successfully",W(i),setTimeout(function(){o(!1),r()},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),z(e.t0);case 15:return e.prev=15,p(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),te=function(e){var t=Object.entries(e);return t.sort(function(e,t){var r=Object(l.a)(e,1)[0],n=Object(l.a)(t,1)[0];return r.localeCompare(n)}),Object.fromEntries(t)}(w);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:B.open,onClose:R,severity:B.severity,message:B.message}),a.a.createElement(Je,{open:h}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return ee(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"First Name",variant:"outlined",value:y.first_name,onChange:function(e){return Q("first_name",e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Last Name",variant:"outlined",value:y.last_name,onChange:function(e){return Q("last_name",e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Contact",variant:"outlined",value:y.contact,onChange:function(e){return Q("contact",e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Email",variant:"outlined",value:y.email})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(sr,{size:"small",value:y.groups,onChange:function(e,t){Q("groups",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:i.map(function(e){return e}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Groups",placeholder:"Groups"}))}})),y&&y.groups&&y.groups.includes("Customer Relationship Executive")&&a.a.createElement(Ae.a,{sx:{p:2,borderColor:"grey.300",borderRadius:2,maxWidth:400,mx:"auto",mt:2,backgroundColor:"grey.100"}},a.a.createElement(E.a,{variant:"body1",sx:{fontWeight:"bold",color:"primary.main"}},"Total Customers Assigned :"," ",a.a.createElement("strong",null,y.assigned_state_city.assigned_total_count))),y&&y.groups&&y.groups.includes("Customer Relationship Executive")&&a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(mx.a,{"aria-label":"checkbox tree",defaultCollapseIcon:a.a.createElement(I.a,null),defaultExpandIcon:a.a.createElement(T.a,null),sx:{flexGrow:1,overflowY:"auto",maxHeight:400,mx:"10px"}},te&&Object.entries(te).map(function(e,t){var r=Object(l.a)(e,2),n=r[0],o=r[1],i="state-".concat(t),c=o.cities||[];return a.a.createElement(dx.a,{key:i,nodeId:i,label:a.a.createElement(pr.a,{control:a.a.createElement(mr.a,{checked:!!K(n,c),indeterminate:Z(n,c),onChange:function(e){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];V(function(n){var a=Object(u.a)({},n),o=r.map(function(e){return e.city});return e.target.checked?a[t]={cities:o}:delete a[t],a})}(e,n,c)},sx:{"&.Mui-checked":{color:"blue"},"&.MuiCheckbox-indeterminate":{color:"black"}}}),label:"".concat(n," [").concat(o.state_count||0,"]"),sx:{color:Z(n,c)?"blue":"inherit",fontWeight:K(n,c)?"bold":"normal"}})},Array.isArray(c)&&c.map(function(e,r){var o="city-".concat(t,"-").concat(r);return a.a.createElement(dx.a,{key:o,nodeId:o,label:a.a.createElement(pr.a,{control:a.a.createElement(mr.a,{checked:!!X(n,e.city),onChange:function(t){return function(e,t,r){V(function(n){var a=Object(u.a)({},n);a[t]||(a[t]={cities:[]});var o=a[t].cities;return e.target.checked?a[t].cities=Object(vr.a)(new Set([].concat(Object(vr.a)(o),[r]))):(a[t].cities=o.filter(function(e){return e!==r}),0===a[t].cities.length&&delete a[t]),a})}(t,n,e.city)}}),label:"".concat(e.city," [").concat(e.count,"]")})})}))}))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{id:"grouped-demo",size:"small",onChange:function(e,t){F(t)},value:A,options:["Sales Assistant Deputy Manager","Sales Deputy Manager","Sales Manager","Customer Relationship Manager","Business Development Manager"],renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Reports"}))}})),A&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(sr,{id:"grouped-demo",size:"small",onChange:function(e,t){Q("ref_user",t)},value:y&&y.ref_user,options:P,renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Reports"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(pr.a,{control:a.a.createElement(mr.a,{checked:y.is_active,onChange:function(e){return Q("is_active",e.target.checked)}}),label:"Is Active"}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))},gx=r(126),bx=r(329);function Ex(){Ex=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var wx=function(e){var t=e.setOpenPopup,r=e.refreshPageFunction,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)({message:"",severity:"",open:!1}),v=Object(l.a)(y,2),g=v[0],b=v[1],E=gx.b().shape({first_name:gx.c().required("first name is required"),last_name:gx.c().required("last name is required"),email:gx.c().required("Email is required").email("Email is invalid"),contact:gx.c().required("contact is required").matches(xx,"Phone number is not valid"),group_names:gx.a().min(1,"At least one group is required").required("Groups name is required")}),w=function(){var e=Object(c.a)(Ex().mark(function e(){var t;return Ex().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,be.getAllUsers("True");case 4:t=e.sent,d(t.data.groups),f(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){w()},[]);var x=Object(bx.a)({initialValues:{first_name:"",last_name:"",email:"",contact:"",password:"",group_names:[]},validationSchema:E,onSubmit:function(){var e=Object(c.a)(Ex().mark(function e(n){var a,o;return Ex().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),a=Object(u.a)({},n),e.next=5,Ke.register(a);case 5:201===(o=e.sent).status&&(x.resetForm(),b({message:o.data.message||"Employees created successfully",severity:"success",open:!0}),setTimeout(function(){t(!1),r()},500)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),b({message:e.t0.response.data.error||"Failed to create employees",severity:"error",open:!0}),f(!1);case 13:return e.prev=13,f(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,9,13,16]])}));return function(t){return e.apply(this,arguments)}}()});return a.a.createElement("div",null,a.a.createElement($e,{open:g.open,message:g.message,severity:g.severity,onClose:function(){b({open:!1})}}),a.a.createElement(Je,{open:s}),a.a.createElement(Fe.a,null,a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:x.handleSubmit,sx:{mt:"1em"}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(Ve,{required:!0,fullWidth:!0,name:"first_name",size:"small",label:"First Name",variant:"outlined",value:x.values.first_name,onChange:x.handleChange,error:x.touched.first_name&&Boolean(x.errors.first_name),helperText:x.touched.first_name&&x.errors.first_name})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(Ve,{required:!0,fullWidth:!0,name:"last_name",size:"small",label:"Last Name",variant:"outlined",value:x.values.last_name,onChange:x.handleChange,error:x.touched.last_name&&Boolean(x.errors.last_name),helperText:x.touched.last_name&&x.errors.last_name})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{required:!0,name:"email",fullWidth:!0,size:"small",label:"Email",variant:"outlined",value:x.values.email,onChange:x.handleChange,error:x.touched.email&&Boolean(x.errors.email),helperText:x.touched.email&&x.errors.email})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ve,{required:!0,name:"contact",fullWidth:!0,size:"small",label:"Contact No.",type:"phone",variant:"outlined",value:x.values.contact,onChange:x.handleChange,error:x.touched.contact&&Boolean(x.errors.contact),helperText:x.touched.contact&&x.errors.contact})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{size:"small",multiple:!0,required:!0,id:"group_names",options:m,value:x.values.group_names,onChange:function(e,t){return x.setFieldValue("group_names",t)},renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Groups",placeholder:"Select groups",error:x.touched.group_names&&Boolean(x.errors.group_names),helperText:x.touched.group_names&&x.errors.group_names}))}}))),a.a.createElement(Lt,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},text:"Add"}))))},xx=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/;function Ox(){Ox=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var _x=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(""),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(null),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)({message:"",severity:"",open:!1}),D=Object(l.a)(N,2),A=D[0],I=D[1],F=function(){var e=Object(c.a)(Ox().mark(function e(){var t;return Ox().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,be.getAllUsers("True");case 4:t=e.sent,b(t.data.groups),d(t.data.users),o(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),I({message:e.t0.message,severity:"error",open:!0});case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){F()},[]);var G=m.filter(function(e){return Object.values(e||{}).some(function(e){return String(e).toLowerCase().includes(L.toLowerCase())})}),W=function(){var e=Object(c.a)(Ox().mark(function e(t){var r;return Ox().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,Ke.resetPassword(t.emp_id);case 4:r=e.sent,console.log(r.data.message),200===r.status&&(I({message:r.data.message||"Password reset successfully",severity:"success",open:!0}),setTimeout(function(){F()},1e3)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),I({message:e.t0.response.data.error||"Failed to reset password",severity:"error",open:!0}),o(!1);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:A.open,message:A.message,severity:A.severity,onClose:function(){I({open:!1})}}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ur,{onSearch:function(e){S(e)},onReset:function(){S("")}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement("h3",{style:{textAlign:"center",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Active Employees")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,justifyContent:"flex-end"},a.a.createElement(We.a,{onClick:function(){return f(!0)},variant:"contained",color:"primary"},"Add Employee")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,["EMP ID","Name","Lastname","Email","Contact","Profile","Report","Action"].map(function(e,t){return a.a.createElement(jx,{key:t,align:"center"},e)}))),a.a.createElement(Hn.a,null,G.map(function(e,t){return a.a.createElement(Lx,{key:t},a.a.createElement(jx,{align:"center"},e.employee_id),a.a.createElement(jx,{align:"center"},e.first_name),a.a.createElement(jx,{align:"center"},e.last_name),a.a.createElement(jx,{align:"center"},e.email),a.a.createElement(jx,{align:"center"},e.contact),a.a.createElement(jx,{align:"center"},e.groups.map(function(e){return e}).join(",")),a.a.createElement(jx,{align:"center"},e.ref_user),a.a.createElement(jx,{align:"center"},a.a.createElement(We.a,{variant:"text",color:"info",size:"small",onClick:function(){return function(e){var t=m.find(function(t){return t.emp_id===e.emp_id});O(t),T(!0)}(e)}},"View"),a.a.createElement(We.a,{variant:"text",color:"success",size:"small",onClick:function(){return W(e)}},"Change password")))})))))),a.a.createElement(Ce,{title:"Update Active Users",openPopup:C,setOpenPopup:T},a.a.createElement(vx,{setOpenPopup:T,editData:x,getAllUsersDetails:F,groupsData:g})),a.a.createElement(Ce,{maxWidth:"sm",title:"Add New Employee",openPopup:s,setOpenPopup:f},a.a.createElement(wx,{setOpenPopup:f,refreshPageFunction:F})))},jx=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Lx=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Sx(){Sx=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var kx=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)([]),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(!1),A=Object(l.a)(D,2),I=A[0],F=A[1],G=gt(),W=G.handleSuccess,z=G.handleError,R=G.handleCloseSnackbar,B=G.alertInfo,M=function(e,t){E(Object(u.a)({},b,Object(Y.a)({},e,t)));var r=["Sales Executive","Sales Assistant Deputy Manager","Sales"];"groups"===e&&t.some(function(e){return r.includes(e)})&&F(!0)},q=function(){var e=Object(c.a)(Sx().mark(function e(){var t,r,n;return Sx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,be.getAllUsers("False");case 4:t=e.sent,y(t.data.groups),h(t.data.users),r=t.data.users.filter(function(e){return e.groups.includes("Sales Deputy Manager")||e.groups.includes("Sales Assistant Deputy Manager")}),N(r),n=["Sales Executive","Sales Assistant Deputy Manager","Sales"],t.data.users.some(function(e){return e.groups.some(function(e){return n.includes(e)})})&&F(!0),o(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),z(e.t0);case 18:return e.prev=18,o(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[0,15,18,21]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){q()},[]);var U=function(){var e=Object(c.a)(Sx().mark(function e(t){var r,n,a;return Sx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),o(!0),r={first_name:b.first_name,last_name:b.last_name,contact:b.contact,email:b.email,is_active:b.is_active,group_names:b.groups,ref_user:b.ref_user?b.ref_user.email:null},e.next=6,be.createUsers(b.emp_id,r);case 6:n=e.sent,a=n.data.message||"InActive User Created successfully",W(a),setTimeout(function(){k(!1),q()},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),z(e.t0);case 15:return e.prev=15,o(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),V=f.filter(function(e){return e.first_name.toLowerCase().includes(O.toLowerCase())||e.last_name.toLowerCase().includes(O.toLowerCase())||e.email.toLowerCase().includes(O.toLowerCase())||"string"===typeof e.contact&&e.contact.toLowerCase().includes(O.toLowerCase())||e.groups.some(function(e){return e.toLowerCase().includes(O.toLowerCase())})});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:B.open,onClose:R,severity:B.severity,message:B.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ur,{onSearch:function(e){_(e)},onReset:function(){_("")}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement("h3",{style:{textAlign:"center",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"InActive Employees")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4}))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,["EMP ID","FirstName","LastName","Email","Contact","Designation","Reporting To","Action"].map(function(e,t){return a.a.createElement(Px,{key:t,align:"center"},e)}))),a.a.createElement(Hn.a,null,V.map(function(e,t){return a.a.createElement(Cx,{key:t},a.a.createElement(Px,{align:"center"},e.employee_id),a.a.createElement(Px,{align:"center"},e.first_name),a.a.createElement(Px,{align:"center"},e.last_name),a.a.createElement(Px,{align:"center"},e.email),a.a.createElement(Px,{align:"center"},e.contact),a.a.createElement(Px,{align:"center"},e.groups.map(function(e){return e}).join(",")),a.a.createElement(Px,{align:"center"},e.ref_user),a.a.createElement(Px,{align:"center"},a.a.createElement(We.a,{variant:"contained",color:"info",size:"small",onClick:function(){return function(e){var t=f.find(function(t){return t.emp_id===e.emp_id});E(t),k(!0)}(e)}},"View")))})))))),a.a.createElement(Ce,{title:"Update InActive Users",openPopup:S,setOpenPopup:k},a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return U(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"First Name",variant:"outlined",value:b.first_name,onChange:function(e){return M("first_name",e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Last Name",variant:"outlined",value:b.last_name,onChange:function(e){return M("last_name",e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Contact",variant:"outlined",value:b.contact,onChange:function(e){return M("contact",e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Email",variant:"outlined",value:b.email})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{size:"small",value:b.groups,onChange:function(e,t){M("groups",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:d.map(function(e){return e}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(lr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Groups",placeholder:"Groups"}))}})),I&&a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{id:"grouped-demo",size:"small",value:b.ref_user,onChange:function(e,t){M("ref_user",t)},options:T,groupBy:function(e){return e.groups.includes("Sales Deputy Manager")?"Sales Deputy Manager":e.groups.includes("Sales Assistant Deputy Manager")?"Sales Assistant Deputy Manager":"Other"},getOptionLabel:function(e){return e.email},sx:{width:300},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Team Reference"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(pr.a,{control:a.a.createElement(mr.a,{checked:b.is_active,onChange:function(e){return M("is_active",e.target.checked)}}),label:"Is Active"}))),a.a.createElement(We.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit"))))},Px=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Cx=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Tx(){Tx=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Nx=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),Dx=function(e){var t=e.IDForEdit,r=e.setOpenPopup,o=e.getAllUserProfileData,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)(null),m=Object(l.a)(p,2),d=m[0],v=m[1],g=Object(n.useState)({personal:{first_name:null,middle_name:null,last_name:null,email:null,contact:null,date_of_birth:null,place_of_birth:null,nationality:null,marital_status:null,marriage_date:null,date_of_joining:null,blood_group:null},address:{current:{address:null,city:null,state:null,pin:null,is_permanent_same_as_current:!1},permanent:{address:null,city:null,state:null,pin:null}},kyc:{name:null,account_number:null,ifsc_code:null,branch:null,city:null,state:null,address:null,pan_card_number:null,aadhar_card_number:null,passport_number:null,dl_number:null},emergency_contacts:[{name:null,relationship:null,number:null}],pf_esi_details:{has_pf_esi_account:null,uan_number:null,pf_number:null,esi_number:null},employment_history:[{company_name:null,post_held:null,workedFrom:null,workedTill:null}],education:{school:{name:null,board:null,passout:null},college:{name:null,board:null,passout:null},diploma:{type:null,uni_name:null,passout:null},graduation:{type:null,university:null,passout:null},pg:{masters:null,passout:null},additional_qualifiction:null},medical:{surgery_type:null,pregnancy:null,previous_surgeries:null,known_allergies:null,diabetic:null,hyper_tension:null,heart_issues:null,cancer:null,high_blood_pressure:null,low_blood_pressure:null,asthama_respiratory:null,vision:null,hearing:null},addiction:{tobacco:null,cigarettes:null,alcohol:null},doctor:{name:null,phone_number:null},family_details:[{name:null,relationship:null,blood_group:null,contact_number:null}]}),b=Object(l.a)(g,2),E=b[0],w=b[1];Object(n.useEffect)(function(){t&&x(t)},[t]);var x=function(){var e=Object(c.a)(Tx().mark(function e(t){var r;return Tx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Ke.getUserProfileDataById(t);case 4:r=e.sent,console.log("response",r),w(function(e){return Object(u.a)({},e,r.data)}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error profile",e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(Tx().mark(function e(t){var n;return Tx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),h(!0),delete(n=Object(u.a)({},E)).user,e.next=7,Ke.updateUserProfileData(n.id,n);case 7:r(!1),o(),h(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("error user Profile",e.t0),h(!1);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(at.a,null,a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:O},a.a.createElement(Fe.a,{item:!0,xs:12,sx:{marginTop:"20px",marginBottom:"20px"}},a.a.createElement(Nx,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Upload Profile Picture"})),a.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];t&&t.size<=102400?v(t):alert("Please select an image of size less than 100KB")}}),d&&a.a.createElement("img",{src:URL.createObjectURL(d),alt:"Profile",width:"100"})," ")),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sx:{marginTop:"20px",marginBottom:"20px"}},a.a.createElement(Nx,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Personal Details"})))),a.a.createElement(hr,{formData:E,setFormData:w}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Nx,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Current Address Details"})))),a.a.createElement(yr,{type:"current",formData:E,setFormData:w}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Nx,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Permanent Address Details"})))),a.a.createElement(yr,{type:"permanent",formData:E,setFormData:w}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Nx,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"KYC Details"})))),a.a.createElement(Nr,{formData:E,setFormData:w}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Nx,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Emergency Contact Details"})))),a.a.createElement(gr,{formData:E,setFormData:w}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Nx,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PF & ESI Details"})))),a.a.createElement(br,{formData:E,setFormData:w}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Nx,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Educational Details"})))),a.a.createElement(kr,{formData:E,setFormData:w}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Nx,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Employment Details"})))),a.a.createElement(Pr,{formData:E,setFormData:w}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Nx,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Family Details"})))),a.a.createElement(Cr,{formData:E,setFormData:w}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Nx,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Known Health Issues"})))),a.a.createElement(Or,{formData:E,setFormData:w}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Nx,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Addiction Details"})))),a.a.createElement(Lr,{formData:E,setFormData:w}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Nx,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"Family Doctor Details"})))),a.a.createElement(_r,{formData:E,setFormData:w}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",sx:{marginBottom:"20px"}},"Submit")))))};function Ax(){Ax=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ix=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=gt(),j=_.handleError,L=_.handleCloseSnackbar,S=_.alertInfo,k=function(){var e=Object(c.a)(Ax().mark(function e(){var t;return Ax().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,Ke.getAllUserProfileData();case 4:(t=e.sent).data&&b(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),j(e.t0);case 11:return e.prev=11,d(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[1,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){k()},[]);var P=g.filter(function(e){return Object.values(e.personal||{}).some(function(e){return String(e).toLowerCase().includes(x.toLowerCase())})}),C=function(e){return e?new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(e)):"-"},T=[{label:"ID",key:"ID"},{label:"First Name",key:"First Name"},{label:"Middle Name",key:"Middle Name"},{label:"Last Name",key:"Last Name"},{label:"Email",key:"Email"},{label:"Contact",key:"Contact"},{label:"Date of Birth",key:"Date of Birth"},{label:"Place of Birth",key:"Place of Birth"},{label:"Nationality",key:"Nationality"},{label:"Marital Status",key:"Marital Status"},{label:"Marriage Date",key:"Marriage Date"},{label:"Date of Joining",key:"Date of Joining"},{label:"Blood Group",key:"Blood Group"},{label:"Bank Name",key:"Bank Name"},{label:"Account Number",key:"Account Number"},{label:"IFSC Code",key:"IFSC Code"},{label:"Branch",key:"Branch"},{label:"Bank City",key:"Bank City"},{label:"Bank State",key:"Bank State"},{label:"Bank Address",key:"Bank Address"},{label:"PAN Card Number",key:"PAN Card Number"},{label:"Aadhar Card Number",key:"Aadhar Card Number"},{label:"Passport Number",key:"Passport Number"},{label:"DL Number",key:"DL Number"},{label:"Emergency Contact Name",key:"Emergency Contact Name"},{label:"Emergency Contact Relationship",key:"Emergency Contact Relationship"},{label:"Emergency Contact Number",key:"Emergency Contact Number"},{label:"Has PF ESI Account",key:"Has PF ESI Account"},{label:"UAN Number",key:"UAN Number"},{label:"PF Number",key:"PF Number"},{label:"ESI Number",key:"ESI Number"},{label:"Employment Company Name",key:"Employment Company Name"},{label:"Employment Post Held",key:"Employment Post Held"},{label:"Employment Worked From",key:"Employment Worked From"},{label:"Employment Worked Till",key:"Employment Worked Till"},{label:"School Name",key:"School Name"},{label:"School Board",key:"School Board"},{label:"School Passout",key:"School Passout"},{label:"College Name",key:"College Name"},{label:"College Board",key:"College Board"},{label:"College Passout",key:"College Passout"},{label:"Diploma Type",key:"Diploma Type"},{label:"Diploma Uni Name",key:"Diploma Uni Name"},{label:"Diploma Passout",key:"Diploma Passout"},{label:"Graduation Type",key:"Graduation Type"},{label:"Graduation University",key:"Graduation University"},{label:"Graduation Passout",key:"Graduation Passout"},{label:"PG Masters",key:"PG Masters"},{label:"PG Passout",key:"PG Passout"},{label:"Additional Qualification",key:"Additional Qualification"}],N=P.map(function(e){var t=e.id||"-",r=e.personal||{},n=e.kyc||{},a=e.pf_esi_details||{},o=e.employment_history||[{}],i=e.education||{},c=e.emergency_contacts||[{}],l=i.school||{},u=i.college||{},s=i.diploma||{},f=i.graduation||{},h=i.pg||{},p=i.additional_qualifiction||"-";return{ID:t||"-","First Name":r.first_name||"-","Middle Name":r.middle_name||"-","Last Name":r.last_name||"-",Email:r.email||"-",Contact:r.contact||"-","Date of Birth":r.date_of_birth||"-","Place of Birth":r.place_of_birth||"-",Nationality:r.nationality||"-","Marital Status":r.marital_status||"-","Marriage Date":r.marriage_date||"-","Date of Joining":r.date_of_joining||"-","Blood Group":r.blood_group||"-","Bank Name":n.name||"-","Account Number":n.account_number||"-","IFSC Code":n.ifsc_code||"-",Branch:n.branch||"-","Bank City":n.city||"-","Bank State":n.state||"-","Bank Address":n.address||"-","PAN Card Number":n.pan_card_number||"-","Aadhar Card Number":n.aadhar_card_number||"-","Passport Number":n.passport_number||"-","DL Number":n.dl_number||"-","Emergency Contact Name":c[0].name||"-","Emergency Contact Relationship":c[0].relationship||"-","Emergency Contact Number":c[0].number||"-","Has PF ESI Account":a.has_pf_esi_account||"-","UAN Number":a.uan_number||"-","PF Number":a.pf_number||"-","ESI Number":a.esi_number||"-","Employment Company Name":o[0].company_name||"-","Employment Post Held":o[0].post_held||"-","Employment Worked From":o[0].workedFrom||"-","Employment Worked Till":o[0].workedTill||"-","School Name":l.name||"-","School Board":l.board||"-","School Passout":l.passout||"-","College Name":u.name||"-","College Board":u.board||"-","College Passout":u.passout||"-","Diploma Type":s.type||"-","Diploma Uni Name":s.uni_name||"-","Diploma Passout":s.passout||"-","Graduation Type":f.type||"-","Graduation University":f.university||"-","Graduation Passout":f.passout||"-","PG Masters":h.masters||"-","PG Passout":h.passout||"-","Additional Qualification":p||"-"}}),D=P.map(function(e){return{employee_id:e.id,first_name:e.personal.first_name||"-",last_name:e.personal.last_name||"-",phone_number:e.personal.contact||"-",personal_email:e.personal.email||"-",date_of_birth:e.personal.date_of_birth?C(e.personal.date_of_birth):"-",date_of_joining:e.personal.date_of_joining?C(e.personal.date_of_joining):"-"}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:S.open,onClose:L,severity:S.severity,message:S.message}),a.a.createElement(Je,{open:m}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ur,{onSearch:function(e){O(e)},onReset:function(){O("")}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement("h3",{style:{textAlign:"center",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Personal Profiles")),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Bn.CSVLink,{data:N,headers:T,filename:"user_profiles.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}},a.a.createElement(We.a,{variant:"contained",color:"secondary",textAlign:"end"},"Export Information"))))),P.length>0&&a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,["EMP ID","FIRST NAME","LAST NAME","PERSONAL CONTACT","PERSONAL EMAIL","DATE OF BIRTH","DATE OF JOINING","ACTION"].map(function(e,t){return a.a.createElement(Fx,{key:t,align:"center"},e)}))),a.a.createElement(Hn.a,null,D.map(function(e,t){return a.a.createElement(Gx,{key:t},a.a.createElement(Fx,{align:"center"},e.employee_id),a.a.createElement(Fx,{align:"center"},e.first_name),a.a.createElement(Fx,{align:"center"},e.last_name),a.a.createElement(Fx,{align:"center"},e.phone_number),a.a.createElement(Fx,{align:"center"},e.personal_email),a.a.createElement(Fx,{align:"center"},e.date_of_birth),a.a.createElement(Fx,{align:"center"},e.date_of_joining),a.a.createElement(Fx,{align:"center"},a.a.createElement(We.a,{variant:"outlined",color:"info",size:"small",onClick:function(){return f(e.id),void o(!0)}},"View")))})))))),a.a.createElement(Ce,{fullScreen:!0,title:"Update User Profile",openPopup:r,setOpenPopup:o},a.a.createElement(Dx,{setOpenPopup:o,IDForEdit:s,getAllUserProfileData:k})))},Fx=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:14}),t}),Gx=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Wx=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}("Director","HR"),r=Object(n.useState)(t?0:4),o=Object(l.a)(r,2),i=o[0],c=o[1],u=[{label:"Active Employees",visible:t,index:0},{label:"InActive Employees",visible:t,index:1},{label:"Personal Profiles",visible:t,index:2}].filter(function(e){return e.visible}),f=u.map(function(e){return e.index}),h={0:a.a.createElement(_x,null),1:a.a.createElement(kx,null),2:a.a.createElement(Ix,null)};return a.a.createElement("div",null,a.a.createElement(Xr,{tabs:u,activeTab:i,onTabChange:function(e){return c(f[e])}}),f.includes(i)&&a.a.createElement("div",null,h[i]))};function zx(){zx=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Rx=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),Bx=function(e){var t=e.setOpenPopup,r=e.getSalesReturnDetails,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)(),p=Object(l.a)(h,2),m=p[0],d=p[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)({seller_unit:"",company:"",invoice_no:[]}),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)([{product:"",quantity:"",rate:"",amount:"",cost:""}]),C=Object(l.a)(P,2),T=C[0],N=C[1],D=gt(),A=D.handleSuccess,I=D.handleError,F=D.handleCloseSnackbar,G=D.alertInfo,W=function(){var e=Object(c.a)(zx().mark(function e(){var t;return zx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,st.getAllPaginateSellerAccountData("all");case 3:t=e.sent,_(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error fetching seller account data:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){W()},[]);var z=function(){var e=Object(c.a)(zx().mark(function e(t){var r;return zx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),f(!0),e.next=5,st.getSalesReturnBySearchCompany(S.seller_unit,S.company);case 5:r=e.sent,E(r.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),I(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(c.a)(zx().mark(function e(t){var r,n,a;return zx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{f(!0),r=[],n=[],t.map(function(e){return d(e),n.push(e.id),e.products_si.map(function(e){var t={product:e.product,quantity:e.quantity,rate:e.rate,amount:e.amount,cost:e.cost};return r.push(t),t})}),a=r.map(function(e){return{product:e.product,quantity:e.quantity,rate:e.rate,amount:e.amount,cost:e.cost}}),N(a),f(!1)}catch(o){f(!1),console.log("err",o),alert(o.response.data.errors.proforma_invoice)}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(zx().mark(function e(n){var a,o,i,c;return zx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),a=T.map(function(e){return{product:e.product,quantity:e.quantity,rate:e.rate,amount:e.rate*e.quantity,cost:e.cost}}),o={invoice_type:"Sales Return",sales_invoices:S.invoice_no,gst_number:m.buyer_details.gst_number,pan_number:m.buyer_details.pan_number,address:m.buyer_details.address,state:m.buyer_details.state,city:m.buyer_details.city,pincode:m.buyer_details.pincode,country:m.buyer_details.country,supplier_name:m.buyer_details.supplier_name,seller_address:m.seller_details.seller_address,seller_city:m.seller_details.seller_city,seller_state:m.seller_details.seller_state,seller_gst:m.seller_details.seller_gst,seller_email:m.seller_details.seller_email,seller_pan:m.seller_details.seller_pan,seller_pincode:m.seller_details.seller_pincode,seller_contact:m.seller_details.seller_contact,seller_state_code:m.seller_details.seller_state_code,seller_unit:S.seller_unit,products_data:a,user:m.products_si[0].user},f(!0),e.next=7,Kr.createSalesReturn(o);case 7:i=e.sent,c=i.data.message||"Sales Return Created successfully",A(c),setTimeout(function(){t(!1),r()},300),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),I(e.t0);case 16:return e.prev=16,f(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:G.open,onClose:F,severity:G.severity,message:G.message}),a.a.createElement(Je,{open:s}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return B(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(sr,{name:"seller_account",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return k(function(e){return Object(u.a)({},e,{seller_unit:t})})},options:O.map(function(e){return e.unit}),getOptionLabel:function(e){return e},fullWidth:!0,label:"Seller Account"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ae.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:1}},a.a.createElement(Ve,{required:!0,sx:{flexGrow:1},fullWidth:!0,name:"company",size:"small",label:"Search By Company",variant:"outlined",onChange:function(e){return k(function(t){return Object(u.a)({},t,Object(Y.a)({},e.target.name,e.target.value))})},value:S.company}),a.a.createElement(We.a,{onClick:function(e){return z(e)},variant:"contained",sx:{height:"40px"}},"Submit"))),b&&b.length>0&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(ur.a,{fullWidth:!0,multiple:!0,size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){var r=t.map(function(e){return e.invoice_no});k(function(e){return Object(u.a)({},e,{invoice_no:r})}),R(t)},options:b,getOptionLabel:function(e){return e.invoice_no||""},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Invoice No"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,size:"small",label:"Supplier Name",variant:"outlined",value:m&&m.buyer_details?m.buyer_details.supplier_name:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,multiline:!0,size:"small",label:"Shipping Address",variant:"outlined",value:m&&m.buyer_details?m.buyer_details.address:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,size:"small",label:"Shipping State",variant:"outlined",value:m&&m.buyer_details?m.buyer_details.state:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,size:"small",label:"Shipping City",variant:"outlined",value:m&&m.buyer_details?m.buyer_details.city:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,size:"small",label:"Shipping Pincode",variant:"outlined",value:m&&m.buyer_details?m.buyer_details.pincode:""})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Rx,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),T&&T.length>0&&T.map(function(e,t){if(Number(e.pending_quantity)<=0)return null;var r=(Number(e.quantity)||0)*(Number(e.rate)||0);return a.a.createElement(a.a.Fragment,{key:t}," ",a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,name:"product",size:"small",label:"Product",variant:"outlined",value:e.product})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity,onChange:function(e){return function(e,t){var r=Object(vr.a)(T);r[e][t.target.name]=parseFloat(t.target.value)||0,N(r)}(t,e)},error:e.pending_quantity<e.quantity,helperText:e.pending_quantity<e.quantity?"Quantity must be less than or equal to pending quantity":""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,disabled:!0,name:"amount",size:"small",label:"Amount",variant:"outlined",value:r.toFixed(2),InputProps:{readOnly:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:1},a.a.createElement(We.a,{onClick:function(){return function(e){var t=Object(vr.a)(T);t.splice(e,1),N(t)}(t)},variant:"contained"},"Remove")))})),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Mx(){Mx=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var qx=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=gt(),P=k.handleError,C=k.handleCloseSnackbar,T=k.alertInfo,N=Object(n.useCallback)(Object(c.a)(Mx().mark(function e(){var t;return Mx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kr.getSalesReturnData(m,x);case 4:t=e.sent,f(t.data.results),b(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),P(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[m,x]);Object(n.useEffect)(function(){N()},[m,x]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:T.open,onClose:C,severity:T.severity,message:T.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(Ur,{onSearch:function(e){O(e),d(1)},onReset:function(){O(""),d(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,md:4,sx:{textAlign:{xs:"center",md:"center"}}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Sales Return")),a.a.createElement(Fe.a,{item:!0,xs:12,md:4,sx:{display:"flex",justifyContent:{xs:"center",md:"flex-end"}}},a.a.createElement(We.a,{color:"success",variant:"contained",onClick:function(){return S(!0)}},"Sales Return")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(Yx,null),a.a.createElement(Yx,{align:"center"},"DATE"),a.a.createElement(Yx,{align:"center"},"INVOICE TYPE"),a.a.createElement(Yx,{align:"center"},"INVOICE NO"),a.a.createElement(Yx,{align:"center"},"COMPANY"),a.a.createElement(Yx,{align:"center"},"TOTAL"))),a.a.createElement(Hn.a,null,s.map(function(e){return a.a.createElement(Ux,{key:e.id,row:e})})))),a.a.createElement(Vr,{totalPages:g,currentPage:m,handlePageChange:function(e,t){d(t)}}))),a.a.createElement(Ce,{fullScreen:!0,title:"Create Sales Return",openPopup:L,setOpenPopup:S},a.a.createElement(Bx,{getSalesReturnDetails:N,setOpenPopup:S})))};function Ux(e){var t=e.row,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Vx,{sx:{"& > *":{borderBottom:"unset"},textDecoration:t.cancelled?"line-through":"none"}},a.a.createElement(Yx,null,a.a.createElement(d.a,{"aria-label":"expand row",size:"small",onClick:function(){return c(!i)}},i?a.a.createElement(Sm.a,null):a.a.createElement(jm.a,null))),a.a.createElement(Yx,{align:"center"},t.invoice_date),a.a.createElement(Yx,{align:"center"},t.invoice_type),a.a.createElement(Yx,{align:"center"},t.invoice_no),a.a.createElement(Yx,{align:"center"},t.supplier_name),a.a.createElement(Yx,{align:"center"},t.total)),a.a.createElement(Un.a,null,a.a.createElement(qn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(J.a,{in:i,timeout:"auto",unmountOnExit:!0},a.a.createElement(Ae.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Product"),a.a.createElement(Vn.a,{size:"small","aria-label":"purchases"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,{align:"center"},"PRODUCT CODE"),a.a.createElement(qn.a,{align:"center"},"QUANTITY"),a.a.createElement(qn.a,{align:"center"},"AMOUNT"))),a.a.createElement(Hn.a,null,t.products_data.map(function(e){return a.a.createElement(Un.a,{key:e.date},a.a.createElement(qn.a,{component:"th",scope:"row",align:"center"},e.product),a.a.createElement(qn.a,{align:"center"},e.quantity),a.a.createElement(qn.a,{align:"center"},e.amount))}))))))))}var Yx=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Vx=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Qx(){Qx=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Hx=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),Jx={someDate:(new Date).toISOString().substring(0,10)},Kx=function(e){var t=e.getSalesReturnInventoryDetails,r=e.setOpenPopup,o=e.selectedRow,i=gt(),s=i.handleSuccess,f=i.handleError,h=i.handleCloseSnackbar,p=i.alertInfo,m=Object(n.useState)(!1),d=Object(l.a)(m,2),v=d[0],g=d[1],b=Object(n.useState)(o.products.map(function(e){return Object(u.a)({},e,{rate:""})})),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)({invoice_type:"Supplier",batch_no:o.batch_no.join(", "),generation_date:(new Date).toISOString().substring(0,10),vendor:"",transporter_name:"",seller_unit:o.unit}),_=Object(l.a)(O,2),j=_[0],L=_[1],S=function(e){var t=e.target,r=t.name,n=t.value;L(Object(u.a)({},j,Object(Y.a)({},r,n)))},k=function(){var e=Object(c.a)(Qx().mark(function e(n){var a,o;return Qx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={invoice_type:j.invoice_type,generation_date:j.generation_date,sales_return:j.sales_return,transporter_name:j.transporter_name,vendor:j.vendor,seller_unit:j.seller_unit,products:w},e.prev=2,g(!0),e.next=6,st.createSalesinvoiceData(a);case 6:o=e.sent,s(o.data.message||"Supplier Invoice created successfully!"),r(!1),t(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),f(e.t0);case 15:return e.prev=15,g(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,12,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:p.open,onClose:h,severity:p.severity,message:p.message}),a.a.createElement(Je,{open:v}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return k(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,size:"small",label:"Invoice No",variant:"outlined",value:j.batch_no})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"seller Unit",variant:"outlined",value:j.seller_unit})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"generation_date",size:"small",label:"Generation Date",variant:"outlined",value:j.generation_date||Jx.someDate,onChange:S,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"vendor",size:"small",label:"Vendor",variant:"outlined",value:j.vendor,onChange:S})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"transporter_name",size:"small",label:"Transporter Name",variant:"outlined",value:j.transporter_name,onChange:S})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Hx,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),w.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:t},a.a.createElement(Fe.a,{item:!0,xs:12,sm:5},a.a.createElement(Ve,{fullWidth:!0,name:"product",size:"small",label:"Product",variant:"outlined",value:e.product})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate,onChange:function(e){return function(e,t){var r=t.target,n=r.name,a=r.value,o=Object(vr.a)(w);if(o[e]=Object(u.a)({},o[e],Object(Y.a)({},n,a)),"rate"===n||"quantity"===n){var i=parseFloat(o[e].rate)||0,c=parseFloat(o[e].quantity)||0;o[e].amount=(i*c).toFixed(2)}x(o)}(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"amount",size:"small",label:"Amount",variant:"outlined",value:e.amount||"0.00",InputProps:{readOnly:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:1},a.a.createElement(We.a,{onClick:function(){return function(e){var t=Object(vr.a)(w);t.splice(e,1),x(t)}(t)},variant:"contained"},"Remove")))})),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Zx(){Zx=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Xx=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),$x={someDate:(new Date).toISOString().substring(0,10)},eO=function(e){var t=e.getSalesReturnInventoryDetails,r=e.setOpenPopup,o=e.selectedRow,i=gt(),s=i.handleSuccess,f=i.handleError,h=i.handleCloseSnackbar,p=i.alertInfo,m=Object(n.useState)(!1),d=Object(l.a)(m,2),v=d[0],g=d[1],b=Object(n.useState)(o.products.map(function(e){return Object(u.a)({},e,{rate:""})})),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)({invoice_type:"Scrap",batch_no:o.batch_no.join(", "),generation_date:(new Date).toISOString().substring(0,10),vendor:"",transporter_name:"",seller_unit:o.unit}),_=Object(l.a)(O,2),j=_[0],L=_[1],S=function(e){var t=e.target,r=t.name,n=t.value;L(Object(u.a)({},j,Object(Y.a)({},r,n)))},k=function(){var e=Object(c.a)(Zx().mark(function e(n){var a,o;return Zx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={invoice_type:j.invoice_type,generation_date:j.generation_date,sales_return:j.sales_return,transporter_name:j.transporter_name,vendor:j.vendor,seller_unit:j.seller_unit,products:w},e.prev=2,g(!0),e.next=6,st.createSalesinvoiceData(a);case 6:o=e.sent,s(o.data.message||"Scrap Invoice created successfully!"),r(!1),t(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),f(e.t0);case 15:return e.prev=15,g(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,12,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:p.open,onClose:h,severity:p.severity,message:p.message}),a.a.createElement(Je,{open:v}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return k(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,size:"small",label:"Invoice No",variant:"outlined",value:j.batch_no})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"seller Unit",variant:"outlined",value:j.seller_unit})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"generation_date",size:"small",label:"Generation Date",variant:"outlined",value:j.generation_date||$x.someDate,onChange:S,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"vendor",size:"small",label:"Vendor",variant:"outlined",value:j.vendor,onChange:S})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"transporter_name",size:"small",label:"Transporter Name",variant:"outlined",value:j.transporter_name,onChange:S})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Xx,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),w.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:t},a.a.createElement(Fe.a,{item:!0,xs:12,sm:5},a.a.createElement(Ve,{fullWidth:!0,name:"product",size:"small",label:"Product",variant:"outlined",value:e.product})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate,onChange:function(e){return function(e,t){var r=t.target,n=r.name,a=r.value,o=Object(vr.a)(w);if(o[e]=Object(u.a)({},o[e],Object(Y.a)({},n,a)),"rate"===n||"quantity"===n){var i=parseFloat(o[e].rate)||0,c=parseFloat(o[e].quantity)||0;o[e].amount=(i*c).toFixed(2)}x(o)}(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"amount",size:"small",label:"Amount",variant:"outlined",value:e.amount||"0.00",InputProps:{readOnly:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:1},a.a.createElement(We.a,{onClick:function(){return function(e){var t=Object(vr.a)(w);t.splice(e,1),x(t)}(t)},variant:"contained"},"Remove")))})),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function tO(){tO=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var rO=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),nO=function(e){var t=e.getSalesReturnInventoryDetails,r=e.setOpenPopup,o=e.selectedRow;console.log("selectedRow",o);var i=gt(),s=i.handleSuccess,f=i.handleError,h=i.handleCloseSnackbar,p=i.alertInfo,m=Object(n.useState)([]),d=Object(l.a)(m,2),v=d[0],g=d[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(""),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(o.products.map(function(e){return Object(u.a)({},e,{quantity:e.quantity||0})})),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)([]),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)([]),F=Object(l.a)(I,2),G=F[0],W=F[1],z=function(){var e=Object(c.a)(tO().mark(function e(){var t,r;return tO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,Pn.getAllConsumable("all");case 4:t=e.sent,console.log("consumable",t.data),r=t.data.map(function(e){return{product:e.name,unit:e.unit}}),W(r),x(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),f(e.t0),x(!1),console.log("err",e.t0);case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(c.a)(tO().mark(function e(){var t;return tO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pn.getProductPriceList();case 3:t=e.sent,g(t.data.products),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("error potential",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){z(),R()},[]);var B=function(e,t){L(Object(u.a)({},j,Object(Y.a)({},e,t)))},M=function(e,t){var r=t.target,n=r.name,a=r.value;A(function(t){return t.map(function(t,r){return r===e?Object(u.a)({},t,Object(Y.a)({},n,a)):t})})},q=function(){var e=Object(c.a)(tO().mark(function e(n){var a,i;return tO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={seller_account:o.unit,source_key:o.batch_no.join(", "),product:j.product,quantity:j.quantity,raw_materials:P,consumable:D},e.prev=2,x(!0),e.next=6,Kr.createReworkinvoiceData(a);case 6:i=e.sent,s(i.data.message||"Rework Entry created successfully!"),r(!1),t(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),f(e.t0);case 15:return e.prev=15,x(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,12,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:p.open,onClose:h,severity:p.severity,message:p.message}),a.a.createElement(Je,{open:w}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return q(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,size:"small",label:"Batch No",variant:"outlined",value:o.batch_no.join(", ")})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Seller Unit",variant:"outlined",value:o.unit})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return B("product",t)},options:v.map(function(e){return e.product__name}),getOptionLabel:function(e){return e},fullWidth:!0,label:"Product"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:j.quantity,onChange:function(e,t){return B("quantity",e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(rO,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"RAW MATERIALS"})))),P.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:t},a.a.createElement(Fe.a,{item:!0,xs:12,sm:5},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:e.product,InputProps:{readOnly:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",type:"number",value:e.quantity.toString(),onChange:function(e){return function(e,t){var r=Number(t);C(function(t){return t.map(function(t,n){return n===e?Object(u.a)({},t,{quantity:r}):t})})}(t,e.target.value)},helperText:"Please ensure the quantity entered is available in stock."})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{onClick:function(){return function(e){var t=Object(vr.a)(P);t.splice(e,1),C(t)}(t)},variant:"contained"},"Remove")))}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(rO,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"CONSUMABLES"})))),D.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:t},a.a.createElement(Fe.a,{item:!0,xs:12,sm:5},a.a.createElement(sr,{options:G,getOptionLabel:function(e){return e.product||""},value:G.find(function(t){return t.product===e.product})||null,onChange:function(e,r){M(t,{target:{name:"product",value:r?r.product:""}}),M(t,{target:{name:"unit",value:r?r.unit:""}})},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Consumable Product",variant:"outlined",size:"small"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"unit",size:"small",label:"Unit",variant:"outlined",value:e.unit||"",InputProps:{readOnly:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity,onChange:function(e){return M(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:1},a.a.createElement(We.a,{onClick:function(){return function(e){A(function(t){return t.filter(function(t,r){return r!==e})})}(t)},variant:"contained"},"Remove")))}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{onClick:function(){A(function(e){return[].concat(Object(vr.a)(e),[{product:"",quantity:0}])})},variant:"contained"},"Add Consumable"))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function aO(){aO=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var oO=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),f=Object(l.a)(i,2),h=f[0],p=f[1],m=Object(n.useState)(1),d=Object(l.a)(m,2),y=d[0],v=d[1],g=Object(n.useState)(0),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(""),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(!1),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(!1),T=Object(l.a)(C,2),N=T[0],D=T[1],A=Object(n.useState)(!1),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(s.c)(function(e){return e.auth}).profile,z=Object(n.useState)({unit:"",batch_no:[],products:[]}),R=Object(l.a)(z,2),B=R[0],M=R[1],q=Object(n.useState)(!0),U=Object(l.a)(q,2),Y=U[0],V=U[1],Q=Object(n.useState)(!1),H=Object(l.a)(Q,2),J=H[0],K=H[1],Z=gt(),X=Z.handleError,$=Z.handleCloseSnackbar,ee=Z.alertInfo,te=Object(n.useCallback)(function(){var e=Object(c.a)(aO().mark(function e(t,r){var n;return aO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kr.getSalesReturnInventoryData(t,r);case 4:n=e.sent,p(n.data.results),w(Math.ceil(n.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),X(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,r){return e.apply(this,arguments)}}(),[]);Object(n.useEffect)(function(){te(y,_)},[y,_]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:ee.open,onClose:$,severity:ee.severity,message:ee.message}),J&&a.a.createElement(Xe.a,{severity:"error",onClose:function(){return K(!1)}},"All selected items must have the same description to create a rework entry."),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:3},a.a.createElement(Ur,{onSearch:function(e){j(e),v(1)},onReset:function(){j(""),v(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,md:4,sx:{textAlign:{xs:"center",md:"center"}}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Sales Return Inventory")),a.a.createElement(Fe.a,{item:!0,xs:12,md:5},a.a.createElement(We.a,{disabled:Y,onClick:function(){return P(!0)},variant:"outlined"},"Supplier Invoice"),a.a.createElement(We.a,{sx:{marginLeft:"5px"},disabled:Y,onClick:function(){return D(!0)},variant:"outlined",color:"success"},"Scrap Invoice"),a.a.createElement(We.a,{sx:{marginLeft:"5px"},disabled:Y,onClick:function(){1===new Set(B.products.map(function(e){return e.description})).size?G(!0):K(!0)},variant:"outlined",color:"secondary"},"Rework Entry")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(iO,{align:"center"},"Checkbox"),a.a.createElement(iO,{align:"center"},"UNIT"),a.a.createElement(iO,{align:"center"},"BATCH_NO"),a.a.createElement(iO,{align:"center"},"PRODUCT"),a.a.createElement(iO,{align:"center"},"DESCRIPTION"),a.a.createElement(iO,{align:"center"},"QUANTITY"),(W.groups.includes("Director")||W.groups.includes("Accounts"))&&a.a.createElement(iO,{align:"center"},"RATE"),(W.groups.includes("Director")||W.groups.includes("Accounts"))&&a.a.createElement(iO,{align:"center"},"AMOUNT"))),a.a.createElement(Hn.a,null,h.map(function(e){return a.a.createElement(cO,null,a.a.createElement(iO,{align:"center"},a.a.createElement(mr.a,{checked:B.products.some(function(t){return t.id===e.id}),onChange:function(){return function(e){var t=e.id,r=e.unit,n=e.batch_no,a=e.product,o=e.quantity,i=e.rate,c=e.description;M(function(e){var l,s,f=e.products.findIndex(function(e){return e.id===t});return f>-1?(l=e.products.filter(function(e){return e.id!==t}),s=e.batch_no.filter(function(e,t){return t!==f})):(l=[].concat(Object(vr.a)(e.products),[{id:t,product:a,quantity:o,rate:i,description:c}]),s=[].concat(Object(vr.a)(e.batch_no),[n])),V(0===l.length),Object(u.a)({},e,{unit:r||e.unit,batch_no:s,products:l})})}(e)},inputProps:{"aria-label":"controlled"}})),a.a.createElement(iO,{align:"center"},e.unit),a.a.createElement(iO,{align:"center"},e.batch_no),a.a.createElement(iO,{align:"center"},e.product),a.a.createElement(iO,{align:"center"},e.description),a.a.createElement(iO,{align:"center"},e.quantity),(W.groups.includes("Director")||W.groups.includes("Accounts"))&&a.a.createElement(iO,{align:"center"},e.rate),(W.groups.includes("Director")||W.groups.includes("Accounts"))&&a.a.createElement(iO,{align:"center"},e.amount))})))),a.a.createElement(Vr,{totalPages:E,currentPage:y,handlePageChange:function(e,t){v(t)}}))),a.a.createElement(Ce,{fullScreen:!0,title:"Create Supplier Invoice",openPopup:k,setOpenPopup:P},a.a.createElement(Kx,{getSalesReturnInventoryDetails:te,setOpenPopup:P,selectedRow:B})),a.a.createElement(Ce,{fullScreen:!0,title:"Create Scrap Invoice",openPopup:N,setOpenPopup:D},a.a.createElement(eO,{getSalesReturnInventoryDetails:te,setOpenPopup:D,selectedRow:B})),a.a.createElement(Ce,{fullScreen:!0,title:"Create Rework Entry",openPopup:F,setOpenPopup:G},a.a.createElement(nO,{getSalesReturnInventoryDetails:te,setOpenPopup:G,selectedRow:B})))},iO=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),cO=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),lO=function(e){var t=e.selectedRow;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,null,a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:500},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(uO,{align:"center"},"Product"),a.a.createElement(uO,{align:"center"},"Unit"),a.a.createElement(uO,{align:"center"},"Rate"),a.a.createElement(uO,{align:"center"},"Quantity"),a.a.createElement(uO,{align:"center"},"Amount"))),a.a.createElement(Hn.a,null,t&&t.raw_materials.map(function(e,t){return a.a.createElement(sO,{key:t},a.a.createElement(uO,{align:"center"},e.product),a.a.createElement(uO,{align:"center"},e.unit),a.a.createElement(uO,{align:"center"},e.rate),a.a.createElement(uO,{align:"center"},e.quantity),a.a.createElement(uO,{align:"center"},e.amount))})))))))},uO=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),sO=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),fO=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),hO=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),pO=function(e){var t=e.selectedRow;return Object(n.useEffect)(function(){console.log("value from SourceViewList",t)},[t]),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,null,a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:500},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(fO,{align:"center"},"Product"),a.a.createElement(fO,{align:"center"},"Quantity"),a.a.createElement(fO,{align:"center"},"Rate"),a.a.createElement(fO,{align:"center"},"Amount"),a.a.createElement(fO,{align:"center"},"Key"))),a.a.createElement(Hn.a,null,t.source_list&&t.source_list.map(function(e,t){return a.a.createElement(hO,{key:t},a.a.createElement(fO,{align:"center"},e.product),a.a.createElement(fO,{align:"center"},e.quantity),a.a.createElement(fO,{align:"center"},e.rate),a.a.createElement(fO,{align:"center"},e.amount),a.a.createElement(fO,{align:"center"},e.source_key))}))))))},mO=function(e){var t=e.selectedRow,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],c=o[1],u=Object(n.useState)(t),s=Object(l.a)(u,2),f=s[0],h=s[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,null,a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:500},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(dO,{align:"center"},"Product"),a.a.createElement(dO,{align:"center"},"Unit"),a.a.createElement(dO,{align:"center"},"Quantity"),a.a.createElement(dO,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,t&&t.consumable.map(function(e,t){return a.a.createElement(yO,{key:t},a.a.createElement(dO,{align:"center"},e.product),a.a.createElement(dO,{align:"center"},e.unit),a.a.createElement(dO,{align:"center"},e.quantity),a.a.createElement(dO,{align:"center"},a.a.createElement(We.a,{color:"primary",variant:"outlined",onClick:function(){return h(e),void c(!0)}},"View Source List")))})))))),a.a.createElement(Ce,{maxWidth:"xl",title:"Source View List",openPopup:i,setOpenPopup:c},a.a.createElement(pO,{selectedRow:f})))},dO=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),yO=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function vO(){vO=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var gO=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),f=u[0],h=u[1],p=Object(n.useState)(1),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)(0),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(!1),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(!1),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(s.c)(function(e){return e.auth}).profile,W=gt(),z=W.handleSuccess,R=W.handleError,B=W.handleCloseSnackbar,M=W.alertInfo,q=Object(n.useCallback)(Object(c.a)(vO().mark(function e(){var t;return vO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kr.getReworkinvoiceData(d,O);case 4:t=e.sent,console.log("rework Data",t.data.results),h(t.data.results),E(Math.ceil(t.data.count/25)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),R(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])})),[d,O]);Object(n.useEffect)(function(){q()},[d,O]);var U=function(){var e=Object(c.a)(vO().mark(function e(t){var r;return vO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),r={is_accepted:!0},e.next=5,Kr.updateReworkInvoiceData(t.id,r);case 5:z("Product Accepted Successfully"),q(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),R(e.t0),console.log("error Store Accepting",e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,9,13,16]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:M.open,onClose:B,severity:M.severity,message:M.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(Ur,{onSearch:function(e){_(e),y(1)},onReset:function(){_(""),y(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,md:4,sx:{textAlign:{xs:"center",md:"center"}}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Rework Entry")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(bO,{align:"center"},"PRODUCT"),a.a.createElement(bO,{align:"center"},"SELLER ACOUNT"),a.a.createElement(bO,{align:"center"},"BATCH_NO"),a.a.createElement(bO,{align:"center"},"CREATED BY"),a.a.createElement(bO,{align:"center"},"CREATION DATE"),a.a.createElement(bO,{align:"center"},"QUANTITY"),a.a.createElement(bO,{align:"center"},"RATE"),a.a.createElement(bO,{align:"center"},"AMOUNT"),a.a.createElement(bO,{align:"center"},"ACCEPT"),a.a.createElement(bO,{align:"center"},"ACTION"))),a.a.createElement(Hn.a,null,f.map(function(e){return a.a.createElement(EO,null,a.a.createElement(bO,{align:"center"},e.product),a.a.createElement(bO,{align:"center"},e.seller_account),a.a.createElement(bO,{align:"center"},e.batch),a.a.createElement(bO,{align:"center"},e.created_by),a.a.createElement(bO,{align:"center"},e.creation_date),a.a.createElement(bO,{align:"center"},e.quantity),(G.groups.includes("Director")||G.groups.includes("Accounts"))&&a.a.createElement(bO,{align:"center"},e.rate),(G.groups.includes("Director")||G.groups.includes("Accounts"))&&a.a.createElement(bO,{align:"center"},e.amount),a.a.createElement(bO,{align:"center"},a.a.createElement(Ei.a,{checked:e.is_accepted,inputProps:{"aria-label":"controlled"},onClick:function(){return U(e)}})),a.a.createElement(bO,{align:"center"},a.a.createElement(We.a,{color:"info",variant:"text",onClick:function(){return k(e),void F(!0)}},"Raw Materials"),a.a.createElement(We.a,{color:"secondary",variant:"text",onClick:function(){return k(e),void N(!0)}},"Consumable")))})))),a.a.createElement(Vr,{totalPages:b,currentPage:d,handlePageChange:function(e,t){y(t)}})),a.a.createElement(Ce,{maxWidth:"md",title:"Consumable",openPopup:T,setOpenPopup:N},a.a.createElement(mO,{selectedRow:S,setOpenPopup:N})),a.a.createElement(Ce,{maxWidth:"md",title:"Raw Material",openPopup:I,setOpenPopup:F},a.a.createElement(lO,{selectedRow:S,setOpenPopup:F}))))},bO=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),EO=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),wO=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=[{label:"Sales Return",roles:["Director","Accounts"],component:a.a.createElement(qx,null)},{label:"Sales Return Inventory",roles:["Director","Accounts","Production"],component:a.a.createElement(oO,null)},{label:"Rework Entry",roles:["Director","Accounts","Production"],component:a.a.createElement(gO,null)}].filter(function(t){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}.apply(void 0,Object(vr.a)(t.roles))}),r=Object(n.useState)(0),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Xr,{tabs:t.map(function(e){return{label:e.label,index:e.index}}),activeTab:i,onTabChange:function(e){c(e)}}),t.length>0&&t[i]?a.a.createElement("div",null,t[i].component):null)};function xO(){xO=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var OO=function(e){var t=e.getDebitCreditNotesData,r=e.setOpenPopup,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)({customer:"",seller_account:"",note_type:"",reason:"",sales_invoices:[],gst_percentage:"",amount:null,total_amount:null,notes:""}),j=Object(l.a)(_,2),L=j[0],S=j[1],k=gt(),P=k.handleSuccess,C=k.handleError,T=k.handleCloseSnackbar,N=k.alertInfo,D=function(){var e=Object(c.a)(xO().mark(function e(){var t,r,n,a;return xO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Promise.all([st.getAllPaginateSellerAccountData("all"),st.getCustomersList()]);case 4:t=e.sent,r=Object(l.a)(t,2),n=r[0],a=r[1],O(n.data),d(a.data.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),C(e.t0);case 15:return e.prev=15,f(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){D()},[]);var A=function(){var e=Object(c.a)(xO().mark(function e(t,r){return xO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:S(function(e){return Object(u.a)({},e,{seller_account:r})});case 1:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),I=function(){var e=Object(c.a)(xO().mark(function e(t,r){var n;return xO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),S(function(e){return Object(u.a)({},e,{customer:r})}),e.prev=2,f(!0),e.next=6,st.getSalesReturnBySearchCompany(L.seller_account,r);case 6:n=e.sent,b(n.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),C(e.t0);case 13:return e.prev=13,f(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[2,10,13,16]])}));return function(t,r){return e.apply(this,arguments)}}(),F=function(e,t){return e&&t?(e+e*(t/100)).toFixed(2):""},G=function(){var e=Object(c.a)(xO().mark(function e(n){var a,o,i;return xO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),a=Object(u.a)({},L),f(!0),e.next=6,st.CreateDebitCreditNote(a);case 6:o=e.sent,i=o.data.message||"Debit/Credit Note Created Successfully",P(i),setTimeout(function(){r(!1),t()},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),C(e.t0);case 15:return e.prev=15,f(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:N.open,onClose:T,severity:N.severity,message:N.message}),a.a.createElement(Je,{open:s}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:G},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"seller_account",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:A,options:x.map(function(e){return e.unit}),getOptionLabel:function(e){return e},fullWidth:!0,label:"Seller Account"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"customer",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:I,options:m,getOptionLabel:function(e){return e},fullWidth:!0,label:"Customer"})),g&&g.length>0&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(ur.a,{fullWidth:!0,multiple:!0,size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){var r=t.map(function(e){return e.invoice_no});S(function(e){return Object(u.a)({},e,{sales_invoices:r})})},options:g,getOptionLabel:function(e){return e.invoice_no||""},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Invoice No"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"note_type",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return S(function(e){return Object(u.a)({},e,{note_type:t})})},options:_O,getOptionLabel:function(e){return e},fullWidth:!0,label:"Note Type"})),"Debit"===L.note_type&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"reason",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return S(function(e){return Object(u.a)({},e,{reason:t})})},options:jO,getOptionLabel:function(e){return e},fullWidth:!0,label:"Reason"})),"Credit"===L.note_type&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"reason",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return S(function(e){return Object(u.a)({},e,{reason:t})})},options:LO,getOptionLabel:function(e){return e},fullWidth:!0,label:"Reason"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Amount",name:"amount",variant:"outlined",type:"number",value:L.amount||"",onChange:function(e){var t=e.target.value,r=""===t?"":parseFloat(t);S(function(e){return Object(u.a)({},e,{amount:r,total_amount:F(r,e.gst_percentage)})})},InputProps:{inputProps:{min:0}}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"gst_percentage",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){S(function(e){return Object(u.a)({},e,{gst_percentage:t,total_amount:F(e.amount,t)})})},options:SO,getOptionLabel:function(e){return e},fullWidth:!0,label:"GST in Percent"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Total Amount",name:"total_amount",variant:"outlined",type:"number",value:L.total_amount||"",InputProps:{readOnly:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Add Notes",name:"notes",variant:"outlined",type:"text",value:L.notes||"",onChange:function(e){S(function(t){return Object(u.a)({},t,Object(Y.a)({},e.target.name,e.target.value))})}}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},_O=["Debit","Credit"],jO=["Rate","Transport"],LO=["Rate","Discount","Quality"],SO=["0","12","18"],kO=r(118),PO=r.n(kO);function CO(){CO=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var TO=function(e){var t=e.invoiceNoteData,r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],s=o[1],f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],d=function(){var e=Object(c.a)(CO().mark(function e(){var r;return CO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,st.getDebitCreditNoteById(t.id);case 4:r=e.sent,s(r.data.sales_invoices),m(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),m(!1);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){t&&d()},[t.id]);var y=Object(n.useRef)(),v=(t.total_amount-t.amount).toFixed(2);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:p}),a.a.createElement("div",{className:"container-fluid mb-2",style:{border:"1px Solid #000000"}},a.a.createElement("div",{className:"row p-2"},a.a.createElement("div",{className:"col-xs-12 "}," ",a.a.createElement(We.a,{variant:"contained",style:{marginRight:"10px"},color:"info",onClick:function(){var e=y.current;m(!0),PO()(e,{scale:5,useCORS:!0}).then(function(e){var r=e.toDataURL("image/jpeg",.6),n=new zi.a("p","pt","a4",!0),a=n.getImageProperties(r),o=n.internal.pageSize.getWidth(),i=a.height*o/a.width;n.addImage(r,"JPEG",0,0,o,i,void 0,"FAST"),n.save("".concat(t.note_type," Invoice Note Number ").concat(t.id,".pdf"))}).catch(function(e){console.error("Error generating PDF",e)}).finally(function(){m(!1)})},startIcon:a.a.createElement(Fi.a,null)},"DownLoad")))),a.a.createElement("div",{className:"container-fluid m-0 p-3",style:{border:"1px Solid #000000"},ref:y},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-xs-12"},a.a.createElement("div",{className:"grid invoice",style:{padding:"10px"}},a.a.createElement("div",{className:"grid-body"},a.a.createElement("div",{className:"invoice-title"},a.a.createElement("div",{className:"row",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("div",{className:"col-md-2 align-self-center logos"},a.a.createElement("img",{src:Vi.a,alt:"",height:"60",width:"150"})),a.a.createElement("div",{className:"col-md-7",style:{marginRight:"1rem"}},a.a.createElement("div",{className:"text-center address"},a.a.createElement("strong",{style:Object(u.a)({},NO)},"Glutape India Private Limited"),a.a.createElement("br",null),a.a.createElement("p",{style:{fontSize:"0.50rem"}},t.seller_details.address,"-",t.seller_details.pincode,",",a.a.createElement("br",null)," State Name :"," ",t.seller_details.state,", Code :"," ",t.seller_details.state_code,", ",a.a.createElement("br",null),"CIN : ",t.seller_details.cin_number,", Email : contact@glutape.com"))),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-end msme"},a.a.createElement("img",{src:Xi.a,alt:"",height:"50",width:"90"})),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-start iso"},a.a.createElement("img",{src:hm.a,alt:"",height:"35",width:"90"}))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("p",{className:"text-center fs-6 fw-bold p-0 m-0"},t.note_type," Note"))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-6",style:Object(u.a)({},NO)},a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},NO)},t.note_type," Note NO. & Date :"," ")," ",t.note_no," &"," ",t.creation_date),a.a.createElement("div",null,a.a.createElement("strong",null,"Note : "),a.a.createElement("span",null,t.notes))),a.a.createElement("div",{className:"col-md-5",style:Object(u.a)({},NO,{borderLeft:"1px Solid #000000"})},a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},NO)},"Customer Name:"," "),t.buyer_details.name),a.a.createElement("div",null,a.a.createElement("strong",null,"Address :"),t.buyer_details.billing_address,","," ",t.buyer_details.billing_pincode),a.a.createElement("div",null,a.a.createElement("strong",null,"GSTIN/UIN : "),a.a.createElement("span",null,t.buyer_details.gst)),a.a.createElement("div",null,a.a.createElement("strong",null,"PAN/IT NO : "),a.a.createElement("span",null,t.buyer_details.pan)),a.a.createElement("div",null,a.a.createElement("strong",null,"State Name: "),a.a.createElement("span",null,t.buyer_details.billing_state)),a.a.createElement("div",null,a.a.createElement("strong",null,"Code: ")),a.a.createElement("div",null,a.a.createElement("strong",null,"Contact Person: "),a.a.createElement("span",null,t.buyer_details.name)),a.a.createElement("div",null,a.a.createElement("strong",null,"Contact Person: "),a.a.createElement("span",null,t.buyer_details.contact))))),a.a.createElement("div",{className:"row",style:Object(u.a)({},NO,{borderBottom:"1px Solid #000000"})}),a.a.createElement("div",{className:"row",style:Object(u.a)({},NO,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-12"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",{className:"line"},a.a.createElement("td",{className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},NO)},"SR.NO")),a.a.createElement("td",{className:"text-left"},a.a.createElement("strong",{style:Object(u.a)({},NO)},"DESCRIPTION")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},NO)},"AMOUNT")))),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",{className:"text-start"},"1"),a.a.createElement("td",{className:"text-left"},"Reason :",a.a.createElement("span",{className:""},"Rate"===t.reason?"".concat(t.reason," Difference"):"".concat(t.reason)),a.a.createElement("br",null),"Sales Invoice No:"," ",i.map(function(e,t){return a.a.createElement("span",{key:t,className:"m-1"},e)}),a.a.createElement("br",null),"Date : ",t.creation_date,a.a.createElement("br",null)),a.a.createElement("td",{className:"text-center"},t.amount)),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:"2.5",className:"text-right "},a.a.createElement("div",{style:{textAlign:"end",fontSize:"18px"}},a.a.createElement("strong",{style:Object(u.a)({},NO)},"IGST Output"))),a.a.createElement("td",{colSpan:".5",className:"text-right"},a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement("strong",{style:Object(u.a)({},NO)},v)))),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:"2.5",className:"text-right "},a.a.createElement("div",{style:{textAlign:"end",fontSize:"18px"}},a.a.createElement("strong",{style:Object(u.a)({},NO)},"TOTAl AMOUNT"))),a.a.createElement("td",{colSpan:".5",className:"text-right"},a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement("strong",{style:Object(u.a)({},NO)},t.total_amount)))))))),a.a.createElement("div",{className:"row mb-2",style:Object(u.a)({},NO,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-6",style:{fontSize:"11px"}},a.a.createElement("strong",null,"Amount Chargeable (in words) :-"),a.a.createElement("br",null),a.a.createElement("strong",null,"Company's PAN : "),a.a.createElement("span",null,t.seller_details.pan),a.a.createElement("br",null)),a.a.createElement("div",{className:"col-md-6 text-end px-5"},a.a.createElement("ul",{style:{listStyle:"none",fontSize:"10px"}},a.a.createElement("strong",{style:{fontSize:"12px"}},"Company's Bank Details"),a.a.createElement("li",null,"Bank Name :"," ",a.a.createElement("span",null,t.seller_details.bank_name)),a.a.createElement("li",null,"A/c No. :"," ",a.a.createElement("span",null,t.seller_details.account_no)),a.a.createElement("li",null,"Branch & IFS Code :"," ",a.a.createElement("span",null,t.seller_details.ifsc))))),a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},NO,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-6 text-right"},a.a.createElement("strong",{style:Object(u.a)({},NO)},"Terms and Condition :-"),DO.map(function(e,t){return a.a.createElement("p",{key:t,style:{margin:0,padding:0,fontSize:"0.50rem"}},e.id,e.text,a.a.createElement("br",null))})),a.a.createElement("div",{className:"col-md-6 text-end px-5"},a.a.createElement("strong",{style:Object(u.a)({},NO)},"For Glutape India Limited -"),a.a.createElement("br",null),a.a.createElement("span",null,t.seller_details.branch),a.a.createElement("br",null),a.a.createElement("span",{style:{fontSize:"10px",padding:"4px"}},"Authorised Signatory"))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12 "},a.a.createElement("img",{src:Ki.a,alt:"",width:"100%"})))))))))},NO={fontSize:"0.80rem"},DO=[{id:"1)",text:"Material once sold will not be taken back."},{id:"2)",text:"Material is delivered at owner's risk and with no liability of transportation damage to Glutape India Pvt Ltd. "},{id:"3)",text:"Our risk and Responsibility ceases as soon as the goods leave our premises."},{id:"4)",text:"In case the cargo is insured, a claim against insurance will be settled once the insurance claim gets sanctioned from the respective insurance company"},{id:"5)",text:"Please test Material before using."},{id:"6)",text:"No allowance for storage of difference in quality will be allowed unless the same is given to us within 24 hour of receipt insurance company."},{id:"7)",text:"Subjects to mumbai, Maharashtra jurisdiction only."},{id:"8)",text:"Validity of this Sales Invoice is 3 Days from Date of Proforma Invoice."}];function AO(){AO=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var IO=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(!1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(),D=Object(l.a)(N,2),A=D[0],I=D[1],F=gt(),G=F.handleError,W=F.handleCloseSnackbar,z=F.alertInfo,R=Object(n.useCallback)(Object(c.a)(AO().mark(function e(){var t;return AO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,st.getDebitCreditnotes(m,x);case 4:t=e.sent,console.log("Debit/credit",t.data),f(t.data.results),b(Math.ceil(t.data.count/25)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),G(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])})),[m,x]);Object(n.useEffect)(function(){R()},[m,x]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:z.open,onClose:W,severity:z.severity,message:z.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(Ur,{onSearch:function(e){O(e),d(1)},onReset:function(){O(""),d(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,md:4,sx:{textAlign:{xs:"center",md:"center"}}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Debit/Credit Notes")),a.a.createElement(Fe.a,{item:!0,xs:12,md:4,sx:{display:"flex",justifyContent:{xs:"center",md:"flex-end"}}},a.a.createElement(We.a,{color:"primary",variant:"contained",onClick:function(){return S(!0)}},"Add")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(FO,{align:"center"},"Date"),a.a.createElement(FO,{align:"center"},"Note Type"),a.a.createElement(FO,{align:"center"},"Voucher No"),a.a.createElement(FO,{align:"center"},"Customer"),a.a.createElement(FO,{align:"center"},"Reason"),a.a.createElement(FO,{align:"center"},"Total Amount"),a.a.createElement(FO,{align:"center"},"ACTION"))),a.a.createElement(Hn.a,null,s.map(function(e,t){return a.a.createElement(GO,{key:t},a.a.createElement(FO,{align:"center"},e.creation_date),a.a.createElement(FO,{align:"center"},e.note_type),a.a.createElement(FO,{align:"center"},e.note_no),a.a.createElement(FO,{align:"center"},e.customer),a.a.createElement(FO,{align:"center"},e.reason),a.a.createElement(FO,{align:"center"},e.total_amount),a.a.createElement(FO,{align:"center"},a.a.createElement(We.a,{color:"info",variant:"text",onClick:function(){return I(e),void T(!0)}},"View")))})))),a.a.createElement(Vr,{totalPages:g,currentPage:m,handlePageChange:function(e,t){d(t)}})),a.a.createElement(Ce,{maxWidth:"xl",title:"Create Debit/Credit Notes",openPopup:L,setOpenPopup:S},a.a.createElement(OO,{getDebitCreditNotesData:R,setOpenPopup:S})),a.a.createElement(Ce,{fullScreen:!0,title:"Debit/Credit Note",openPopup:C,setOpenPopup:T},a.a.createElement(TO,{getDebitCreditNotesData:R,setOpenPopup:T,invoiceNoteData:A}))))},FO=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),GO=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),WO=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=[{label:"Debit-Credit Notes",roles:["Director","Accounts"],component:a.a.createElement(IO,null)}].filter(function(t){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}.apply(void 0,Object(vr.a)(t.roles))}),r=Object(n.useState)(0),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Xr,{tabs:t.map(function(e){return{label:e.label,index:e.index}}),activeTab:i,onTabChange:function(e){c(e)}}),t.length>0&&t[i]?a.a.createElement("div",null,t[i].component):null)},zO=r(199),RO=r.n(zO);function BO(){BO=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var MO,qO,UO,YO,VO,QO,HO,JO=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),KO=function(e){var t=e.getAllCCFData,r=e.setOpenCCF,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],g=p[1],b=Object(n.useState)([]),w=Object(l.a)(b,2),x=w[0],O=w[1],_=Object(n.useRef)(null),j=Object(n.useState)([]),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)([]),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)([]),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)([]),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useState)(null),M=Object(l.a)(B,2),q=M[0],U=M[1],Y=Object(n.useState)([]),Q=Object(l.a)(Y,2),J=Q[0],K=Q[1],Z=Object(n.useState)({department:"",complain_for:"",complain_type:"",customer:"",unit:"",invoices:[],batch_nos:[],complaint:"",application:"",problem:"",document:z||[],products:q}),X=Object(l.a)(Z,2),$=X[0],ee=X[1];console.log($);var te=Object(n.useState)([]),re=Object(l.a)(te,2),ne=re[0],ae=re[1],oe=gt(),ie=oe.handleSuccess,ce=oe.handleError,le=oe.handleCloseSnackbar,ue=oe.alertInfo,se=function(){var e=Object(c.a)(BO().mark(function e(){var t;return BO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,st.getAllPaginateSellerAccountData("all");case 4:t=e.sent,O(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error fetching seller account data:",e.t0);case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),fe=Object(n.useCallback)(Object(c.a)(BO().mark(function e(){var t;return BO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,st.getCustomersList();case 4:t=e.sent,ae(t.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ce(e.t0);case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])})),[]);Object(n.useEffect)(function(){se(),fe()},[]);var he=function(){var e=Object(c.a)(BO().mark(function e(t,r){var n;return BO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ee(function(e){return Object(u.a)({},e,{unit:r})}),e.prev=1,f(!0),e.next=5,st.getInvoiceByCustomerAndSellerUnit($.customer,r);case 5:n=e.sent,k(n.data.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ce(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,9,12,15]])}));return function(t,r){return e.apply(this,arguments)}}(),pe=function(){var e=Object(c.a)(BO().mark(function e(t,r){var n;return BO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ee(function(e){return Object(u.a)({},e,{complain_for:r})}),e.prev=1,f(!0),e.next=5,Kn.getAllComplaintsListData("list",r);case 5:n=e.sent,N(n.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),ce(e.t0),console.log(e.t0);case 13:return e.prev=13,f(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])}));return function(t,r){return e.apply(this,arguments)}}(),me=function(){var e=Object(c.a)(BO().mark(function e(n){var a,o,i;return BO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,a=q.map(function(e){return{product:e.product,quantity:e.quantity}}),o=Object(u.a)({},$,{products:a}),e.next=6,Kn.createCCFComplaintForm(o);case 6:i=e.sent,ie(i.message||"Complaint submitted successfully"),t(),r(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),ce(e.t0);case 15:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(c.a)(BO().mark(function e(){var t,r,n;return BO().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==m.length){e.next=4;break}return alert("No files selected for upload."),e.abrupt("return");case 4:return f(!0),t=new FormData,m.forEach(function(e){t.append("file",e);var r=e.type.split("/")[0],n="image"===r?"Photo":"video"===r?"Video":"Other";t.append("media_type",n)}),e.next=9,Kn.uploadCCFdocument(t);case 9:r=e.sent,console.log("response",r.data.data),200===r.status?(ie("Documents uploaded successfully"),K(r.data.data),n=r.data.data.map(function(e){return e.id}),R(n),ee(function(e){return Object(u.a)({},e,{document:n||[]})}),g([])):ce("Failed to upload documents"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),ce("An error occurred during the upload");case 18:return e.prev=18,f(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[0,14,18,21]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:ue.open,onClose:le,severity:ue.severity,message:ue.message}),a.a.createElement(Je,{open:s}),a.a.createElement(Fe.a,{container:!0,spacing:2,style:{width:"100%",margin:0}},a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:me},a.a.createElement(ut.a,{sx:{p:2,display:"flex",flexDirection:"column",width:"100%"}},a.a.createElement(Ae.a,null,a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement("img",{src:Vi.a,alt:"logo",width:170})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,sx:{textAlign:{xs:"center",md:"center"}}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"COMPLAINT FORM")))),a.a.createElement(y.a,null),a.a.createElement(Fe.a,{container:!0,spacing:2,style:{marginTop:"12px"}},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"department",size:"small",disablePortal:!0,id:"combo-box-demo",options:ZO,onChange:function(e,t){ee(function(e){return Object(u.a)({},e,{department:t})})},getOptionLabel:function(e){return e},fullWidth:!0,label:"Complaint to"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"complain_for",size:"small",disablePortal:!0,id:"combo-box-demo",options:XO,onChange:pe,getOptionLabel:function(e){return e},fullWidth:!0,label:"Complaint for"})),"Account"===$.complain_for&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"problem",size:"small",disablePortal:!0,id:"combo-box-demo",options:T.map(function(e){return e.name}),onChange:function(e,t){ee(function(e){return Object(u.a)({},e,{problem:t})})},getOptionLabel:function(e){return e},fullWidth:!0,label:"Complaint Problem"})),"Product"===$.complain_for&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"problem",size:"small",disablePortal:!0,id:"combo-box-demo",options:T.map(function(e){return e.name}),onChange:function(e,t){ee(function(e){return Object(u.a)({},e,{problem:t})})},getOptionLabel:function(e){return e},fullWidth:!0,label:"Complaint Problem"})),"Sales Person"===$.complain_for&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"problem",size:"small",disablePortal:!0,id:"combo-box-demo",options:T.map(function(e){return e.name}),onChange:function(e,t){ee(function(e){return Object(u.a)({},e,{problem:t})})},getOptionLabel:function(e){return e},fullWidth:!0,label:"Complaint Problem"})),"Dispatch and Logistic"===$.complain_for&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"problem",size:"small",disablePortal:!0,id:"combo-box-demo",options:T.map(function(e){return e.name}),onChange:function(e,t){ee(function(e){return Object(u.a)({},e,{problem:t})})},getOptionLabel:function(e){return e},fullWidth:!0,label:"Complaint Problem"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"complain_type",size:"small",disablePortal:!0,id:"combo-box-demo",options:$O,getOptionLabel:function(e){return e},onChange:function(e,t){ee(function(e){return Object(u.a)({},e,{complain_type:t})})},fullWidth:!0,label:"Complaint Type"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"customer",size:"small",disablePortal:!0,id:"combo-box-demo",options:ne,getOptionLabel:function(e){return e},onChange:function(e,t){ee(function(e){return Object(u.a)({},e,{customer:t})})},fullWidth:!0,label:"Customer"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"unit",size:"small",disablePortal:!0,id:"combo-box-demo",options:x.map(function(e){return e.unit}),getOptionLabel:function(e){return e},onChange:he,fullWidth:!0,label:"Seller Unit"})),S&&S.length>0&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(ur.a,{fullWidth:!0,multiple:!0,size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){var r=t.map(function(e){return e.invoice_no}),n=t.flatMap(function(e){return e.products.map(function(e){return{product:e.product,quantity:e.quantity,source_list:e.source_list.map(function(e){return e.source_key})}})}),a=n.flatMap(function(e){return e.source_list});F(a),U(n),ee(function(e){return Object(u.a)({},e,{invoices:r,products:n})})},options:S,getOptionLabel:function(e){return e.invoice_no||""},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Invoice No"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(ur.a,{fullWidth:!0,multiple:!0,size:"small",disablePortal:!0,id:"combo-box-demo",options:I,getOptionLabel:function(e){return e},onChange:function(e,t){return ee(function(e){return Object(u.a)({},e,{batch_nos:t})})},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Batch No"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ye.a,{fullWidth:!0,label:"Nature of Complaint : (Describe in detail)",variant:"outlined",margin:"normal",name:"complaint",multiline:!0,rows:4,onChange:function(e){return ee(function(t){return Object(u.a)({},t,{complaint:e.target.value})})}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ye.a,{fullWidth:!0,label:"Application : (Describe in detail)",variant:"outlined",margin:"normal",multiline:!0,rows:4,onChange:function(e){return ee(function(t){return Object(u.a)({},t,{application:e.target.value})})}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement("div",null,a.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"}},a.a.createElement("input",{type:"file",multiple:!0,onChange:function(e){var t=Array.from(e.target.files),r=m.map(function(e){return e.name}),n=t.filter(function(e){return!r.includes(e.name)});g([].concat(Object(vr.a)(m),Object(vr.a)(n))),e.target.value=null},style:{display:"none"},accept:"image/*,video/*",ref:_}),a.a.createElement("span",{style:{fontSize:"16px",opacity:"0.9",fontWeight:"bold"}},"Attach Document :"," "),a.a.createElement(We.a,{variant:"outlined",color:"inherit",size:"small",onClick:function(){_.current.click()}},"Select Document")),a.a.createElement("div",null,m.length>0&&a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,style:{opacity:".9",fontSize:"16px"}},"Selected Files:"),m.length>0?a.a.createElement(v.a,{style:{display:"flex",flexWrap:"wrap"}},m.map(function(e,t){return a.a.createElement(V.a,{key:t,divider:!0,style:{display:"flex",flexDirection:"column",alignItems:"center",width:"150px",margin:"10px",backgroundColor:"#e4f1fe",borderRadius:"3px"}},a.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},a.a.createElement(H.a,{primary:e.name,primaryTypographyProps:{style:{fontSize:"12px"}}}),a.a.createElement(d.a,{edge:"end",onClick:function(){return function(e){g(m.filter(function(t,r){return r!==e}))}(t)},style:{marginTop:"10px"}},a.a.createElement(RO.a,null))),a.a.createElement("img",{src:URL.createObjectURL(e),alt:e.name,style:{width:"100px",height:"100px",objectFit:"cover",marginTop:"10px"}}))})):a.a.createElement(Fe.a,null,a.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px"}},J&&J.map(function(e,t){return a.a.createElement("div",{key:t,style:{width:"200px",textAlign:"center"}},a.a.createElement("img",{src:e.file,alt:"Media ".concat(t+1),style:{width:"100%",height:"auto",cursor:"pointer"}}))}))))),a.a.createElement(We.a,{variant:"contained",size:"small",color:"secondary",onClick:de},"Submit Document")),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(JO,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),q&&q.length>0&&q.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:t}," ",a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"product",size:"small",label:"Product",variant:"outlined",value:e.product,onChange:function(e){return U(function(r){return r.map(function(r,n){return n===t?Object(u.a)({},r,{product:e.target.value}):r})})}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity,onChange:function(e){return U(function(r){return r.map(function(r,n){return n===t?Object(u.a)({},r,{quantity:e.target.value}):r})})}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(We.a,{onClick:function(){return function(e){var t=Object(vr.a)(q);t.splice(e,1),U(t)}(t)},variant:"contained"},"Remove")))}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{variant:"contained",type:"submit",color:"primary",style:{marginRight:"10px"}},"Submit Complaint")))))))},ZO=["Account","Factory"],XO=["Account","Product","Dispatch and Logistic","Sales Person"],$O=["Claim","Warning"],e_=Jt.a.td(MO||(MO=Object(Ht.a)(["\n  text-align: center;\n"]))),t_=Jt.a.div(qO||(qO=Object(Ht.a)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n"]))),r_=Jt.a.div(UO||(UO=Object(Ht.a)(["\n  margin: 10px;\n  text-align: center;\n"]))),n_=Jt.a.img(YO||(YO=Object(Ht.a)(["\n  width: ",";\n  height: auto;\n  cursor: pointer;\n  transition: width 0.5s ease-in-out, box-shadow 0.3s ease-in-out;\n  box-shadow: ",";\n"])),function(e){return e.isEnlarged?"500px":"200px"},function(e){return e.isEnlarged,"0px 2px 10px rgba(0, 0, 0, 0.3)"}),a_=Jt.a.video(VO||(VO=Object(Ht.a)(["\n  width: ",";\n  height: auto;\n  cursor: pointer;\n  transition: width 0.5s ease-in-out, box-shadow 0.3s ease-in-out;\n  box-shadow: ",";\n"])),function(e){return e.isEnlarged?"500px":"200px"},function(e){return e.isEnlarged,"0px 2px 10px rgba(0, 0, 0, 0.3)"}),o_=Jt.a.div(QO||(QO=Object(Ht.a)(["\n  margin: 20px;\n  font-size: 18px;\n  color: #777;\n"]))),i_=Jt.a.div(HO||(HO=Object(Ht.a)(["\n  margin-bottom: 5px;\n  font-weight: bold;\n"]))),c_=function(e){var t=e.imagesData;console.log(t);var r=Object(n.useState)(null),o=Object(l.a)(r,2),i=o[0],c=o[1],u=Object(n.useState)(!0),s=Object(l.a)(u,2),f=s[0],h=s[1];Object(n.useEffect)(function(){var e=setTimeout(function(){h(!1)},500);return function(){return clearTimeout(e)}},[t]);var p=function(e){c(i===e?null:e)};return a.a.createElement(e_,null,f?a.a.createElement(Je,{open:f}):0===t.length?a.a.createElement(o_,null,"No media available"):a.a.createElement(t_,null,t.map(function(e,t){return a.a.createElement(r_,{key:t},a.a.createElement(i_,null,"Media ",t+1),function(e,t){return console.log(e),e.media_type&&e.media_type.startsWith("Video")?a.a.createElement(a_,{key:t,src:e.file,controls:!0,isEnlarged:i===e,onClick:function(){return p(e)},onLoadedData:function(){return h(!1)}}):a.a.createElement(n_,{key:t,src:e.file,alt:"Media ".concat(t+1),isEnlarged:i===e,onClick:function(){return p(e)},onLoad:function(){return h(!1)}})}(e,t))})))},l_=function(e){var t=e.pdfData,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],c=o[1],u=Object(n.useRef)();return a.a.createElement(at.a,{maxWidth:"md"},a.a.createElement(Je,{open:i}),a.a.createElement(Nl.a,{elevation:3,sx:{marginTop:4},ref:u},a.a.createElement(Dl.a,null,a.a.createElement(Ae.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:2,gap:"1.5rem"}},a.a.createElement(Ae.a,null,a.a.createElement("img",{src:Vi.a,alt:"Glutape Logo",height:"60"})),a.a.createElement(Ae.a,{sx:{textAlign:"center"}},a.a.createElement(E.a,{variant:"h6",fontWeight:"bold",sx:{marginTop:"1.4rem"}},"Glutape India Private Limited"),a.a.createElement(E.a,{variant:"body2",sx:{fontSize:"12px"}},t.unit_address,", Email: contact@glutape.com")),a.a.createElement(Ae.a,{style:{display:"flex",gap:"5px"}},a.a.createElement("img",{src:Xi.a,alt:"MSME",height:"50"}),a.a.createElement("img",{src:hm.a,alt:"ISO Logos",height:"50"}))),a.a.createElement(y.a,null),a.a.createElement(Ae.a,{sx:{textAlign:"center",padding:2,paddingBottom:0,alignItems:"center",justifyContent:"space-between",gap:"1.5rem",backgroundColor:"rgba(255, 255, 255, 1)",display:"flex"}},a.a.createElement("p",null,"Complaint to: ",a.a.createElement("strong",null,t.department)),a.a.createElement("p",null,"Complaint Type: ",a.a.createElement("strong",null,t.complain_type))),a.a.createElement(y.a,null),a.a.createElement(Ae.a,{sx:{padding:2}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,{variant:"body1",fontWeight:"bold",color:"textSecondary"},"Complaint No:"),a.a.createElement(E.a,{variant:"body1"},t.id),a.a.createElement(E.a,{variant:"body1",fontWeight:"bold",color:"textSecondary",sx:{marginTop:2}},"Sent By:"),a.a.createElement(E.a,{variant:"body1"},t.created_by),a.a.createElement(E.a,{variant:"body1",fontWeight:"bold",color:"textSecondary",sx:{marginTop:2}},"Customer Name:"),a.a.createElement(E.a,{variant:"body1"},t.customer),a.a.createElement(E.a,{variant:"body1",fontWeight:"bold",color:"textSecondary",sx:{marginTop:2}},"Nature of Complaint (Describe in detail):"),a.a.createElement(E.a,{variant:"body1"},t.complaint)),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,{variant:"body1",fontWeight:"bold",color:"textSecondary"},"Complaint For:"),a.a.createElement(E.a,{variant:"body1"},t.complain_for),a.a.createElement(E.a,{variant:"body1",fontWeight:"bold",color:"textSecondary",sx:{marginTop:2}},"Invoice No & Date:"),a.a.createElement(E.a,{variant:"body1"},t.invoices.map(function(e,r){return a.a.createElement("span",{key:r},e,r<t.invoices.length-1&&a.a.createElement("span",{style:{margin:"0 5px"}},"|"))}),"\xa0& ",t.creation_date),a.a.createElement(E.a,{variant:"body1",fontWeight:"bold",color:"textSecondary",sx:{marginTop:2}},"Batch Nos:"),a.a.createElement(E.a,{variant:"body1"},t.batch_nos.map(function(e,r){return a.a.createElement("span",{key:r},e,r<t.batch_nos.length-1&&a.a.createElement("span",{style:{margin:"0 5px"}},"|"))})),a.a.createElement(E.a,{variant:"body1",fontWeight:"bold",color:"textSecondary",sx:{marginTop:2}},"Application (Describe in detail):"),a.a.createElement(E.a,{variant:"body1"},t.application),a.a.createElement(E.a,{variant:"body1",fontWeight:"bold",color:"textSecondary",sx:{marginTop:2}},"Problem :"),a.a.createElement(E.a,{variant:"body1"},t.problem)),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Yn.a,{sx:{marginTop:2}},a.a.createElement(Vn.a,{"aria-label":"product table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,{align:"center"},"Sr. No."),a.a.createElement(qn.a,{align:"center"},"Product"),a.a.createElement(qn.a,{align:"center"},"Unit"),a.a.createElement(qn.a,{align:"center"},"Quantity"))),a.a.createElement(Hn.a,null,t.products.map(function(e,t){return a.a.createElement(Un.a,{key:t},a.a.createElement(qn.a,{align:"center"},t+1),a.a.createElement(qn.a,{align:"center"},e.product),a.a.createElement(qn.a,{align:"center"},e.unit),a.a.createElement(qn.a,{align:"center"},e.quantity))}))))))))),a.a.createElement(Ae.a,{sx:{textAlign:"center",marginTop:4}},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){var e=u.current;c(!0),PO()(e,{scale:5,useCORS:!0}).then(function(e){var r=e.toDataURL("image/jpeg",.6),n=new zi.b("p","pt","a4",!0),a=n.getImageProperties(r),o=n.internal.pageSize.getWidth(),i=a.height*o/a.width;n.addImage(r,"JPEG",0,0,o,i,void 0,"FAST"),n.save("Complaint_form_No_".concat(t.id,".pdf")),c(!1)}).catch(function(e){console.error("Error generating PDF",e),c(!1)})}},"Download PDF")))};function u_(){u_=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var s_=function(e){var t=e.recordForEdit,r=e.setOpenCapa,o=Object(n.useState)([]),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)({ccf:t&&t.id,complaint:t&&t.complaint||"",root_cause:"",cap:"",pap:"",sfcs:"",document:s||[]}),p=Object(l.a)(h,2),m=p[0],g=p[1],b=Object(n.useState)([]),w=Object(l.a)(b,2),x=w[0],O=w[1],_=Object(n.useState)({}),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(!1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(!1),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)(""),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useState)("success"),B=Object(l.a)(R,2),M=B[0],q=B[1],U=function(e){g(Object(u.a)({},m,Object(Y.a)({},e.target.name,e.target.value))),L[e.target.name]&&S(Object(u.a)({},L,Object(Y.a)({},e.target.name,"")))},Q=Object(n.useRef)(null),J=function(){var e=Object(c.a)(u_().mark(function e(){var t,r,n;return u_().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==x.length){e.next=4;break}return alert("No files selected for upload."),e.abrupt("return");case 4:return T(!0),t=new FormData,x.forEach(function(e){t.append("file",e),e.type.startsWith("image")?t.append("media_type","Photo"):e.type.startsWith("video")&&t.append("media_type","Video")}),e.next=9,Kn.uploadCCFdocument(t);case 9:200===(r=e.sent).status?(z(r.data.message||"Document(s) submitted successfully"),q("success"),T(!0),n=r.data.data.map(function(e){return e.id}),f(n),g(function(e){return Object(u.a)({},e,{document:n||[]})}),O([])):(z("Error creating CAPA upload"),q("error"),T(!0)),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),z(e.t0.message||"An error occurred during the upload"),q("error"),T(!0);case 19:return e.prev=19,T(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,13,19,22]])}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(u_().mark(function e(t){var n;return u_().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,I(!0),e.next=5,Kn.CreateCapa(m);case 5:n=e.sent,z(n.data.message),q("success"),T(!0),I(!1),r(!1),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),z(e.t0.response.data.message||"Error creating CPA"),q("error"),T(!0);case 19:return e.prev=19,I(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[1,13,19,22]])}));return function(t){return e.apply(this,arguments)}}();return console.log(m),a.a.createElement(at.a,{maxWidth:"lg"},a.a.createElement($e,{open:C,message:W,severity:M,onClose:function(){T(!1)}}),a.a.createElement(Je,{open:A}),a.a.createElement(Nl.a,{elevation:3,sx:{marginTop:1}},a.a.createElement(Dl.a,null,a.a.createElement(Ae.a,{component:"form",onSubmit:K,sx:{mt:2}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:6},a.a.createElement(Ye.a,{fullWidth:!0,size:"small",label:"Complaint No.",name:"ccf",value:m.ccf,onChange:U,inputProps:{readOnly:!0},error:!!L.ccf,helperText:L.ccf,disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:6},a.a.createElement(Ye.a,{fullWidth:!0,size:"small",label:"Customer Name.",value:t&&t.customer,inputProps:{readOnly:!0},disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{fullWidth:!0,multiple:!0,inputProps:{readOnly:!0},disabled:!0,size:"small",disablePortal:!0,id:"combo-box-demo",options:t&&t.batch_nos?t.batch_nos:[],value:t&&t.batch_nos?t.batch_nos:[],getOptionLabel:function(e){return e},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Batch No"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{fullWidth:!0,multiple:!0,inputProps:{readOnly:!0},disabled:!0,size:"small",disablePortal:!0,id:"combo-box-demo",options:t&&t.invoices?t.invoices:[],value:t&&t.invoices?t.invoices:[],getOptionLabel:function(e){return e},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"Invoice No"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"}))),t&&t.products&&t.products.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:t}," ",a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"product",size:"small",label:"Product",variant:"outlined",value:e.product,inputProps:{readOnly:!0},disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity,inputProps:{readOnly:!0},disabled:!0})))}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,multiline:!0,rows:4,size:"small",label:"Complaint",name:"complaint",value:m.complaint,onChange:U,error:!!L.complaint,helperText:L.complaint})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,multiline:!0,rows:4,size:"small",label:"Root Cause (5 Whys)",name:"root_cause",value:m.root_cause,onChange:U,error:!!L.root_cause,helperText:L.root_cause})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,multiline:!0,rows:4,size:"small",label:"Corrective Action Plan",name:"cap",value:m.cap,onChange:U,error:!!L.cap,helperText:L.cap})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,multiline:!0,rows:4,size:"small",label:"Preventive Action Plan",name:"pap",value:m.pap,onChange:U,error:!!L.pap,helperText:L.pap})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(sr,{size:"small",disablePortal:!0,id:"product-selector",options:f_,getOptionLabel:function(e){return e},onChange:function(e,t){return g(function(e){return Object(u.a)({},e,{sfcs:t})})},label:"Suggestion for claim settlement"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement("div",null,a.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"}},a.a.createElement("input",{type:"file",multiple:!0,onChange:function(e){var t=Array.from(e.target.files),r=x.map(function(e){return e.name}),n=t.filter(function(e){return!r.includes(e.name)});O([].concat(Object(vr.a)(x),Object(vr.a)(n))),e.target.value=null},style:{display:"none"},accept:"image/*,video/*",ref:Q}),a.a.createElement("span",{style:{fontSize:"16px",opacity:"0.9",fontWeight:"bold"}},"Attach Document :"," "),a.a.createElement(We.a,{variant:"outlined",color:"inherit",size:"small",onClick:function(){Q.current.click()}},"Select Document")),a.a.createElement("div",null,x.length>0&&a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,style:{opacity:".9",fontSize:"16px"}},"Selected Files:"),x.length>0&&a.a.createElement(v.a,{style:{display:"flex",flexWrap:"wrap"}},x.map(function(e,t){return a.a.createElement(V.a,{key:t,divider:!0,style:{display:"flex",flexDirection:"column",alignItems:"center",width:"150px",margin:"10px",backgroundColor:"#e4f1fe",borderRadius:"3px"}},a.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},a.a.createElement(H.a,{primary:e.name,primaryTypographyProps:{style:{fontSize:"12px"}}}),a.a.createElement(d.a,{edge:"end",onClick:function(){return function(e){O(x.filter(function(t,r){return r!==e}))}(t)},style:{marginTop:"10px"}},a.a.createElement(RO.a,null))),a.a.createElement("img",{src:URL.createObjectURL(e),alt:e.name,style:{width:"100px",height:"100px",objectFit:"cover",marginTop:"10px"}}))})))),a.a.createElement(We.a,{variant:"contained",size:"small",color:"secondary",onClick:J},"Submit Document"))),a.a.createElement(Fe.a,{sx:12,style:{marginTop:"2rem"}},a.a.createElement(We.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0},"Submit"))))))},f_=["Credit","Material Return"];function h_(){h_=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var p_,m_,d_,y_,v_,g_,b_,E_=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(!1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(!1),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)(!1),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useState)(null),B=Object(l.a)(R,2),M=B[0],q=B[1],U=Object(n.useState)(null),Y=Object(l.a)(U,2),V=Y[0],Q=Y[1],H=Object(n.useState)(null),J=Object(l.a)(H,2),K=J[0],Z=J[1],X=gt(),$=X.handleError,ee=X.handleCloseSnackbar,te=X.alertInfo,re=Object(n.useCallback)(Object(c.a)(h_().mark(function e(){var t;return h_().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kn.getAllCCFData(m,x);case 4:t=e.sent,f(t.data.results),b(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),$(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[m,x]);Object(n.useEffect)(function(){re()},[m,x]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:te.open,onClose:ee,severity:te.severity,message:te.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(Ur,{onSearch:function(e){O(e),d(1)},onReset:function(){O(""),d(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,md:4,sx:{textAlign:{xs:"center",md:"center"}}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Customer Complaint Form"," ")),a.a.createElement(Fe.a,{item:!0,xs:12,md:4,sx:{display:"flex",justifyContent:{xs:"center",md:"flex-end"}}},a.a.createElement(We.a,{color:"primary",variant:"contained",onClick:function(){return S(!0)}},"Add")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(w_,{align:"center"},"Complaint No."),a.a.createElement(w_,{align:"center"},"Department"),a.a.createElement(w_,{align:"center"},"Customer"),a.a.createElement(w_,{align:"center"},"Complaint Type"),a.a.createElement(w_,{align:"center"},"Complaint"),a.a.createElement(w_,{align:"center"},"Unit"),a.a.createElement(w_,{align:"center"},"Invoices"),a.a.createElement(w_,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,s.map(function(e,t){return a.a.createElement(x_,{key:t},a.a.createElement(w_,{align:"center"},e.id),a.a.createElement(w_,{align:"center"},e.department),a.a.createElement(w_,{align:"center"},e.customer),a.a.createElement(w_,{align:"center"},e.complain_type),a.a.createElement(w_,{align:"center"},e.complaint),a.a.createElement(w_,{align:"center"},e.unit),a.a.createElement(w_,{align:"center"},e.invoices.map(function(t,r){return a.a.createElement("span",{key:r},t,r<e.invoices.length-1&&a.a.createElement("span",{style:{margin:"0 5px"}},"|"))})),a.a.createElement(w_,{align:"center"},a.a.createElement(We.a,{color:"info",variant:"text",onClick:function(){return t=e.document,T(!0),void Z(t);var t}},"Document View"),a.a.createElement(We.a,{color:"secondary",variant:"text",onClick:function(){return Q(e),void I(!0)}},"DownLoad"),!1===e.is_closed&&a.a.createElement(We.a,{color:"success",onClick:function(){return q(e),void z(!0)}},"Create CAPA")))})))),a.a.createElement(Vr,{totalPages:g,currentPage:m,handlePageChange:function(e,t){d(t)}})),a.a.createElement(Ce,{fullScreen:!0,title:"Create CCF",openPopup:L,setOpenPopup:S},a.a.createElement(KO,{getAllCCFData:re,setOpenCCF:S})),a.a.createElement(Ce,{fullScreen:!0,title:"Document Preview",openPopup:C,setOpenPopup:T},a.a.createElement(c_,{imagesData:K,setImageShow:T})),a.a.createElement(Ce,{fullScreen:!0,title:"Download Pdf",openPopup:A,setOpenPopup:I},a.a.createElement(l_,{pdfData:V,setOpenPdf:I})),a.a.createElement(Ce,{fullScreen:!0,title:"Corrective And Preventive Action Form",openPopup:W,setOpenPopup:z},a.a.createElement(s_,{recordForEdit:M,setOpenCapa:z}))))},w_=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),x_=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),O_=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],c=o[1],u=Object(n.useRef)();return a.a.createElement(at.a,{maxWidth:"md"},a.a.createElement(Je,{open:i}),a.a.createElement(Nl.a,{elevation:3,sx:{marginTop:4},ref:u},a.a.createElement(Dl.a,null,a.a.createElement(Ae.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:2,gap:"1.5rem"}},a.a.createElement(Ae.a,null,a.a.createElement("img",{src:Vi.a,alt:"Glutape Logo",height:"60"})),a.a.createElement(Ae.a,{sx:{textAlign:"center"}},a.a.createElement(E.a,{variant:"h6",fontWeight:"bold",sx:{marginTop:"1.4rem"}},"Glutape India Private Limited"),a.a.createElement(E.a,{variant:"body2",sx:{fontSize:"12px"}},t.address,", Email: contact@glutape.com")),a.a.createElement(Ae.a,{sx:{display:"flex",gap:"5px"}},a.a.createElement("img",{src:Xi.a,alt:"MSME",height:"45"}),a.a.createElement("img",{src:Hi.a,alt:"ISO Logos",height:"45"}))),a.a.createElement(y.a,null),a.a.createElement(Ae.a,{sx:{padding:2}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,{variant:"body1",fontWeight:"bold"},"Complaint No. :"),a.a.createElement(E.a,{variant:"body2"},t.id),a.a.createElement(y.a,{sx:{marginY:1}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,{variant:"body1",fontWeight:"bold"},"Date :"),a.a.createElement(E.a,{variant:"body2"},t.creation_date),a.a.createElement(y.a,{sx:{marginY:1}})),a.a.createElement(Fe.a,{item:!0,xs:12,md:6},a.a.createElement(E.a,{variant:"body1",fontWeight:"bold"},"Complain Type :"),a.a.createElement(E.a,{variant:"body2"},t.complain_type),a.a.createElement(y.a,{sx:{marginY:1}})),a.a.createElement(Fe.a,{item:!0,xs:12,md:6},a.a.createElement(E.a,{variant:"body1",fontWeight:"bold"},"Created by:"),a.a.createElement(E.a,{variant:"body2"},t.created_by),a.a.createElement(y.a,{sx:{marginY:1}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"body1",fontWeight:"bold"},"Customer Complaint :"),a.a.createElement(E.a,{variant:"body2"},t.complaint),a.a.createElement(y.a,{sx:{marginY:1}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"body1",fontWeight:"bold"},"Root Cause :"),a.a.createElement(E.a,{variant:"body2"},t.root_cause),a.a.createElement(y.a,{sx:{marginY:1}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"body1",fontWeight:"bold"},"Corrective Action Plan :"),a.a.createElement(E.a,{variant:"body2"},t.cap),a.a.createElement(y.a,{sx:{marginY:1}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"body1",fontWeight:"bold"},"Preventive Action Plan :"),a.a.createElement(E.a,{variant:"body2"},t.pap),a.a.createElement(y.a,{sx:{marginY:1}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"body1",fontWeight:"bold"},"Suggestion for claim settlement :"),a.a.createElement(E.a,{variant:"body2"},t.sfcs),a.a.createElement(y.a,{sx:{marginY:1}})))))),a.a.createElement(Ae.a,{sx:{textAlign:"center",marginTop:4}},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){var e=u.current;c(!0),PO()(e,{scale:5,useCORS:!0}).then(function(e){var r=e.toDataURL("image/jpeg",.6),n=new zi.b("p","pt","a4",!0),a=n.getImageProperties(r),o=n.internal.pageSize.getWidth(),i=a.height*o/a.width;n.addImage(r,"JPEG",0,0,o,i,void 0,"FAST"),n.save("CAPA_form_No_".concat(t.id,".pdf")),c(!1)}).catch(function(e){console.error("Error generating PDF",e),c(!1)})}},"Download PDF")))},__=Jt.a.td(p_||(p_=Object(Ht.a)(["\n  text-align: center;\n"]))),j_=Jt.a.div(m_||(m_=Object(Ht.a)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n"]))),L_=Jt.a.div(d_||(d_=Object(Ht.a)(["\n  margin: 10px;\n  text-align: center;\n"]))),S_=Jt.a.img(y_||(y_=Object(Ht.a)(["\n  width: ",";\n  height: auto;\n  cursor: pointer;\n  transition: width 0.5s ease-in-out, box-shadow 0.3s ease-in-out;\n  box-shadow: ",";\n"])),function(e){return e.isEnlarged?"500px":"200px"},function(e){return e.isEnlarged,"0px 2px 10px rgba(0, 0, 0, 0.3)"}),k_=Jt.a.video(v_||(v_=Object(Ht.a)(["\n  width: ",";\n  height: auto;\n  cursor: pointer;\n  transition: width 0.5s ease-in-out, box-shadow 0.3s ease-in-out;\n  box-shadow: ",";\n"])),function(e){return e.isEnlarged?"500px":"200px"},function(e){return e.isEnlarged,"0px 2px 10px rgba(0, 0, 0, 0.3)"}),P_=Jt.a.div(g_||(g_=Object(Ht.a)(["\n  margin: 20px;\n  font-size: 18px;\n  color: #777;\n"]))),C_=Jt.a.div(b_||(b_=Object(Ht.a)(["\n  margin-bottom: 5px;\n  font-weight: bold;\n"]))),T_=function(e){var t=e.imagesData;console.log(t);var r=Object(n.useState)(null),o=Object(l.a)(r,2),i=o[0],c=o[1],u=Object(n.useState)(!0),s=Object(l.a)(u,2),f=s[0],h=s[1];Object(n.useEffect)(function(){var e=setTimeout(function(){h(!1)},500);return function(){return clearTimeout(e)}},[t]);var p=function(e){c(i===e?null:e)};return a.a.createElement(__,null,f?a.a.createElement(Je,{open:f}):0===t.length?a.a.createElement(P_,null,"No media available"):a.a.createElement(j_,null,t.map(function(e,t){return a.a.createElement(L_,{key:t},a.a.createElement(C_,null,"Media ",t+1),function(e,t){return console.log(e),e.media_type&&e.media_type.startsWith("Video")?a.a.createElement(k_,{key:t,src:e.file,controls:!0,isEnlarged:i===e,onClick:function(){return p(e)},onLoadedData:function(){return h(!1)}}):a.a.createElement(S_,{key:t,src:e.file,alt:"Media ".concat(t+1),isEnlarged:i===e,onClick:function(){return p(e)},onLoad:function(){return h(!1)}})}(e,t))})))};function N_(){N_=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var D_=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(null),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(!1),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)(null),G=Object(l.a)(F,2),W=G[0],z=G[1],R=Object(n.useCallback)(Object(c.a)(N_().mark(function e(){var t;return N_().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kn.getAllCapaData(m,x);case 4:t=e.sent,console.log("data",t.data.results),f(t.data.results),b(Math.ceil(t.data.count/25)),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,10,12,15]])})),[m,x]);Object(n.useEffect)(function(){R()},[m,x]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(Ur,{onSearch:function(e){O(e),d(1)},onReset:function(){O(""),d(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,md:4,sx:{textAlign:{xs:"center",md:"center"}}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Corrective & Preventive Action List")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(A_,{align:"center"},"Created By"),a.a.createElement(A_,{align:"center"},"Date"),a.a.createElement(A_,{align:"center"},"complain_type"),a.a.createElement(A_,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,s.map(function(e,t){return a.a.createElement(I_,{key:t},a.a.createElement(A_,{align:"center"},e.created_by),a.a.createElement(A_,{align:"center"},e.creation_date),a.a.createElement(A_,{align:"center"},e.complain_type),a.a.createElement(A_,{align:"center"},a.a.createElement(We.a,{variant:"outlined",color:"info",onClick:function(){return T(e),void S(!0)}},"View"),a.a.createElement(We.a,{color:"secondary",variant:"outlined",className:"mx-3",onClick:function(){return t=e.document,I(!0),void z(t);var t}},"Document View")))})))),a.a.createElement(Vr,{totalPages:g,currentPage:m,handlePageChange:function(e,t){d(t)}}))),a.a.createElement(Ce,{fullScreen:!0,title:"Document Preview",openPopup:A,setOpenPopup:I},a.a.createElement(T_,{imagesData:W,setImageShow:I})),a.a.createElement(Ce,{fullScreen:!0,title:"Corrective And Preventive Action View",openPopup:L,setOpenPopup:S},a.a.createElement(O_,{recordForEdit:C,setOpenPdf:S})))},A_=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),I_=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function F_(){F_=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var G_=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=gt(),j=_.handleError,L=_.handleCloseSnackbar,S=_.alertInfo,k=Object(n.useCallback)(Object(c.a)(F_().mark(function e(){var t;return F_().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kn.getAllClosedCCF(m,x);case 4:t=e.sent,f(t.data.results),b(Math.ceil(t.data.count/25)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),j(e.t0),console.log(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,9,13,16]])})),[m,x]);Object(n.useEffect)(function(){k()},[m,x]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:S.open,onClose:L,severity:S.severity,message:S.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(Ur,{onSearch:function(e){O(e),d(1)},onReset:function(){O(""),d(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,md:6,sx:{textAlign:{xs:"center",md:"center"}}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Closed Customers Complaints"," ")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(W_,{align:"center"},"Complaint No."),a.a.createElement(W_,{align:"center"},"Department"),a.a.createElement(W_,{align:"center"},"Customer"),a.a.createElement(W_,{align:"center"},"Complaint Type"),a.a.createElement(W_,{align:"center"},"Complaint"),a.a.createElement(W_,{align:"center"},"Unit"),a.a.createElement(W_,{align:"center"},"Invoices"))),a.a.createElement(Hn.a,null,s.map(function(e,t){return a.a.createElement(z_,{key:t},a.a.createElement(W_,{align:"center"},e.id),a.a.createElement(W_,{align:"center"},e.department),a.a.createElement(W_,{align:"center"},e.customer),a.a.createElement(W_,{align:"center"},e.complain_type),a.a.createElement(W_,{align:"center"},e.complaint),a.a.createElement(W_,{align:"center"},e.unit),a.a.createElement(W_,{align:"center"},e.invoices.map(function(t,r){return a.a.createElement("span",{key:r},t,r<e.invoices.length-1&&a.a.createElement("span",{style:{margin:"0 5px"}},"|"))})))})))),a.a.createElement(Vr,{totalPages:g,currentPage:m,handlePageChange:function(e,t){d(t)}}))))},W_=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),z_=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),R_=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=[{label:"Customer Complaint Form",roles:["Director","Sales","Customer Service"],component:a.a.createElement(E_,null)},{label:"CAPA",roles:["Director","Acounts","Customer Service","Factory"],component:a.a.createElement(D_,null)},{label:"Closed Complaints",roles:["Director","Acounts","Customer Service"],component:a.a.createElement(G_,null)}].filter(function(t){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}.apply(void 0,Object(vr.a)(t.roles))}),r=Object(n.useState)(0),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Xr,{tabs:t.map(function(e){return{label:e.label,index:e.index}}),activeTab:i,onTabChange:function(e){c(e)}}),t.length>0&&t[i]?a.a.createElement("div",null,t[i].component):null)};function B_(){B_=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var M_=function(e){var t=e.setOpenAddComplainttype,r=e.getAllComplaintsList,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)({department:"",name:""}),p=Object(l.a)(h,2),m=p[0],d=p[1],y=gt(),v=y.handleSuccess,g=y.handleError,b=y.handleCloseSnackbar,E=y.alertInfo,w=function(){var e=Object(c.a)(B_().mark(function e(n){var a;return B_().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,f(!0),a=Object(u.a)({},m),e.next=6,Kn.createComplaintpes(a);case 6:v("CCF complaint type created successfully!"),setTimeout(function(){r(),t(!1)},500),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),g(e.t0);case 14:return e.prev=14,f(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,10,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:E.open,onClose:b,severity:E.severity,message:E.message}),a.a.createElement(Je,{open:s}),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column",width:"100%"}},a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:w},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(sr,{name:"department",size:"small",disablePortal:!0,id:"combo-box-demo",options:q_,getOptionLabel:function(e){return e},fullWidth:!0,label:"CCF Choice",onChange:function(e,t){return d(function(e){return Object(u.a)({},e,{department:t})})}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(Ve,{fullWidth:!0,size:"small",label:"Complaints",name:"name",variant:"outlined",type:"string",onChange:function(e){return d(function(t){return Object(u.a)({},t,{name:e.target.value})})}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(We.a,{variant:"contained",fullWidth:!0,color:"primary",style:{marginRight:"10px"},type:"submit"},"Submit")))))))},q_=["Account","Product","Dispatch and Logistic","Sales Person"];function U_(){U_=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Y_=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:5}),t}),V_=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Q_=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=gt(),P=k.handleError,C=k.handleCloseSnackbar,T=k.alertInfo,N=Object(n.useCallback)(Object(c.a)(U_().mark(function e(){var t;return U_().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Kn.getAllComplaintsList(m,x);case 4:t=e.sent,b(Math.ceil(t.data.count/25)),S(t.data.results),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),P(e.t0),console.log(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,9,13,16]])})),[m,x]);Object(n.useEffect)(function(){N()},[m,x]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:T.open,onClose:C,severity:T.severity,message:T.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:3},a.a.createElement(Ur,{onSearch:function(e){O(e),d(1)},onReset:function(){O(""),d(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,md:4,sx:{textAlign:{xs:"center",md:"center"}}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Complaints Choice")),a.a.createElement(Fe.a,{item:!0,xs:12,md:3},a.a.createElement(sr,{fullWidth:!0,size:"small",disablePortal:!0,id:"combo-box-stage",onChange:function(e,t){return O(t)},options:["Account","Product","Dispatch and Logistic","Sales Person"],getOptionLabel:function(e){return e},label:"Filter By "})),a.a.createElement(Fe.a,{item:!0,xs:12,md:2,sx:{display:"flex",justifyContent:{xs:"center",md:"flex-end"}}},a.a.createElement(We.a,{color:"primary",variant:"contained",onClick:function(){return f(!0)}},"Add")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(Y_,{align:"center"},"ID"),a.a.createElement(Y_,{align:"center"},"Department"),a.a.createElement(Y_,{align:"center"},"Name"))),a.a.createElement(Hn.a,null,L.map(function(e,t){return a.a.createElement(V_,{key:e.id},a.a.createElement(Y_,{align:"center"},e.id),a.a.createElement(Y_,{align:"center"},e.department),a.a.createElement(Y_,{align:"center"},e.name))})))),a.a.createElement(Vr,{totalPages:g,currentPage:m,handlePageChange:function(e,t){d(t)}})),a.a.createElement(Ce,{width:"lg",title:"Add a complaint types",openPopup:s,setOpenPopup:f},a.a.createElement(M_,{setOpenAddComplainttype:f,getAllComplaintsList:N}))))};function H_(){H_=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var J_=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(new Date),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(new Date),w=Object(l.a)(E,2),x=w[0],O=w[1],_=(new Date).toISOString().split("T")[0],j=new Date("2030-12-31").toISOString().split("T")[0],L=Object(n.useState)(!1),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useRef)(null),T=Object(n.useState)([]),N=Object(l.a)(T,2),D=N[0],A=N[1],I=Object(n.useState)(""),F=Object(l.a)(I,2),G=F[0],W=F[1],z=gt(),R=z.handleError,B=z.handleCloseSnackbar,M=z.alertInfo,q=Object(n.useCallback)(Object(c.a)(H_().mark(function e(){var t,r,n;return H_().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),t=x?x.toISOString().split("T")[0]:"",r=g?g.toISOString().split("T")[0]:"",e.next=6,st.getTallyInvoiceData(t,r,G);case 6:n=e.sent,f(n.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),R(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])})),[x,g,G]);Object(n.useEffect)(function(){q()},[x,g,G]);var U=function(){var e=Object(c.a)(H_().mark(function e(){var t;return H_().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,st.getAllPaginateSellerAccountData("all");case 4:t=e.sent,A(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){U()},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:M.open,onClose:B,severity:M.severity,message:M.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,md:2},a.a.createElement(sr,{size:"small",onChange:function(e,t){return function(e){var t=e;if("Today"===t){var r=new Date;b(r),O(r)}else"Custom Date"===t&&(O(new Date),b(new Date),P(!0))}(t)},options:K_.map(function(e){return e.value}),getOptionLabel:function(e){return e},label:"Filter By Date"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(sr,{name:"seller_unit",size:"small",disablePortal:!0,id:"combo-box-demo",value:G,onChange:function(e,t){return W(t)},options:D.map(function(e){return e.unit}),getOptionLabel:function(e){return e},fullWidth:!0,label:"Filter By Seller Unit"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,md:4},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Tally Invoice"))),a.a.createElement(Fe.a,{item:!0,xs:12,md:4,style:{textAlign:"end"}},a.a.createElement(We.a,{variant:"contained",color:"info",onClick:function(){try{o(!0);var e=s.map(function(e){return{VCH_TYPE:"GST SALES",invoice_no:e.invoice_no,invoice_date:e.invoice_date,pi_no:e.pi_no,pi_date:e.pi_date,customer:e.customer,transport:e.transport,destination:e.destination,order_no:e.order_no,payment_term:e.payment_term,delivery_term:e.delivery_term,shipping_customer:e.shipping_customer,address1:e.address.address1,address2:e.address.address2,address3:e.address.address3,shipping_state:e.shipping_state,shipping_pincode:e.shipping_pincode,product:e.product,quantity:e.quantity,rate:e.rate,amount:e.amount,cgst:e.cgst||"",igst:e.igst||"",total:e.total,sgst:e.sgst||"",sales_invoice:e.sales_invoice,billing_state:e.billing_state,shipping_city:e.shipping_city,sales_ledger:"GST Sales"}});d(e),setTimeout(function(){C.current.link.click()})}catch(t){console.log("CSVLink Download error",t)}finally{o(!1)}}},"Download CSV"),m.length>0&&a.a.createElement(Bn.CSVLink,{data:m,headers:[{label:"VCH TYPE",key:"VCH_TYPE"},{label:"INVOICE NO",key:"invoice_no"},{label:"INVOICE DT",key:"invoice_date"},{label:"PI NO",key:"pi_no"},{label:"PI DT",key:"pi_date"},{label:"CUSTOMER NAME",key:"customer"},{label:"TRANSPORT",key:"transport"},{label:"DESTINATION",key:"destination"},{label:"ORDER NO",key:"order_no"},{label:"PAYMENT TERMS",key:"payment_term"},{label:"TERMS OF DELIVERY",key:"delivery_term"},{label:"SHIP TO",key:"shipping_customer"},{label:"ADDRESS 1",key:"address1"},{label:"ADDRESS 2",key:"address2"},{label:"ADDRESS 3",key:"address3"},{label:"SHIP STATE",key:"shipping_state"},{label:"SHIP PIN CODE",key:"shipping_pincode"},{label:"PRODUCT CODE",key:"product"},{label:"QTY",key:"quantity"},{label:"RATE",key:"rate"},{label:"TAXABLE VALUE",key:"amount"},{label:"SGST - Output",key:"sgst"},{label:"CGST - Output",key:"cgst"},{label:"IGST - Output",key:"igst"},{label:"TOTAL AMT",key:"total"},{label:"REF NO",key:"sales_invoice"},{label:"BILL TO PLACE",key:"billing_state"},{label:"SHIP TO PLACE",key:"shipping_city"},{label:"Sales Ledger",key:"sales_ledger"}],ref:C,filename:"tally.csv",target:"_blank",style:{textDecoration:"none",outline:"none",visibility:"hidden"}})))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,["INVOICE NO","INVOICE DT","PI NO","UNIT","CUSTOMER NAME","PRODUCT CODE","QTY","RATE"].map(function(e,t){return a.a.createElement(Z_,{key:t,align:"center"},e)}))),a.a.createElement(Hn.a,null,s.length>0&&s.map(function(e,t){return a.a.createElement(X_,{key:t},a.a.createElement(Z_,{align:"center"},e.invoice_no),a.a.createElement(Z_,{align:"center"},e.invoice_date),a.a.createElement(Z_,{align:"center"},e.pi_no),a.a.createElement(Z_,{align:"center"},e.unit),a.a.createElement(Z_,{align:"center"},e.customer),a.a.createElement(Z_,{align:"center"},e.product),a.a.createElement(Z_,{align:"center"},e.quantity),a.a.createElement(Z_,{align:"center"},e.rate))}),0===s.length&&a.a.createElement(Un.a,null,a.a.createElement(Z_,{colSpan:6,align:"center"},"No Data Available")))))),a.a.createElement(Ce,{openPopup:k,setOpenPopup:P,title:"Date Filter",maxWidth:"md"},a.a.createElement(Ae.a,{sx:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",margin:"10px",padding:"20px"}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:5,sm:5,md:5,lg:5},a.a.createElement(Ve,{fullWidth:!0,label:"Start Date",variant:"outlined",size:"small",type:"date",id:"start-date",value:x?x.toISOString().split("T")[0]:"",min:_,max:j,onChange:function(e){var t=new Date(e.target.value);O(t),b(new Date)}})),a.a.createElement(Fe.a,{item:!0,xs:5,sm:5,md:5,lg:5},a.a.createElement(Ve,{fullWidth:!0,label:"End Date",variant:"outlined",size:"small",type:"date",id:"end-date",value:g?g.toISOString().split("T")[0]:"",min:x?x.toISOString().split("T")[0]:_,max:j,onChange:function(e){var t=new Date(e.target.value);b(t)},disabled:!x})),a.a.createElement(Fe.a,{item:!0,xs:2,sm:2,md:2,lg:2},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){O(new Date),b(new Date)}},"Reset")))))))},K_=[{value:"Today"},{value:"Custom Date"}],Z_=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),X_=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),$_=r(675);function ej(){ej=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var tj=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),rj=function(e){var t=e.setOpenPopup,r=e.getSalesInvoiceDetails,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],v=Object(n.useState)(""),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)([]),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)([]),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)([]),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)([{product:"",pending_quantity:"",quantity:"",rate:"",proforma_invoice:"",id:"",user:""}]),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useState)(0),M=Object(l.a)(B,2),q=M[0],U=M[1],V=function(e,t){var r=Object(vr.a)(z);r[e][t.target.name]=parseFloat(t.target.value)||0,R(r);var n=function(e){return e.filter(function(e){return e.pending_quantity>0}).reduce(function(e,t){if("international"===O.origin_type){var r=Number(t.quantity)||0,n=Number(t.rate)||0;return e+(Number(I.exchange_rate)||0)*n*r}return e+(Number(t.quantity)||0)*(Number(t.rate)||0)},0)}(r);U(n)},Q=(new Date).toISOString().split("T")[0],H=function(e){var t=e.target,r=t.name,n=t.value;F(Object(u.a)({},I,Object(Y.a)({},r,n)))},J=function(){var e=Object(c.a)(ej().mark(function e(t){var r,n;return ej().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),f(!0),e.next=5,st.getAllOrderBookDataWithSearch("all","customer",I.company);case 5:r=e.sent,n=r.data.filter(function(e){return e.products&&e.products.some(function(e){return e.pending_quantity>0})}),k(n),f(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),f(!1),console.log("err",e.t0),alert(e.t0.response.data.errors.proforma_invoice);case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(ej().mark(function e(t){var r,n,a;return ej().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{f(!0),r=[],n=[],t.map(function(e){return _(e),n.push(e.id),N(n),e.products.map(function(e){var t={product:e.product,pending_quantity:e.pending_quantity,requested_date:e.requested_date,rate:e.rate,proforma_invoice:e.proforma_invoice,id:e.id,raised_by:e.raised_by};return r.push(t),t})}),a=r.map(function(e){return{product:e.product,pending_quantity:e.pending_quantity,requested_date:e.requested_date,rate:e.rate,proforma_invoice:e.proforma_invoice,id:e.id,user:e.raised_by}}),R(a),f(!1)}catch(o){f(!1),console.log("err",o),alert(o.response.data.errors.proforma_invoice)}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(c.a)(ej().mark(function e(n){var a,o;return ej().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),a=z.filter(function(e){return Number(e.pending_quantity)>0&&Number(e.quantity)>0}).map(function(e){e.pending_quantity,e.rate,e.requested_date;return Object(ca.a)(e,["pending_quantity","rate","requested_date"])}),o={invoice_type:"customer",order_book:O.id,order_book_list:T,generation_date:I.generation_date?I.generation_date:(new Date).toISOString().split("T")[0],products:a,place_of_supply:void 0!==I.place_of_supply?I.place_of_supply:O?O.place_of_supply:"",transporter_name:void 0!==I.transporter_name?I.transporter_name:O?O.transporter_name:"",exchange_rate:I.exchange_rate||null},f(!0),0===I.length){e.next=10;break}return e.next=8,st.createSalesinvoiceData(o);case 8:t(!1),r();case 10:f(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),f(!1),d(!0),e.t0.response&&e.t0.response.data?400===e.t0.response.status&&E(e.t0.response.data.errors.non_field_errors):E(e.t0.response.data);case 18:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}(),X=function(){d(!1),E("")};return a.a.createElement("div",null,a.a.createElement(Je,{open:s}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return Z(e)}},a.a.createElement(Ze.a,{open:m,autoHideDuration:1e4,onClose:X,anchorOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement(Xe.a,{severity:"error",onClose:X,sx:{width:"100%"}},a.a.createElement($_.a,null,"Error"),b)),a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{sx:{minWidth:"8rem"},name:"company",size:"small",label:"search By Company Name",variant:"outlined",onChange:H,value:I.company}),a.a.createElement(We.a,{onClick:function(e){return J(e)},variant:"contained"},"Submit")),S&&S.length>0&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(ur.a,{name:"pi_number",multiple:!0,size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return K(t)},options:S,getOptionLabel:function(e){return"".concat(e.proforma_invoice," - ").concat(e.company)},sx:{minWidth:300},renderInput:function(e){return a.a.createElement(Ve,Object.assign({},e,{label:"PI Number"}))}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"seller_state",size:"small",label:"Seller State",variant:"outlined",value:O?O.seller_state:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"seller_auto_number",size:"small",label:"Seller Auto Number",variant:"outlined",value:O?O.seller_auto_number:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"company",size:"small",label:"Company",variant:"outlined",value:O?O.company:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"shipping_address",size:"small",label:"Shipping Address",variant:"outlined",value:O?O.shipping_address:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"shipping_state",size:"small",label:"Shipping State",variant:"outlined",value:O?O.shipping_state:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"shipping_city",size:"small",label:"Shipping City",variant:"outlined",value:O?O.shipping_city:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"shipping_pincode",size:"small",label:"Shipping Pincode",variant:"outlined",value:O?O.shipping_pincode:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"billing_address",size:"small",label:"Billing Address",variant:"outlined",value:O?O.billing_address:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"billing_state",size:"small",label:"Billing State",variant:"outlined",value:O?O.billing_state:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"billing_city",size:"small",label:"Billing City",variant:"outlined",value:O?O.billing_city:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,multiline:!0,name:"billing_pincode",size:"small",label:"Billing Pincode",variant:"outlined",value:O?O.billing_pincode:""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,required:!0,name:"transporter_name",size:"small",label:"Transporter Name",variant:"outlined",value:void 0!==I.transporter_name?I.transporter_name:O?O.transporter_name:"",error:""===I.transporter_name,onChange:H})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"place_of_supply",size:"small",label:"Place of Supply",variant:"outlined",value:void 0!==I.place_of_supply?I.place_of_supply:O?O.place_of_supply:"",onChange:H})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"generation_date",size:"small",label:"Generation Date",variant:"outlined",value:I.generation_date?I.generation_date:Q,onChange:H,inputProps:{max:Q}})),O&&"international"===O.origin_type&&a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"exchange_rate",size:"small",label:"Exchange Rate",variant:"outlined",value:void 0!==I.exchange_rate?I.exchange_rate:O?O.exchange_rate:"",onChange:H})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(tj,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),z&&z.length>0&&z.map(function(e,t){return Number(e.pending_quantity)<=0?null:(r="international"===O.origin_type?Number(I.exchange_rate)*Number(e.rate)*(Number(e.quantity)||0):(Number(e.quantity)||0)*(Number(e.rate)||0),a.a.createElement(a.a.Fragment,{key:t}," ",a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"product",size:"small",label:"Product",variant:"outlined",value:e.product})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"pending_quantity",size:"small",label:"Pending Quantity",variant:"outlined",value:e.pending_quantity})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity,onChange:function(e){return V(t,e)},error:e.pending_quantity<e.quantity,helperText:e.pending_quantity<e.quantity?"Quantity must be less than or equal to pending quantity":""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"amount",size:"small",label:"Amount",variant:"outlined",value:r.toFixed(2),InputProps:{readOnly:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:1},a.a.createElement(We.a,{onClick:function(){return function(e){var t=Object(vr.a)(z);t.splice(e,1),R(t)}(t)},variant:"contained"},"Remove"))));var r}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2},a.a.createElement(Ve,{fullWidth:!0,name:"totalAmount",size:"small",label:"Total Amount",variant:"outlined",value:isNaN(q)?"":q.toFixed(2),InputProps:{readOnly:!0}}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function nj(){nj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var aj=function(e){var t=e.idForEdit,r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],s=o[1],f=Object(n.useState)([]),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)([]),y=Object(l.a)(d,2),v=y[0],g=y[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),w=E[0],x=E[1];console.log("idforedit",t);var O=function(){var e=Object(c.a)(nj().mark(function e(){var r;return nj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,st.getSalesnvoiceDataById(t);case 4:r=e.sent,s(r.data),_(r.data.products_si),g(r.data.hsn_table),x(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),x(!1);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){t&&O()},[t]),console.log("salesinvoicedata",i);for(var _=function(e){for(var t=[],r=0;r<e.length;r++){for(var n=!1,a=0;a<t.length;a++)if(t[a].product===e[r].product&&parseInt(t[a].rate)===parseInt(e[r].rate)){t[a].quantity=parseInt(t[a].quantity)+parseInt(e[r].quantity),t[a].amount=parseFloat(t[a].amount)+parseFloat(e[r].amount),t[a].total=parseFloat(t[a].amount)+parseFloat(e[r].total),t[a].gst=parseFloat(t[a].amount)+parseFloat(e[r].gst),n=!0;break}n||t.push(e[r])}m(t)},j=(i.amount_in_words?i.amount_in_words:"").split(" "),L=0;L<j.length;L++)j[L]=j[L].charAt(0).toUpperCase()+j[L].slice(1);var S=j.join(" "),k=Object(n.useRef)(),P=Object(Bi.useReactToPrint)({content:function(){return k.current},documentTitle:"Sales Invoice Number ".concat(i.order_book)}),C=(i.total-i.amount).toFixed(2);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{open:w}),a.a.createElement("div",{className:"container-fluid mb-4",style:{border:"1px Solid #000000"}},a.a.createElement("div",{className:"row p-2"},a.a.createElement("div",{className:"col-xs-12 "}," ",a.a.createElement(We.a,{variant:"contained",onClick:P},"Export")))),a.a.createElement("div",{className:"container-fluid m-0 p-0",style:{border:"1px Solid #000000"},ref:k},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-xs-12"},a.a.createElement("div",{className:"grid invoice",style:{padding:"10px"}},a.a.createElement("div",{className:"grid-body"},a.a.createElement("div",{className:"invoice-title"},a.a.createElement("div",{className:"row",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("div",{className:"col-md-2 align-self-center logos"},a.a.createElement("img",{src:ec.a,alt:"",Height:"60",width:"150"})),a.a.createElement("div",{className:"col-md-7",style:{marginRight:"1rem"}},a.a.createElement("div",{className:"text-center address"},a.a.createElement("strong",{style:Object(u.a)({},oj)},"Glutape India Private Limited"),a.a.createElement("br",null),a.a.createElement("p",{style:{fontSize:"0.50rem"}},i.seller_address,",",i.seller_city,",",i.seller_state,"-",i.seller_state_code,",",a.a.createElement("br",null),i.seller_pincode,", CIN No ;-",i.seller_cin_number,", P.No :- ",a.a.createElement("br",null),i.seller_contact,"E:",i.seller_email,",W:www.glutape.com"))),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-end msme"},a.a.createElement("img",{src:Xi.a,alt:"",height:"50",width:"90"})),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-start iso"},a.a.createElement("img",{src:hm.a,alt:"",height:"35",width:"90"}))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("p",{className:"text-center fs-6 fw-bold p-0 m-0"},"Sales Invoice"))),a.a.createElement("div",{className:"row",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("div",{className:"col-md-6",style:Object(u.a)({},oj)},a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},oj)},"Sales Invoice No & Date :"," ")," ",i.invoice_no," &"," ",i.generation_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},oj)},"Customer Name :"," ")," ",i.company)),a.a.createElement("div",{className:"col-md-6",style:Object(u.a)({},oj,{borderLeft:"1px Solid #000000"})},a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},oj)},"Place of Supply :"," "),i.place_of_supply),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},oj)},"Transporter Name :"," "),i.transporter_name),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},oj)},"Buyer Order No & Date :"," "),i.buyer_order_number," &"," ",i.buyer_order_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},oj)},"Payment Terms :"," ")," ",i.payment_terms),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},oj)},"Delivery Terms :"," ")," ",i.delivery_terms)))),a.a.createElement("div",{className:"row",style:Object(u.a)({},oj,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-6"},a.a.createElement("address",null,a.a.createElement("strong",{style:oj},"Billed To:"),a.a.createElement("br",null),i.buyer_details?a.a.createElement(a.a.Fragment,null,a.a.createElement("strong",{style:oj},"Company:"),i.buyer_details.name||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:oj},"Address:"),i.buyer_details.billing_address||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:oj},"City & State:"),i.buyer_details.billing_city||"N/A"," &"," ",i.buyer_details.billing_state||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:oj},"Pin Code:"),i.buyer_details.billing_pincode||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:oj},"GST Number:"),i.buyer_details.gst||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:oj},"PAN Number:"),i.buyer_details.pan||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:oj},"Contact:"),i.contact||"N/A"):a.a.createElement("p",null,"Buyer details are not available."))),a.a.createElement("div",{className:"col-md-6 justify-content-end",style:{borderLeft:"1px Solid #000000"}},a.a.createElement("address",{className:"justify-content-end"},a.a.createElement("strong",{style:oj},"Shipped To:"),a.a.createElement("br",null),i.buyer_details?a.a.createElement(a.a.Fragment,null,a.a.createElement("strong",{style:oj},"Company:"),i.buyer_details.name||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:oj},"Address:"),i.buyer_details.shipping_address||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:oj},"City & State:"),i.buyer_details.shipping_city||"N/A"," &"," ",i.buyer_details.shipping_state||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:oj},"Pin Code:"),i.buyer_details.shipping_pincode||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:oj},"GST Number:"),i.buyer_details.gst||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:oj},"PAN Number:"),i.buyer_details.pan||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:oj},"Contact:"),i.contact||"N/A"):a.a.createElement("p",null,"Shipping details are not available.")))),a.a.createElement("div",{className:"row",style:Object(u.a)({},oj,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-12"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",{className:"line"},a.a.createElement("td",{className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},oj)},"SR.NO")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},oj)},"DESCRIPTION OF GOODS")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},oj)},"HSN COCE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},oj)},"QTY")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},oj)},"UNIT")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},oj)},"RATE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},oj)},"AMOUNT")))),a.a.createElement("tbody",null,p.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",{className:"text-start"},t+1),a.a.createElement("td",{className:"text-center"},e.description,a.a.createElement("br",null),e.product),a.a.createElement("td",{className:"text-center"},e.hsn_code),a.a.createElement("td",{className:"text-center"},e.quantity),a.a.createElement("td",{className:"text-center"},e.unit),a.a.createElement("td",{className:"text-center"},e.rate),a.a.createElement("td",{className:"text-center"},e.amount))}),a.a.createElement("tr",null,a.a.createElement("td",{colspan:"3.5",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},oj)},"Company Bank Details :"," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},oj)},"Company Name :"," "),"Glutape India Pvt Ltd"),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},oj)},"Bank :"," "),i.seller_details?i.seller_details.bank_name:"NA"," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},oj)},"Account No :"," "),i.seller_details?i.seller_details.account_no:"NA"),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},oj)},"Branch & IFSC Code :"," "),i.seller_details?i.seller_details.branch:"NA"," ","&",i.seller_details?i.seller_details.ifsc:"NA"),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},oj)},"Gst Number :"," "),i.seller_details?i.seller_details.gst:"NA"),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},oj)},"Pan Number :"," "),i.seller_details?i.seller_details.pan:"NA")),a.a.createElement("td",{colspan:"3"},a.a.createElement("strong",{style:Object(u.a)({},oj)},"Taxable Amount"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},oj)},"CGST Amount")," ",a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},oj)},"SGST Amount")," ",a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},oj)},"IGST Amount"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},oj)},"Round Off"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},oj)},"Total Amount")),a.a.createElement("td",{colspan:"0.5",className:"text-right"},a.a.createElement("span",null,i.amount),a.a.createElement("br",null),a.a.createElement("span",null,i.cgst?i.cgst:"-"),a.a.createElement("br",null),a.a.createElement("span",null,i.sgst?i.sgst:"-"),a.a.createElement("br",null),a.a.createElement("span",null,i.igst?i.igst:"-"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},oj)},i.round_off),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},oj)},i.round_off_total))))))),void 0!==i.amount_in_words&&a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},oj,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-8 text-right"},a.a.createElement("strong",null,"Amount in Words :-"),"\xa0\xa0",S)),"domestic"===i.origin_type&&v.length>0&&a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},oj,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-8 text-right table-responsive"},a.a.createElement("table",{className:"table table-bordered"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"HSN"),a.a.createElement("th",null,"TAXABLE AMOUNT"),a.a.createElement("th",null,"CGST"),a.a.createElement("th",null,"SGST"),a.a.createElement("th",null,"IGST"),a.a.createElement("th",null,"GST %"),a.a.createElement("th",null,"TOTAL GST"))),a.a.createElement("tbody",null,v.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,e.hsn_code),a.a.createElement("td",null,e.amount),a.a.createElement("td",null,e.cgst),a.a.createElement("td",null,e.sgst),a.a.createElement("td",null,e.igst),a.a.createElement("td",null,e.gst_percentage),a.a.createElement("td",null,e.total_gst))}),a.a.createElement("tr",null,a.a.createElement("td",{colspan:"1",className:"text-end"},a.a.createElement("strong",{style:Object(u.a)({},oj)},"Total :")),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},oj)},i.amount)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},oj)},i.cgst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},oj)},i.sgst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},oj)},i.igst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},oj)})),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},oj)},C))))))),a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},oj,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-12 text-right"},a.a.createElement("strong",{style:Object(u.a)({},oj)},"Terms and Condition :-"),ij.map(function(e,t){return a.a.createElement("p",{key:t,style:{margin:0,padding:0,fontSize:"0.50rem"}},e.id,e.text,a.a.createElement("br",null))}))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12 "},a.a.createElement("img",{src:Ki.a,alt:"",height:"60",width:"100%"})))))))))},oj={fontSize:"0.80rem"},ij=[{id:"1)",text:"Material once sold will not be taken back."},{id:"2)",text:"Material is delivered at owner's risk and with no liability of transportation damage to Glutape India Pvt Ltd. "},{id:"3)",text:"Our risk and Responsibility ceases as soon as the goods leave our premises."},{id:"4)",text:"In case the cargo is insured, a claim against insurance will be settled once the insurance claim gets sanctioned from the respective insurance company"},{id:"5)",text:"Please test Material before using."},{id:"6)",text:"No allowance for storage of difference in quality will be allowed unless the same is given to us within 24 hour of receipt insurance company."},{id:"7)",text:"Subjects to mumbai, Maharashtra jurisdiction only."},{id:"8)",text:"Validity of this Sales Invoice is 3 Days from Date of Proforma Invoice."}];function cj(){cj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var lj=function(e){var t=e.idForEdit,r=e.getSalesInvoiceDetails,o=e.setOpenPopup,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=function(){var e=Object(c.a)(cj().mark(function e(n){var a;return cj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),f(!0),a={generation_date:t.generation_date,cancelled:m},e.next=6,st.cancelSalesInvoice(t.invoice_no,a);case 6:o(!1),r(),f(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),f(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Je,{open:s}),a.a.createElement(E.a,{variant:"body1"},"Are you sure you want to cancel the sales invoice?"),a.a.createElement(mr.a,{checked:m,onChange:function(){return d(!m)},color:"primary"}),a.a.createElement(E.a,{variant:"body2",component:"label",htmlFor:"confirmCancel"},"Confirm cancellation"),a.a.createElement("br",null),a.a.createElement(We.a,{variant:"contained",onClick:y,disabled:!m},"Cancel Sales Invoice"))};function uj(){uj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var sj=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),fj={someDate:(new Date).toISOString().substring(0,10)},hj=function(e){var t=e.getSalesInvoiceDetails,r=e.setOpenPopup,o=Object(n.useState)([]),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)({message:"",severity:"",open:!1}),p=Object(l.a)(h,2),m=p[0],d=p[1],v=Zs([{product:"",quantity:"",rate:""}],s,!0),g=v.handleAutocompleteChange,b=v.handleFormChange,E=v.addFields,w=v.removeFields,x=v.products,O=Object(n.useState)(!1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)({from_unit:"",to_unit:"",generation_date:fj.someDate,transport_cost:"",transporter_name:""}),k=Object(l.a)(S,2),P=k[0],C=k[1],T=Object(n.useState)([]),N=Object(l.a)(T,2),D=N[0],A=N[1],I=function(e){var t=e.target,r=t.name,n=t.value;C(Object(u.a)({},P,Object(Y.a)({},r,n)))},F=function(e,t){var r=t.unit;P.from_unit&&P.from_unit===r?d({message:"From unit and To Units should not be same!",severity:"warning",open:!0}):C(Object(u.a)({},P,Object(Y.a)({},e,t?r:"")))},G=Object(n.useCallback)(Object(c.a)(uj().mark(function e(){var t;return uj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kr.getAllConsStoresInventoryData();case 3:t=e.sent,console.log("response product",t.data),f(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("error potential",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),[]),W=function(){var e=Object(c.a)(uj().mark(function e(){var t;return uj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,st.getAllPaginateSellerAccountData("all");case 3:t=e.sent,A(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error fetching seller account data:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){W(),G()},[]);var z=function(){var e=Object(c.a)(uj().mark(function e(n){var a,o,i,c;return uj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=x.map(function(e){return{product:e.product,quantity:e.quantity,rate:parseFloat(e.rate)}}),o={invoice_type:"unit",generation_date:P.generation_date||fj.someDate,to_unit:P.to_unit,from_unit:P.from_unit,transporter_name:P.transporter_name,transport_cost:P.transport_cost||0,products:a},e.prev=3,L(!0),e.next=7,st.createBranchinvoiceData(o);case 7:i=e.sent,c=i.data.message||"Branch Invoice created successfully!",d({message:c,severity:"success",open:!0}),setTimeout(function(){r(!1),t()},400),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),d({message:e.t0.message||"Error: creating Branch Invoice!",severity:"error",open:!0}),console.error("Creating BI error",e.t0);case 17:return e.prev=17,L(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[3,13,17,20]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement($e,{open:m.open,message:m.message,severity:m.severity,onClose:function(){d({open:!1})}}),a.a.createElement(Je,{open:j}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:function(e){return z(e)}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"from_unit",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return F("from_unit",t)},options:D,getOptionLabel:function(e){return e.unit},sx:{minWidth:300},label:"From Unit"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"to_unit",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return F("to_unit",t)},options:D,getOptionLabel:function(e){return e.unit},sx:{minWidth:300},label:"To Unit",error:P.from_unit===P.to_unit?"Cannot be same unit":""})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,type:"date",name:"generation_date",size:"small",label:"Generation Date",variant:"outlined",value:P.generation_date||fj.someDate,onChange:I,InputLabelProps:{shrink:!0}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"transport_cost",size:"small",label:"Transport Cost",variant:"outlined",value:P.transport_cost,onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ve,{fullWidth:!0,name:"transporter_name",size:"small",label:"Transporter Name",variant:"outlined",value:P.transporter_name,onChange:I})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sj,null,a.a.createElement(y.a,null,a.a.createElement(lr.a,{label:"PRODUCT"})))),x.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:t},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(sr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,r){return g(t,e,r)},options:s.map(function(e){return e.product__name}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity,onChange:function(e){return b(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:3},a.a.createElement(Ve,{fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate,onChange:function(e){return b(t,e)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:2,alignContent:"right"},0!==t&&a.a.createElement(We.a,{disabled:0===t,onClick:function(){return w(t)},variant:"contained"},"Remove")))}),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(We.a,{onClick:E,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},pj=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),mj=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),dj=function(e){var t=e.selectedRow;return Object(n.useEffect)(function(){console.log("value from SourceViewList",t)},[t]),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,null,a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:500},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(pj,{align:"center"},"Product"),a.a.createElement(pj,{align:"center"},"Quantity"),a.a.createElement(pj,{align:"center"},"Rate"),a.a.createElement(pj,{align:"center"},"Amount"),a.a.createElement(pj,{align:"center"},"Key"))),a.a.createElement(Hn.a,null,t&&t.map(function(e,t){return a.a.createElement(mj,{key:t},a.a.createElement(pj,{align:"center"},e.product),a.a.createElement(pj,{align:"center"},e.quantity),a.a.createElement(pj,{align:"center"},e.rate),a.a.createElement(pj,{align:"center"},e.amount),a.a.createElement(pj,{align:"center"},e.source_key))}))))))};function yj(){yj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var vj=function(e){var t=e.idForEdit,r=e.setOpenSalesPopUpFile,o=e.getProduct;console.log("idForEdit",t);var i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useRef)(null),p=Object(n.useState)(null),m=Object(l.a)(p,2),d=m[0],v=m[1],g=Object(n.useState)({message:"",severity:"",open:!1}),b=Object(l.a)(g,2),E=b[0],w=b[1],x=function(){var e=Object(c.a)(yj().mark(function e(n){var a;return yj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),d){e.next=4;break}return w({message:"Please select a file to upload",severity:"error",open:!0}),e.abrupt("return",!1);case 4:return(a=new FormData).append("file",d),a.append("invoice_no",t.invoice_no),a.append("company",t.company),e.prev=8,f(!0),e.next=12,st.uploadSalesinvoice(a);case 12:w({message:"Sales Invoice  uploaded successfully",severity:"success",open:!0}),setTimeout(function(){r(!1),o()},500),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(8),w({message:e.t0.message||"Error uploading Sales Invoice",severity:"error",open:!0}),console.error("Error uploading file:",e.t0);case 20:return e.prev=20,f(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[8,16,20,23]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:E.open,message:E.message,severity:E.severity,onClose:function(){w({open:!1})}}),a.a.createElement(Je,{open:s}),a.a.createElement(Fe.a,{item:!0,sx:12,width:{width:"400px"}},a.a.createElement("form",{onSubmit:x},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(We.a,{variant:"text",color:"primary",onClick:function(){h.current.click()}},"Choose the file"),d&&a.a.createElement("storng",null,d.name),a.a.createElement("input",{type:"file",ref:h,onChange:function(e){v(e.target.files[0]),console.log(e.target.files[0])},accept:".pdf",style:{display:"none"}}),a.a.createElement(y.a,null)),a.a.createElement(Fe.a,{item:!0,xs:12,sm:12},a.a.createElement(We.a,{type:"submit",size:"small",variant:"contained",color:"primary"},"Submit"))))))};function gj(){gj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var bj=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),g=v[0],b=v[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(!1),C=Object(l.a)(P,2),T=C[0],N=C[1],D=Object(n.useState)(!1),A=Object(l.a)(D,2),I=A[0],F=A[1],G=Object(n.useState)(),W=Object(l.a)(G,2),z=W[0],R=W[1],B=Object(n.useState)(1),M=Object(l.a)(B,2),q=M[0],U=M[1],Y=Object(n.useState)(0),V=Object(l.a)(Y,2),Q=V[0],H=V[1],J=Object(n.useState)(""),K=Object(l.a)(J,2),Z=K[0],X=K[1],$=Object(n.useState)(""),ee=Object(l.a)($,2),te=ee[0],re=ee[1],ne=Object(n.useState)("customer"),ae=Object(l.a)(ne,2),oe=ae[0],ie=ae[1],ce=Object(n.useState)([]),le=Object(l.a)(ce,2),ue=le[0],se=le[1],fe=Object(n.useState)(new Date),he=Object(l.a)(fe,2),pe=he[0],me=he[1],de=Object(n.useState)(new Date),ye=Object(l.a)(de,2),ve=ye[0],ge=ye[1],be=(new Date).toISOString().split("T")[0],Ee=new Date("2030-12-31").toISOString().split("T")[0],we=Object(n.useState)([]),xe=Object(l.a)(we,2),Oe=xe[0],_e=xe[1],je=Object(n.useRef)(null),Le=gt(),Se=Le.handleError,ke=Le.handleCloseSnackbar,Pe=Le.alertInfo,Te=function(){var e=Object(c.a)(gj().mark(function e(){var t,r,n,a,i;return gj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),t=ve?ve.toISOString().split("T")[0]:"",r=pe?pe.toISOString().split("T")[0]:"",e.next=6,st.getSalesInvoiceData(oe,t,r,"all",te,Z);case 6:return n=e.sent,a=n.data.filter(function(e){return!0!==e.cancelled}),i=[],a.forEach(function(e){var t={date:e.generation_date,invoice_no:e.invoice_no,seller_unit:e.seller_unit,customer:e.company,taxabale_amount:e.amount,gst:e.gst,total_amount:e.total};i.push(t)}),o(!1),e.abrupt("return",i);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:return e.prev=17,o(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[0,14,17,20]])}));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(c.a)(gj().mark(function e(){var t;return gj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te();case 2:t=e.sent,_e(t),setTimeout(function(){je.current.link.click()});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(c.a)(gj().mark(function e(){var t;return gj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,st.getAllPaginateSellerAccountData("all");case 4:t=e.sent,se(t.data),o(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o(!1);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){De()},[]);var Ie=Object(n.useCallback)(Object(c.a)(gj().mark(function e(){var t,r,n;return gj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),t=ve?ve.toISOString().split("T")[0]:"",r=pe?pe.toISOString().split("T")[0]:"",e.next=6,st.getSalesInvoiceData(oe,t,r,q,te,Z);case 6:n=e.sent,f(n.data.results),H(Math.ceil(n.data.count/25)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Se(e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])})),[oe,ve,pe,q,te,Z]);Object(n.useEffect)(function(){Ie()},[oe,ve,pe,q,te,Z]);var Ge=function(e){R(e),_(!0)},ze=function(e){R(e),k(!0)},Re=function(e){R(e),F(!0)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:Pe.open,onClose:ke,severity:Pe.severity,message:Pe.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(sr,{size:"small",onChange:function(e,t){return function(e){var t=e;if("Today"===t){var r=new Date;me(r),ge(r)}else if("Yesterday"===t){var n=new Date;n.setDate(n.getDate()-1),me(n),ge(n)}else if("Last 7 Days"===t){var a=new Date,o=new Date;o.setDate(o.getDate()-7),me(a),ge(o)}else if("Last 30 Days"===t){var i=new Date,c=new Date;c.setDate(c.getDate()-30),me(i),ge(c)}else if("This Month"===t){var l=new Date,u=new Date(l.getFullYear(),l.getMonth(),1);me(l),ge(u)}else if("Last Month"===t){var s=new Date;s.setDate(0);var f=new Date(s.getFullYear(),s.getMonth(),1);me(s),ge(f)}else"Custom Date"===t&&(ge(new Date),me(new Date),N(!0))}(t)},options:_j.map(function(e){return e.value}),getOptionLabel:function(e){return e},label:"Filter By Date"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(sr,{size:"small",value:oe,onChange:function(e,t){return r=t,console.log("value",r),void ie(r);var r},options:Oj.map(function(e){return e}),getOptionLabel:function(e){return e},label:"Filter By Invoice Type"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(sr,{size:"small",value:te,onChange:function(e,t){return r=t,console.log("value",r),void re(r);var r},options:ue.map(function(e){return e.unit}),getOptionLabel:function(e){return e},label:"Filter By State"})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(Ur,{onSearch:function(e){X(e),U(1)},onReset:function(){X(""),U(1)}})))),a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12,md:5},a.a.createElement(We.a,{onClick:function(){return d(!0)},variant:"contained"},"Branch Invoice")),a.a.createElement(Fe.a,{item:!0,xs:12,md:3},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center"},a.a.createElement(E.a,{variant:"h4",sx:{fontWeight:"bold"}},"Sales Invoice"))),a.a.createElement(Fe.a,{item:!0,xs:12,md:4},a.a.createElement(We.a,{onClick:function(){return b(!0)},variant:"contained",color:"success"},"Sales Invoice"),a.a.createElement(We.a,{sx:{marginLeft:"5px"},onClick:Ne,variant:"contained"},"Download CSV"),Oe.length>0&&a.a.createElement(Bn.CSVLink,{headers:[{label:"Date",key:"date"},{label:"Invoice No",key:"invoice_no"},{label:"Unit",key:"seller_unit"},{label:"Customer",key:"customer"},{label:"Taxable Amount",key:"taxabale_amount"},{label:"GST",key:"gst"},{label:"Total Amount",key:"total_amount"}],data:Oe,ref:je,filename:"Sales Invoice.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(wj,null),a.a.createElement(wj,{align:"center"},"DATE"),a.a.createElement(wj,{align:"center"},"INVOICE TYPE"),a.a.createElement(wj,{align:"center"},"SALES INVOICE NUMBER"),a.a.createElement(wj,{align:"center"},"UNIT"),a.a.createElement(wj,{align:"center"},"TAXABLE AMOUNT"),a.a.createElement(wj,{align:"center"},"GST"),a.a.createElement(wj,{align:"center"},"TOTAL"),a.a.createElement(wj,{align:"center"},"COMPANY"),a.a.createElement(wj,{align:"center"},"PROFORMA INVOICE LIST"),a.a.createElement(wj,{align:"center"},"PROFIT/LOSS %"),a.a.createElement(wj,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,s.map(function(e){return a.a.createElement(Ej,{key:e.id,row:e,openInPopup:Ge,openInPopup2:ze,setOpenSalesFile:Re})})))),a.a.createElement(Vr,{currentPage:q,totalPages:Q,handlePageChange:function(e,t){return U(t)}}))),a.a.createElement(Ce,{fullScreen:!0,title:"Create Branch Invoice",openPopup:m,setOpenPopup:d},a.a.createElement(hj,{getSalesInvoiceDetails:Ie,setOpenPopup:d})),a.a.createElement(Ce,{fullScreen:!0,title:"Create Sales Invoice",openPopup:g,setOpenPopup:b},a.a.createElement(rj,{getSalesInvoiceDetails:Ie,setOpenPopup:b})),a.a.createElement(Ce,{fullScreen:!0,title:"View Sales Invoice",openPopup:O,setOpenPopup:_},a.a.createElement(aj,{idForEdit:z,getSalesInvoiceDetails:Ie,setOpenPopup:_})),a.a.createElement(Ce,{maxWidth:"xl",title:"Cancel Sales Invoice",openPopup:S,setOpenPopup:k},a.a.createElement(lj,{idForEdit:z,getSalesInvoiceDetails:Ie,setOpenPopup:k})),a.a.createElement(Ce,{title:"Upload Sales Invoice ",openPopup:I,setOpenPopup:F},a.a.createElement(vj,{setOpenSalesPopUpFile:F,getProduct:Ie,idForEdit:z})),a.a.createElement(Ce,{openPopup:T,setOpenPopup:N,title:"Date Filter",maxWidth:"md"},a.a.createElement(Ae.a,{sx:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",margin:"10px",padding:"20px"}},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:5,sm:5,md:5,lg:5},a.a.createElement(Ve,{fullWidth:!0,label:"Start Date",variant:"outlined",size:"small",type:"date",id:"start-date",value:ve?ve.toISOString().split("T")[0]:"",min:be,max:Ee,onChange:function(e){var t=new Date(e.target.value);ge(t),me(new Date)}})),a.a.createElement(Fe.a,{item:!0,xs:5,sm:5,md:5,lg:5},a.a.createElement(Ve,{fullWidth:!0,label:"End Date",variant:"outlined",size:"small",type:"date",id:"end-date",value:pe?pe.toISOString().split("T")[0]:"",min:ve?ve.toISOString().split("T")[0]:be,max:Ee,onChange:function(e){var t=new Date(e.target.value);me(t)},disabled:!ve})),a.a.createElement(Fe.a,{item:!0,xs:2,sm:2,md:2,lg:2},a.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){ge(new Date),me(new Date)}},"Reset"))))))};function Ej(e){var t=e.row,r=e.openInPopup,o=e.openInPopup2,i=e.setOpenSalesFile,c=Object(n.useState)(!1),u=Object(l.a)(c,2),f=u[0],h=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),y=m[0],v=m[1],g=Object(n.useState)(),b=Object(l.a)(g,2),w=b[0],x=b[1],O=Object(s.c)(function(e){return e.auth}).profile;return a.a.createElement(a.a.Fragment,null,a.a.createElement(xj,{sx:{"& > *":{borderBottom:"unset"},textDecoration:t.cancelled?"line-through":"none"}},a.a.createElement(wj,null,a.a.createElement(d.a,{"aria-label":"expand row",size:"small",onClick:function(){return h(!f)}},f?a.a.createElement(Sm.a,null):a.a.createElement(jm.a,null))),a.a.createElement(wj,{align:"center"},t.generation_date),a.a.createElement(wj,{align:"center"},t.invoice_type),a.a.createElement(wj,{align:"center"},t.invoice_no),a.a.createElement(wj,{align:"center"},t.seller_details.unit),a.a.createElement(wj,{align:"center"},t.amount),a.a.createElement(wj,{align:"center"},t.seller_details.gst),a.a.createElement(wj,{align:"center"},t.total),a.a.createElement(wj,{align:"center"},t.company),null!==t.proforma_invoice_list?a.a.createElement(wj,{align:"center"},"".concat(t.proforma_invoice_list,",")):a.a.createElement(wj,{align:"center"}),a.a.createElement(wj,{align:"center"},t.profit_or_loss_pct),a.a.createElement(wj,{align:"center"},a.a.createElement(We.a,{variant:"text",onClick:function(){return r(t.invoice_no)}},"View"),!0===t.is_whatsapp_group&&!1===t.is_upload&&(O.groups.includes("Director")||O.groups.includes("Accounts")||O.groups.includes("Accounts Billing Department"))&&a.a.createElement(We.a,{type:"button",variant:"text",color:"secondary",onClick:function(){return i(t)}},"Upload SI"),(O.groups.includes("Accounts")||O.groups.includes("Accounts Billing Department"))&&a.a.createElement(We.a,{variant:"text",color:"error",onClick:function(){return o(t)}},"Cancel"))),a.a.createElement(Un.a,null,a.a.createElement(qn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(J.a,{in:f,timeout:"auto",unmountOnExit:!0},a.a.createElement(Ae.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Product"),a.a.createElement(Vn.a,{size:"small","aria-label":"purchases"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(qn.a,{align:"center"},"PRODUCT CODE"),a.a.createElement(qn.a,{align:"center"},"QUANTITY"),a.a.createElement(qn.a,{align:"center"},"AMOUNT"),a.a.createElement(qn.a,{align:"center"},"PROFIT/LOSS(PER UNIT)"),a.a.createElement(qn.a,{align:"center"},"ACTION"))),a.a.createElement(Hn.a,null,t.products_si.map(function(e){return a.a.createElement(Un.a,{key:e.date},a.a.createElement(qn.a,{component:"th",scope:"row",align:"center"},e.product),a.a.createElement(qn.a,{align:"center"},e.quantity),a.a.createElement(qn.a,{align:"center"},e.amount),a.a.createElement(qn.a,{align:"center"},e.profit_or_loss),a.a.createElement(qn.a,{align:"center"},a.a.createElement(We.a,{style:{fontSize:"13px"},variant:"outlined",color:"success",onClick:function(){return x(e.source_list),void v(!0)}},"Source View List")))}))))))),a.a.createElement(Ce,{maxWidth:"md",title:"Source View List",openPopup:y,setOpenPopup:v},a.a.createElement(dj,{maxWidth:"md",selectedRow:w})))}var wj=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),xj=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Oj=["unit","customer","Scrap","Supplier"],_j=[{value:"Today"},{value:"Yesterday"},{value:"Last 7 Days"},{value:"Last 30 Days"},{value:"This Month"},{value:"Last Month"},{value:"Custom Date"}],jj=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=[{label:"Sales Invoice",roles:["Director","Accounts","Accounts Billing Department"],component:a.a.createElement(bj,null)},{label:"Tally Invoice Export",roles:["Director","Accounts","Accounts Billing Department"],component:a.a.createElement(J_,null)}].filter(function(t){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}.apply(void 0,Object(vr.a)(t.roles))}),r=Object(n.useState)(0),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Xr,{tabs:t.map(function(e){return{label:e.label,index:e.index}}),activeTab:i,onTabChange:function(e){c(e)}}),t.length>0&&t[i]?a.a.createElement("div",null,t[i].component):null)};function Lj(){Lj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Sj=function(e){var t=e.setOpenPopup,r=e.getAllMasterCountries,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)({message:"",severity:"",open:!1}),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)({name:""}),v=Object(l.a)(y,2),g=v[0],b=v[1],E=function(){var e=Object(c.a)(Lj().mark(function e(n){var a;return Lj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,f(!0),e.next=5,xa.createMasterCountry(g);case 5:200===(a=e.sent).status?(d({message:a.message||"Country created successfully",severity:"success",open:!0}),setTimeout(function(){t(!1),r()},500)):d({message:a.message||"Failed to create country",severity:"error",open:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),d({message:e.t0.response.data.message||"An unexpected error occurred",severity:"error",open:!0});case 12:return e.prev=12,f(!1),b({name:""}),e.finish(12);case 16:case"end":return e.stop()}},e,null,[[1,9,12,16]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:m.open,message:m.message,severity:m.severity,onClose:function(){d({open:!1})}}),a.a.createElement(Je,{open:s}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:E},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,label:"Country",name:"name",size:"small",value:g.name,onChange:function(e){var t=e.target,r=t.name,n=t.value;b(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},required:!0}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function kj(){kj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Pj=function(e){var t=e.recordForEdit,r=e.setOpenUpdatePopup,o=e.getAllMasterCountries,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)({message:"",severity:"",open:!1}),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)({name:t.name}),g=Object(l.a)(v,2),b=g[0],E=g[1],w=function(){var e=Object(c.a)(kj().mark(function e(n){var a;return kj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,h(!0),e.next=5,xa.updateMasterCountry(t.id,b);case 5:200===(a=e.sent).status?(y({message:a.message||"Country updated successfully",severity:"success",open:!0}),setTimeout(function(){r(!1),o()},500)):y({message:a.message||"Failed to updated country",severity:"error",open:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),y({message:e.t0.response.data.message||"An unexpected error occurred",severity:"error",open:!0});case 12:return e.prev=12,h(!1),E({name:""}),e.finish(12);case 16:case"end":return e.stop()}},e,null,[[1,9,12,16]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:d.open,message:d.message,severity:d.severity,onClose:function(){y({open:!1})}}),a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:w},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,label:"Country",name:"name",size:"small",value:b.name,onChange:function(e){var t=e.target,r=t.name,n=t.value;E(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},required:!0}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Cj(){Cj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Tj=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(!1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(!1),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)({message:"",severity:"",open:!1}),G=Object(l.a)(F,2),W=G[0],z=G[1],R=function(){var e=Object(c.a)(Cj().mark(function e(){var t;return Cj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,xa.getAllMasterCountries(m,x);case 4:t=e.sent,f(t.data.results),b(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),z({message:e.t0.response.data.message||"Error fetching countries",severity:"error",open:!0});case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){R()},[m,x]),a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:W.open,message:W.message,severity:W.severity,onClose:function(){z({open:!1})}}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ur,{onSearch:function(e){O(e),d(1)},onReset:function(){O(""),d(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"All Country List"))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,style:{textAlign:"right"}},a.a.createElement(We.a,{variant:"contained",color:"info",size:"small",onClick:function(){return T(!0)}},"Add")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(Nj,{align:"center"},"County Name"),a.a.createElement(Nj,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,s&&s.map(function(e,t){return a.a.createElement(Dj,{key:t},a.a.createElement(Nj,{align:"center"},e.name),a.a.createElement(Nj,{align:"center"},a.a.createElement(We.a,{variant:"contained",color:"success",size:"small",onClick:function(){return S(e),void I(!0)}},"Edit")))})))),a.a.createElement(Vr,{currentPage:m,totalPages:g,handlePageChange:function(e,t){d(t)}}),a.a.createElement(Ce,{title:"Add New Country",openPopup:C,setOpenPopup:T},a.a.createElement(Sj,{setOpenPopup:T,getAllMasterCountries:R})),a.a.createElement(Ce,{title:"Update Country",openPopup:A,setOpenPopup:I},a.a.createElement(Pj,{recordForEdit:L,setOpenUpdatePopup:I,getAllMasterCountries:R})))))},Nj=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Dj=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Aj(){Aj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Ij=function(e){var t=e.setOpenPopup,r=e.getAllMasterStates,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)({message:"",severity:"",open:!1}),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)({country:"",name:""}),w=Object(l.a)(E,2),x=w[0],O=w[1],_=function(){var e=Object(c.a)(Aj().mark(function e(){var t;return Aj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,xa.getAllMasterCountries("all",null);case 4:t=e.sent,b(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d({message:e.t0.response.data.message||"Error fetching countries",severity:"error",open:!0});case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){_()},[]);var j=function(){var e=Object(c.a)(Aj().mark(function e(n){var a,o,i;return Aj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,f(!0),a=x.name,o=x.country,a&&o){e.next=7;break}return d({message:"Please fill all required fields",severity:"warning",open:!0}),e.abrupt("return");case 7:return e.next=9,xa.createMasterState(x);case 9:200===(i=e.sent).status?(d({message:i.message||"Country created successfully",severity:"success",open:!0}),setTimeout(function(){t(!1),r()},500)):d({message:i.message||"Failed to create country",severity:"error",open:!0}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),d({message:e.t0.response.data.message||"An unexpected error occurred",severity:"error",open:!0});case 16:return e.prev=16,f(!1),O({name:""}),e.finish(16);case 20:case"end":return e.stop()}},e,null,[[1,13,16,20]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:m.open,message:m.message,severity:m.severity,onClose:function(){d({open:!1})}}),a.a.createElement(Je,{open:s}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:j},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{name:"country",size:"small",disablePortal:!0,id:"combo-box-demo",options:g.map(function(e){return e.name}),onChange:function(e,t){O(function(e){return Object(u.a)({},e,{country:t})})},getOptionLabel:function(e){return e},fullWidth:!0,label:"Country"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,label:"Enter state",name:"name",size:"small",value:x.name,onChange:function(e){var t=e.target,r=t.name,n=t.value;O(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},required:!0}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Fj(){Fj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Gj=function(e){var t=e.setOpenUpdatePopup,r=e.recordForEdit,o=e.getAllMasterStates,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)({message:"",severity:"",open:!1}),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)({country:r.country||"",name:r.name||""}),g=Object(l.a)(v,2),b=g[0],E=g[1],w=function(){var e=Object(c.a)(Fj().mark(function e(n){var a;return Fj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,h(!0),e.next=5,xa.updateMasterState(r.id,b);case 5:200===(a=e.sent).status?(y({message:a.message||"State updated successfully",severity:"success",open:!0}),setTimeout(function(){t(!1),o()},500)):y({message:a.message||"Failed to update state",severity:"error",open:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),y({message:e.t0.response.data.message||"An unexpected error occurred",severity:"error",open:!0});case 12:return e.prev=12,h(!1),E(function(e){return Object(u.a)({},e,{name:""})}),e.finish(12);case 16:case"end":return e.stop()}},e,null,[[1,9,12,16]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:d.open,message:d.message,severity:d.severity,onClose:function(){y(Object(u.a)({},d,{open:!1}))}}),a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:w},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{name:"country",size:"small",disablePortal:!0,id:"country-select",value:b.country,options:[r.country||""],getOptionLabel:function(e){return e},fullWidth:!0,label:"Country",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,label:"Enter state",name:"name",size:"small",value:b.name,onChange:function(e){var t=e.target,r=t.name,n=t.value;E(function(e){return Object(u.a)({},e,Object(Y.a)({},r,n))})},required:!0}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Wj(){Wj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var zj=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(!1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(!1),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)({message:"",severity:"",open:!1}),G=Object(l.a)(F,2),W=G[0],z=G[1],R=function(){var e=Object(c.a)(Wj().mark(function e(){var t;return Wj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,xa.getAllMasterStates(m,x);case 4:t=e.sent,f(t.data.results),b(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),z({message:e.t0.response.data.message||"Error fetching countries",severity:"error",open:!0});case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){R()},[m,x]),a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:W.open,message:W.message,severity:W.severity,onClose:function(){z({open:!1})}}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ur,{onSearch:function(e){O(e),d(1)},onReset:function(){O(""),d(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"All State List"))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,style:{textAlign:"right"}},a.a.createElement(We.a,{variant:"contained",color:"info",size:"small",onClick:function(){return I(!0)}},"Add")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(Rj,{align:"center"},"Country Name"),a.a.createElement(Rj,{align:"center"},"State Name"),a.a.createElement(Rj,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,s&&s.map(function(e,t){return a.a.createElement(Bj,{key:t},a.a.createElement(Rj,{align:"center"},e.country),a.a.createElement(Rj,{align:"center"},e.name),a.a.createElement(Rj,{align:"center"},a.a.createElement(We.a,{variant:"contained",color:"success",size:"small",onClick:function(){return S(e),void T(!0)}},"Edit")))})))),a.a.createElement(Vr,{currentPage:m,totalPages:g,handlePageChange:function(e,t){d(t)}}),a.a.createElement(Ce,{title:"Add New State",openPopup:A,setOpenPopup:I},a.a.createElement(Ij,{setOpenPopup:I,getAllMasterStates:R})),a.a.createElement(Ce,{title:"Update Country and State",openPopup:C,setOpenPopup:T},a.a.createElement(Gj,{getAllMasterStates:R,setOpenUpdatePopup:T,recordForEdit:L})))))},Rj=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Bj=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Mj(){Mj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var qj=function(e){var t=e.setOpenPopup,r=e.getMasterCities,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)({message:"",severity:"",open:!1}),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)({name:"",state:""}),j=Object(l.a)(_,2),L=j[0],S=j[1],k=function(){var e=Object(c.a)(Mj().mark(function e(){var t;return Mj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,xa.getAllMasterCountries("all",null);case 4:t=e.sent,d(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O({message:e.t0.response.data.message||"Error fetching countries",severity:"error",open:!0});case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(c.a)(Mj().mark(function e(t){var r;return Mj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,xa.getAllMasterStates("all","",t);case 4:r=e.sent,b(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O({message:e.t0.response.data.message||"Error fetching states",severity:"error",open:!0});case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){k()},[]);var C=function(){var e=Object(c.a)(Mj().mark(function e(n){var a,o;return Mj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,f(!0),a=L.name,o=L.state,a&&o){e.next=7;break}return O({message:"Please fill all required fields",severity:"warning",open:!0}),e.abrupt("return");case 7:return e.next=9,xa.createcity({name:a,state:o});case 9:O({message:"City created successfully!",severity:"success",open:!0}),setTimeout(function(){t(!1),r()},500),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),O({message:e.t0.response.data.message||"Error creating city",severity:"error",open:!0});case 16:return e.prev=16,f(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[1,13,16,19]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:x.open,message:x.message,severity:x.severity,onClose:function(){O(Object(u.a)({},x,{open:!1}))}}),a.a.createElement(Je,{open:s}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:C},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{name:"country",size:"small",disablePortal:!0,id:"country-select",options:m.map(function(e){return e.name}),onChange:function(e,t){t?P(t):b([])},getOptionLabel:function(e){return e},fullWidth:!0,label:"Country"})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{name:"state",size:"small",disablePortal:!0,id:"state-select",options:g,onChange:function(e,t){S(function(e){return Object(u.a)({},e,{state:t.id||""})})},getOptionLabel:function(e){return e.name||""},fullWidth:!0,label:"State",value:g.find(function(e){return e.id===L.state})||null})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,label:"City",name:"name",size:"small",value:L.name,onChange:function(e){return S(function(t){return Object(u.a)({},t,{name:e.target.value})})},required:!0}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Uj(){Uj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Yj=function(e){var t=e.setOpenUpdatePopup,r=e.getMasterCities,o=e.recordForEdit,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)({message:"",severity:"",open:!1}),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)({name:o.name||"",state:o.state||"",country:o.country||""}),g=Object(l.a)(v,2),b=g[0],E=g[1],w=function(){var e=Object(c.a)(Uj().mark(function e(n){var a,i,c;return Uj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=b.name,i=b.state,a&&i){e.next=5;break}return y({message:"Please fill all required fields",severity:"warning",open:!0}),e.abrupt("return");case 5:return e.prev=5,h(!0),c={name:a,state:i},e.next=10,xa.updateMasterCity(o.id,c);case 10:y({message:"City updated successfully!",severity:"success",open:!0}),setTimeout(function(){t(!1),r()},500),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),y({message:e.t0.response.data.message||"Error updating city",severity:"error",open:!0});case 17:return e.prev=17,h(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[5,14,17,20]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:d.open,message:d.message,severity:d.severity,onClose:function(){y(Object(u.a)({},d,{open:!1}))}}),a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:w},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{name:"country",size:"small",disablePortal:!0,id:"country-select",options:[o?o.country:""],getOptionLabel:function(e){return e},fullWidth:!0,label:"Country",value:b.country,inputProps:{readOnly:!0},disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{name:"state",size:"small",disablePortal:!0,id:"state-select",options:[o?o.state_name:""],getOptionLabel:function(e){return e},fullWidth:!0,label:"State",value:o?o.state_name:"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,label:"City",name:"name",size:"small",value:b.name,onChange:function(e){return E(function(t){return Object(u.a)({},t,{name:e.target.value})})},required:!0}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Vj(){Vj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Qj=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(!1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(!1),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)({message:"",severity:"",open:!1}),G=Object(l.a)(F,2),W=G[0],z=G[1],R=function(){var e=Object(c.a)(Vj().mark(function e(){var t;return Vj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,xa.getMasterCities(m,x);case 4:t=e.sent,f(t.data.results),b(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),z({message:e.t0.response.data.message||"Error fetching countries",severity:"error",open:!0});case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){R()},[m,x]),a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:W.open,message:W.message,severity:W.severity,onClose:function(){z({open:!1})}}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ur,{onSearch:function(e){O(e),d(1)},onReset:function(){O(""),d(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"All City List"))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,style:{textAlign:"right"}},a.a.createElement(We.a,{variant:"contained",color:"info",size:"small",onClick:function(){return T(!0)}},"Add")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(Hj,{align:"center"},"County "),a.a.createElement(Hj,{align:"center"},"State "),a.a.createElement(Hj,{align:"center"},"City"),a.a.createElement(Hj,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,s&&s.map(function(e,t){return a.a.createElement(Jj,{key:t},a.a.createElement(Hj,{align:"center"},e.country),a.a.createElement(Hj,{align:"center"},e.state_name),a.a.createElement(Hj,{align:"center"},e.name),a.a.createElement(Hj,{align:"center"},a.a.createElement(We.a,{variant:"contained",color:"success",size:"small",onClick:function(){return S(e),void I(!0)}},"Edit")))})))),a.a.createElement(Vr,{currentPage:m,totalPages:g,handlePageChange:function(e,t){d(t)}}),a.a.createElement(Ce,{title:"Add New City",openPopup:C,setOpenPopup:T},a.a.createElement(qj,{setOpenPopup:T,getMasterCities:R})),a.a.createElement(Ce,{title:"Update City",openPopup:A,setOpenPopup:I},a.a.createElement(Yj,{recordForEdit:L,setOpenUpdatePopup:I,getMasterCities:R})))))},Hj=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),Jj=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Kj(){Kj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Zj=function(e){var t=e.getMasterPincode,r=e.setOpenPopup,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)({message:"",severity:"",open:!1}),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)({country:"",state:"",city:"",pincode:""}),P=Object(l.a)(k,2),C=P[0],T=P[1],N=function(){var e=Object(c.a)(Kj().mark(function e(){var t;return Kj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,xa.getAllMasterCountries("all",null);case 4:t=e.sent,d(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),S({message:e.t0.response.data.message||"Error fetching countries",severity:"error",open:!0});case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){N()},[]);var D=function(){var e=Object(c.a)(Kj().mark(function e(t){var r;return Kj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,xa.getAllMasterStates("all","",t);case 4:r=e.sent,b(r.data),O([]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),S({message:e.t0.response.data.message||"Error fetching states",severity:"error",open:!0});case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(c.a)(Kj().mark(function e(t){var r;return Kj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,xa.getMasterCities("all","",C.country,t);case 4:r=e.sent,O(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),S({message:e.t0.response.data.message||"Error fetching cities",severity:"error",open:!0});case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(c.a)(Kj().mark(function e(n){var a,o,i;return Kj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=C.city,o=C.pincode,a&&o){e.next=5;break}return S({message:"Please fill all required fields",severity:"warning",open:!0}),e.abrupt("return");case 5:return e.prev=5,f(!0),i={pincode:C.pincode,city:C.city,state:C.state,country:C.country},e.next=10,xa.createMasterPincode(i);case 10:S({message:"Pincode created successfully!",severity:"success",open:!0}),setTimeout(function(){r(!1),t()},500),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),S({message:e.t0&&e.t0.response.data.message||"Error creating pincode",severity:"error",open:!0});case 17:return e.prev=17,f(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[5,14,17,20]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:L.open,message:L.message,severity:L.severity,onClose:function(){S(function(e){return Object(u.a)({},e,{open:!1})})}}),a.a.createElement(Je,{open:s}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:I},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{name:"country",size:"small",disablePortal:!0,id:"country-select",options:m.map(function(e){return e.name}),onChange:function(e,t){T(function(e){return Object(u.a)({},e,{country:t,state:"",city:""})}),t?D(t):(b([]),O([]))},getOptionLabel:function(e){return e},fullWidth:!0,label:"Country",value:C.country})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{name:"state",size:"small",disablePortal:!0,id:"state-select",options:g.map(function(e){return e.name}),onChange:function(e,t){T(function(e){return Object(u.a)({},e,{state:t,city:""})}),t?A(t):O([])},getOptionLabel:function(e){return e},fullWidth:!0,label:"State",value:C.state,disabled:!C.country})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{name:"city",size:"small",disablePortal:!0,id:"city-select",options:x,onChange:function(e,t){return T(function(e){return Object(u.a)({},e,{city:t.id})})},getOptionLabel:function(e){return e.name},fullWidth:!0,label:"City",value:x.find(function(e){return e.id===C.city}),disabled:!C.state})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,label:"Pin Code",name:"pincode",size:"small",value:C.pincode,onChange:function(e){return T(function(t){return Object(u.a)({},t,{pincode:e.target.value})})},required:!0}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Xj(){Xj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var $j=function(e){var t=e.recordForEdit,r=e.getMasterPincode,o=e.setOpenUpdatePopup,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],h=s[1],p=Object(n.useState)({message:"",severity:"",open:!1}),m=Object(l.a)(p,2),d=m[0],y=m[1],v=Object(n.useState)({country:t.country||"",state:t.state||"",city:t.city||"",pincode:t.pincode||""}),g=Object(l.a)(v,2),b=g[0],E=g[1],w=function(){var e=Object(c.a)(Xj().mark(function e(n){var a,i,c;return Xj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=b.city,i=b.pincode,a&&i){e.next=5;break}return y({message:"Please fill all required fields",severity:"warning",open:!0}),e.abrupt("return");case 5:return e.prev=5,h(!0),c={pincode:b.pincode,city:b.city},e.next=10,xa.updateMasterPincode(t.id,c);case 10:y({message:"Pincode updated successfully!",severity:"success",open:!0}),setTimeout(function(){o(!1),r()},500),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),y({message:e.t0&&e.t0.response.data.message||"Error updating pincode",severity:"error",open:!0});case 17:return e.prev=17,h(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[5,14,17,20]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:d.open,message:d.message,severity:d.severity,onClose:function(){y(function(e){return Object(u.a)({},e,{open:!1})})}}),a.a.createElement(Je,{open:f}),a.a.createElement(Ae.a,{component:"form",noValidate:!0,onSubmit:w},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{name:"country",size:"small",disablePortal:!0,id:"country-select",options:[b.country],getOptionLabel:function(e){return e},fullWidth:!0,label:"Country",value:b.country,disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{name:"state",size:"small",disablePortal:!0,id:"state-select",options:[b.state],getOptionLabel:function(e){return e},fullWidth:!0,label:"State",value:b.state,disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(sr,{name:"city",size:"small",disablePortal:!0,id:"city-select",options:[b.city_name],getOptionLabel:function(e){return e},fullWidth:!0,label:"City",value:t&&t.city_name,disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,label:"Pin Code",name:"pincode",size:"small",value:b.pincode,onChange:function(e){return E(function(t){return Object(u.a)({},t,{pincode:e.target.value})})},required:!0}))),a.a.createElement(We.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Update")))};function eL(){eL=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var tL=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(!1),P=Object(l.a)(k,2),C=P[0],T=P[1],N=Object(n.useState)(!1),D=Object(l.a)(N,2),A=D[0],I=D[1],F=Object(n.useState)({message:"",severity:"",open:!1}),G=Object(l.a)(F,2),W=G[0],z=G[1],R=function(){var e=Object(c.a)(eL().mark(function e(){var t;return eL().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,xa.getMasterPincode(m,x);case 4:t=e.sent,f(t.data.results),b(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),z({message:e.t0.response.data.message||"Error fetching countries",severity:"error",open:!0});case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){R()},[m,x]),a.a.createElement(a.a.Fragment,null,a.a.createElement($e,{open:W.open,message:W.message,severity:W.severity,onClose:function(){z({open:!1})}}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(ut.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ur,{onSearch:function(e){O(e),d(1)},onReset:function(){O(""),d(1)}})),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4},a.a.createElement(Ae.a,{display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"All Pin Code List"))),a.a.createElement(Fe.a,{item:!0,xs:12,sm:4,style:{textAlign:"right"}},a.a.createElement(We.a,{variant:"contained",color:"info",size:"small",onClick:function(){return T(!0)}},"Add")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(rL,{align:"center"},"County "),a.a.createElement(rL,{align:"center"},"State "),a.a.createElement(rL,{align:"center"},"City"),a.a.createElement(rL,{align:"center"},"Pincode"),a.a.createElement(rL,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,s&&s.map(function(e,t){return a.a.createElement(nL,{key:t},a.a.createElement(rL,{align:"center"},e.country),a.a.createElement(rL,{align:"center"},e.state),a.a.createElement(rL,{align:"center"},e.city_name),a.a.createElement(rL,{align:"center"},e.pincode),a.a.createElement(rL,{align:"center"},a.a.createElement(We.a,{variant:"contained",color:"success",size:"small",onClick:function(){return S(e),void I(!0)}},"Edit")))})))),a.a.createElement(Vr,{currentPage:m,totalPages:g,handlePageChange:function(e,t){d(t)}}),a.a.createElement(Ce,{title:"Add Pincode",openPopup:C,setOpenPopup:T},a.a.createElement(Zj,{setOpenPopup:T,getMasterPincode:R})),a.a.createElement(Ce,{title:"Update Pin Code",openPopup:A,setOpenPopup:I},a.a.createElement($j,{recordForEdit:L,getMasterPincode:R,setOpenUpdatePopup:I})))))},rL=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase"}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13}),t}),nL=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),aL=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=[{label:"Country",roles:["Director","Accounts"],component:a.a.createElement(Tj,null)},{label:"State",roles:["Director","Accounts"],component:a.a.createElement(zj,null)},{label:"City",roles:["Director","Accounts"],component:a.a.createElement(Qj,null)},{label:"Pin Code",roles:["Director","Accounts"],component:a.a.createElement(tL,null)}].filter(function(t){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}.apply(void 0,Object(vr.a)(t.roles))}),r=Object(n.useState)(0),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Xr,{tabs:t.map(function(e){return{label:e.label,index:e.index}}),activeTab:i,onTabChange:function(e){c(e)}}),t.length>0&&t[i]?a.a.createElement("div",null,t[i].component):null)};function oL(){oL=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var iL=function(e){var t=e.setOpenModal,r=e.getMasterActivity,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],s=i[1],f=Object(n.useState)(""),h=Object(l.a)(f,2),p=h[0],m=h[1],d=Object(n.useState)({message:"",severity:"",open:!1}),y=Object(l.a)(d,2),v=y[0],g=y[1],b=function(){var e=Object(c.a)(oL().mark(function e(n){var a;return oL().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),s(!0),e.prev=2,e.next=5,xa.createMasterActivityMainHeading({name:p});case 5:a=e.sent,g({open:!0,message:a.message||"Master Option Created Successfulyy",severity:"success"}),setTimeout(function(){t(!1),r()},1e3),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),g({open:!0,message:e.t0.message||"Error creating attribute",severity:"error"}),console.error("Error:",e.t0);case 14:return e.prev=14,s(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,10,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(at.a,null,a.a.createElement($e,{open:v.open,message:v.message,severity:v.severity,onClose:function(){g({open:!1})}}),a.a.createElement(ut.a,{sx:{p:3}},a.a.createElement("form",{onSubmit:b},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,label:"Add master option",name:"name",size:"small",value:p||"",onChange:function(e){return m(e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex",justifyContent:"flex-end"},a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary"},u?"Submitting...":"Submit")))))))};function cL(){cL=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var lL=function(e){var t=e.setOpenModal,r=e.getMasterActivity,o=e.selectedData,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)({message:"",severity:"",open:!1}),v=Object(l.a)(y,2),g=v[0],b=v[1],E=function(){var e=Object(c.a)(cL().mark(function e(n){var a,i;return cL().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),f(!0),e.prev=2,a={model_master:o,name:m},e.next=6,xa.createMasterActivityOption(a);case 6:200===(i=e.sent).status&&(b({open:!0,message:i.message||"Sub Option Created Successfulyy",severity:"success"}),setTimeout(function(){t(!1),r()},1e3)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),b({open:!0,message:e.t0.message||"Error creating attribute",severity:"error"}),console.error("Error:",e.t0);case 14:return e.prev=14,f(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,10,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(at.a,null,a.a.createElement($e,{open:g.open,message:g.message,severity:g.severity,onClose:function(){b({open:!1})}}),a.a.createElement(ut.a,{sx:{p:3}},a.a.createElement("form",{onSubmit:E},a.a.createElement(Fe.a,{container:!0,spacing:2},a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,label:"Master Option",name:"name",size:"small",value:o||"",disabled:!0})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ye.a,{fullWidth:!0,label:"Add Sub Option",name:"name",size:"small",value:m||"",onChange:function(e){return d(e.target.value)}})),a.a.createElement(Fe.a,{item:!0,xs:12},a.a.createElement(Ae.a,{display:"flex",justifyContent:"flex-end"},a.a.createElement(We.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary"},s?"Submitting...":"Submit")))))))};function uL(){uL=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var sL=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),m=p[0],d=p[1],y=Object(n.useState)(1),v=Object(l.a)(y,2),g=v[0],b=v[1],E=Object(n.useState)(0),w=Object(l.a)(E,2),x=w[0],O=w[1],_=gt(),j=_.handleError,L=_.handleCloseSnackbar,S=_.alertInfo,k=Object(n.useCallback)(Object(c.a)(uL().mark(function e(){var t;return uL().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,xa.getMasterActivity(g);case 4:t=e.sent,d(t.data.results),O(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),j(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[g]);Object(n.useEffect)(function(){k()},[g]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{open:S.open,onClose:L,severity:S.severity,message:S.message}),a.a.createElement(Je,{open:r}),a.a.createElement(Fe.a,{item:!0,xs:12,sx:{width:800,mx:"auto"}},a.a.createElement(ut.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(Ae.a,{sx:{p:2}},a.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Fe.a,{item:!0,xs:12,md:7,sx:{textAlign:{xs:"center",md:"end"}}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Option Master")),a.a.createElement(Fe.a,{item:!0,xs:12,md:4,sx:{textAlign:{md:"end"}}},a.a.createElement(We.a,{color:"primary",variant:"contained",size:"small",onClick:function(){return f(!0)}},"Add")))),a.a.createElement(Yn.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Vn.a,{sx:{width:700,mx:"auto"},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,null,a.a.createElement(hL,null),a.a.createElement(hL,{align:"center"},"MAster Option"),a.a.createElement(hL,{align:"center"},"Action"))),a.a.createElement(Hn.a,null,m.map(function(e){return a.a.createElement(fL,{key:e.id,row:e,getMasterActivity:k})})))),a.a.createElement(Vr,{totalPages:x,currentPage:g,handlePageChange:function(e,t){b(t)}}),a.a.createElement(Ce,{maxWidth:"md",title:"Create master option",openPopup:s,setOpenPopup:f},a.a.createElement(iL,{setOpenModal:f,getMasterActivity:k})))))};function fL(e){var t=e.row,r=e.getMasterActivity,o=Object(n.useState)(!1),i=Object(l.a)(o,2),c=i[0],u=i[1],s=Object(n.useState)(!1),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)(null),y=Object(l.a)(m,2),v=y[0],g=y[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(pL,{sx:{"& > *":{borderBottom:"unset"},textDecoration:t.cancelled?"line-through":"none"}},a.a.createElement(hL,null,a.a.createElement(d.a,{"aria-label":"expand row",size:"small",onClick:function(){return u(function(e){return!e})}},c?a.a.createElement(Sm.a,null):a.a.createElement(jm.a,null))),a.a.createElement(hL,{align:"center"},t.name),a.a.createElement(hL,{align:"center"},a.a.createElement(We.a,{variant:"text",size:"small",color:"primary",onClick:function(){return g(t.name),void p(!0)}},"Add Option"))),a.a.createElement(Un.a,null,a.a.createElement(qn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(J.a,{in:c,timeout:"auto",unmountOnExit:!0},a.a.createElement(Ae.a,{sx:{margin:1}},a.a.createElement(Vn.a,{size:"small","aria-label":"activity-options"},a.a.createElement(Qn.a,null,a.a.createElement(Un.a,{style:{backgroundColor:"#88a6cf"}}," ",a.a.createElement(qn.a,{align:"center",style:{color:"white"}},"Sub Options"),a.a.createElement(qn.a,{align:"center",style:{color:"white"}},"Action"))),a.a.createElement(Hn.a,null,t.options.map(function(e,t){return a.a.createElement(Un.a,{key:e.id,style:{backgroundColor:t%2===0?"#f1f8ff":"#ffffff"}},a.a.createElement(qn.a,{align:"center"},e.name),a.a.createElement(qn.a,{align:"center"},a.a.createElement(We.a,{variant:"text",size:"small",color:"success"},"Edit")))}))))))),a.a.createElement(Ce,{maxWidth:"md",title:"Create sub options",openPopup:h,setOpenPopup:p},a.a.createElement(lL,{setOpenModal:p,getMasterActivity:r,selectedData:v})))}var hL=Object(L.a)(qn.a)(function(e){var t,r=e.theme;return t={},Object(Y.a)(t,"&.".concat(Jn.a.head),{fontSize:12,backgroundColor:"#006BA1",color:r.palette.common.white,fontWeight:"bold",textTransform:"uppercase",padding:5}),Object(Y.a)(t,"&.".concat(Jn.a.body),{fontSize:13,padding:3}),t}),pL=Object(L.a)(Un.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),mL=function(e){var t=e.children,r=e.redirectTo,n=void 0===r?"/":r;return Object(s.c)(function(e){return e.auth}).user?t:a.a.createElement(f.a,{to:n,replace:!0})},dL=function(){var e=Object(s.c)(function(e){return e.auth}).user;return a.a.createElement(f.d,null,e?a.a.createElement(a.a.Fragment,null,a.a.createElement(f.b,{path:"/user/analytics",exact:!0,element:a.a.createElement(mL,null,a.a.createElement(Gw,null))}),a.a.createElement(f.b,{path:"/user/report",element:a.a.createElement(mL,null,a.a.createElement(JE,null))}),a.a.createElement(f.b,{path:"/user/profile",exact:!0,element:a.a.createElement(mL,null,a.a.createElement(Gr,null))}),a.a.createElement(f.b,{path:"/user/profile-tab",exact:!0,element:a.a.createElement(mL,null,a.a.createElement(Wx,null))}),a.a.createElement(f.b,{path:"/leads/all-lead",element:a.a.createElement(mL,null,a.a.createElement(Jf,null))}),a.a.createElement(f.b,{path:"/products/all-product",element:a.a.createElement(mL,null,a.a.createElement(cp,null))}),a.a.createElement(f.b,{path:"/products/view-price-list",element:a.a.createElement(mL,null,a.a.createElement(dp,null))}),a.a.createElement(f.b,{path:"/customers/all-customer",element:a.a.createElement(mL,null,a.a.createElement(sm,null))}),a.a.createElement(f.b,{path:"/followp/view-followup",element:a.a.createElement(mL,null,a.a.createElement(Ai,null))}),a.a.createElement(f.b,{path:"/invoice/seller-account",element:a.a.createElement(mL,null,a.a.createElement(Et,null))}),a.a.createElement(f.b,{path:"/invoice/performa-invoice-tab",element:a.a.createElement(mL,null,a.a.createElement(Om,null))}),a.a.createElement(f.b,{path:"/invoice/approve-pi",element:a.a.createElement(mL,null,a.a.createElement(Yc,null))}),a.a.createElement(f.b,{path:"/invoice/active-pi",element:a.a.createElement(mL,null,a.a.createElement(zc,null))}),a.a.createElement(f.b,{path:"/invoice/price-approval-pi",element:a.a.createElement(mL,null,a.a.createElement(nl,null))}),a.a.createElement(f.b,{path:"/invoice/sales-invoice",element:a.a.createElement(mL,null,a.a.createElement(jj,null))}),a.a.createElement(f.b,{path:"/invoice/orderbook-tab",element:a.a.createElement(mL,null,a.a.createElement(PE,null))}),a.a.createElement(f.b,{path:"/dispatch/tab-view",element:a.a.createElement(mL,null,a.a.createElement(px,null))}),a.a.createElement(f.b,{path:"/inventory/view-purchase",element:a.a.createElement(mL,null,a.a.createElement(Gd,null))}),a.a.createElement(f.b,{path:"/inventory/view-production",element:a.a.createElement(mL,null,a.a.createElement($y,null))}),a.a.createElement(f.b,{path:"/inventory/view-inventory",element:a.a.createElement(mL,null,a.a.createElement($v,null))}),a.a.createElement(f.b,{path:"/inventory/view-vendor",element:a.a.createElement(mL,null,a.a.createElement(Rn,null))}),a.a.createElement(f.b,{path:"/inventory/view-currency",element:a.a.createElement(mL,null,a.a.createElement(Ds,null))}),a.a.createElement(f.b,{path:"/inventory/physical",element:a.a.createElement(mL,null,a.a.createElement(Rs,null))}),a.a.createElement(f.b,{path:"/inventory/sales-return",element:a.a.createElement(mL,null,a.a.createElement(wO,null))}),a.a.createElement(f.b,{path:"/invoice/credit-debit-note",element:a.a.createElement(mL,null,a.a.createElement(WO,null))}),a.a.createElement(f.b,{path:"/customer/complaints/ccp-capa",element:a.a.createElement(mL,null,a.a.createElement(R_,null))}),a.a.createElement(f.b,{path:"/customer/complaints/ccp-capa/master",element:a.a.createElement(mL,null,a.a.createElement(Q_,null))}),a.a.createElement(f.b,{path:"/forecast/view-product-forecast",element:a.a.createElement(mL,null,a.a.createElement(ii,null))}),a.a.createElement(f.b,{path:"/task/view-task",element:a.a.createElement(mL,null,a.a.createElement(di,null))}),a.a.createElement(f.b,{path:"/market-analysis/competitor",element:a.a.createElement(mL,null,a.a.createElement(tl,null))}),a.a.createElement(f.b,{path:"/user/faq",element:a.a.createElement(mL,null,a.a.createElement(Pl,null))}),a.a.createElement(f.b,{path:"/user/sale-review",element:a.a.createElement(mL,null,a.a.createElement(Ql,null))}),a.a.createElement(f.b,{path:"/hr-model",element:a.a.createElement(mL,null,a.a.createElement(Ss,null))}),a.a.createElement(f.b,{path:"/hr-model/hr-master",element:a.a.createElement(mL,null,a.a.createElement(xb,null))}),a.a.createElement(f.b,{path:"/county-state-city/master-tab",element:a.a.createElement(mL,null,a.a.createElement(aL,null))}),a.a.createElement(f.b,{path:"/customers/whatsapp-tabs",element:a.a.createElement(mL,null,a.a.createElement(eE,null))}),a.a.createElement(f.b,{path:"/reset-password",element:a.a.createElement(mL,null,a.a.createElement(tt,null))}),a.a.createElement(f.b,{path:"/master/activity-list",element:a.a.createElement(mL,null,a.a.createElement(sL,null))})):a.a.createElement(a.a.Fragment,null,a.a.createElement(f.b,{path:"/",exact:!0,element:a.a.createElement(cr,null)}),a.a.createElement(f.b,{path:"/forgot-password",element:a.a.createElement(lt,null)})),a.a.createElement(f.b,{path:"*",element:e?a.a.createElement(mL,null,a.a.createElement(Gw,null)):a.a.createElement(cr,null)}))};var yL=function(){return a.a.createElement(h.a,{basename:"/crm"},a.a.createElement(De,null),a.a.createElement("main",{id:"app"},a.a.createElement(dL,null)))},vL=r(324),gL=r(87),bL={user:null,loading:!0},EL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bL,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_START":return Object(u.a)({},e,{loading:!0});case"LOGIN_SUCCESS":return Object(u.a)({},e,{loading:!1,user:t.payload});case"LOGOUT_USER":return{user:null,profile:null,allProfile:null,companyName:null,brandAllData:null,colourAllData:null,unitAllData:null,basicunitAllData:null,packingunitAllData:null,productCodeAllData:null,sellerAccount:null,customerOrderBookData:null,vendorName:null,finishgoodsProduct:null,rawMaterialProduct:null,consumableProduct:null,packingList:null};case"REFRESH_TOKEN":return Object(u.a)({},e,{loading:!1,user:t.payload});case"PROFILE_USER":return Object(u.a)({},e,{loading:!1,profile:t.payload});case"ALL_PROFILE_USER":return Object(u.a)({},e,{loading:!1,allProfile:t.payload});case"SELLER_ACCOUNT":return Object(u.a)({},e,{loading:!1,sellerAccount:t.payload});case"COMPANY_NAME":return Object(u.a)({},e,{loading:!1,companyName:t.payload});case"BRAND":return Object(u.a)({},e,{loading:!1,brandAllData:t.payload});case"COLOUR":return Object(u.a)({},e,{loading:!1,colourAllData:t.payload});case"UNIT":return Object(u.a)({},e,{loading:!1,unitAllData:t.payload});case"BASIC_UNIT":return Object(u.a)({},e,{loading:!1,basicunitAllData:t.payload});case"PACKING_UNIT":return Object(u.a)({},e,{loading:!1,packingunitAllData:t.payload});case"PRODUCT_CODE":return Object(u.a)({},e,{loading:!1,productCodeAllData:t.payload});case"CUSTOMER_ORDERBOOK_DATA":return Object(u.a)({},e,{loading:!1,customerOrderBookData:t.payload});case"VENDOR_NAME":return Object(u.a)({},e,{loading:!1,vendorName:t.payload});case"FINISHGOODS_PRODUCT":return Object(u.a)({},e,{loading:!1,finishgoodsProduct:t.payload});case"RAWMATERIAL_PRODUCT":return Object(u.a)({},e,{loading:!1,rawMaterialProduct:t.payload});case"CONSUMABLE_PRODUCT":return Object(u.a)({},e,{loading:!1,consumableProduct:t.payload});default:return e}},wL=r(200),xL=r(325),OL={key:"root",storage:r.n(xL).a,whitelist:["auth"]},_L=Object(gL.combineReducers)({auth:EL}),jL=Object(wL.a)(OL,_L),LL=r(326),SL=r.n(LL),kL=r(328),PL=r(327),CL=[kL.a];CL.push(SL.a);var TL=Object(gL.legacy_createStore)(jL,Object(PL.composeWithDevTools)(gL.applyMiddleware.apply(void 0,CL))),NL=Object(wL.b)(TL);function DL(){DL=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(E=x);var O=b.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(s).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?d:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=d,n.method="throw",n.arg=u.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,a(O,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(O),u(O,l,"Generator"),u(O,i,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var AL=function(e){var t;e({type:"LOGOUT_USER"}),localStorage.removeItem("user"),t&&t("/")},IL=function(e){var t=e.dispatch;ge.interceptors.request.use(function(e){var t=_t();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},function(e){return Promise.reject(e)}),ge.interceptors.response.use(function(e){return e},function(){var e=Object(c.a)(DL().mark(function e(r){var n,a;return DL().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.config,r.response&&401===r.response.status){e.next=3;break}return e.abrupt("return",Promise.reject(r));case 3:if(!(a=r.response.data)||!a.errors||"token_not_valid"!==a.errors.code||n._retry){e.next=10;break}if(n._retry=!0,_t()){e.next=10;break}return AL(t),e.abrupt("return",Promise.reject(new Error("No refresh token available")));case 10:return n._retry||AL(t),e.abrupt("return",Promise.reject(r));case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())};i.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,{store:TL},a.a.createElement(vL.a,{loading:null,persistor:NL},a.a.createElement(yL,null))))),IL(TL)},55:function(e,t,r){e.exports=r.p+"static/media/MSME.185e3428.jpeg"},65:function(e,t,r){e.exports=r.p+"static/media/LOGOS3.ba6cbe11.png"},69:function(e,t,r){e.exports=r.p+"static/media/allLogo.cc6c4577.jpg"},77:function(e,t,r){e.exports=r.p+"static/media/glutape logo.f0200bc9.jpg"},86:function(e,t,r){e.exports=r.p+"static/media/ISOLogo.92da350d.ico"}},[[354,1,2]]]);
//# sourceMappingURL=main.fca8c756.chunk.js.map