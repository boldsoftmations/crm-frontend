(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,r){e.exports=r.p+"static/media/ISOLogo.92da350d.ico"},139:function(e,t,r){e.exports=r.p+"static/media/ISO.293088e2.png"},154:function(e,t,r){},223:function(e,t,r){},365:function(e,t,r){e.exports=r(532)},372:function(e,t,r){},379:function(e,t,r){},50:function(e,t,r){e.exports=r.p+"static/media/LOGOS3.ba6cbe11.png"},519:function(e,t){},532:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(289),i=r.n(o),c=(r(372),r(373),r(223),r(4)),l=r(1),u=r(2),s=r(9),f=r(19),p=r(14),h=r(602),d=r(625),m=r(637),v=r(603),y=r(639),g=r(640),b=r(641),E=r(129),w=r(626),x=r(642),O=r(301),_=r.n(O),j=r(343),L=r(11),S=r(47),k=r(297),P=r.n(k),C=r(298),D=r.n(C),N=r(300),T=r.n(N),A=r(85),I=r.n(A),F=function(e){return{type:"PROFILE_USER",payload:e}},G=function(e){return{type:"SELLER_ACCOUNT",payload:e}},W=function(e){return{type:"COMPANY_NAME",payload:e}},B=function(e){return{type:"BRAND",payload:e}},R=function(e){return{type:"COLOUR",payload:e}},z=function(e){return{type:"UNIT",payload:e}},M=function(e){return{type:"PRODUCT_CODE",payload:e}},U=function(e){return{type:"VENDOR_NAME",payload:e}},Y=function(e){return{type:"FINISHGOODS_PRODUCT",payload:e}},q=(r(379),r(623)),V=r(595),Q=r(596),H=r(100),K=r.n(H),J=r(164),Z=r.n(J),X=r(166),$=r.n(X),ee=r(165),te=r.n(ee),re=r(101),ne=r.n(re),ae=r(71),oe=r.n(ae),ie=r(81),ce=r.n(ie),le=r(72),ue=r.n(le),se=r(216),fe=r.n(se),pe=r(150),he=r.n(pe),de=r(151),me=r.n(de),ve=r(115),ye=r.n(ve),ge=r(82),be=r.n(ge),Ee=r(56),we=r.n(Ee),xe=r(102),Oe=r.n(xe),_e=r(243),je=r.n(_e),Le=r(103),Se=r.n(Le),ke=r(128),Pe=r.n(ke),Ce=r(218),De=r.n(Ce),Ne=r(244),Te=r.n(Ne),Ae=r(242),Ie=r.n(Ae),Fe=r(114),Ge=r.n(Fe),We=r(152),Be=r.n(We),Re=r(167),ze=r.n(Re),Me=r(161),Ue=r.n(Me),Ye=r(217),qe=r.n(Ye),Ve=r(214),Qe=r.n(Ve),He=function(e){var t=e.setOpen,r=Object(s.c)(function(e){return e.auth}).profile,n=Object(f.l)(),o=function(e){return n.pathname===e};return r&&r.groups?a.a.createElement("div",null,r.groups.includes("Director")?a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/report",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/report")},a.a.createElement(V.a,null,a.a.createElement(Qe.a,null)),a.a.createElement(Q.a,{primary:"Report"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/analytics",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/analytics")},a.a.createElement(V.a,null,a.a.createElement(K.a,null)),a.a.createElement(Q.a,{primary:"Analytics"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/products/all-product",style:{width:300},onClick:function(){return t(!1)},selected:o("/products/all-product")},a.a.createElement(V.a,null,a.a.createElement(Z.a,null)),a.a.createElement(Q.a,{primary:"Products"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/products/all-sku-codes",style:{width:300},onClick:function(){return t(!1)},selected:o("/products/all-sku-codes")},a.a.createElement(V.a,null,a.a.createElement(te.a,null)),a.a.createElement(Q.a,{primary:"SKU Code"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/products/view-price-list",style:{width:300},onClick:function(){return t(!1)},selected:o("/products/view-price-list")},a.a.createElement(V.a,null,a.a.createElement($.a,null)),a.a.createElement(Q.a,{primary:"Price List"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/leads/all-lead",style:{width:300},onClick:function(){return t(!1)},selected:o("/leads/all-lead")},a.a.createElement(V.a,null,a.a.createElement(ne.a,null)),a.a.createElement(Q.a,{primary:"Leads"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/customers/all-customer",style:{width:300},onClick:function(){return t(!1)},selected:o("/customers/all-customer")},a.a.createElement(V.a,null,a.a.createElement(oe.a,null)),a.a.createElement(Q.a,{primary:"Customer"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/followp/view-followup",style:{width:300},onClick:function(){return t(!1)},selected:o("/followp/view-followup")},a.a.createElement(V.a,null,a.a.createElement(Oe.a,null)),a.a.createElement(Q.a,{primary:"Followup"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/performa-invoice-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/performa-invoice-tab")},a.a.createElement(V.a,null,a.a.createElement(ce.a,null)),a.a.createElement(Q.a,{primary:"Performa Invoice"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/sales-invoice",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/sales-invoice")},a.a.createElement(V.a,null,a.a.createElement(he.a,null)),a.a.createElement(Q.a,{primary:"Sales Invoice"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/forecast/view-product-forecast",style:{width:300},onClick:function(){return t(!1)},selected:o("/forecast/view-product-forecast")},a.a.createElement(V.a,null,a.a.createElement(be.a,null)),a.a.createElement(Q.a,{primary:"Forecast"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/seller-account",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/seller-account")},a.a.createElement(V.a,null,a.a.createElement(fe.a,null)),a.a.createElement(Q.a,{primary:"Seller Account"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/orderbook-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/orderbook-tab")},a.a.createElement(V.a,null,a.a.createElement(ue.a,null)),a.a.createElement(Q.a,{primary:"Order Book"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/dispatch/tab-view",style:{width:300},onClick:function(){return t(!1)},selected:o("/dispatch/tab-view")},a.a.createElement(V.a,null,a.a.createElement(me.a,null)),a.a.createElement(Q.a,{primary:"Dispatch"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-vendor",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-vendor")},a.a.createElement(V.a,null,a.a.createElement(ze.a,null)),a.a.createElement(Q.a,{primary:"Vendor"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-purchase",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-purchase")},a.a.createElement(V.a,null,a.a.createElement(Be.a,null)),a.a.createElement(Q.a,{primary:"Purchase"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-production",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-production")},a.a.createElement(V.a,null,a.a.createElement(Ge.a,null)),a.a.createElement(Q.a,{primary:"Production"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-inventory",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-inventory")},a.a.createElement(V.a,null,a.a.createElement(ye.a,null)),a.a.createElement(Q.a,{primary:"Inventory"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/physical",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/physical")},a.a.createElement(V.a,null,a.a.createElement(qe.a,null)),a.a.createElement(Q.a,{primary:"Physical Inventory"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/sales-return",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/sales-return")},a.a.createElement(V.a,null,a.a.createElement(he.a,null)),a.a.createElement(Q.a,{primary:"Sales Return"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-currency",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-currency")},a.a.createElement(V.a,null,a.a.createElement(Ie.a,null)),a.a.createElement(Q.a,{primary:"Currency"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/task/view-task",style:{width:300},onClick:function(){return t(!1)},selected:o("/task/view-task")},a.a.createElement(V.a,null,a.a.createElement(we.a,null)),a.a.createElement(Q.a,{primary:"Task"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/market-analysis/competitor",style:{width:300},onClick:function(){return t(!1)},selected:o("/market-analysis/competitor")},a.a.createElement(V.a,null,a.a.createElement(je.a,null)),a.a.createElement(Q.a,{primary:"Market Analysis"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/profile-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/profile-tab")},a.a.createElement(V.a,null,a.a.createElement(oe.a,null)),a.a.createElement(Q.a,{primary:"Profile"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/faq",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/faq")},a.a.createElement(V.a,null,a.a.createElement(Se.a,null)),a.a.createElement(Q.a,{primary:"Script"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/sale-review",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/sale-review")},a.a.createElement(V.a,null,a.a.createElement(Pe.a,null)),a.a.createElement(Q.a,{primary:"Sales Review"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/customers/whatsapp-tabs",style:{width:300},onClick:function(){return t(!1)},selected:o("/customers/whatsapp-tabs")},a.a.createElement(V.a,null,a.a.createElement(Ue.a,null)),a.a.createElement(Q.a,{primary:"Whatsapp"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/hr-model/hr-master",style:{width:300},onClick:function(){return t(!1)},selected:o("/hr-model/hr-master")},a.a.createElement(V.a,null,a.a.createElement(Te.a,null)),a.a.createElement(Q.a,{primary:"Master Table"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/hr-model",style:{width:300},onClick:function(){return t(!1)},selected:o("/hr-model")},a.a.createElement(V.a,null,a.a.createElement(De.a,null)),a.a.createElement(Q.a,{primary:"Recruitment"}))):a.a.createElement(a.a.Fragment,null,r.groups.includes("HR")&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/profile-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/profile-tab")},a.a.createElement(V.a,null,a.a.createElement(oe.a,null)),a.a.createElement(Q.a,{primary:"Profile"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/task/view-task",style:{width:300},onClick:function(){return t(!1)},selected:o("/task/view-task")},a.a.createElement(V.a,null,a.a.createElement(we.a,null)),a.a.createElement(Q.a,{primary:"Task"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/hr-model/hr-master",style:{width:300},onClick:function(){return t(!1)},selected:o("/hr-model/hr-master")},a.a.createElement(V.a,null,a.a.createElement(Te.a,null)),a.a.createElement(Q.a,{primary:"Master Table"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/hr-model",style:{width:300},onClick:function(){return t(!1)},selected:o("/hr-model")},a.a.createElement(V.a,null,a.a.createElement(De.a,null)),a.a.createElement(Q.a,{primary:"Recruitment"}))),(r.groups.includes("Factory-Delhi-OrderBook")||r.groups.includes("Factory-Mumbai-OrderBook"))&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/orderbook-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/orderbook-tab")},a.a.createElement(V.a,null,a.a.createElement(ue.a,null)),a.a.createElement(Q.a,{primary:"Order Book"}))),(r.groups.includes("Factory-Mumbai-Dispatch")||r.groups.includes("Factory-Delhi-Dispatch"))&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/dispatch/tab-view",style:{width:300},onClick:function(){return t(!1)},selected:o("/dispatch/tab-view")},a.a.createElement(V.a,null,a.a.createElement(me.a,null)),a.a.createElement(Q.a,{primary:"Dispatch"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/task/view-task",style:{width:300},onClick:function(){return t(!1)},selected:o("/task/view-task")},a.a.createElement(V.a,null,a.a.createElement(we.a,null)),a.a.createElement(Q.a,{primary:"Task"}))),r.groups.includes("Customer Service")&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/customers/all-customer",style:{width:300},onClick:function(){return t(!1)},selected:o("/customers/all-customer")},a.a.createElement(V.a,null,a.a.createElement(oe.a,null)),a.a.createElement(Q.a,{primary:"Customer"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/leads/all-lead",style:{width:300},onClick:function(){return t(!1)},selected:o("/leads/all-lead")},a.a.createElement(V.a,null,a.a.createElement(ne.a,null)),a.a.createElement(Q.a,{primary:"Leads"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/followp/view-followup",style:{width:300},onClick:function(){return t(!1)},selected:o("/followp/view-followup")},a.a.createElement(V.a,null,a.a.createElement(Oe.a,null)),a.a.createElement(Q.a,{primary:"Followup"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/performa-invoice-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/performa-invoice-tab")},a.a.createElement(V.a,null,a.a.createElement(ce.a,null)),a.a.createElement(Q.a,{primary:"Performa Invoice"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/forecast/view-product-forecast",style:{width:300},onClick:function(){return t(!1)},selected:o("/forecast/view-product-forecast")},a.a.createElement(V.a,null,a.a.createElement(be.a,null)),a.a.createElement(Q.a,{primary:"Forecast"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/seller-account",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/seller-account")},a.a.createElement(V.a,null,a.a.createElement(fe.a,null)),a.a.createElement(Q.a,{primary:"Seller Account"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/orderbook-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/orderbook-tab")},a.a.createElement(V.a,null,a.a.createElement(ue.a,null)),a.a.createElement(Q.a,{primary:"Order Book"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/dispatch/tab-view",style:{width:300},onClick:function(){return t(!1)},selected:o("/dispatch/tab-view")},a.a.createElement(V.a,null,a.a.createElement(me.a,null)),a.a.createElement(Q.a,{primary:"Dispatch"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/task/view-task",style:{width:300},onClick:function(){return t(!1)},selected:o("/task/view-task")},a.a.createElement(V.a,null,a.a.createElement(we.a,null)),a.a.createElement(Q.a,{primary:"Task"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/faq",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/faq")},a.a.createElement(V.a,null,a.a.createElement(Se.a,null)),a.a.createElement(Q.a,{primary:"Script"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/customers/whatsapp-tabs",style:{width:300},onClick:function(){return t(!1)},selected:o("/customers/whatsapp-tabs")},a.a.createElement(V.a,null,a.a.createElement(Ue.a,null)),a.a.createElement(Q.a,{primary:"Whatsapp"}))),r.groups.includes("Purchase")&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-vendor",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-vendor")},a.a.createElement(V.a,null,a.a.createElement(ze.a,null)),a.a.createElement(Q.a,{primary:"Vendor"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-purchase",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-purchase")},a.a.createElement(V.a,null,a.a.createElement(Be.a,null)),a.a.createElement(Q.a,{primary:"Purchase"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-production",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-production")},a.a.createElement(V.a,null,a.a.createElement(Ge.a,null)),a.a.createElement(Q.a,{primary:"Production"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-inventory",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-inventory")},a.a.createElement(V.a,null,a.a.createElement(ye.a,null)),a.a.createElement(Q.a,{primary:"Inventory"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-currency",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-currency")},a.a.createElement(V.a,null,a.a.createElement(Ie.a,null)),a.a.createElement(Q.a,{primary:"Currency"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/forecast/view-product-forecast",style:{width:300},onClick:function(){return t(!1)},selected:o("/forecast/view-product-forecast")},a.a.createElement(V.a,null,a.a.createElement(be.a,null)),a.a.createElement(Q.a,{primary:"Forecast"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/task/view-task",style:{width:300},onClick:function(){return t(!1)},selected:o("/task/view-task")},a.a.createElement(V.a,null,a.a.createElement(we.a,null)),a.a.createElement(Q.a,{primary:"Task"}))),r.groups.includes("Stores")&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-production",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-production")},a.a.createElement(V.a,null,a.a.createElement(Ge.a,null)),a.a.createElement(Q.a,{primary:"Production"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-inventory",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-inventory")},a.a.createElement(V.a,null,a.a.createElement(ye.a,null)),a.a.createElement(Q.a,{primary:"Inventory"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/task/view-task",style:{width:300},onClick:function(){return t(!1)},selected:o("/task/view-task")},a.a.createElement(V.a,null,a.a.createElement(we.a,null)),a.a.createElement(Q.a,{primary:"Task"}))),(r.groups.includes("Stores Delhi")||r.groups.includes("Production Delhi"))&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-purchase",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-purchase")},a.a.createElement(V.a,null,a.a.createElement(Be.a,null)),a.a.createElement(Q.a,{primary:"Purchase"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-production",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-production")},a.a.createElement(V.a,null,a.a.createElement(Ge.a,null)),a.a.createElement(Q.a,{primary:"Production"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-inventory",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-inventory")},a.a.createElement(V.a,null,a.a.createElement(ye.a,null)),a.a.createElement(Q.a,{primary:"Inventory"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/orderbook-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/orderbook-tab")},a.a.createElement(V.a,null,a.a.createElement(ue.a,null)),a.a.createElement(Q.a,{primary:"Order Book"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/dispatch/tab-view",style:{width:300},onClick:function(){return t(!1)},selected:o("/dispatch/tab-view")},a.a.createElement(V.a,null,a.a.createElement(me.a,null)),a.a.createElement(Q.a,{primary:"Dispatch"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/task/view-task",style:{width:300},onClick:function(){return t(!1)},selected:o("/task/view-task")},a.a.createElement(V.a,null,a.a.createElement(we.a,null)),a.a.createElement(Q.a,{primary:"Task"}))),r.groups.includes("Production")&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-production",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-production")},a.a.createElement(V.a,null,a.a.createElement(Ge.a,null)),a.a.createElement(Q.a,{primary:"Production"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-inventory",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-inventory")},a.a.createElement(V.a,null,a.a.createElement(ye.a,null)),a.a.createElement(Q.a,{primary:"Inventory"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/physical",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/physical")},a.a.createElement(V.a,null,a.a.createElement(qe.a,null)),a.a.createElement(Q.a,{primary:"Physical Inventory"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/task/view-task",style:{width:300},onClick:function(){return t(!1)},selected:o("/task/view-task")},a.a.createElement(V.a,null,a.a.createElement(we.a,null)),a.a.createElement(Q.a,{primary:"Task"}))),r.groups.includes("Sales Manager")&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/report",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/report")},a.a.createElement(V.a,null,a.a.createElement(Qe.a,null)),a.a.createElement(Q.a,{primary:"Report"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/analytics",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/analytics")},a.a.createElement(V.a,null,a.a.createElement(K.a,null)),a.a.createElement(Q.a,{primary:"Analytics"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/leads/all-lead",style:{width:300},onClick:function(){return t(!1)},selected:o("/leads/all-lead")},a.a.createElement(V.a,null,a.a.createElement(ne.a,null)),a.a.createElement(Q.a,{primary:"Leads"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/customers/all-customer",style:{width:300},onClick:function(){return t(!1)},selected:o("/customers/all-customer")},a.a.createElement(V.a,null,a.a.createElement(oe.a,null)),a.a.createElement(Q.a,{primary:"Customer"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/followp/view-followup",style:{width:300},onClick:function(){return t(!1)},selected:o("/followp/view-followup")},a.a.createElement(V.a,null,a.a.createElement(Oe.a,null)),a.a.createElement(Q.a,{primary:"Followup"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/performa-invoice-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/performa-invoice-tab")},a.a.createElement(V.a,null,a.a.createElement(ce.a,null)),a.a.createElement(Q.a,{primary:"Performa Invoice"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/forecast/view-product-forecast",style:{width:300},onClick:function(){return t(!1)},selected:o("/forecast/view-product-forecast")},a.a.createElement(V.a,null,a.a.createElement(be.a,null)),a.a.createElement(Q.a,{primary:"Forecast"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/orderbook-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/orderbook-tab")},a.a.createElement(V.a,null,a.a.createElement(ue.a,null)),a.a.createElement(Q.a,{primary:"Order Book"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/task/view-task",style:{width:300},onClick:function(){return t(!1)},selected:o("/task/view-task")},a.a.createElement(V.a,null,a.a.createElement(we.a,null)),a.a.createElement(Q.a,{primary:"Task"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/market-analysis/competitor",style:{width:300},onClick:function(){return t(!1)},selected:o("/market-analysis/competitor")},a.a.createElement(V.a,null,a.a.createElement(je.a,null)),a.a.createElement(Q.a,{primary:"Market Analysis"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/faq",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/faq")},a.a.createElement(V.a,null,a.a.createElement(Se.a,null)),a.a.createElement(Q.a,{primary:"Script"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/sale-review",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/sale-review")},a.a.createElement(V.a,null,a.a.createElement(Pe.a,null)),a.a.createElement(Q.a,{primary:"Sales Review"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/hr-model",style:{width:300},onClick:function(){return t(!1)}},a.a.createElement(V.a,null,a.a.createElement(De.a,null)),a.a.createElement(Q.a,{primary:"Recruitment"}))),r.groups.includes("Sales Deputy Manager")&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/analytics",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/analytics")},a.a.createElement(V.a,null,a.a.createElement(K.a,null)),a.a.createElement(Q.a,{primary:"Analytics"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/leads/all-lead",style:{width:300},onClick:function(){return t(!1)},selected:o("/leads/all-lead")},a.a.createElement(V.a,null,a.a.createElement(ne.a,null)),a.a.createElement(Q.a,{primary:"Leads"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/customers/all-customer",style:{width:300},onClick:function(){return t(!1)},selected:o("/customers/all-customer")},a.a.createElement(V.a,null,a.a.createElement(oe.a,null)),a.a.createElement(Q.a,{primary:"Customer"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/followp/view-followup",style:{width:300},onClick:function(){return t(!1)},selected:o("/followp/view-followup")},a.a.createElement(V.a,null,a.a.createElement(Oe.a,null)),a.a.createElement(Q.a,{primary:"Followup"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/performa-invoice-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/performa-invoice-tab")},a.a.createElement(V.a,null,a.a.createElement(ce.a,null)),a.a.createElement(Q.a,{primary:"Performa Invoice"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/forecast/view-product-forecast",style:{width:300},onClick:function(){return t(!1)},selected:o("/forecast/view-product-forecast")},a.a.createElement(V.a,null,a.a.createElement(be.a,null)),a.a.createElement(Q.a,{primary:"Forecast"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/orderbook-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/orderbook-tab")},a.a.createElement(V.a,null,a.a.createElement(ue.a,null)),a.a.createElement(Q.a,{primary:"Order Book"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/task/view-task",style:{width:300},onClick:function(){return t(!1)},selected:o("/task/view-task")},a.a.createElement(V.a,null,a.a.createElement(we.a,null)),a.a.createElement(Q.a,{primary:"Task"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/faq",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/faq")},a.a.createElement(V.a,null,a.a.createElement(Se.a,null)),a.a.createElement(Q.a,{primary:"Script"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/sale-review",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/sale-review")},a.a.createElement(V.a,null,a.a.createElement(Pe.a,null)),a.a.createElement(Q.a,{primary:"Sales Review"}))),r.groups.includes("Sales Assistant Deputy Manager")&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/analytics",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/analytics")},a.a.createElement(V.a,null,a.a.createElement(K.a,null)),a.a.createElement(Q.a,{primary:"Analytics"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/leads/all-lead",style:{width:300},onClick:function(){return t(!1)},selected:o("/leads/all-lead")},a.a.createElement(V.a,null,a.a.createElement(ne.a,null)),a.a.createElement(Q.a,{primary:"Leads"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/customers/all-customer",style:{width:300},onClick:function(){return t(!1)},selected:o("/customers/all-customer")},a.a.createElement(V.a,null,a.a.createElement(oe.a,null)),a.a.createElement(Q.a,{primary:"Customer"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/followp/view-followup",style:{width:300},onClick:function(){return t(!1)},selected:o("/followp/view-followup")},a.a.createElement(V.a,null,a.a.createElement(Oe.a,null)),a.a.createElement(Q.a,{primary:"Followup"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/performa-invoice-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/performa-invoice-tab")},a.a.createElement(V.a,null,a.a.createElement(ce.a,null)),a.a.createElement(Q.a,{primary:"Performa Invoice"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/forecast/view-product-forecast",style:{width:300},onClick:function(){return t(!1)},selected:o("/forecast/view-product-forecast")},a.a.createElement(V.a,null,a.a.createElement(be.a,null)),a.a.createElement(Q.a,{primary:"Forecast"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/orderbook-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/orderbook-tab")},a.a.createElement(V.a,null,a.a.createElement(ue.a,null)),a.a.createElement(Q.a,{primary:"Order Book"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/task/view-task",style:{width:300},onClick:function(){return t(!1)},selected:o("/task/view-task")},a.a.createElement(V.a,null,a.a.createElement(we.a,null)),a.a.createElement(Q.a,{primary:"Task"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/faq",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/faq")},a.a.createElement(V.a,null,a.a.createElement(Se.a,null)),a.a.createElement(Q.a,{primary:"Script"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/sale-review",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/sale-review")},a.a.createElement(V.a,null,a.a.createElement(Pe.a,null)),a.a.createElement(Q.a,{primary:"Sales Review"}))),r.groups.includes("Sales Executive")&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/analytics",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/analytics")},a.a.createElement(V.a,null,a.a.createElement(K.a,null)),a.a.createElement(Q.a,{primary:"Analytics"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/leads/all-lead",style:{width:300},onClick:function(){return t(!1)},selected:o("/leads/all-lead")},a.a.createElement(V.a,null,a.a.createElement(ne.a,null)),a.a.createElement(Q.a,{primary:"Leads"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/customers/all-customer",style:{width:300},onClick:function(){return t(!1)},selected:o("/customers/all-customer")},a.a.createElement(V.a,null,a.a.createElement(oe.a,null)),a.a.createElement(Q.a,{primary:"Customer"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/followp/view-followup",style:{width:300},onClick:function(){return t(!1)},selected:o("/followp/view-followup")},a.a.createElement(V.a,null,a.a.createElement(Oe.a,null)),a.a.createElement(Q.a,{primary:"Followup"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/performa-invoice-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/performa-invoice-tab")},a.a.createElement(V.a,null,a.a.createElement(ce.a,null)),a.a.createElement(Q.a,{primary:"Performa Invoice"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/forecast/view-product-forecast",style:{width:300},onClick:function(){return t(!1)},selected:o("/forecast/view-product-forecast")},a.a.createElement(V.a,null,a.a.createElement(be.a,null)),a.a.createElement(Q.a,{primary:"Forecast"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/orderbook-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/orderbook-tab")},a.a.createElement(V.a,null,a.a.createElement(ue.a,null)),a.a.createElement(Q.a,{primary:"Order Book"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/task/view-task",style:{width:300},onClick:function(){return t(!1)},selected:o("/task/view-task")},a.a.createElement(V.a,null,a.a.createElement(we.a,null)),a.a.createElement(Q.a,{primary:"Task"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/faq",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/faq")},a.a.createElement(V.a,null,a.a.createElement(Se.a,null)),a.a.createElement(Q.a,{primary:"Script"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/sale-review",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/sale-review")},a.a.createElement(V.a,null,a.a.createElement(Pe.a,null)),a.a.createElement(Q.a,{primary:"Sales Review"}))),r.groups.includes("Sales Manager without Leads")&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/analytics",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/analytics")},a.a.createElement(V.a,null,a.a.createElement(K.a,null)),a.a.createElement(Q.a,{primary:"Analytics"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/leads/all-lead",style:{width:300},onClick:function(){return t(!1)},selected:o("/leads/all-lead")},a.a.createElement(V.a,null,a.a.createElement(ne.a,null)),a.a.createElement(Q.a,{primary:"Leads"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/customers/all-customer",style:{width:300},onClick:function(){return t(!1)}},a.a.createElement(V.a,null,a.a.createElement(oe.a,null)),a.a.createElement(Q.a,{primary:"Customer"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/followp/view-followup",style:{width:300},onClick:function(){return t(!1)},selected:o("/followp/view-followup")},a.a.createElement(V.a,null,a.a.createElement(Oe.a,null)),a.a.createElement(Q.a,{primary:"Followup"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/performa-invoice-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/performa-invoice-tab")},a.a.createElement(V.a,null,a.a.createElement(ce.a,null)),a.a.createElement(Q.a,{primary:"Performa Invoice"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/forecast/view-product-forecast",style:{width:300},onClick:function(){return t(!1)},selected:o("/forecast/view-product-forecast")},a.a.createElement(V.a,null,a.a.createElement(be.a,null)),a.a.createElement(Q.a,{primary:"Forecast"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/orderbook-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/orderbook-tab")},a.a.createElement(V.a,null,a.a.createElement(ue.a,null)),a.a.createElement(Q.a,{primary:"Order Book"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/task/view-task",style:{width:300},onClick:function(){return t(!1)},selected:o("/task/view-task")},a.a.createElement(V.a,null,a.a.createElement(we.a,null)),a.a.createElement(Q.a,{primary:"Task"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/faq",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/faq")},a.a.createElement(V.a,null,a.a.createElement(Se.a,null)),a.a.createElement(Q.a,{primary:"Script"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/sale-review",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/sale-review")},a.a.createElement(V.a,null,a.a.createElement(Pe.a,null)),a.a.createElement(Q.a,{primary:"Sales Review"}))),r.groups.includes("Sales Manager with Lead")&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/analytics",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/analytics")},a.a.createElement(V.a,null,a.a.createElement(K.a,null)),a.a.createElement(Q.a,{primary:"Analytics"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/leads/all-lead",style:{width:300},onClick:function(){return t(!1)},selected:o("/leads/all-lead")},a.a.createElement(V.a,null,a.a.createElement(ne.a,null)),a.a.createElement(Q.a,{primary:"Leads"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/customers/all-customer",style:{width:300},onClick:function(){return t(!1)},selected:o("/customers/all-customer")},a.a.createElement(V.a,null,a.a.createElement(oe.a,null)),a.a.createElement(Q.a,{primary:"Customer"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/followp/view-followup",style:{width:300},onClick:function(){return t(!1)},selected:o("/followp/view-followup")},a.a.createElement(V.a,null,a.a.createElement(Oe.a,null)),a.a.createElement(Q.a,{primary:"Followup"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/performa-invoice-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/performa-invoice-tab")},a.a.createElement(V.a,null,a.a.createElement(ce.a,null)),a.a.createElement(Q.a,{primary:"Performa Invoice"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/forecast/view-product-forecast",style:{width:300},onClick:function(){return t(!1)},selected:o("/forecast/view-product-forecast")},a.a.createElement(V.a,null,a.a.createElement(be.a,null)),a.a.createElement(Q.a,{primary:"Forecast"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/orderbook-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/orderbook-tab")},a.a.createElement(V.a,null,a.a.createElement(ue.a,null)),a.a.createElement(Q.a,{primary:"Order Book"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/task/view-task",style:{width:300},onClick:function(){return t(!1)},selected:o("/task/view-task")},a.a.createElement(V.a,null,a.a.createElement(we.a,null)),a.a.createElement(Q.a,{primary:"Task"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/faq",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/faq")},a.a.createElement(V.a,null,a.a.createElement(Se.a,null)),a.a.createElement(Q.a,{primary:"Script"}))),r.groups.includes("Accounts")&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/report",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/report")},a.a.createElement(V.a,null,a.a.createElement(Qe.a,null)),a.a.createElement(Q.a,{primary:"Report"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/user/analytics",style:{width:300},onClick:function(){return t(!1)},selected:o("/user/analytics")},a.a.createElement(V.a,null,a.a.createElement(K.a,null)),a.a.createElement(Q.a,{primary:"Analytics"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/products/all-product",style:{width:300},onClick:function(){return t(!1)},selected:o("/products/all-product")},a.a.createElement(V.a,null,a.a.createElement(Z.a,null)),a.a.createElement(Q.a,{primary:"Products"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/products/all-sku-codes",style:{width:300},onClick:function(){return t(!1)},selected:o("/products/all-sku-codes")},a.a.createElement(V.a,null,a.a.createElement(te.a,null)),a.a.createElement(Q.a,{primary:"SKU Code"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/products/view-price-list",style:{width:300},onClick:function(){return t(!1)},selected:o("/products/view-price-list")},a.a.createElement(V.a,null,a.a.createElement($.a,null)),a.a.createElement(Q.a,{primary:"Price List"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/customers/all-customer",style:{width:300},onClick:function(){return t(!1)},selected:o("/customers/all-customer")},a.a.createElement(V.a,null,a.a.createElement(oe.a,null)),a.a.createElement(Q.a,{primary:"Customer"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/performa-invoice-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/performa-invoice-tab")},a.a.createElement(V.a,null,a.a.createElement(ce.a,null)),a.a.createElement(Q.a,{primary:"Performa Invoice"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/sales-invoice",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/sales-invoice")},a.a.createElement(V.a,null,a.a.createElement(he.a,null)),a.a.createElement(Q.a,{primary:"Sales Invoice"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/forecast/view-product-forecast",style:{width:300},onClick:function(){return t(!1)},selected:o("/forecast/view-product-forecast")},a.a.createElement(V.a,null,a.a.createElement(be.a,null)),a.a.createElement(Q.a,{primary:"Forecast"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/seller-account",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/seller-account")},a.a.createElement(V.a,null,a.a.createElement(fe.a,null)),a.a.createElement(Q.a,{primary:"Seller Account"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/orderbook-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/orderbook-tab")},a.a.createElement(V.a,null,a.a.createElement(ue.a,null)),a.a.createElement(Q.a,{primary:"Order Book"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/dispatch/tab-view",style:{width:300},onClick:function(){return t(!1)},selected:o("/dispatch/tab-view")},a.a.createElement(V.a,null,a.a.createElement(me.a,null)),a.a.createElement(Q.a,{primary:"Dispatch"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-vendor",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-vendor")},a.a.createElement(V.a,null,a.a.createElement(ze.a,null)),a.a.createElement(Q.a,{primary:"Vendor"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-purchase",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-purchase")},a.a.createElement(V.a,null,a.a.createElement(Be.a,null)),a.a.createElement(Q.a,{primary:"Purchase"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-production",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-production")},a.a.createElement(V.a,null,a.a.createElement(Ge.a,null)),a.a.createElement(Q.a,{primary:"Production"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-inventory",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-inventory")},a.a.createElement(V.a,null,a.a.createElement(ye.a,null)),a.a.createElement(Q.a,{primary:"Inventory"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/physical",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/physical")},a.a.createElement(V.a,null,a.a.createElement(qe.a,null)),a.a.createElement(Q.a,{primary:"Physical Inventory"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/sales-return",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/sales-return")},a.a.createElement(V.a,null,a.a.createElement(he.a,null)),a.a.createElement(Q.a,{primary:"Sales Return"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/task/view-task",style:{width:300},onClick:function(){return t(!1)},selected:o("/task/view-task")},a.a.createElement(V.a,null,a.a.createElement(we.a,null)),a.a.createElement(Q.a,{primary:"Task"}))),r.groups.includes("Accounts Billing Department")&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/products/all-product",style:{width:300},onClick:function(){return t(!1)},selected:o("/products/all-product")},a.a.createElement(V.a,null,a.a.createElement(Z.a,null)),a.a.createElement(Q.a,{primary:"Products"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/products/all-sku-codes",style:{width:300},onClick:function(){return t(!1)},selected:o("/products/all-sku-codes")},a.a.createElement(V.a,null,a.a.createElement(te.a,null)),a.a.createElement(Q.a,{primary:"SKU Code"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/products/view-price-list",style:{width:300},onClick:function(){return t(!1)},selected:o("/products/view-price-list")},a.a.createElement(V.a,null,a.a.createElement($.a,null)),a.a.createElement(Q.a,{primary:"Price List"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/customers/all-customer",style:{width:300},onClick:function(){return t(!1)},selected:o("/customers/all-customer")},a.a.createElement(V.a,null,a.a.createElement(oe.a,null)),a.a.createElement(Q.a,{primary:"Customer"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/performa-invoice-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/performa-invoice-tab")},a.a.createElement(V.a,null,a.a.createElement(ce.a,null)),a.a.createElement(Q.a,{primary:"Performa Invoice"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/sales-invoice",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/sales-invoice")},a.a.createElement(V.a,null,a.a.createElement(he.a,null)),a.a.createElement(Q.a,{primary:"Sales Invoice"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/invoice/orderbook-tab",style:{width:300},onClick:function(){return t(!1)},selected:o("/invoice/orderbook-tab")},a.a.createElement(V.a,null,a.a.createElement(ue.a,null)),a.a.createElement(Q.a,{primary:"Order Book"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/task/view-task",style:{width:300},onClick:function(){return t(!1)},selected:o("/task/view-task")},a.a.createElement(V.a,null,a.a.createElement(we.a,null)),a.a.createElement(Q.a,{primary:"Task"}))),r.groups.includes("Accounts Executive")&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,{button:!0,component:p.b,to:"/products/all-product",style:{width:300},onClick:function(){return t(!1)},selected:o("/products/all-product")},a.a.createElement(V.a,null,a.a.createElement(Z.a,null)),a.a.createElement(Q.a,{primary:"Products"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/products/all-sku-codes",style:{width:300},onClick:function(){return t(!1)},selected:o("/products/all-sku-codes")},a.a.createElement(V.a,null,a.a.createElement(te.a,null)),a.a.createElement(Q.a,{primary:"SKU Code"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/products/view-price-list",style:{width:300},onClick:function(){return t(!1)},selected:o("/products/view-price-list")},a.a.createElement(V.a,null,a.a.createElement($.a,null)),a.a.createElement(Q.a,{primary:"Price List"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-vendor",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-vendor")},a.a.createElement(V.a,null,a.a.createElement(ze.a,null)),a.a.createElement(Q.a,{primary:"Vendor"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-purchase",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-purchase")},a.a.createElement(V.a,null,a.a.createElement(Be.a,null)),a.a.createElement(Q.a,{primary:"Purchase"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-production",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-production")},a.a.createElement(V.a,null,a.a.createElement(Ge.a,null)),a.a.createElement(Q.a,{primary:"Production"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/inventory/view-inventory",style:{width:300},onClick:function(){return t(!1)},selected:o("/inventory/view-inventory")},a.a.createElement(V.a,null,a.a.createElement(ye.a,null)),a.a.createElement(Q.a,{primary:"Inventory"})),a.a.createElement(q.a,{button:!0,component:p.b,to:"/task/view-task",style:{width:300},onClick:function(){return t(!1)},selected:o("/task/view-task")},a.a.createElement(V.a,null,a.a.createElement(we.a,null)),a.a.createElement(Q.a,{primary:"Task"}))))):a.a.createElement("div",null,"Loading...")},Ke=r(39),Je=r.n(Ke),Ze=Je.a.create({baseURL:"https://crmbackend-glutape.herokuapp.com"}),Xe={getAllTaskData:function(e){var t=e.page,r=e.assignToFilter,n=e.searchValue,a="/api/task/list-tasks/?";return t&&(a+="page=".concat(t,"&")),r&&(a+="assigned_to__email=".concat(r,"&")),n&&(a+="search=".concat(n,"&")),Ze.get(a)},createTask:function(e){return Ze.post("/api/task/list-tasks/",e)},updateTask:function(e,t){return Ze.patch("/api/task/list-tasks/".concat(e),t)},createActivityTask:function(e){return Ze.post("/api/task/list-tasks-activity/",e)},getAllUsers:function(e){return Ze.get("/api/user/users/?is_active=".concat(e))},createUsers:function(e,t){return Ze.patch("/api/user/users/".concat(e,"/"),t)}},$e=r(295),et=r.n($e);var tt=function(e){var t=e.tasks,r=e.closePopup,o=Object(f.n)(),i=Object(n.useState)(null),c=Object(l.a)(i,2),u=c[0],s=c[1],p={taskInfo:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},taskName:{flex:1,marginRight:"10px"},list:{listStyleType:"none",padding:0},listItem:function(e){return{display:"flex",alignItems:"center",padding:"10px",borderBottom:"1px solid #e0e0e0",backgroundColor:e?"#f5f5f5":"transparent",cursor:"pointer",transition:"background-color 0.3s"}},avatar:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#3f51b5",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px"},text:{flex:1},description:{color:"#555"},dueDate:{color:"#888",fontSize:"0.9em"}};return a.a.createElement("ul",{style:p.list},t.map(function(e,t){return a.a.createElement("li",{key:e.id,style:p.listItem(e.id===u),onMouseEnter:function(){return s(e.id)},onMouseLeave:function(){return s(null)}},a.a.createElement("div",{style:p.avatar},a.a.createElement(et.a,null)),a.a.createElement("div",{style:p.text,onClick:function(){return o("/task/view-task"),void r()}},a.a.createElement("div",{style:p.taskInfo},a.a.createElement("span",{style:p.taskName},e.name),a.a.createElement("span",{style:p.dueDate},"Due: ".concat(e.due_date))),a.a.createElement("div",{style:p.description},e.description)))}))},rt=r(121),nt=r.n(rt),at=r(635),ot=r(601),it=r(638),ct=Object(L.a)(at.a)(function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}});function lt(e){var t=e.children,r=e.onClose;return a.a.createElement(ot.a,{sx:{m:0,p:2}},t,r?a.a.createElement(m.a,{"aria-label":"close",onClick:r,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}}},a.a.createElement(nt.a,null)):null)}var ut=function(e){var t=e.title,r=e.children,n=e.openPopup,o=e.setOpenPopup,i=e.maxWidth,c=e.others,l=e.fullScreen;return a.a.createElement(ct,Object.assign({fullScreen:l},c,{maxWidth:i,onClose:function(){o(!1)},"aria-labelledby":"customized-dialog-title",open:n}),a.a.createElement(lt,{id:"customized-dialog-title",onClose:function(){o(!1)}},t),a.a.createElement(it.a,{dividers:!0},r))};function st(){st=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ft=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({display:"flex",alignItems:"center",padding:t.spacing(0,1)},t.mixins.toolbar,{justifyContent:"flex-end"})}),pt=function(){var e=Object(s.b)(),t=Object(f.n)(),r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],O=Object(S.a)(),L=Object(s.c)(function(e){return e.auth}),k=Object(n.useState)(null),C=Object(l.a)(k,2),N=C[0],A=C[1],F=Object(n.useState)([]),G=Object(l.a)(F,2),W=G[0],B=G[1],R=L.profile?L.profile:[],z=Object(n.useState)(!1),M=Object(l.a)(z,2),U=M[0],Y=M[1],q=function(){A(null)};Object(n.useEffect)(function(){L.user&&V()},[L.user]);var V=function(){var e=Object(c.a)(st().mark(function e(){var t;return st().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Xe.getAllTaskData({page:"all"});case 4:t=e.sent,B(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(h.a,null),a.a.createElement(d.a,{open:i,onClose:function(){return u(!1)}},a.a.createElement(ft,null,a.a.createElement(m.a,{onClick:function(){u(!1)}},"ltr"===O.direction?a.a.createElement(P.a,null):a.a.createElement(D.a,null))),a.a.createElement(v.a,null),a.a.createElement(y.a,{component:"nav",style:{width:"100%",marginBottom:"2em"},disablePadding:!0},a.a.createElement(He,{setOpen:u}))),L.user&&a.a.createElement(g.a,{position:"fixed",sx:{backgroundColor:"#006ba1",height:{xs:"40px",sm:"54px"}},className:"not-scrolled"},a.a.createElement(b.a,{sx:{minHeight:{xs:"40px",sm:"54px"}}},a.a.createElement(m.a,{edge:"start",sx:{color:"inherit",marginLeft:{xs:"0px",sm:"38px"},"& .MuiSvgIcon-root":{fontSize:{xs:"1.2rem",sm:"1.5rem"}}},onClick:function(){return u(!0)}},a.a.createElement(T.a,null)),a.a.createElement(E.a,{variant:"h6",sx:{marginRight:"auto",fontSize:{xs:"0.75rem",sm:"1rem"}}},"Bold-SoftMation"),a.a.createElement(a.a.Fragment,null,a.a.createElement(m.a,{color:"inherit",onClick:function(){Y(!0)}},a.a.createElement(w.a,{badgeContent:W.length,color:"error"},a.a.createElement(_.a,null))),a.a.createElement(m.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"false",onClick:function(e){A(e.currentTarget)},color:"inherit",sx:{"& span":{marginRight:"auto",fontSize:{xs:"0.75rem",sm:"1rem"}}}},a.a.createElement("span",null,R.first_name," ",R.last_name),a.a.createElement(I.a,null)),a.a.createElement(j.a,{id:"menu-appbar",anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:N,onClose:q},a.a.createElement(x.a,{component:p.b,to:"/user/profile",onClick:q},"Profile"),a.a.createElement(x.a,{component:p.b,to:"/",onClick:function(){e({type:"LOGOUT_USER"}),localStorage.removeItem("user"),t("/")}},"Logout"))))),a.a.createElement(ut,{openPopup:U,setOpenPopup:Y,title:"Notifications",maxWidth:"md"},a.a.createElement(tt,{tasks:W,closePopup:function(){Y(!1)}})))},ht=(r(154),r(342)),dt=r(633),mt=r(619),vt=r(649),yt=r(627),gt=r(628),bt=r(629),Et=r(630),wt=r(195),xt=r.n(wt),Ot=r(302),_t=r.n(Ot),jt=r(643),Lt=function(e){return a.a.createElement(jt.a,e)},St=r(636),kt=r(648),Pt=Object(n.memo)(function(e){var t=e.open;return a.a.createElement("div",null,a.a.createElement(St.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:t},a.a.createElement(kt.a,{color:"inherit"})))}),Ct={login:function(e){return Ze.post("api/user/login/",e)},getProfile:function(){return Ze.get("/api/user/profile/")},register:function(e){return Ze.post("api/user/register/",e)},sendResetPasswordEmail:function(e){return Ze.post("api/user/send-reset-password-email/",e)},ChangePassword:function(e,t,r){return Ze.post("api/user/reset-password/".concat(e,"/").concat(t,"/"),r)},getAllUserProfileData:function(){return Ze.get("/api/user/user-personal-details/")},createUserProfileData:function(e){return Ze.post("/api/user/user-personal-details/",e)},updateUserProfileData:function(e,t){return Ze.patch("/api/user/user-personal-details/".concat(e,"/"),t)},getUserProfileDataById:function(e){return console.log("id",e),Ze.get("/api/user/user-personal-details/".concat(e))},getAllScriptData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("/api/user/script/?".concat(r.toString()))},createScriptData:function(e){return Ze.post("/api/user/script/",e)},updateScriptData:function(e,t){return Ze.patch("/api/user/script/".concat(e,"/"),t)},getAllObjectionData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("/api/user/objection-bank/?".concat(r.toString()))},createObjectionData:function(e){return Ze.post("/api/user/objection-bank/",e)},updateObjectionData:function(e,t){return Ze.patch("/api/user/objection-bank/".concat(e,"/"),t)},getAllProductObjectionData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("/api/user/product-objection/?".concat(r.toString()))},createProductObjectionData:function(e){return Ze.post("/api/user/product-objection/",e)},updateProductObjectionData:function(e,t){return Ze.patch("/api/user/product-objection/".concat(e,"/"),t)},getDailySaleReviewData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("year_month",e),t&&n.append("sales_person__email",t),r&&n.append("search",r),Ze.get("api/user/daily-sales-review/?".concat(n.toString()))},getDailySaleReviewById:function(e){return Ze.get("api/user/daily-sales-review/".concat(e))},createDailySaleReviewData:function(e){return Ze.post("api/user/daily-sales-review/",e)},updateDailySaleReviewData:function(e,t){return Ze.patch("api/user/daily-sales-review/".concat(e,"/"),t)}};function Dt(){Dt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Nt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Tt=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],h=u[1],d=Object(ht.a)(),m=Object(n.useState)(!1),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)(!1),w=Object(l.a)(b,2),x=w[0],O=w[1],_=Object(n.useState)(""),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(f.p)().id,P=Object(f.p)().token;console.log("token",P),console.log("id",k);var C=function(){var e=Object(c.a)(Dt().mark(function e(t){var n,a;return Dt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,g(!0),n={password:r,password2:s},e.next=6,Ct.ChangePassword(k,P,n);case 6:a=e.sent,S(a.data.message),O(!0),g(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("err :>> ",e.t0),g(!1);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(dt.a,{className:"main",theme:d},a.a.createElement(Pt,{open:y}),a.a.createElement(mt.a,{open:x,onClose:function(){return O(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},a.a.createElement(vt.a,{sx:Nt},a.a.createElement(E.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"Password Reset Confirmation"),a.a.createElement(E.a,{id:"modal-modal-description",sx:{mb:2,mt:2,color:"#3980F4"}},L,a.a.createElement(_t.a,{color:"success"})),a.a.createElement(yt.a,{variant:"contained",component:p.b,to:"/login"},"LOGIN"))),a.a.createElement(gt.a,{className:"Auth-form-container",component:"main",maxWidth:"xs"},a.a.createElement(vt.a,{className:"Auth-form",sx:{display:"flex",flexDirection:"column",alignItems:"center"}},a.a.createElement(bt.a,{sx:{m:1,bgcolor:"secondary.main"}},a.a.createElement(xt.a,null)),a.a.createElement("h3",{className:"Auth-form-title"},"Forgot Password"),a.a.createElement(vt.a,{className:"Auth-form-content",onSubmit:function(e){return C(e)},component:"form",noValidate:!0,sx:{mt:1}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Password",variant:"outlined",name:"password",type:"password",onChange:function(e){return o(e.target.value)},value:r})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Confirm Password",variant:"outlined",name:"password2",type:"password",onChange:function(e){return h(e.target.value)},value:s}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))))},At=r(303),It=r.n(At);function Ft(){Ft=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Gt=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(ht.a)(),u=Object(n.useState)(!1),s=Object(l.a)(u,2),f=s[0],h=s[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(""),b=Object(l.a)(g,2),E=b[0],w=b[1],x=function(){var e=Object(c.a)(Ft().mark(function e(t){var n,a;return Ft().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,h(!0),!r){e.next=11;break}return n={email:r},e.next=7,Ct.sendResetPasswordEmail(n);case 7:a=e.sent,w(a.data.message),y(!0),o("");case 11:h(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("err :>> ",e.t0),h(!1);case 18:case"end":return e.stop()}},e,null,[[1,14]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(dt.a,{className:"main",theme:i},a.a.createElement(Pt,{open:f}),a.a.createElement(ut,{openPopup:v,setOpenPopup:y,title:"Verify Your Email",maxWidth:"md"},E),a.a.createElement(gt.a,{className:"Auth-form-container",component:"main",maxWidth:"xs"},a.a.createElement(vt.a,{className:"Auth-form",sx:{}},a.a.createElement(vt.a,{sx:{ml:8},display:"flex",justifyContent:"flex-start"},a.a.createElement(p.b,{to:"/"},a.a.createElement(It.a,null),"Back To Login")),a.a.createElement(vt.a,{display:"flex",justifyContent:"center"},a.a.createElement(bt.a,{sx:{m:1,bgcolor:"secondary.main"}},a.a.createElement(xt.a,null))),a.a.createElement("h3",{className:"Auth-form-title"},"Forgot Password"),a.a.createElement(vt.a,{className:"Auth-form-content",onSubmit:function(e){return x(e)},component:"form",noValidate:!0,sx:{mt:1}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Email",variant:"outlined",name:"email",onChange:function(e){return o(e.target.value)},value:r}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))))},Wt=r(5),Bt=r(651),Rt=r(652),zt=r(653),Mt=r(654),Ut=r(609),Yt=r(650),qt=r(245),Vt={getAllCustomerData:function(e,t,r,n){var a=new URLSearchParams;return e&&a.append("status",e),t&&a.append("page",t),r&&a.append("assigned_to__email",r),n&&a.append("search",n),Ze.get("/api/customer/list-company/?".concat(a.toString()))},getIncompleteKycCustomerData:function(e){var t=e.page,r=e.assignToFilter,n=e.searchValue,a="/api/customer/list-company/?is_verified=false&";return t&&(a+="page=".concat(t,"&")),r&&(a+="assigned_to__email=".concat(r,"&")),n&&(a+="search=".concat(n,"&")),Ze.get(a)},getInActiveCustomerData:function(e){var t=e.page,r=e.searchValue,n="/api/customer/list-company/?is_active=false";return t&&(n+="&page=".concat(t)),r&&(n+="&search=".concat(r)),Ze.get(n)},createCompanyData:function(e){return Ze.post("/api/customer/list-company/",e)},getCompanyDataById:function(e){return Ze.get("/api/customer/list-company/".concat(e))},getCompanyDataByIdWithType:function(e,t){return Ze.get("/api/customer/list-company/".concat(e,"?type=").concat(t))},getSalesHistoryDataByIdWithType:function(e,t,r){return Ze.get("/api/customer/list-company/".concat(e,"?type=").concat(t,"&year_month=").concat(r))},updateCompanyData:function(e,t){return Ze.patch("/api/customer/list-company/".concat(e),t)},getUnassignedData:function(){return Ze.get("/api/customer/list-company/?unassigned=true")},getSearchByUnassignedData:function(e){return Ze.get("/api/customer/list-company/?unassigned=true&search=".concat(e))},getPaginationByUnassignedData:function(e){return Ze.get("/api/customer/list-company/?unassigned=true&page=".concat(e))},getSearchandPaginationByUnassignedData:function(e,t){var r=encodeURIComponent(t);return Ze.get("/api/customer/list-company/?unassigned=true&page=".concat(e,"&search=").concat(r))},getBankDataById:function(e){return Ze.get("/api/customer/list-bank/".concat(e))},createBankData:function(e){return Ze.post("/api/customer/list-bank/",e)},updateBankData:function(e,t){return Ze.patch("/api/customer/list-bank/".concat(e),t)},createContactData:function(e){return Ze.post("/api/customer/list-contact/",e)},getContactDataById:function(e){return Ze.get("/api/customer/list-contact/".concat(e))},updateContactData:function(e,t){return Ze.patch("/api/customer/list-contact/".concat(e),t)},getAllContactData:function(){return Ze.get("/api/customer/list-contact/")},createWareHouseData:function(e){return Ze.post("/api/customer/list-warehouse/",e)},updatetWareHouseData:function(e,t){return Ze.patch("/api/customer/list-warehouse/".concat(e),t)},getWareHouseDataById:function(e){return Ze.get("/api/customer/list-warehouse/".concat(e))},createSecurityChequeData:function(e){return Ze.post("/api/customer/list-securitycheque/",e)},getSecurityChequeDataById:function(e){return Ze.get("/api/customer/list-securitycheque/".concat(e))},updateSecurityChequeData:function(e,t){return Ze.patch("/api/customer/list-securitycheque/".concat(e),t)},createForecastData:function(e){return Ze.post("/api/forecast/list-product-forecast/",e)},getForecastDataById:function(e){return Ze.get("/api/forecast/list-product-forecast/".concat(e))},updateForecastData:function(e,t){return Ze.patch("/api/forecast/list-quantity-forecast/".concat(e),t)},createProductForecastData:function(e){return Ze.post("/api/forecast/list-quantity-forecast/",e)},updateProductForecastData:function(e,t){return Ze.patch("/api/forecast/list-quantity-forecast/".concat(e),t)},createFollowUpCustomer:function(e){return Ze.post("/api/customer/list-followup/",e)},getCustomerFollowUp:function(){return Ze.get("/api/customer/list-followup/")},DoneFollowup:function(e,t){return Ze.patch("/api/customer/list-followup/".concat(e),t)},createPotentialCustomer:function(e){return Ze.post("/api/customer/list-company-potential/",e)},updatePotentialCustomer:function(e,t){return Ze.patch("/api/customer/list-company-potential/".concat(e),t)},BulkCustomerAssign:function(e){return Ze.post("/api/customer/assign-bulk-customers/ ",e)},getAllCompetitors:function(){return Ze.get("/api/customer/list-main-distribution")},getCompetitorsPaginatewithSearch:function(e,t){return Ze.get("/api/customer/list-main-distribution/?page=".concat(e,"&search=").concat(t))},getAllPaginateCompetitors:function(e){return Ze.get("/api/customer/list-main-distribution/?page=".concat(e))},getCompetitorsById:function(e){return Ze.get("/api/customer/list-main-distribution/".concat(e))},createCompetitorAPI:function(e){return Ze.post("/api/customer/list-main-distribution/",e)},getAllSearchCompetitors:function(e){return Ze.get("/api/customer/list-main-distribution/?search=".concat(e))},updateCompetitors:function(e,t){return Ze.patch("/api/customer/list-main-distribution/".concat(e),t)},getAllGroupCompanies:function(){return Ze.get("/api/customer/list-group-company/")},getAllWhatsappGroupData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,r=new URLSearchParams;return!t&&e&&r.append("page",e),t&&r.append("search",t),Ze.get("/api/customer/whatsapp-group-list/?".concat(r.toString()))},getCustomerNotHavingWhatsappGroup:function(e,t){var r=new URLSearchParams;return r.append("is_whatsapp",!1),e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/customer/whatsapp-group-list/?".concat(r.toString()))},getCustomerNotInGroupData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/customer/whatsapp-customer/?".concat(r.toString()))},getSalesPersonNotInGroupData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/customer/sales-person/?".concat(r.toString()))},createWhatsappData:function(e){return Ze.post("/api/customer/whatsapp-group-list/",e)},createWhatsappImageData:function(e){return Ze.post("/api/customer/whatsapp-image/",e)},createWhatsappPdfData:function(e){return Ze.post("/api/customer/whatsapp-group-list/send-pdf/",e)},deleteWhatsappData:function(e){return Ze.patch("/api/customer/whatsapp-group-list/".concat(e,"/"))},getWhatsappImageData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Ze.get("/api/customer/whatsapp-image/?page=".concat(e))},resendWhatsappMessage:function(e){return Ze.post("/api/customer/whatsapp-image/unsent_message/",e)},bulkResendMessage:function(e){return Ze.post("/api/customer/whatsapp-image/unsent_bulk_message/",e)},getAutomatioData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=new URLSearchParams;return e&&r.append("page",e),""!==t&&r.append("is_scheduled",t),Ze.get("/api/whatsapp/whatsapp-automation/?".concat(r.toString()))}};function Qt(){Qt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ht=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetailsByID,o=Object(n.useState)(!1),i=Object(l.a)(o,2),f=i[0],p=i[1],h=Object(n.useState)([]),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)([]),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(s.c)(function(e){return e.auth}),L=function(e){var t=e.target,r=t.name,n=t.value;v(Object(u.a)({},m,Object(Wt.a)({},r,n)))};console.log("inputValue :>> ",m);var S=function(){var e=Object(c.a)(Qt().mark(function e(){var t,r;return Qt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),t=m.ifsc_code,e.next=5,Je.a.get("https://ifsc.razorpay.com/".concat(t));case 5:r=e.sent,E(r.data),_(""),p(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0),p(!1),404===e.t0.response.status&&_("please enter valid ifsc code.");case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(Qt().mark(function e(n){var a;return Qt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),p(!0),a={company:j?j.companyName:"",current_account_no:m.current_account_no,ifsc_code:m.ifsc_code,bank_name:b.BANK,address:b.ADDRESS,state:b.STATE,district:b.DISTRICT,city:b.CITY,branch:b.BRANCH,micr_code:b.MICR},e.next=6,Vt.createBankData(a);case 6:t(!1),p(!1),r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),p(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return k(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"current_account_no",label:"Account No",variant:"outlined",value:m.account_no,onChange:L})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{sx:{minWidth:"400px"},name:"ifsc_code",size:"small",label:"IFSC Code",variant:"outlined",value:m.ifsc_code,onChange:L,error:O&&O,helperText:O&&O}),a.a.createElement(yt.a,{onClick:function(){return S()},variant:"contained",sx:{marginLeft:"1rem"}},"Validate")),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"bank_name",label:"Bank Name",variant:"outlined",value:b.BANK?b.BANK:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"branch",label:"Branch",variant:"outlined",value:b.BRANCH?b.BRANCH:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"micr_code",label:"MICR",variant:"outlined",value:b.MICR?b.MICR:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"district",label:"District",variant:"outlined",value:b.DISTRICT?b.DISTRICT:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"city",label:"City",variant:"outlined",value:b.CITY?b.CITY:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:b.STATE?b.STATE:""})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:b.ADDRESS?b.ADDRESS:""}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Kt(){Kt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Jt=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetailsByID,o=e.idForEdit,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)([]),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(""),g=Object(l.a)(y,2),b=g[0],E=g[1],w=function(e){var t=e.target,r=t.name,n=t.value;v(Object(u.a)({},m,Object(Wt.a)({},r,n)))};Object(n.useEffect)(function(){x()},[o]);var x=function(){var e=Object(c.a)(Kt().mark(function e(){var t;return Kt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Vt.getBankDataById(o);case 4:t=e.sent,v(t.data),p(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),p(!1),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(Kt().mark(function e(){var t,r;return Kt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),t=m.ifsc_code,e.next=5,Je.a.get("https://ifsc.razorpay.com/".concat(t));case 5:r=e.sent,v(Object(u.a)({},m,{bank_name:r.data.BANK,address:r.data.ADDRESS,district:r.data.DISTRICT,state:r.data.STATE,city:r.data.CITY,branch:r.data.BRANCH,micr_code:r.data.MICR})),E(""),p(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0),p(!1),404===e.t0.response.status&&E("please enter valid ifsc code.");case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(c.a)(Kt().mark(function e(n){var a;return Kt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),p(!0),a={company:m.company,current_account_no:m.current_account_no,ifsc_code:m.ifsc_code,bank_name:m.bank_name,address:m.address,state:m.state,district:m.district,city:m.city,branch:m.branch,micr_code:m.micr_code},e.next=6,Vt.updateBankData(o,a);case 6:t(!1),p(!1),r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),p(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"current_account_no",label:"Account No",variant:"outlined",value:m.current_account_no?m.current_account_no:"",onChange:w})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{sx:{minWidth:"400px"},name:"ifsc_code",size:"small",label:"IFSC Code",variant:"outlined",value:m.ifsc_code||"",onChange:w,error:b&&b,helperText:b&&b}),a.a.createElement(yt.a,{onClick:function(){return O()},variant:"contained",sx:{marginLeft:"1rem"}},"Validate")),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"bank_name",label:"Bank Name",variant:"outlined",value:m.bank_name||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"branch",label:"Branch",variant:"outlined",value:m.branch||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"micr",label:"MICR",variant:"outlined",value:m.micr_code||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"district",label:"District",variant:"outlined",value:m.district||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"city",label:"City",variant:"outlined",value:m.city||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:m.state||"",InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:m.address||""}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Zt(){Zt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Xt=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14}),t}),$t=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),er=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(!1),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)(),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(s.c)(function(e){return e.auth}).profile;Object(n.useEffect)(function(){t&&k()},[t]);var k=function(){var e=Object(c.a)(Zt().mark(function e(){var r;return Zt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Vt.getCompanyDataByIdWithType(t,"bank");case 4:r=e.sent,L(r.data.bank),u(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),u(!1),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();return console.log("bankData :>> ",j),a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:i}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:2}),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Bank Details")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"},(S.groups.includes("Accounts")||S.groups.includes("Director"))&&a.a.createElement(yt.a,{onClick:function(){return g(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Xt,{align:"center"},"ID"),a.a.createElement(Xt,{align:"center"},"BANK"),a.a.createElement(Xt,{align:"center"},"ACCOUNT NO."),a.a.createElement(Xt,{align:"center"},"IFSC CODE"),a.a.createElement(Xt,{align:"center"},"BRANCH"),a.a.createElement(Xt,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,j&&j.map(function(e,t){return a.a.createElement($t,{key:t},a.a.createElement(Xt,{align:"center"},e.id),a.a.createElement(Xt,{align:"center"},e.bank_name),a.a.createElement(Xt,{align:"center"},e.current_account_no),a.a.createElement(Xt,{align:"center"},e.ifsc_code),a.a.createElement(Xt,{align:"center"},e.branch),a.a.createElement(Xt,{align:"center"},(S.groups.includes("Accounts")||S.groups.includes("Director"))&&a.a.createElement(yt.a,{variant:"contained",onClick:function(){return t=e.id,x(t),void d(!0);var t}},"View")))}))))),a.a.createElement(ut,{title:"Create Bank Details",openPopup:y,setOpenPopup:g},a.a.createElement(Ht,{setOpenPopup:g,getAllCompanyDetailsByID:k})),a.a.createElement(ut,{title:"Update Bank Details",openPopup:h,setOpenPopup:d},a.a.createElement(Jt,{setOpenPopup:d,getAllCompanyDetailsByID:k,idForEdit:w})))},tr=r(645),rr=r(646),nr=r(620),ar=r(53),or=r.n(ar);r(133);function ir(){ir=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var cr=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetailsByID,o=Object(n.useState)(!1),i=Object(l.a)(o,2),f=i[0],p=i[1],h=Object(n.useState)(""),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(""),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(""),O=Object(l.a)(w,2),_=O[0],j=O[1],L=Object(n.useState)([]),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(s.c)(function(e){return e.auth}),D=Object(n.useState)({email:"",alternate_email:""}),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Object(n.useState)({}),F=Object(l.a)(I,2),G=F[0],W=F[1],B=function(e){var t=e.target,r=t.name,n=t.value;A(Object(u.a)({},T,Object(Wt.a)({},r,n)))},R=function(e){var t=e.target,r=t.name,n=t.value;if("name"===r){var a=n.charAt(0).toUpperCase()+n.slice(1).toLowerCase();P(Object(u.a)({},k,Object(Wt.a)({},r,a)))}else P(Object(u.a)({},k,Object(Wt.a)({},r,n)))},z=function(){var e=Object(c.a)(ir().mark(function e(n){var a,o,i,c;return ir().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),W(M(T)),a=12===b.length?"+".concat(b):b,o=12===_.length?"+".concat(_):_,i=k.pan_no,c={company:C?C.companyName:"",name:k.name,designation:m,contact:a||"",alternate_contact:o||"",email:T.email,alternate_email:T.alternate_email,pan_number:i,aadhaar:k.aadhar_no},p(!0),e.next=10,Vt.createContactData(c);case 10:t(!1),p(!1),r(),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("error",e.t0),p(!1);case 19:case"end":return e.stop()}},e,null,[[0,15]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){console.log(G),0===Object.keys(G).length&&console.log(T)},[G]);var M=function(e){var t={},r=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i;return e.email?r.test(e.email)||(t.email="This is not a valid email format!"):t.email="Email is required!",e.alternate_email?r.test(e.alternate_email)||(t.alternate_email="This is not a valid alternate email format!"):t.alternate_email="Alternate Email is required!",t};return a.a.createElement("div",null,a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return z(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"name",label:"Name",variant:"outlined",value:k.name,onChange:R})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-select-small"},"Designation"),a.a.createElement(nr.a,{labelId:"demo-select-small",id:"demo-select-small",value:m,label:"Designation",onChange:function(e){return v(e.target.value)}},a.a.createElement(x.a,{value:"Owner"},"Owner "),a.a.createElement(x.a,{value:"Partner"},"Partner"),a.a.createElement(x.a,{value:"Director"},"Director"),a.a.createElement(x.a,{value:"Accounts"},"Accounts"),a.a.createElement(x.a,{value:"Purchase"},"Purchase"),a.a.createElement(x.a,{value:"Quality"},"Quality"),a.a.createElement(x.a,{value:"Stores"},"Stores")))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(or.a,{specialLabel:"Contact",inputStyle:{height:"15px",width:"250px"},country:"in",onChange:function(e){E(e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(or.a,{specialLabel:"Alternate Contact",inputStyle:{height:"15px",width:"250px"},country:"in",onChange:function(e){j(e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"email",label:"Email",variant:"outlined",value:T.email,onChange:B,error:Boolean(G.email),helperText:G.email})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"alternate_email",label:"Alt Email",variant:"outlined",value:T.alternate_email,onChange:B,error:Boolean(G.alternate_email),helperText:G.alternate_email})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,disabled:"Director"!==m&&"Owner"!==m&&"Partner"!==m,size:"small",name:"pan_no",label:"Pan No.",variant:"outlined",value:k.pan_no,onChange:R,helperText:G.pan_no&&"Applicable Only if designation is Owner/Partner/Director"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,disabled:"Director"!==m&&"Owner"!==m&&"Partner"!==m,size:"small",type:"number",name:"aadhar_no",label:"Aadhar No.",variant:"outlined",value:k.aadhar_no,onChange:R,helperText:"Applicable Only if designation is Owner/Partner/Director"}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},lr=r(145);function ur(){ur=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var sr=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetailsByID,o=e.IDForEdit,i=Object(n.useState)({open:!1,inputValue:{name:"",contact:"",designation:"",alternate_contact:"",email:"",alternate_email:"",pan_number:"",aadhaar:""},errMsg:""}),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useRef)(),d=function(e){var t=e.target,r=t.name,n=t.value;p(function(e){return Object(u.a)({},e,{inputValue:Object(u.a)({},e.inputValue,Object(Wt.a)({},r,n))})})};Object(n.useEffect)(function(){m()},[]);var m=function(){var e=Object(c.a)(ur().mark(function e(){var t;return ur().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(function(e){return Object(u.a)({},e,{open:!0})}),e.next=4,Vt.getContactDataById(o);case 4:t=e.sent,p(function(e){return Object(u.a)({},e,{inputValue:t.data,open:!1})}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),p(function(e){return Object(u.a)({},e,{open:!1})}),console.log("company data by id error",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(ur().mark(function e(n){var a,i,c,l,s,h,d;return ur().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,p(function(e){return Object(u.a)({},e,{open:!0})}),a=f.inputValue,i=a.contact,c=a.alternate_contact,l=Object(lr.a)(a,["contact","alternate_contact"]),s=i&&12===i.length?"+".concat(i):i,h=c&&12===c.length?"+".concat(c):c,d=Object(u.a)({},l,{contact:s,alternate_contact:h}),e.next=9,Vt.updateContactData(o,d);case 9:t(!1),p(function(e){return Object(u.a)({},e,{open:!1})}),r(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("creating company detail error",e.t0),p(function(e){return Object(u.a)({},e,{open:!1})});case 18:case"end":return e.stop()}},e,null,[[1,14]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:f.open}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:v},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement("p",{style:{width:"100%",padding:10,marginBottom:10,borderRadius:4,backgroundColor:f.errMsg?"red":"offscreen",textAlign:"center",color:"white",textTransform:"capitalize"},ref:h,className:f.errMsg?"errmsg":"offscreen","aria-live":"assertive"},f.errMsg),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"name",label:"Name",variant:"outlined",value:f.inputValue.name,onChange:d})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-select-small"},"Designation"),a.a.createElement(nr.a,{labelId:"demo-select-small",id:"demo-select-small",value:f.inputValue.designation,label:"Designation",onChange:function(e){return p(function(t){return Object(u.a)({},t,{inputValue:Object(u.a)({},t.inputValue,{designation:e.target.value})})})}},a.a.createElement(x.a,{value:"Owner"},"Owner "),a.a.createElement(x.a,{value:"Partner"},"Partner"),a.a.createElement(x.a,{value:"Director"},"Director"),a.a.createElement(x.a,{value:"Accounts"},"Accounts"),a.a.createElement(x.a,{value:"Purchase"},"Purchase"),a.a.createElement(x.a,{value:"Quality"},"Quality"),a.a.createElement(x.a,{value:"Stores"},"Stores")))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(or.a,{specialLabel:"Contact",inputStyle:{height:"15px",width:"250px"},country:"in",value:f.inputValue.contact,onChange:function(e){return p(function(t){return Object(u.a)({},t,{inputValue:Object(u.a)({},t.inputValue,{contact:e})})})}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(or.a,{specialLabel:"Alternate Contact",inputStyle:{height:"15px",width:"250px"},country:"in",value:f.inputValue.alternate_contact,onChange:function(e){return p(function(t){return Object(u.a)({},t,{inputValue:Object(u.a)({},t.inputValue,{alternate_contact:e})})})}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"email",label:"Email",variant:"outlined",value:f.inputValue.email,onChange:d})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"alternate_email",label:"Alt Email",variant:"outlined",value:f.inputValue.alternate_email,onChange:d})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},"Director"===f.inputValue.designation||"Owner"===f.inputValue.designation||"Partner"===f.inputValue.designation?a.a.createElement(Lt,{fullWidth:!0,disabled:!["Director","Owner","Partner"].includes(f.inputValue.designation),onChange:d,size:"small",name:"pan_number",label:"Pan No.",variant:"outlined",value:f.inputValue.pan_number,helperText:"Applicable Only if designation is Owner/Partner/Director"}):null),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},"Director"===f.inputValue.designation||"Owner"===f.inputValue.designation||"Partner"===f.inputValue.designation?a.a.createElement(Lt,{fullWidth:!0,disabled:!["Director","Owner","Partner"].includes(f.inputValue.designation),onChange:d,size:"small",name:"aadhaar",label:"Aadhar No.",variant:"outlined",value:f.inputValue.aadhaar,helperText:"Applicable Only if designation is Owner/Partner/Director"}):null)),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function fr(){fr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var pr=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14}),t}),hr=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),dr=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],f=Object(n.useState)([]),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(!1),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(s.c)(function(e){return e.auth}).profile;Object(n.useEffect)(function(){t&&k()},[t]);var k=function(){var e=Object(c.a)(fr().mark(function e(){var r;return fr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Vt.getCompanyDataByIdWithType(t,"contacts");case 4:r=e.sent,d(r.data.contacts),u(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),u(!1),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:i}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:2}),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Contact Details")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"},(S.groups.includes("Accounts")||S.groups.includes("Customer Service")||S.groups.includes("Director"))&&a.a.createElement(yt.a,{onClick:function(){return x(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(pr,{align:"center"},"NAME"),a.a.createElement(pr,{align:"center"},"COMPANY NAME"),a.a.createElement(pr,{align:"center"},"DESIGNATION"),a.a.createElement(pr,{align:"center"},"CONTACT"),a.a.createElement(pr,{align:"center"},"ALT. CONTACT"),a.a.createElement(pr,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,h&&h.map(function(e,t){return a.a.createElement(hr,{key:t},a.a.createElement(pr,{align:"center"},e.name),a.a.createElement(pr,{align:"center"},e.company),a.a.createElement(pr,{align:"center"},e.designation),a.a.createElement(pr,{align:"center"},e.contact),a.a.createElement(pr,{align:"center"},e.alternate_contact),a.a.createElement(pr,{align:"center"},(S.groups.includes("Accounts")||S.groups.includes("Customer Service")||S.groups.includes("Director"))&&a.a.createElement(yt.a,{variant:"contained",onClick:function(){return t=e.id,L(t),void g(!0);var t}},"View")))}))))),a.a.createElement(ut,{title:"Create Contact Details",openPopup:w,setOpenPopup:x},a.a.createElement(cr,{getAllCompanyDetailsByID:k,setOpenPopup:x})),a.a.createElement(ut,{title:"Update Contact Details",openPopup:y,setOpenPopup:g},a.a.createElement(sr,{setOpenPopup:g,IDForEdit:j,getAllCompanyDetailsByID:k})))},mr=r(614),vr=r(631),yr=function(e){var t=e.size,r=e.fullWidth,n=e.id,o=e.value,i=e.onChange,c=e.options,l=e.groupBy,u=e.getOptionLabel,s=e.label,f=e.sx,p=e.renderInput,h=e.multiple,d=e.limitTags,m=e.freeSolo,v=e.renderTags;return a.a.createElement(mr.a,Object.assign({size:t||"small",fullWidth:r,id:n,value:o,onChange:i,options:c,groupBy:l,getOptionLabel:u||function(e){return e},renderInput:p||function(e){return a.a.createElement(Lt,Object.assign({},e,{label:s}))},sx:f,multiple:h,limitTags:d,freeSolo:m,renderTags:v||function(e,t){return e.map(function(e,r){return a.a.createElement(vr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})}},h?{ChipComponent:vr.a}:{}))};function gr(){gr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var br=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetailsByID,o=e.contactData,i=Object(n.useState)(!1),f=Object(l.a)(i,2),p=f[0],h=f[1],d=Object(n.useState)([]),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=(b[0],b[1],Object(n.useState)("")),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(s.c)(function(e){return e.auth}),j=function(e){var t=e.target,r=t.name,n=t.value;y(Object(u.a)({},v,Object(Wt.a)({},r,n)))},L=function(){var e=Object(c.a)(gr().mark(function e(n){var a;return gr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),h(!0),a={company:_?_.companyName:"",contact:x.id,address:v.address,pincode:v.pincode,state:v.state,city:v.city},e.next=6,Vt.createWareHouseData(a);case 6:t(!1),h(!1),r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),h(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:p}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return L(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{fullWidth:!0,size:"small",id:"grouped-demo",onChange:function(e,t){return O(t)},options:o.map(function(e){return e}),groupBy:function(e){return e.designation},getOptionLabel:function(e){return"".concat(e.name," ").concat(e.contact)},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Contact"}))}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,onChange:j,size:"small",name:"address",label:"Address",variant:"outlined",value:v.address})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,onChange:j,size:"small",name:"pincode",label:"Pin Code",variant:"outlined",value:v.pincode})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:v.state||"",onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"city",label:"City",variant:"outlined",value:v.city||"",onChange:j}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Er(){Er=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var wr=function(e){var t=e.IDForEdit,r=e.getAllCompanyDetailsByID,o=e.setOpenPopup,i=e.contactData,f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)([]),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(s.c)(function(e){return e.auth}),E=Object(n.useState)([]),w=Object(l.a)(E,2),x=(w[0],w[1],Object(n.useState)("")),O=Object(l.a)(x,2),_=O[0],j=O[1],L=function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},y,Object(Wt.a)({},r,n)))};Object(n.useEffect)(function(){S()},[]);var S=function(){var e=Object(c.a)(Er().mark(function e(){var r;return Er().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,Vt.getWareHouseDataById(t);case 4:r=e.sent,g(r.data),d(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),d(!1),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(Er().mark(function e(n){var a;return Er().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),d(!0),a={company:b?b.companyName:"",contact:_.id?_.id:y.contact,address:y.address,pincode:y.pincode,state:y.state||"",city:y.city||""},e.next=6,Vt.updatetWareHouseData(t,a);case 6:o(!1),d(!1),r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),d(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:h}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return k(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"contact",label:"Contact",variant:"outlined",value:y.contact_name?"".concat(y.contact_name," ").concat(y.contact_number):""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{fullWidth:!0,size:"small",id:"grouped-demo",onChange:function(e,t){return j(t)},options:i.map(function(e){return e}),groupBy:function(e){return e.designation},getOptionLabel:function(e){return"".concat(e.name," ").concat(e.contact)},label:"Update Contact"})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,onChange:L,size:"small",name:"address",label:"Address",variant:"outlined",value:y.address?y.address:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,onChange:L,size:"small",name:"pincode",label:"Pin Code",variant:"outlined",value:y.pincode||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:y.state||"",onChange:L})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"city",label:"City",variant:"outlined",value:y.city||"",onChange:L}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function xr(){xr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Or=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14}),t}),_r=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),jr=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(!1),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(s.c)(function(e){return e.auth}).profile,k=Object(n.useState)(),P=Object(l.a)(k,2),C=P[0],D=P[1];Object(n.useEffect)(function(){t&&N()},[t]);var N=function(){var e=Object(c.a)(xr().mark(function e(){var r,n,a,o;return xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Promise.all([Vt.getCompanyDataByIdWithType(t,"contacts"),Vt.getCompanyDataByIdWithType(t,"warehouse")]);case 4:r=e.sent,n=Object(l.a)(r,2),a=n[0],o=n[1],L(a.data.contacts),x(o.data.warehouse),u(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),u(!1),console.log("company data by id error",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:i}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:2}),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"WareHouse Details")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"},(S.groups.includes("Accounts")||S.groups.includes("Director"))&&a.a.createElement(yt.a,{onClick:function(){return g(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Or,{align:"center"},"CONTACT"),a.a.createElement(Or,{align:"center"},"STATE"),a.a.createElement(Or,{align:"center"},"CITY"),a.a.createElement(Or,{align:"center"},"PIN CODE"),a.a.createElement(Or,{align:"center"},"ACTION"))),a.a.createElement(Mt.a,null,w&&w.map(function(e,t){return a.a.createElement(_r,null,a.a.createElement(Or,{align:"center"},e.contact_number),a.a.createElement(Or,{align:"center"},e.state),a.a.createElement(Or,{align:"center"},e.city),a.a.createElement(Or,{align:"center"},e.pincode),a.a.createElement(Or,{align:"center"},(S.groups.includes("Accounts")||S.groups.includes("Director"))&&a.a.createElement(yt.a,{variant:"contained",onClick:function(){return t=e.id,D(t),void d(!0);var t}},"View")))}))))),a.a.createElement(ut,{title:"Create WareHouse Details",openPopup:y,setOpenPopup:g},a.a.createElement(br,{getAllCompanyDetailsByID:N,setOpenPopup:g,contactData:j})),a.a.createElement(ut,{title:"Update WareHouse Details",openPopup:h,setOpenPopup:d},a.a.createElement(wr,{contactData:j,IDForEdit:C,setOpenPopup:d,getAllCompanyDetailsByID:N})))},Lr=r(617),Sr=r(541),kr=r(608),Pr=r(632),Cr=r(655),Dr=r(618),Nr={getAllLeads:function(e,t,r,n,a,o){var i=new URLSearchParams;return e&&i.append("page",e),t&&i.append("funnel",t),r&&i.append("ordering",r),n&&a&&i.append(n,a),o&&i.append("search",o),Ze.get("api/lead/list-lead/?".concat(i.toString()))},getAllAssignedUser:function(){return Ze.get("/api/user/sales-user")},getAllUnassignedData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("references__source",t),r&&n.append("search",r),Ze.get("api/lead/list-unassigned/?".concat(n.toString()))},getAllDuplicateLeads:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("field",t),r&&n.append("search",r),Ze.get("api/lead/duplicate-leads/?".concat(n.toString()))},createLeads:function(e){return Ze.post("/api/lead/list-lead/",e)},getLeadsById:function(e){return Ze.get("/api/lead/list-lead/".concat(e))},updateLeads:function(e,t){return Ze.patch("/api/lead/list-lead/".concat(e),t)},createFollowUpLeads:function(e){return Ze.post("/api/lead/list-followup/",e)},getFollowUp:function(e,t,r){var n=new URLSearchParams;return e&&n.append("type",e),t&&n.append("page",t),r&&n.append("user__email",r),Ze.get("api/lead/list-followup/?".concat(n.toString()))},createPotentialLead:function(e){return Ze.post("/api/lead/list-potential/",e)},deletePotentialLeadsById:function(e){return Ze.delete("/api/lead/view-potential/".concat(e))},getAllRefernces:function(){return Ze.get("/api/lead/list-references")},createRefernces:function(e){return Ze.post("/api/lead/view-references/",e)},getReferncesById:function(e){return Ze.get("/api/lead/view-references/".concat(e))},updateRefernces:function(e,t){return Ze.patch("/api/lead/view-references/".concat(e),t)},DoneLeadFollowup:function(e,t){return Ze.patch("/api/lead/list-followup/".concat(e),t)},BulkLeadAssign:function(e){return Ze.post("/api/lead/assign-bulk-leads/",e)},AssignMultipleLeads:function(e){return Ze.post("/api/lead/assign-multiple-leads/",e)},getAllFollowUp:function(e,t,r,n,a){var o=new URLSearchParams;return e&&o.append("date_range_after",e),t&&o.append("date_range_before",t),r&&o.append("page",r),n&&o.append("user_email",n),a&&o.append("activity",a),Ze.get("api/lead/list-all-follow-ups/?".concat(o.toString()))},getIndiaMartLeads:function(e){return Ze.get("/api/lead/indiamart-leads-list/?year_month=".concat(e))},createLeadForecast:function(e){return Ze.post("/api/forecast/lead-forecast/",e)},getLeadForecast:function(e){return Ze.get("/api/forecast/lead-forecast/",e)},updateLeadForecast:function(e,t){return Ze.patch("/api/forecast/lead-forecast/".concat(e,"/"),t)}},Tr=r(624),Ar=r(669),Ir=r(304),Fr=r(670),Gr=r(610),Wr=r(671),Br=r(672),Rr=r(673),zr=r(611),Mr=r(30),Ur=r.n(Mr);function Yr(){Yr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var qr=function(e){var t=e.recordForEdit,r=e.setOpenModal,o=e.getFollowUp,i=Object(n.useState)(!1),f=Object(l.a)(i,2),p=f[0],h=f[1],d=Object(n.useState)([]),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(s.c)(function(e){return e.auth}).profile.email,b=Object(n.useState)(!1),E=Object(l.a)(b,2),w=E[0],O=E[1],_=function(){var e=Object(c.a)(Yr().mark(function e(n){var a;return Yr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),h(!0),a={company:t,user:g,activity:v.activity,notes:v.notes,next_followup_date:v.next_followup_date},e.next=6,Vt.createFollowUpCustomer(a);case 6:r(!1),o(),h(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error :>> ",e.t0),h(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=e.target,r=t.name,n=t.value;y(Object(u.a)({},v,Object(Wt.a)({},r,n)));var a=["Not answering/busy/disconnecting","Having stock","Rate issue","Buying a different product from other company","Transportation cost issue","Call me back","Send sample","Require exclusive distributorship/dealership","Require credit"].includes(n);O(a)};return a.a.createElement("div",null,a.a.createElement(Pt,{open:p}),a.a.createElement(vt.a,{component:"form",noValidate:!0,sx:{mt:1},onSubmit:function(e){return _(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Activity"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"activity",label:"Activity",onChange:j,MenuProps:{PaperProps:{style:{maxHeight:"200px"}}}},Vr.map(function(e){return a.a.createElement(x.a,{key:e.id,value:e.value},e.label)})))),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"notes",size:"small",label:"Note",variant:"outlined",value:v.notes,onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"next_followup_date",size:"small",label:"Next Followup Date",variant:"outlined",value:v.next_followup_date||"",onChange:j,InputLabelProps:{shrink:!0},required:w,error:w&&!v.next_followup_date,helperText:w&&!v.next_followup_date?"Next Followup Date is required.":"",inputProps:{min:(new Date).toISOString().split("T")[0]}}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",variant:"contained",disabled:["Not answering/busy/disconnecting","Having stock","Rate issue","Buying a different product from other company","Transportation cost issue","Call me back","Send sample","Require exclusive distributorship/dealership","Require credit"].includes(v.activity)&&!v.next_followup_date},"Submit")))},Vr=[{id:1,value:"Not answering/busy/disconnecting",label:"Not answering/busy/disconnecting"},{id:2,value:"Having stock",label:"Having stock"},{id:3,value:"Rate issue",label:"Rate issue"},{id:4,value:"Buying a different product from other company",label:"Buying a different product from other company"},{id:5,value:"Size or quantity is unavailabe with us",label:"Size or quantity is unavailabe with us"},{id:6,value:"Transportation cost issue",label:"Transportation cost issue"},{id:7,value:"Call me back",label:"Call me back"},{id:8,value:"Send sample",label:"Send sample"},{id:9,value:"Require own branding",label:"Require own branding"},{id:10,value:"Require exclusive distributorship/dealership",label:"Require exclusive distributorship/dealership"},{id:11,value:"Quality issue",label:"Quality issue"},{id:12,value:"Company shut down",label:"Company shut down"},{id:13,value:"Require credit",label:"Require credit"}];function Qr(){Qr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Hr=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)(!1),f=Object(l.a)(s,2),p=(f[0],f[1]),h=Object(n.useState)([]),d=Object(l.a)(h,2),m=d[0],v=d[1];Object(n.useEffect)(function(){y()},[]);var y=function(){var e=Object(c.a)(Qr().mark(function e(){var r,n,a;return Qr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Promise.all([Vt.getCompanyDataByIdWithType(t,"followup"),Vt.getCompanyDataByIdWithType(t,"potential")]);case 4:r=e.sent,n=Object(l.a)(r,2),a=n[0],n[1],v(a.data.followup),p(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),p(!1),console.log("company data by id error",e.t0);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(vt.a,{component:"form",noValidate:!0,sx:{mt:1}},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column",backgroundColor:"#F5F5F5"}},a.a.createElement(vt.a,{display:"flex",justifyContent:"space-around"},a.a.createElement(E.a,{variant:"h5",align:"center"},"View Activity"),a.a.createElement(yt.a,{variant:"contained",color:"success",onClick:function(){return u(!0)}},"Create Activity")),m&&m.length&&a.a.createElement(vt.a,{sx:{display:"flex",flexDirection:"column",height:260,overflow:"auto"}},m.map(function(e){return a.a.createElement("div",{key:e.id},a.a.createElement(Ar.a,{sx:Object(Wt.a)({},"& .".concat(Ir.a.root),{flex:.2})},a.a.createElement(Fr.a,null,a.a.createElement(Gr.a,{sx:{px:2}},a.a.createElement(E.a,{variant:"h6"},Ur()(e.current_date).format("DD/MM/YYYY h:mm"))),a.a.createElement(Wr.a,null,a.a.createElement(Br.a,null),a.a.createElement(Rr.a,null)),a.a.createElement(zr.a,{sx:{width:"50%",color:"#333"}},a.a.createElement(E.a,{variant:"h6",sx:{fontFamily:"Arial",fontWeight:"bold"}},e.activity," - ",e.user," -"," ",e.next_followup_date&&Ur()(e.next_followup_date).format("DD/MM/YYYY")),a.a.createElement(E.a,{variant:"body1",sx:{fontFamily:"Verdana",fontSize:"16px"}},e.notes)))))})))),a.a.createElement(ut,{maxWidth:"xl",title:"Create Follow Up",openPopup:i,setOpenPopup:u},a.a.createElement(qr,{recordForEdit:t,setOpenModal:u,getFollowUp:y})))},Kr={LeadBusinessTypeData:[{value:"trader",label:"Trader"},{value:"distributor",label:"Distributor"},{value:"retailer",label:"Retailer"},{value:"end_user",label:"End User"}],CustomerBusinessTypeData:[{value:"proprietor",label:"Proprietor"},{value:"pvt_ltd",label:"Private Limited"},{value:"partnership",label:"Partnership"},{value:"limited",label:"Limited"}],StateOption:[{id:1,value:"Andhra Pradesh",label:"Andhra Pradesh"},{id:2,value:"Arunachal Pradesh",label:"Arunachal Pradesh"},{id:3,value:"Assam",label:"Assam"},{id:4,value:"Bihar",label:"Bihar"},{id:5,value:"Chhattisgarh",label:"Chhattisgarh"},{id:6,value:"Goa",label:"Goa"},{id:7,value:"Gujarat",label:"Gujarat"},{id:8,value:"Haryana",label:"Haryana"},{id:9,value:"Himachal Pradesh",label:"Himachal Pradesh"},{id:10,value:"Jharkhand",label:"Jharkhand"},{id:11,value:"Karnataka",label:"Karnataka"},{id:12,value:"Kerala",label:"Kerala"},{id:13,value:"Madhya Pradesh",label:"Madhya Pradesh"},{id:14,value:"Maharashtra",label:"Maharashtra"},{id:15,value:"Manipur",label:"Manipur"},{id:16,value:"Meghalaya",label:"Meghalaya"},{id:17,value:"Mizoram",label:"Mizoram"},{id:18,value:"Nagaland",label:"Nagaland"},{id:19,value:"Odisha",label:"Odisha"},{id:20,value:"Punjab",label:"Punjab"},{id:21,value:"Rajasthan",label:"Rajasthan"},{id:22,value:"Sikkim",label:"Sikkim"},{id:23,value:"Tamil Nadu",label:"Tamil Nadu"},{id:24,value:"Telangana",label:"Telangana"},{id:25,value:"Tripura",label:"Tripura"},{id:26,value:"Uttar Pradesh",label:"Uttar Pradesh"},{id:27,value:"Uttarakhand",label:"Uttarakhand"},{id:28,value:"West Bengal",label:"West Bengal"},{id:28,value:"New Delhi",label:"New Delhi"},{id:29,value:"Jammu & Kashmir",label:"Jammu & Kashmir"},{id:30,value:"Ladakh",label:"Ladakh"}],DistributionTypeOption:[{id:1,value:"Wholeseller",label:"Wholeseller"},{id:2,value:"Retailer",label:"Retailer"}],CategoryOption:[{id:1,label:"Hardware",value:"Hardware"},{id:2,label:"Plywood",value:"Plywood"},{id:3,label:"Plumbing",value:"Plumbing"},{id:4,label:"After Auto",value:"After Auto"},{id:5,label:"Stationery",value:"Stationery"},{id:6,label:"Electricals",value:"Electricals"},{id:7,label:"Paints",value:"Paints"},{id:8,label:"Submersible Pumps",value:"Submersible Pumps"},{id:9,label:"Industrial Distributor",value:"Industrial Distributor"},{id:10,label:"Home D\xe9cor",value:"Home D\xe9cor"},{id:11,label:"Pop & False Ceiling",value:"Pop & False Ceiling"},{id:12,label:"Glass Hardware",value:"Glass Hardware"},{id:13,label:"Aluminium Hardware & Section",value:"Aluminium Hardware & Section"},{id:14,label:"Signage",value:"Signage"}],IndustriesList:[{id:1,label:"Automotive",value:"automotive"},{id:2,label:"Construction",value:"construction"},{id:3,label:"Electronic",value:"electronic"},{id:4,label:"Paper",value:"paper"},{id:5,label:"Print",value:"print"},{id:6,label:"Renewable Energies",value:"renewable_energies"},{id:7,label:"Food Industry",value:"food_industry"},{id:8,label:"Laminates",value:"laminates"},{id:9,label:"Bus Body",value:"bus_body"},{id:10,label:"Wireharness",value:"wireharness"},{id:11,label:"Appliance",value:"appliance"},{id:12,label:"Flexible Packaging",value:"flexible_packaging"},{id:13,label:"Leather",value:"leather"},{id:14,label:"Shoes",value:"shoes"},{id:15,label:"Soft Luggage",value:"soft_luggage"},{id:16,label:"Telecom",value:"telecom"},{id:17,label:"Power Cables",value:"power_cables"},{id:18,label:"Signage",value:"signage"},{id:19,label:"LED Lightings",value:"led_lightings"},{id:20,label:"Adhesive Tape",value:"adhesive_tape"},{id:21,label:"OEM (White Label)",value:"oem_white_label"},{id:22,label:"Optical Lens",value:"optical_lens"}],businessMismatchsOption:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],interestOption:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],MainDistribution:[{id:1,label:"3M",value:"3M"},{id:2,label:"Achem - Taiwan",value:"Achem - Taiwan"},{id:3,label:"Aero",value:"Aero"},{id:4,label:"AIPL ABRO",value:"AIPL ABRO"},{id:5,label:"Airot",value:"Airot"},{id:6,label:"Ajit Industries / AIPL / Sunsui",value:"Ajit Industries / AIPL / Sunsui"},{id:7,label:"Amech Wonder",value:"Amech Wonder"},{id:8,label:"Amro Wonder",value:"Amro Wonder"},{id:9,label:"Anchor Electricals",value:"Anchor Electricals"},{id:10,label:"ANNA - Drywall Tape",value:"ANNA - Drywall Tape"},{id:11,label:"Arjun - Spray Paint",value:"Arjun - Spray Paint"},{id:12,label:"ASD - Spray Paint",value:"ASD - Spray Paint"},{id:13,label:"Asian Paints",value:"Asian Paints"},{id:14,label:"Banna - Spray Paints",value:"Banna - Spray Paints"},{id:15,label:"Berger Paints",value:"Berger Paints"},{id:16,label:"Biocon Electricals",value:"Biocon Electricals"},{id:17,label:"Bosny - Spray Paints",value:"Bosny - Spray Paints"},{id:18,label:"Champion - PTFE Tape",value:"Champion - PTFE Tape"},{id:19,label:"Cobb - Spray Paint",value:"Cobb - Spray Paint"},{id:20,label:"Cooper - PTFE Tape",value:"Cooper - PTFE Tape"},{id:21,label:"Cosmos - Spray Paints",value:"Cosmos - Spray Paints"},{id:22,label:"CQL - Spray Paints",value:"CQL - Spray Paints"},{id:23,label:"Craft Dev - Spray Paints",value:"Craft Dev - Spray Paints"},{id:24,label:"Cube - Spray Paints",value:"Cube - Spray Paints"},{id:25,label:"Diamond - PTFE Tape",value:"Diamond - PTFE Tape"},{id:26,label:"Dinmo - Spray Paints",value:"Dinmo - Spray Paints"},{id:27,label:"Dornet - Drywall Tape",value:"Dornet - Drywall Tape"},{id:28,label:"Espark Wonder / Maruti Flex",value:"Espark Wonder / Maruti Flex"},{id:29,label:"Essence Tapes",value:"Essence Tapes"},{id:30,label:"Euro Tapes",value:"Euro Tapes"},{id:31,label:"F1 - Spray Paints",value:"F1 - Spray Paints"},{id:32,label:"G2 - Electricals",value:"G2 - Electricals"},{id:33,label:"GM Electricals",value:"GM Electricals"},{id:34,label:"Gomec Industries / Accent Wonder",value:"Gomec Industries / Accent Wonder"},{id:35,label:"Great White",value:"Great White"},{id:36,label:"Gree / Rajguru Adhesive Tapes",value:"Gree / Rajguru Adhesive Tapes"},{id:37,label:"Gripking Tapes",value:"Gripking Tapes"},{id:38,label:"Gypstar - Drywall Tape",value:"Gypstar - Drywall Tape"},{id:39,label:"Gyptech - Drywall Tape",value:"Gyptech - Drywall Tape"},{id:40,label:"Immortal Tapes",value:"Immortal Tapes"},{id:41,label:"Instabiz / I-Stix",value:"Instabiz / I-Stix"},{id:42,label:"I-tape",value:"I-tape"},{id:43,label:"Kansuee Industries",value:"Kansuee Industries"},{id:44,label:"Keval Industries - Tissue",value:"Keval Industries - Tissue"},{id:45,label:"Kobe - Spray Paint",value:"Kobe - Spray Paint"},{id:46,label:"Kohinoor - PTFE Tape",value:"Kohinoor - PTFE Tape"},{id:47,label:"Kotadia Engineering / SHB",value:"Kotadia Engineering / SHB"},{id:48,label:"k-rock",value:"k-rock"},{id:49,label:"Lohmann Tapes",value:"Lohmann Tapes"},{id:50,label:"Mario Industries",value:"Mario Industries"},{id:51,label:"Mexico Wonder",value:"Mexico Wonder"},{id:52,label:"Mexim Adhesive",value:"Mexim Adhesive"},{id:53,label:"MNM Composites",value:"MNM Composites"},{id:54,label:"Mseal",value:"Mseal"},{id:55,label:"MST - Spray Paint",value:"MST - Spray Paint"},{id:56,label:"Nitto - AFT",value:"Nitto - AFT"},{id:57,label:"Oddy / Atul",value:"Oddy / Atul"},{id:58,label:"One Tape",value:"One Tape"},{id:59,label:"Panamax / THB",value:"Panamax / THB"},{id:60,label:"Pidilite / SteelGrip",value:"Pidilite / SteelGrip"},{id:61,label:"pioneer spray paint",value:"pioneer spray paint"},{id:62,label:"Reva Gold",value:"Reva Gold"},{id:63,label:"Saint Gobain - Gyproc",value:"Saint Gobain - Gyproc"},{id:64,label:"Sampro - Spray Paint",value:"Sampro - Spray Paint"},{id:65,label:"Samraj Polytex - 4S Spray",value:"Samraj Polytex - 4S Spray"},{id:66,label:"Samurai - Spray Paint",value:"Samurai - Spray Paint"},{id:67,label:"Saraswat / AFT",value:"Saraswat / AFT"},{id:68,label:"Selmex Tapes",value:"Selmex Tapes"},{id:69,label:"Signfix / AFT",value:"Signfix / AFT"},{id:70,label:"Specialty Tapes",value:"Specialty Tapes"},{id:71,label:"Sumax",value:"Sumax"},{id:72,label:"Tesa Tapes",value:"Tesa Tapes"},{id:73,label:"Touch Up - Spray Paints",value:"Touch Up - Spray Paints"},{id:74,label:"Twin Tech - Spray Paint",value:"Twin Tech - Spray Paint"},{id:75,label:"UCS - Drywall Tape",value:"UCS - Drywall Tape"},{id:76,label:"USG - Drywall Tape",value:"USG - Drywall Tape"},{id:77,label:"Vardhaman / Tiger Wonder",value:"Vardhaman / Tiger Wonder"},{id:78,label:"Vista -  Spray Paint",value:"Vista -  Spray Paint"},{id:79,label:"VST - Spray Paint",value:"VST - Spray Paint"}],ALLOWED_ROLES:["Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Sales Manager without Leads","Customer Service"],Marital_Status_Options:["Married","UnMarried"],religionsInIndia:["Hinduism","Islam","Christianity","Sikhism","Buddhism","Jainism","Zoroastrianism","Judaism","Bah\xe1'\xed Faith","Animism","Tribal Religions","Sanamahism","Sarnaism","Donyi-Polo","Ravidassia","Ahmadiyya","Shia Islam","Sunni Islam","Roman Catholicism","Protestantism","Orthodox Christianity","Others"],CustomerStatusData:["Active","Closed","Blacklist"]};function Jr(){Jr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Zr=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetails,o=e.recordForEdit,i=Object(n.useState)(!1),f=Object(l.a)(i,2),p=f[0],h=f[1],d=Object(n.useState)([]),m=Object(l.a)(d,2),y=m[0],g=m[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],O=E[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)([]),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(0),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Object(s.b)(),G=Object(s.c)(function(e){return e.auth}).profile,B=function(e){var t=e.target,r=t.name,n=t.value,a="gst_number"===r||"pan_number"===r?n.toUpperCase():n;g(Object(u.a)({},y,Object(Wt.a)({},r,a)))},R=function(e,t){g(Object(u.a)({},y,Object(Wt.a)({},e,t)))};Object(n.useEffect)(function(){z()},[]);var z=function(){var e=Object(c.a)(Jr().mark(function e(t){var r,n,a;return Jr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),r=["Director","Customer Service","Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Sales Manager without Leads"],e.next=5,Nr.getAllAssignedUser();case 5:n=e.sent,a=n.data.filter(function(e){return e.groups.some(function(e){return r.includes(e)})}),O(a),h(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),h(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(c.a)(Jr().mark(function e(){var t,r;return Jr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),t=y.pincode,e.next=5,Je.a.get("https://api.postalpincode.in/pincode/".concat(t));case 5:r=e.sent,g(Object(u.a)({},y,{state:r.data[0].PostOffice[0].State,city:r.data[0].PostOffice[0].District})),h(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0),h(!1);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){U()},[]);var U=function(){var e=Object(c.a)(Jr().mark(function e(){var t;return Jr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Vt.getCompanyDataById(o);case 4:t=e.sent,g(t.data),F(W(t.data.name)),h(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),h(!1),console.log("company data by id error",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),Y=function(e){return/^[0-9]{2}[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}[1-9A-Za-z]{1}Z[0-9A-Za-z]{1}$/.test(e)},q=function(e){return/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/.test(e)},V=function(e){var t=[];if(e.errors)for(var r=function(){var e=a[n],r=(o=Object(l.a)(e,2))[0];o[1].forEach(function(e){t.push("".concat(r,": ").concat(e))})},n=0,a=Object.entries(e.errors);n<a.length;n++){var o;r()}return t},Q=function(){var e=Object(c.a)(Jr().mark(function e(n){var a,i;return Jr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),h(!0),a={name:y.name||null,address:y.address||null,pincode:y.pincode||null,state:y.state||null,city:y.city||null,gst_number:y.gst_number||null,pan_number:y.pan_number||null,business_type:y.business_type||null,assigned_to:y.assigned_to||null,status:y.status||null,type_of_customer:y.type_of_customer||null,website:y.website||null,estd_year:y.estd_year||null,approx_annual_turnover:y.approx_annual_turnover||null,purchase_decision_maker:y.purchase_decision_maker||null,industrial_list:y.industrial_list||null,distribution_type:y.distribution_type||null,category:y.category||[],main_distribution:y.main_distribution||[]},e.next=6,Vt.updateCompanyData(o,a);case 6:t(!1),h(!1),r(),e.next=18;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),i=V(e.t0.response.data),D(i),I(0),S(function(e){return!e});case 18:return e.prev=18,h(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[0,11,18,21]])}));return function(t){return e.apply(this,arguments)}}(),H=Object(n.useCallback)(function(){A<C.length-1?I(function(e){return e+1}):(S(!1),I(0))},[A,C.length]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:p}),a.a.createElement(Lr.a,{open:L,autoHideDuration:6e3,onClose:H,anchorOrigin:{vertical:"top",horizontal:"right"}},a.a.createElement(Sr.a,{onClose:H,severity:"error"},C[A])),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return Q(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Xr,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Company Details"})))),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(tr.a,null,a.a.createElement(kr.a,{id:"demo-row-radio-buttons-group-label"},"Type of Customer"),a.a.createElement(Pr.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:y.type_of_customer||"",onChange:function(e){return R("type_of_customer",e.target.value)}},a.a.createElement(Cr.a,{value:"Industrial Customer",control:a.a.createElement(Dr.a,null),label:"Industrial Customer"}),a.a.createElement(Cr.a,{value:"Distribution Customer",control:a.a.createElement(Dr.a,null),label:"Distribution Customer"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Company Name",variant:"outlined",value:y.name||"",onChange:B})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Business Type"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Business Type",value:y.business_type||"",onChange:function(e,t){return R("business_type",e.target.value)}},Kr.CustomerBusinessTypeData.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{sx:{minWidth:"200px"},name:"pincode",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:y.pincode||"",onChange:B}),a.a.createElement(yt.a,{onClick:function(){return M()},variant:"contained",sx:{marginLeft:"1rem"}},"Validate")),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"State",variant:"outlined",value:y.state||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"City",variant:"outlined",value:y.city||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"gst_number",size:"small",label:"GST No.",variant:"outlined",value:y.gst_number||"",onChange:B,error:y.gst_number&&!Y(y.gst_number),helperText:y.gst_number&&!Y(y.gst_number)&&"Invalid GST Number"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,size:"small",name:"pan_number",label:"Pan No.",variant:"outlined",value:y.pan_number||"",onChange:B,error:y.pan_number&&!q(y.pan_number),helperText:y.pan_number&&!q(y.pan_number)&&"Invalid PAN Number"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{size:"small",value:y.assigned_to||[],onChange:function(e,t){R("assigned_to",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:w.map(function(e){return e.email}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(vr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},label:"Assign To",placeholder:"Assign To"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{size:"small",id:"controllable-states-demo",value:y.status||"",onChange:function(e,t){R("status",t)},options:Kr.CustomerStatusData.map(function(e){return e}),getOptionLabel:function(e){return e},label:"Status"})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:y.address?y.address:"",onChange:B,InputLabelProps:{shrink:!0}}))),(G.groups.includes("Director")||G.groups.includes("Accounts")||G.groups.includes("Sales Manager"))&&a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Hr,{recordForEdit:o}))))},Xr=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})});function $r(){$r=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var en=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetailsByID,o=Object(n.useState)(!1),i=Object(l.a)(o,2),f=i[0],p=i[1],h=Object(n.useState)([]),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(s.c)(function(e){return e.auth}),g=function(e){var t=e.target,r=t.name,n=t.value;v(Object(u.a)({},m,Object(Wt.a)({},r,n)))},b=function(){var e=Object(c.a)($r().mark(function e(n){var a;return $r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),p(!0),a={company:y?y.companyName:"",bank_name:m.bank_name,address:m.address,micr_code:m.micr_code,cheque_no:m.cheque_no},e.next=6,Vt.createSecurityChequeData(a);case 6:t(!1),p(!1),r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),p(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return b(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"bank_name",label:"Bank Name",variant:"outlined",value:m.bank_name,onChange:g})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"cheque_no",size:"small",label:"Cheque No.",variant:"outlined",value:m.cheque_no,onChange:g})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"micr_code",label:"MICR",variant:"outlined",value:m.micr_code,onChange:g})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:m.address,onChange:g}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function tn(){tn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var rn=function(e){var t=e.IDForEdit,r=e.getAllCompanyDetailsByID,o=e.setOpenPopup,i=Object(n.useState)(!1),f=Object(l.a)(i,2),p=f[0],h=f[1],d=Object(n.useState)([]),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(s.c)(function(e){return e.auth}),b=function(e){var t=e.target,r=t.name,n=t.value;y(Object(u.a)({},v,Object(Wt.a)({},r,n)))};Object(n.useEffect)(function(){E()},[]);var E=function(){var e=Object(c.a)(tn().mark(function e(){var r;return tn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Vt.getSecurityChequeDataById(t);case 4:r=e.sent,console.log("response update warehouse",r),y(r.data),h(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),h(!1),console.log("company data by id error",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(c.a)(tn().mark(function e(n){var a;return tn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),h(!0),a={company:g?g.companyName:"",bank_name:v.bank_name,address:v.address,micr_code:v.micr_code,cheque_no:v.cheque_no},e.next=6,Vt.updateSecurityChequeData(t,a);case 6:o(!1),h(!1),r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),h(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:p}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return w(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"bank_name",label:"Bank Name",variant:"outlined",value:v.bank_name||"",onChange:b})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"cheque_no",size:"small",label:"Cheque No.",variant:"outlined",value:v.cheque_no||"",onChange:b})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"micr_code",label:"MICR",variant:"outlined",value:v.micr_code||"",onChange:b})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:v.address||"",onChange:b}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function nn(){nn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var an=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14}),t}),on=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),cn=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],f=Object(n.useState)([]),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(!1),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(s.c)(function(e){return e.auth}).profile;Object(n.useEffect)(function(){t&&k()},[t]);var k=function(){var e=Object(c.a)(nn().mark(function e(){var r;return nn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Vt.getCompanyDataByIdWithType(t,"security_cheque");case 4:r=e.sent,d(r.data.security_cheque),u(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),u(!1),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:i}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:2}),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Security Cheques Details")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"},(S.groups.includes("Accounts")||S.groups.includes("Director"))&&a.a.createElement(yt.a,{onClick:function(){return x(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(an,{align:"center"},"COMPANY"),a.a.createElement(an,{align:"center"},"BANK"),a.a.createElement(an,{align:"center"},"CHEQUE NO."),a.a.createElement(an,{align:"center"},"MICR CODE."),a.a.createElement(an,{align:"center"},"ADDRESS"),a.a.createElement(an,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,h&&h.map(function(e,t){return a.a.createElement(on,null,a.a.createElement(an,{align:"center"},e.company),a.a.createElement(an,{align:"center"},e.bank_name),a.a.createElement(an,{align:"center"},e.cheque_no),a.a.createElement(an,{align:"center"},e.micr_code),a.a.createElement(an,{align:"center"},e.address),a.a.createElement(an,{align:"center"},(S.groups.includes("Accounts")||S.groups.includes("Director"))&&a.a.createElement(yt.a,{variant:"contained",onClick:function(){return t=e.id,L(t),void g(!0);var t}},"View")))}))))),a.a.createElement(ut,{title:"Create Security Cheques Details",openPopup:w,setOpenPopup:x},a.a.createElement(en,{getAllCompanyDetailsByID:k,setOpenPopup:x})),a.a.createElement(ut,{title:"Update Security Cheques Details",openPopup:y,setOpenPopup:g},a.a.createElement(rn,{IDForEdit:j,getAllCompanyDetailsByID:k,setOpenPopup:g})))},ln=r(10),un={getAllColour:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/product/color/?".concat(r.toString()))},createColour:function(e){return Ze.post("/api/product/color/",e)},updateColour:function(e,t){return Ze.patch("/api/product/color/".concat(e),t)},getAllBrand:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/product/brand/?".concat(r.toString()))},createBrand:function(e){return Ze.post("/api/product/brand/",e)},updateBrand:function(e,t){return Ze.patch("/api/product/brand/".concat(e),t)},getAllBasicUnit:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/product/basic-unit/?".concat(r.toString()))},createBasicUnit:function(e){return Ze.post("/api/product/basic-unit/",e)},updateBasicUnit:function(e,t){return Ze.patch("/api/product/basic-unit/".concat(e),t)},getAllUnit:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/product/unit/?".concat(r.toString()))},createUnit:function(e){return Ze.post("/api/product/unit/",e)},updateUnit:function(e,t){return Ze.patch("/api/product/unit/".concat(e),t)},getAllPackingUnit:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/product/packing-unit/?".concat(r.toString()))},createPackingUnit:function(e){return Ze.post("/api/product/packing-unit/",e)},updatePackingUnit:function(e,t){return Ze.patch("/api/product/packing-unit/".concat(e),t)},getAllDescription:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/product/description/?".concat(r.toString()))},getYesDescription:function(){return Ze.get("/api/product/description-yes")},getNoDescription:function(){return Ze.get("/api/product/description-no")},createDescription:function(e){return Ze.post("/api/product/description/",e)},updateDescription:function(e,t){return Ze.patch("/api/product/description/".concat(e),t)},getAllProductCode:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/product/product-code/?".concat(r.toString()))},createProductCode:function(e){return Ze.post("/api/product/product-code/",e)},updateProductCode:function(e,t){return Ze.patch("/api/product/product-code/".concat(e),t)},getAllConsumable:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/product/consumables/?".concat(r.toString()))},createConsumable:function(e){return Ze.post("/api/product/consumables/",e)},updateConsumable:function(e,t){return Ze.patch("/api/product/consumables/".concat(e),t)},getAllFinishGoods:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/product/finished-goods/?".concat(r.toString()))},createFinishGoods:function(e){return Ze.post("/api/product/finished-goods/",e)},updateFinishGoods:function(e,t){return Ze.patch("/api/product/finished-goods/".concat(e),t)},getAllRawMaterials:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/product/raw-materials/?".concat(r.toString()))},createRawMaterials:function(e){return Ze.post("/api/product/raw-materials/",e)},updateRawMaterials:function(e,t){return Ze.patch("/api/product/raw-materials/".concat(e),t)},getAllPriceList:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("validity",t),r&&n.append("search",r),Ze.get("api/product/pricelist/?".concat(n.toString()))},createPriceList:function(e){return Ze.post("/api/product/pricelist/",e)},getAllValidPriceList:function(e){return Ze.get("/api/product/pricelist/?page=".concat(e))},updatePriceList:function(e,t){return Ze.patch("/api/product/pricelist/".concat(e),t)},getAllProduct:function(){return Ze.get("/api/product/product/")}},sn=[{label:"January",value:"01"},{label:"Febuary",value:"02"},{label:"March",value:"03"},{label:"April",value:"04"},{label:"May",value:"05"},{label:"June",value:"06"},{label:"July",value:"07"},{label:"August",value:"08"},{label:"September",value:"09"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}],fn=[{label:"2020",value:2020},{label:"2021",value:2021},{label:"2022",value:2022},{label:"2023",value:2023},{label:"2024",value:2024},{label:"2025",value:2025},{label:"2026",value:2026},{label:"2027",value:2027},{label:"2028",value:2028},{label:"2029",value:2029},{label:"2030",value:2030},{label:"2031",value:2031},{label:"2032",value:2032},{label:"2033",value:2033},{label:"2034",value:2034},{label:"2035",value:2035},{label:"2036",value:2036},{label:"2037",value:2037},{label:"2038",value:2038},{label:"2039",value:2039},{label:"2040",value:2040}];function pn(){pn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var hn=function(e){var t=e.setOpenModal,r=e.getAllCompanyDetailsByID,o=e.IDForEdit,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)([{product_forecast:o,month:0,year:0,forecast:0}]),d=Object(l.a)(h,2),m=d[0],v=d[1],y=function(e){var t=e.target,r=t.name,n=t.value;v(Object(u.a)({},m,Object(Wt.a)({},r,n)))},g=function(){var e=Object(c.a)(pn().mark(function e(n){var a,i;return pn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),p(!0),a={product_forecast:o,month:m.month,year:m.year,forecast:m.forecast},e.next=6,Vt.createProductForecastData(a);case 6:i=e.sent,console.log("response",i),t(!1),r(),p(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("createing company detail error",e.t0),p(!1);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return g(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"product_forecast",size:"small",label:"product_forecast",variant:"outlined",value:o})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3,sx:{marginRight:"2rem"}},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Month"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"month",label:"Month",onChange:function(e){return y(e)}},sn.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:3,sx:{marginRight:"2rem"}},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Year"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"year",label:"Year",onChange:function(e){return y(e)}},fn.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,type:"number",name:"forecast",size:"small",label:"Forecast",variant:"outlined",value:m.forecast,onChange:function(e){return y(e)}}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function dn(){dn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var mn=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetailsByID,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],f=i[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)([]),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(s.c)(function(e){return e.auth}),P=k.profile,C=k.companyName,D=Object(n.useState)(!1),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Object(n.useState)([]),F=Object(l.a)(I,2),G=F[0],W=F[1],B=Object(n.useState)(0),R=Object(l.a)(B,2),z=R[0],M=R[1];Object(n.useEffect)(function(){U()},[]);var U=function(){var e=Object(c.a)(dn().mark(function e(){var t;return dn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,un.getAllValidPriceList("all");case 4:t=e.sent,b(t.data),f(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error potential",e.t0),f(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),Y=function(e){var t=[];if(e.response&&e.response.data)if(e.response.data.errors)for(var r=function(){var e=a[n],r=(o=Object(l.a)(e,2))[0];o[1].forEach(function(e){t.push("".concat(r,": ").concat(e))})},n=0,a=Object.entries(e.response.data.errors);n<a.length;n++){var o;r()}else e.response.data.message&&t.push(e.response.data.message);else t.push(e.message||"An unknown error occurred");return t},q=function(){var e=Object(c.a)(dn().mark(function e(n){var a,o,i;return dn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),f(!0),a={company:C,sales_person:P.email,product:L},e.next=6,Vt.createForecastData(a);case 6:o=e.sent,console.log("response",o),O(o.data.forecast_id),t(!1),r(),f(!1),e.next=21;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("createing company detail error",e.t0),i=Y(e.t0.response.data),W(i),M(0),A(function(e){return!e});case 21:return e.prev=21,f(!1),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[0,14,21,24]])}));return function(t){return e.apply(this,arguments)}}(),V=Object(n.useCallback)(function(){z<G.length-1?M(function(e){return e+1}):(A(!1),M(0))},[z,G.length]);return a.a.createElement("div",null,a.a.createElement(Pt,{open:u}),a.a.createElement(Lr.a,{open:T,autoHideDuration:6e3,onClose:V,anchorOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement(Sr.a,{onClose:V,severity:"error"},G[z])),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return q(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"company",label:"Company",variant:"outlined",value:C})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"cheque_no",size:"small",label:"Sales Person",variant:"outlined",value:P.email})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return S(t)},options:g.map(function(e){return e.product}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")),a.a.createElement(ut,{title:"Update Product Forecast Details",openPopup:d,setOpenPopup:m},a.a.createElement(hn,{IDForEdit:x,getAllCompanyDetailsByID:r,setOpenModal:m,setOpenPopup:t})))};function vn(){vn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var yn=["January","February","March","April","May","June","July","August","September","October","November","December"],gn=function(e){var t=e.getAllCompanyDetailsByID,r=e.setOpenPopup,o=e.forecastDataByID,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)([]),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(null),y=Object(l.a)(v,2),g=y[0],b=y[1];console.log("forecast",g),console.log("forecastDataByID",o),console.log("selectedMonthForecast",d);var E=function(){var e=Object(c.a)(vn().mark(function e(n){var a;return vn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),f(!0),a={product_forecast:d.product_forecast,month:d.month,year:d.year,forecast:g||(d&&d.forecast?d.forecast:"")},e.next=6,Vt.updateProductForecastData(d.id,a);case 6:r(!1),t(),f(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),f(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:s}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return E(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Month"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"month",label:"Month",onChange:function(e){return function(e){m(e.target.value)}(e)}},o.product_forecast.map(function(e,t){return e.index_position>=3&&a.a.createElement(x.a,{key:t,value:e},yn[e.month-1])})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"forecast",size:"small",label:"Forecast",variant:"outlined",value:g||(d&&d.forecast?d.forecast:""),onChange:function(e){return b(e.target.value)}}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function bn(){bn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var En=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14}),t}),wn=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),xn=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)([]),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=new Date,S=L.getMonth(),k=L.getFullYear(),P=(S-2+12)%12,C=(S-1+12)%12,D=(S+1)%12,N=(S+2)%12,T=(S+3)%12,A=["January","February","March","April","May","June","July","August","September","October","November","December"];Object(n.useEffect)(function(){t&&I()},[t]);var I=function(){var e=Object(c.a)(bn().mark(function e(){var r;return bn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Vt.getCompanyDataByIdWithType(t,"forecast");case 4:r=e.sent,h(r.data.forecast),u(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),u(!1),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),F=Object(ln.a)(new Set(p&&p.flatMap(function(e){return e.product_forecast.map(function(e){return e.index_position})})));return F.sort(function(e,t){return e-t}),a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:i}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:2}),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Forecast Details")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"},a.a.createElement(yt.a,{onClick:function(){return w(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(wn,null,a.a.createElement(En,{align:"center"},"SALES PERSON"),a.a.createElement(En,{align:"center"},"PRODUCT"),a.a.createElement(En,{align:"center"}," ".concat(A[P]," - ").concat(P<S?k:k-1),a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(En,{align:"center"}," ".concat(A[C]," - ").concat(C<S?k:k-1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(En,{align:"center"},"".concat(A[S]," - ").concat(k)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(En,{align:"center"}," ".concat(A[D]," - ").concat(D>S?k:k+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(En,{align:"center"}," ".concat(A[N]," - ").concat(N>S?k:k+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(En,{align:"center"}," ".concat(A[T]," - ").concat(T>S?k:k+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(En,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,p&&p.map(function(e){return a.a.createElement(wn,null,a.a.createElement(En,{align:"center"},e.sales_person),a.a.createElement(En,{align:"center"},e.product),F.map(function(t){var r=e.product_forecast.find(function(e){return e.index_position===t});return r?null!==r.actual?a.a.createElement(Ut.a,{key:t,align:"center"},r.actual," - ",r.forecast):a.a.createElement(Ut.a,{key:t,align:"center"},"- ",r.forecast):a.a.createElement(Ut.a,{key:t,align:"center"},"N/A")}),a.a.createElement(En,{align:"center"},a.a.createElement(yt.a,{variant:"contained",onClick:function(){y(!0),j(e)}},"View")))}))))),a.a.createElement(ut,{title:"Create Forecast Details",openPopup:E,setOpenPopup:w},a.a.createElement(mn,{getAllCompanyDetailsByID:I,setOpenPopup:w})),a.a.createElement(ut,{title:"Update Forecast Details",openPopup:v,setOpenPopup:y},a.a.createElement(gn,{getAllCompanyDetailsByID:I,setOpenPopup:y,forecastDataByID:_})))},On=Object(L.a)("div")({display:"flex",flexDirection:"row",flexWrap:"nowrap",overflowX:"auto",gap:"8px",alignItems:"center",backgroundColor:"#f5f5f5",padding:"8px",borderRadius:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)","&::-webkit-scrollbar":{height:"4px"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 5px grey",borderRadius:"10px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#006ba1",borderRadius:"10px","&:hover":{backgroundColor:"#00507d"}}}),_n=function(e){var t=e.tabs,r=e.activeTab,n=e.onTabChange;return a.a.createElement(On,null,t.map(function(e,t){return a.a.createElement(yt.a,{key:t,variant:r===t?"contained":"outlined",onClick:function(){return n(t)},sx:{minWidth:"160px",margin:"0 4px",textTransform:"none",fontWeight:r===t?600:400,fontSize:"12px",color:r===t?"#fff":"#006ba1",backgroundColor:r===t?"#006ba1":"transparent","&:hover":{backgroundColor:r===t?"#00507d":"#e0e0e0"},borderRadius:"4px",padding:"10px 15px"}},e.label)}))},jn=r(136),Ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(n.useState)(e),r=Object(l.a)(t,2),a=r[0],o=r[1],i=Object(n.useState)({open:!1,message:e[0]||"",severity:"info"}),c=Object(l.a)(i,2),s=c[0],f=c[1],p=Object(n.useCallback)(function(e,t){f({open:!0,message:e[0]||"An unexpected error occurred",severity:t}),o(e)},[]);return{alertInfo:s,handleSuccess:Object(n.useCallback)(function(e){p([e],"success")},[p]),handleError:Object(n.useCallback)(function(e){var t=e.response&&e.response.data,r=[];t&&t.detail?r=[t.detail]:t&&t.errors&&(r=Object.entries(t.errors).flatMap(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return Array.isArray(n)?n.map(function(e){return"".concat(r,": ").concat(e)}):"".concat(r,": ").concat(n)})),0===r.length&&(r=["An unexpected error occurred"]),p(r,"error")},[p]),handleCloseSnackbar:Object(n.useCallback)(function(){if(a.length>1){var e=Object(jn.a)(a),t=e[0],r=e.slice(1);o(r),f(function(e){return Object(u.a)({},e,{message:t})})}else f(function(e){return Object(u.a)({},e,{open:!1})})},[a])}},Sn=function(e){var t=e.open,r=e.onClose,n=e.severity,o=e.message;return a.a.createElement(Lr.a,{open:t,autoHideDuration:8e3,onClose:r,anchorOrigin:{vertical:"top",horizontal:"right"}},a.a.createElement(Sr.a,{onClose:r,severity:n,sx:{width:"100%"}},o))};function kn(){kn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Pn=function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=(e.getIncompleteKycCustomerData,e.onDataUpdated),i=Object(n.useState)([]),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)([]),d=Object(l.a)(h,2),m=d[0],y=d[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=(new Date).toISOString().split("T")[0],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)(""),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Object(n.useState)([]),F=Object(l.a)(I,2),G=F[0],W=F[1],B=Object(n.useState)(!1),R=Object(l.a)(B,2),z=R[0],M=R[1],U=Ln(),Y=U.handleSuccess,q=U.handleError,V=U.handleCloseSnackbar,Q=U.alertInfo;Object(n.useEffect)(function(){t&&J()},[t]),Object(n.useEffect)(function(){H()},[]);var H=function(){var e=Object(c.a)(kn().mark(function e(){var t;return kn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,Vt.getAllPaginateCompetitors("all");case 4:t=e.sent,y(t.data);case 6:return e.prev=6,w(!1),e.finish(6);case 9:case"end":return e.stop()}},e,null,[[0,,6,9]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){M(!0),K().then(function(e){W(e),M(!1)}).catch(function(e){console.error("Failed to fetch group companies",e),M(!1)})},[]);var K=function(){var e=Object(c.a)(kn().mark(function e(){var t,r;return kn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vt.getAllGroupCompanies();case 3:return t=e.sent,r=t.data.map(function(e){return{ref_customer:e.name}}),e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),q(e.t0),console.error("Failed to fetch group companies",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(kn().mark(function e(){var r,n,a,o,i,c,u,s,f,h,d,m,v,y,g,b,E,x,O,_,j,S,k,P,D,N;return kn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,Promise.all([Vt.getCompanyDataByIdWithType(t,"contacts"),Vt.getCompanyDataById(t)]);case 4:r=e.sent,n=Object(l.a)(r,2),a=n[0],o=n[1],i=o.data,c=i.website,u=i.estd_year,s=i.approx_annual_turnover,f=i.purchase_decision_maker,h=i.industrial_list,d=i.distribution_type,m=i.customer_serve_count,v=i.category,y=i.main_distribution,g=i.address,b=i.business_type,E=i.city,x=i.name,O=i.gst_number,_=i.pan_number,j=i.pincode,S=i.state,k=i.type_of_customer,P=i.whatsapp_group,L({website:c,estd_year:u,approx_annual_turnover:s,purchase_decision_maker:f,industrial_list:h,distribution_type:d,customer_serve_count:m,category:v,main_distribution:y,address:g,business_type:b,city:E,name:x,gst_number:O,pan_number:_,pincode:j,state:S,type_of_customer:k,whatsapp_group:P}),D=a.data.contacts.map(function(e){return{id:e.id,name:e.name,company:e.company,contact:e.contact,alternate_contact:e.alternate_contact,designation:e.designation,birth_date:e.birth_date,marital_status:e.marital_status,anniversary_date:e.anniversary_date,religion:e.religion}}),p(D),(N=D.find(function(e){return e.name===o.data.purchase_decision_maker}))&&C(N),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),q(e.t0),console.error("Error fetching company details:",e.t0);case 20:return e.prev=20,w(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[1,16,20,23]])}));return function(){return e.apply(this,arguments)}}(),Z=function(e,t){L(function(r){return Object(u.a)({},r,Object(Wt.a)({},e,t))})},X=function(e){var t=e.target,r=t.name,n=t.value;C(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))})},$=function(e,t){if("purchase_decision_maker"===e){L(function(r){return Object(u.a)({},r,Object(Wt.a)({},e,t))});var r=f.find(function(e){return e.name===t});console.log("filterID",r),r&&(console.log("filtered value",r),C(r))}else L(function(r){return Object(u.a)({},r,Object(Wt.a)({},e,t))})},ee=function(e,t){C(function(r){return Object(u.a)({},r,Object(Wt.a)({},e,t))})},te=function(){var e=Object(c.a)(kn().mark(function e(n){var a,i;return kn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,w(!0),a={name:j.name||null,address:j.address||null,pincode:j.pincode||null,state:j.state||null,city:j.city||null,gst_number:j.gst_number||null,pan_number:j.pan_number||null,business_type:j.business_type||null,assigned_to:j.assigned_to||[],type_of_customer:j.type_of_customer||null,website:j.website||null,estd_year:j.estd_year||null,approx_annual_turnover:j.approx_annual_turnover||null,purchase_decision_maker:j.purchase_decision_maker||null,industrial_list:j.industrial_list||null,distribution_type:j.distribution_type||null,customer_serve_count:j.customer_serve_count||null,category:j.category||[],main_distribution:j.main_distribution||[],whatsapp_group:j.whatsapp_group||null,ref_customer:j.ref_customer?j.ref_customer.ref_customer:null},e.next=6,Vt.updateCompanyData(t,a);case 6:re(),Y("Company details updated successfully"),setTimeout(function(){r(!1)},300),o&&o(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),q(e.t0),e.t0.response&&e.t0.response.data&&e.t0.response.data.errors&&((i=e.t0.response.data.errors).non_field_errors?A(i.non_field_errors.join(" ")):A(i.whatsapp_group.join(" ")));case 16:return e.prev=16,w(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[1,12,16,19]])}));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(c.a)(kn().mark(function e(){var t;return kn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),t={name:P.name||null,company:P.company||null,contact:P.contact||null,alternate_contact:P.alternate_contact||null,designation:P.designation||null,birth_date:P.birth_date||null,marital_status:P.marital_status||null,anniversary_date:P.anniversary_date||null,religion:P.religion||null},e.next=5,Vt.updateContactData(P.id,t);case 5:J(),Y("Contact details updated successfully");case 7:return e.prev=7,w(!1),e.finish(7);case 10:case"end":return e.stop()}},e,null,[[0,,7,10]])}));return function(){return e.apply(this,arguments)}}(),ne=function(){A("")};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:Q.open,onClose:V,severity:Q.severity,message:Q.message}),a.a.createElement(Pt,{open:E}),T&&a.a.createElement(vt.a,{color:"error.main"},T),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:te},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"KYC Details"}))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,size:"small",label:"Company",variant:"outlined",value:j.name||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"website",size:"small",label:"Website",variant:"outlined",value:j.website||"",onChange:function(e){return Z("website",e.target.value)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"estd_year",size:"small",label:"Established Year",placeholder:"YYYY",value:j.estd_year||"",onChange:function(e){return Z("estd_year",e.target.value)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{fullWidth:!0,size:"small",options:["1cr to 10cr","10cr to 20cr","20cr to 30cr","30cr to 40cr","40cr to 50cr","50cr to 60cr","60cr to 70cr","70cr to 80cr","80cr to 90cr","90cr to 100cr","Above 100cr"],getOptionLabel:function(e){return e},value:j.approx_annual_turnover||"",onChange:function(e,t){return Z("approx_annual_turnover",t)},label:"Approx Annual Turnover"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{style:{minWidth:220},size:"small",onChange:function(e,t){return $("purchase_decision_maker",t)},value:j.purchase_decision_maker||"",options:f.map(function(e){return e.name}),getOptionLabel:function(e){return e},label:"Purchase Decision Maker"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return ee("religion",t)},value:P.religion||"",options:Kr.religionsInIndia.map(function(e){return e}),getOptionLabel:function(e){return e},label:"Religion"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"birth_date",size:"small",label:"Birth date",variant:"outlined",value:P.birth_date||"",onChange:X,InputLabelProps:{shrink:!0},inputProps:{max:x}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return ee("marital_status",t)},value:P.marital_status||"",options:Kr.Marital_Status_Options.map(function(e){return e}),getOptionLabel:function(e){return e},label:"Marital Status"})),"Married"===P.marital_status&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"anniversary_date",size:"small",label:"Anniversary Date",variant:"outlined",value:P.anniversary_date||"",onChange:X,InputLabelProps:{shrink:!0},inputProps:{max:x}})),"Industrial Customer"===j.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return $("industrial_list",t)},value:j.industrial_list||"",options:Kr.IndustriesList.map(function(e){return e.label}),getOptionLabel:function(e){return e},label:"Industrial List"})),"Distribution Customer"===j.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return $("distribution_type",t)},value:j.distribution_type||"",options:Kr.DistributionTypeOption.map(function(e){return e.label}),getOptionLabel:function(e){return e},label:"Distribution Type"})),"Wholeseller"===j.distribution_type&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,type:"number",name:"customer_serve_count",size:"small",label:"Customer Serve Count",variant:"outlined",value:j.customer_serve_count||"",onChange:function(e){return Z("customer_serve_count",e.target.value)}})),"Distribution Customer"===j.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{size:"small",value:j.category||[],onChange:function(e,t){$("category",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:Kr.CategoryOption.map(function(e){return e.label}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(vr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},label:"Category",placeholder:"Category"})),"Distribution Customer"===j.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",value:j.main_distribution||[],onChange:function(e,t){$("main_distribution",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:m.map(function(e){return e.name}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(vr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},label:"Main Distribution",placeholder:"Main Distribution"})),"Distribution Customer"===j.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"whatsapp_group",size:"small",label:"Whatsapp Group",value:j.whatsapp_group||"",onChange:function(e){Z("whatsapp_group",e.target.value),ne()},error:!!T,helperText:T})),"Distribution Customer"===j.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{fullWidth:!0,name:"ref_customer",size:"small",label:"Group Company",options:G,value:j.ref_customer||"",onChange:function(e,t){Z("ref_customer",t||""),ne()},error:!!T,helperText:T,loading:z,getOptionLabel:function(e){return e?e.ref_customer:""}}))),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit"))))},Cn=function(e){var t=e.headers,r=e.data,n=e.PriorityColor,o=e.openInPopup,i=e.openDeletePopup,c=e.openInPopup7,l=e.hideViewForStatus,s=void 0===l?[]:l,f=e.ButtonText,p=e.ButtonText1,h=e.ButtonText2,d=e.openInPopup2,m=e.openInPopup3,v=e.openInPopup4,y=e.isLastRow,g=e.Styles,b=e.handleClickLRCOPY;return a.a.createElement("div",{style:{maxHeight:400,overflowY:"scroll","&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement("div",{style:{display:"table",minWidth:700,backgroundColor:"#f5f5f5",width:"100%"}},a.a.createElement("div",{style:{display:"table-header-group",position:"sticky",top:0,zIndex:1,backgroundColor:"#444444"}},a.a.createElement("div",{style:{display:"table-row"}},t.map(function(e,t){return a.a.createElement("div",{style:{display:"table-cell",textAlign:"center",padding:"6px",color:"white",borderBottom:"1px solid rgba(224, 224, 224, 1)",fontSize:"16px"},key:t},e)}))),a.a.createElement("div",{style:{display:"table-row-group",color:"#000000"}},r.map(function(e,t){return a.a.createElement("div",{style:{display:"table-row",backgroundColor:n&&n[t].priority?n[t].priority:t%2===0?"#ffffff":"#f2f2f2",borderBottom:"1px solid rgba(224, 224, 224, 1)",position:y?"sticky":"static",bottom:y?0:"auto",zIndex:y?0:"auto"},key:t},Object.values(e).map(function(e,t){return a.a.createElement("div",{style:Object(u.a)({},g,{display:"table-cell",textAlign:"center",borderBottom:"1px solid rgba(224, 224, 224, 1)",fontSize:"14px"}),key:t},"boolean"===typeof e?a.a.createElement("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"40px",height:"20px",borderRadius:"10px",background:e?"#1976d2":"#ccc",position:"relative"}},a.a.createElement("div",{style:{width:"18px",height:"18px",borderRadius:"50%",background:"#fff",position:"absolute",left:e?"calc(100% - 18px)":"2px",transition:"left 0.3s ease-in-out",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.24)"}})):Array.isArray(e)?e.map(function(e,t){return a.a.createElement("div",{key:t,style:{border:"1px solid #4caf50",borderRadius:"20px",color:"#4caf50"}},e)}):"object"===typeof e&&null!==e?a.a.createElement(yt.a,{color:"success",variant:"outlined",onClick:function(){return b(e)}},"Download"):a.a.createElement("span",null,e))}),a.a.createElement("div",{style:{display:"table-cell",textAlign:"center",borderBottom:"1px solid rgba(224, 224, 224, 1)",zIndex:0}},o&&!s.includes(e.status)&&a.a.createElement("div",{style:{display:"inline-block",color:"#1976d2",cursor:"pointer",marginRight:"8px"},onClick:function(){return o(e)}},"View"),i&&!s.includes(e.status)&&a.a.createElement("div",{style:{display:"inline-block",color:"#1976d2",cursor:"pointer",marginRight:"8px"},onClick:function(){return i(e)}},"Delete"),c&&!s.includes(e.status)&&a.a.createElement("div",{style:{display:"inline-block",color:"#1976d2",cursor:"pointer",marginRight:"8px"},onClick:function(){return c(e)}},"Add Applicant"),d&&a.a.createElement("div",{style:{display:"inline-block",color:"#28a745",cursor:"pointer",marginRight:"8px"},onClick:function(){return d(e)}},f),m&&("Job Worker"===e.vendor_source||"Vendor/Job Worker"===e.vendor_source)&&a.a.createElement("div",{style:{display:"inline-block",color:"#5e35b1",cursor:"pointer",marginRight:"8px"},onClick:function(){return m(e)}},p),v&&a.a.createElement("div",{style:{display:"inline-block",color:"#eb5042",cursor:"pointer"},onClick:function(){return v(e)}},h)))}))))};function Dn(){Dn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Nn=function(e){var t=e.recordForEdit,r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)(!1),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(0),O=Object(l.a)(x,2),_=O[0],j=O[1],L=function(e){var t=[];if(e.errors)for(var r=function(){var e=a[n],r=(o=Object(l.a)(e,2))[0];o[1].forEach(function(e){t.push("".concat(r,": ").concat(e))})},n=0,a=Object.entries(e.errors);n<a.length;n++){var o;r()}return t};Object(n.useEffect)(function(){S()},[]);var S=function(){var e=Object(c.a)(Dn().mark(function e(){var r,n;return Dn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Vt.getCompanyDataByIdWithType(t,"last_price");case 4:r=e.sent,u(r.data.last_price),h(!1),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("getting Last Price api error",e.t0),n=L(e.t0.response.data),w(n),j(0),y(function(e){return!e});case 16:return e.prev=16,h(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,9,16,19]])}));return function(){return e.apply(this,arguments)}}(),k=Object(n.useCallback)(function(){_<E.length-1?j(function(e){return e+1}):(y(!1),j(0))},[_,E.length]),P=i.map(function(e){return{pi:e.proformainvoice,status:e.status,date:e.date,description:e.description,product:e.product,price:e.rate,quantity:e.quantity}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:p}),a.a.createElement(Lr.a,{open:v,onClose:k,anchorOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement(Sr.a,{onClose:k,severity:"error"},E[_])),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Last Price")),a.a.createElement(Cn,{headers:["PI","Status","Date","Description","Product","Price","Quantity"],data:P,openInPopup:null}))))};function Tn(){Tn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var An=function(e){var t=e.recordForEdit,r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)({drop_pi:0,total_sales:0}),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)("".concat((new Date).getFullYear(),"-").concat(((new Date).getMonth()+1).toString().padStart(2,"0"))),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(0),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(!1),D=Object(l.a)(C,2),N=D[0],T=D[1];console.log("filterDate",E),Object(n.useEffect)(function(){A()},[E]);var A=function(){var e=Object(c.a)(Tn().mark(function e(){var r;return Tn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,Vt.getSalesHistoryDataByIdWithType(t,"sales_history",E);case 4:r=e.sent,u(r.data.sales_history),h({drop_pi:r.data.drop_pi,total_sales:r.data.total_sales}),y(!1),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching sales history:",e.t0),j(["Error fetching data. Please try again."]),T(!0),y(!1);case 16:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),I=Object(n.useCallback)(function(){k<_.length-1?P(k+1):(T(!1),P(0))},[k,_.length]),F=i&&i.map(function(e){return{date:e.date,sales_invoice:e.sales_invoice,description:e.description,product:e.product,quantity:e.quantity,unit:e.unit,rate:e.rate,amount:e.amount,total_gst:e.gst,total_amount:e.total}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:v}),a.a.createElement(Lr.a,{open:N,onClose:I,anchorOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement(Sr.a,{onClose:I,severity:"error"},_[k])),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:"1em"},a.a.createElement(Lt,{size:"small",type:"month",label:"Filter by Month and Year",value:E,onChange:function(e){return w(e.target.value)},sx:{width:200,mr:2}}),a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Sales History"),a.a.createElement(vt.a,null,a.a.createElement("h5",{style:{textAlign:"left",marginBottom:"1em",fontSize:"16px",color:"rgb(34, 34, 34)",fontWeight:800}},"No of PI Dropped: ",p.drop_pi),a.a.createElement("h5",{style:{textAlign:"left",marginBottom:"1em",fontSize:"16px",color:"rgb(34, 34, 34)",fontWeight:800}},"Total Sales for the Month: ",p.total_sales))),F&&a.a.createElement(Cn,{headers:["Date","Sales Invoice","Description","Product","Quantity","Unit","Rate","Amount","Total GST","Total Amount"],data:F,openInPopup:null}))))};function In(){In=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Fn=function(e){var t=e.recordForEdit,r=e.getCompanyDetailsByID,o=e.setOpenModal,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)({}),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)([]),g=Object(l.a)(y,2),b=g[0],E=g[1];console.log("potential",m),Object(n.useEffect)(function(){(function(){var e=Object(c.a)(In().mark(function e(){var t;return In().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,un.getAllProduct();case 4:t=e.sent,E(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("error potential",e.t0);case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}})()()},[]);var w=function(){var e=Object(c.a)(In().mark(function e(n){var a;return In().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,p(!0),a=Object(u.a)({company:t},m),e.next=6,Vt.createPotentialCustomer(a);case 6:return o(!1),e.next=9,r();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("error:",e.t0);case 14:return e.prev=14,p(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:w},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{sx:{minWidth:180},size:"small",onChange:function(e,t){v(Object(u.a)({},m,{product:t}))},value:m.product,options:b.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e||"No Options")},label:"Product"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"current_buying_quantity",size:"small",label:"Current Buying Quantity Monthly",variant:"outlined",value:m.current_buying_quantity||"",onChange:function(e){var t=e.target,r=t.name,n=t.value;v(Object(u.a)({},m,Object(Wt.a)({},r,n)))}}))),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yt.a,{sx:{marginTop:"20px"},fullWidth:!0,type:"submit",variant:"contained"},"Submit")))))};function Gn(){Gn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Wn=function(e){var t=e.idForEdit,r=e.getCompanyDetailsByID,o=e.setOpenModal,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)(t),d=Object(l.a)(h,2),m=d[0],v=d[1],y=function(e){var t=e.target,r=t.name,n=t.value;v(Object(u.a)({},m,Object(Wt.a)({},r,n)))};console.log("potential",m);var g=function(){var e=Object(c.a)(Gn().mark(function e(t){var n;return Gn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,p(!0),n={company:m.company,product:m.product,current_buying_quantity:m.current_buying_quantity,remark:m.remark},e.next=6,Vt.updatePotentialCustomer(m.id,n);case 6:return o(!1),e.next=9,r();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("error:",e.t0);case 14:return e.prev=14,p(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:g},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,name:"product",size:"small",label:"Product",variant:"outlined",value:m.product||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"current_buying_quantity",size:"small",label:"Current Buying Quantity Monthly",variant:"outlined",value:m.current_buying_quantity||"",onChange:y})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"remark",size:"small",label:"Remark",variant:"outlined",value:m.remark||"",onChange:y}))),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yt.a,{sx:{marginTop:"20px"},fullWidth:!0,type:"submit",variant:"contained"},"Submit")))))};function Bn(){Bn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Rn=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)([]),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(null),O=Object(l.a)(x,2),_=O[0],j=O[1],L=function(e){if(!e)return"";var t=e.split("-"),r=Object(l.a)(t,3),n=r[0],a=r[1],o=r[2],i="".concat(a,"/").concat(n,"/").concat(o);return new Date(i).toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"})};Object(n.useEffect)(function(){S()},[t]);var S=function(){var e=Object(c.a)(Bn().mark(function e(){var r;return Bn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Vt.getCompanyDataByIdWithType(t,"potential");case 4:r=e.sent,h(r.data.potential),u(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),u(!1),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),k=p&&p.map(function(e){return{id:e.id,created_date:L(e.created_date||""),created_by:e.created_by,description:e.description,product:e.product,current_buying_quantity:e.current_buying_quantity,updated_date:L(e.updated_date||""),updated_by:e.updated_by,remark:e.is_remark}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:i}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:"1em"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Customer Potential"),a.a.createElement(vt.a,null,a.a.createElement(yt.a,{variant:"contained",onClick:function(){return y(!0)},sx:{marginLeft:"10px",marginRight:"10px"},size:"small"},"Add"))),k&&a.a.createElement(Cn,{headers:["ID","Created Date","created By","Description","Product","Current Buying Quantity(Monthly)","Update Date","Updated By","Remark","Action"],data:k,openInPopup:function(e){var t=p.find(function(t){return t.id===e.id});j(t),w(!0)}}))),a.a.createElement(ut,{maxWidth:"xl",title:"Create Potential",openPopup:v,setOpenPopup:y},a.a.createElement(Fn,{getCompanyDetailsByID:S,recordForEdit:t,setOpenModal:y})),a.a.createElement(ut,{maxWidth:"xl",title:"Update Potential",openPopup:E,setOpenPopup:w},a.a.createElement(Wn,{getCompanyDetailsByID:S,idForEdit:_,setOpenModal:w})))},zn=function(e){var t=e.setOpenPopup,r=e.getAllCompanyDetails,o=e.recordForEdit,i=(e.product,Object(n.useState)(0)),c=Object(l.a)(i,2),u=c[0],s=c[1];return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(_n,{tabs:[{label:"Company"},{label:"Bank"},{label:"Contact"},{label:"WareHouse"},{label:"Security Cheques"},{label:"Forecast"},{label:"KYC"},{label:"Last Price"},{label:"Sales History"},{label:"Potential"}],activeTab:u,onTabChange:function(e){s(e)}}),a.a.createElement("div",{style:{marginTop:"10px"}},0===u&&a.a.createElement("div",null,a.a.createElement(Zr,{setOpenPopup:t,getAllCompanyDetails:r,recordForEdit:o})),1===u&&a.a.createElement("div",null,a.a.createElement(er,{recordForEdit:o})),2===u&&a.a.createElement("div",null,a.a.createElement(dr,{recordForEdit:o})),3===u&&a.a.createElement("div",null,a.a.createElement(jr,{recordForEdit:o})),4===u&&a.a.createElement("div",null,a.a.createElement(cn,{recordForEdit:o})),5===u&&a.a.createElement("div",null,a.a.createElement(xn,{recordForEdit:o})),6===u&&a.a.createElement("div",null,a.a.createElement(Pn,{recordForEdit:o,setOpenPopup:t,getIncompleteKycCustomerData:r})),7===u&&a.a.createElement("div",null,a.a.createElement(Nn,{recordForEdit:o})),8===u&&a.a.createElement("div",null,a.a.createElement(An,{recordForEdit:o})),9===u&&a.a.createElement("div",null,a.a.createElement(Rn,{recordForEdit:o})))))};function Mn(){Mn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Un=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)([]),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)([]),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(0),S=Object(l.a)(L,2),k=S[0],P=S[1];Object(n.useEffect)(function(){t&&C()},[t]);var C=function(){var e=Object(c.a)(Mn().mark(function e(){var r;return Mn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Vt.getCompanyDataById(t);case 4:r=e.sent,h(r.data.bank),y(r.data.contacts),w(r.data.warehouse),j(r.data.security_cheque),u(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),u(!1),console.log("company data by id error",e.t0);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:i}),a.a.createElement("div",null,a.a.createElement(_n,{tabs:[{label:"Bank"},{label:"Contact"},{label:"WareHouse"},{label:"Security Cheques"}],activeTab:k,onTabChange:function(e){P(e)}}),a.a.createElement("div",{style:{marginTop:"10px"}},0===k&&a.a.createElement("div",null,a.a.createElement(er,{bankData:p,open:i,getAllCompanyDetailsByID:C,recordForEdit:t})),1===k&&a.a.createElement("div",null,a.a.createElement(dr,{contactData:v,open:i,getAllCompanyDetailsByID:C,recordForEdit:t})),2===k&&a.a.createElement("div",null,a.a.createElement(jr,{contactData:v,wareHousedata:E,open:i,getAllCompanyDetailsByID:C,recordForEdit:t})),3===k&&a.a.createElement("div",null,a.a.createElement(cn,{securityChequedata:_,open:i,getAllCompanyDetailsByID:C,recordForEdit:t})))))};function Yn(){Yn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var qn=function(e){var t=e.getAllCompanyDetails,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],f=o[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],y=Object(n.useState)([]),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(""),O=Object(l.a)(w,2),_=O[0],j=O[1],L=Object(n.useState)([]),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(s.b)(),D=function(e){var t=e.target,r=t.name,n=t.value,a="gst_number"===r||"pan_number"===r?n.toUpperCase():n;E(Object(u.a)({},b,Object(Wt.a)({},r,a)))},N=function(e,t){E(Object(u.a)({},b,Object(Wt.a)({},e,t)))},T=function(){var e=Object(c.a)(Yn().mark(function e(){var t,r;return Yn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),t=b.pin_code,e.next=5,Je.a.get("https://api.postalpincode.in/pincode/".concat(t));case 5:r=e.sent,E(Object(u.a)({},b,{state:r.data[0].PostOffice[0].State,city:r.data[0].PostOffice[0].District})),m(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0),m(!1);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){A()},[]);var A=function(){var e=Object(c.a)(Yn().mark(function e(t){var r;return Yn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Nr.getAllAssignedUser();case 4:r=e.sent,P(r.data),m(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error",e.t0),m(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),I=function(e){return/^[0-9]{2}[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}[1-9A-Za-z]{1}Z[0-9A-Za-z]{1}$/.test(e)},F=function(e){return/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/.test(e)},G=function(){var e=Object(c.a)(Yn().mark(function e(t){var r,n;return Yn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),m(!0),r={name:b.name,address:b.address,pincode:b.pin_code,state:b.state,city:b.city,gst_number:b.gst_number||null,pan_number:b.pan_number,business_type:b.business_type,assigned_to:b.assigned_to||[],type_of_customer:b.type_of_customer,website:b.website,estd_year:b.estd_year,approx_annual_turnover:b.approx_annual_turnover,purchase_decision_maker:b.purchase_decision_maker||null,industrial_list:b.industrial_list||null,distribution_type:b.distribution_type||null,category:b.category||[],main_distribution:b.main_distribution||[]},e.next=6,Vt.createCompanyData(r);case 6:n=e.sent,j(n.data.company_id),B(n.data.company_id),m(!1),f(!0),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("createing company detail error",e.t0),m(!1);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(Yn().mark(function e(t){var r;return Yn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Vt.getCompanyDataById(t);case 4:r=e.sent,C(W(r.data.name)),m(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),m(!1),console.log("company data by id error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:d}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return G(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Vn,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Company Details"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Company Name",variant:"outlined",value:b.name,onChange:D})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Busniess Type"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Busniess Type",onChange:function(e,t){return N("business_type",e.target.value)}},Kr.CustomerBusinessTypeData.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{sx:{minWidth:"200px"},name:"pin_code",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:b.pin_code,onChange:D}),a.a.createElement(yt.a,{onClick:function(){return T()},variant:"contained",sx:{marginLeft:"1rem"}},"Validate")),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"State",variant:"outlined",value:b.state||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"City",variant:"outlined",value:b.city||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"gst_number",label:"GST No.",variant:"outlined",value:b.gst_number,onChange:D,error:b.gst_number&&!I(b.gst_number),helperText:b.gst_number&&!I(b.gst_number)&&"Invalid GST Number"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,size:"small",name:"pan_number",label:"Pan No.",variant:"outlined",value:b.pan_number,onChange:D,error:b.pan_number&&!F(b.pan_number),helperText:b.pan_number&&!F(b.pan_number)&&"Invalid PAN Number"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{size:"small",value:b.assigned_to||[],onChange:function(e,t){N("assigned_to",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:k.map(function(e){return e.email}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(vr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},label:"Assign To",placeholder:"Assign To"})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:b.address,onChange:D})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Vn,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"KYC Details"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(tr.a,null,a.a.createElement(kr.a,{id:"demo-row-radio-buttons-group-label"},"Type of Customer"),a.a.createElement(Pr.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:b.type_of_customer||"",onChange:function(e){return N("type_of_customer",e.target.value)}},a.a.createElement(Cr.a,{value:"Industrial Customer",control:a.a.createElement(Dr.a,null),label:"Industrial Customer"}),a.a.createElement(Cr.a,{value:"Distribution Customer",control:a.a.createElement(Dr.a,null),label:"Distribution Customer"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"website",size:"small",label:"Website",variant:"outlined",value:b.website,onChange:D})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"estd_year",size:"small",label:"Established Year",placeholder:"YYYY",value:b.estd_year||"",onChange:D})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"approx_annual_turnover",size:"small",label:"Approx Annual Turnover",variant:"outlined",value:b.approx_annual_turnover,onChange:D})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"purchase_decision_maker",size:"small",label:"Purchase Decision Maker",variant:"outlined",value:b.name||"",onChange:D})),"Industrial Customer"===b.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){N("industrial_list",t)},value:b.industrial_list||"",options:Kr.IndustriesList.map(function(e){return e.label}),label:"Industrial List"})),"Distribution Customer"===b.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){N("distribution_type",t)},value:b.distribution_type||"",options:Kr.DistributionTypeOption.map(function(e){return e.label}),label:"Distribution Type"})),"Distribution Customer"===b.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",value:b.category||[],onChange:function(e,t){N("category",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:Kr.CategoryOption.map(function(e){return e.label}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(vr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},label:"Category",placeholder:"Category"})),"Distribution Customer"===b.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",value:b.main_distribution||[],onChange:function(e,t){N("main_distribution",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:Kr.MainDistribution.map(function(e){return e.label}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(vr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},label:"Main Distribution",placeholder:"Main Distribution"}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")),a.a.createElement(ut,{maxWidth:"lg",title:"Create Customer",openPopup:i,setOpenPopup:f},a.a.createElement(Un,{setOpenPopup:f,getAllCompanyDetails:t,recordForEdit:_})))},Vn=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),Qn=function(e){var t=e.type,r=e.fullWidth,n=e.variant,o=e.text,i=e.others,c=e.sx,l=e.startIcon;return a.a.createElement(yt.a,Object.assign({startIcon:l,type:t,fullWidth:r,variant:n,sx:Object(u.a)({},c,{backgroundColor:"#006ba1"})},i),o)};function Hn(){Hn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Kn=function(e){var t=e.setOpenPopup,r=e.setOpenSnackbar,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],s=i[1],f=Object(n.useState)(""),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(""),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(!1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(!1),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)([]),N=Object(l.a)(D,2),T=N[0],A=N[1];Object(n.useEffect)(function(){I()},[]);var I=function(){var e=Object(c.a)(Hn().mark(function e(t){var r;return Hn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,Nr.getAllAssignedUser();case 4:r=e.sent,x(r.data),s(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error",e.t0),s(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(c.a)(Hn().mark(function e(n){var a;return Hn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),n.preventDefault(),a={assign_from:h,assign_to:y,states:T.map(function(e){return e.value})},e.next=6,Vt.BulkCustomerAssign(a);case 6:t(!1),s(!1),r(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),s(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),G=function(e,t,r){return!e&&r?"Field cannot be empty":e===t?"Assign From will not be the same as Assign To":""};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:u}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:F},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(mr.a,{multiple:!0,fullWidth:!0,size:"small",value:T,onChange:function(e,t){A(t)},options:[{value:"Andhra Pradesh"},{value:"Arunachal Pradesh"},{value:"Assam"},{value:"Bihar"},{value:"Chhattisgarh"},{value:"Goa"},{value:"Gujarat"},{value:"Haryana"},{value:"Himachal Pradesh"},{value:"Jharkhand"},{value:"Karnataka"},{value:"Kerala"},{value:"Madhya Pradesh"},{value:"Maharashtra"},{value:"Manipur"},{value:"Meghalaya"},{value:"Mizoram"},{value:"Nagaland"},{value:"Odisha"},{value:"Punjab"},{value:"Rajasthan"},{value:"Sikkim"},{value:"Tamil Nadu"},{value:"Telangana"},{value:"Tripura"},{value:"Uttar Pradesh"},{value:"Uttarakhand"},{value:"West Bengal"},{value:"Delhi"},{value:"Jammu & Kashmir"},{value:"Ladakh"}],getOptionLabel:function(e){return e.value},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Select State(s)"}))}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{fullWidth:!0,size:"small",id:"grouped-demo",value:h,onChange:function(e,t){d(t),j||L(!0)},options:w.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Assign From",renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Assign From",error:j&&(h===y||!h),helperText:G(h,y,j),onBlur:function(){return L(!0)}}))}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{fullWidth:!0,size:"small",id:"grouped-demo",value:y,onChange:function(e,t){g(t),P||C(!0)},options:w.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Assign To",renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Assign To",error:P&&(h===y||!y),helperText:G(y,h,P),onBlur:function(){return C(!0)}}))}}))),a.a.createElement(Qn,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},text:"Assign"})))},Jn=r(615),Zn=function(e){var t=e.totalPages,r=e.currentPage,n=e.handlePageChange;return a.a.createElement(vt.a,{sx:{display:"flex",justifyContent:"center",marginTop:"2em"}},a.a.createElement(Jn.a,{count:t,page:r,onChange:n,color:"primary",variant:"outlined",shape:"rounded"}))},Xn=r(621),$n=r(647),ea={getAllSellerAccountData:function(){return Ze.get("/api/invoice/list-seller-account")},getfilterSellerAccountData:function(e){return Ze.get("/api/invoice/list-seller-account/?state=".concat(e))},getAllPaginateSellerAccountData:function(e){return Ze.get("/api/invoice/list-seller-account/?page=".concat(e))},getAllSearchSellerAccountData:function(e){return Ze.get("/api/invoice/list-seller-account/?search=".concat(e))},getAllSellerAccountDataPaginate:function(e,t){return Ze.get("/api/ invoice/list-seller-account/?page=".concat(e,"&search=").concat(t))},createSellerAccountData:function(e){return Ze.post("/api/invoice/list-seller-account/",e)},updateOrderBookData:function(e,t){return Ze.patch("/api/invoice/list-order-book/".concat(e),t)},getOrderBookDataByID:function(e){return Ze.get("/api/invoice/list-order-book/".concat(e))},getSellerAccountDataById:function(e){return Ze.get("/api/invoice/list-seller-account/".concat(e))},updateSellerAccountData:function(e,t){return Ze.patch("/api/invoice/list-seller-account/".concat(e),t)},getPIDataWithDateRange:function(e,t){return Ze.get("/api/invoice/list-proforma-invoice/?pi=all&date_range_after=".concat(e,"&date_range_before=").concat(t))},getPISearchWithDateRange:function(e,t,r,n,a,o){return Ze.get("/api/invoice/list-proforma-invoice/?pi=all&date_range_after=".concat(e,"&date_range_before=").concat(t,"&").concat(r,"=").concat(n,"&").concat(a,"=").concat(o))},getPIPaginationWithDateRange:function(e,t,r){return Ze.get("/api/invoice/list-proforma-invoice/?page=".concat(e,"&pi=all&date_range_after=").concat(t,"&date_range_before=").concat(r))},getPIPaginationWithFilterByWithDateRange:function(e,t,r,n,a,o,i){return Ze.get("/api/invoice/list-proforma-invoice/?page=".concat(e,"&pi=all&date_range_after=").concat(t,"&date_range_before=").concat(r,"&").concat(n,"=").concat(a,"&").concat(o,"=").concat(i))},getAllPIData:function(e,t,r,n,a){var o=new URLSearchParams;return e&&o.append("pi",e),t&&o.append("page",t),r&&n&&o.append(r,n),a&&o.append("search",a),Ze.get("api/invoice/list-proforma-invoice/?".concat(o.toString()))},getCompanyPerformaInvoiceByIDData:function(e){return Ze.get("/api/invoice/list-company-pi/".concat(e))},getLeadsPerformaInvoiceByIDData:function(e){return Ze.get("/api/invoice/list-lead-pi/".concat(e))},sendForApprovalCompanyData:function(e,t){return Ze.patch("/api/invoice/list-company-pi/".concat(e),t)},sendForApprovalLeadsData:function(e,t){return Ze.patch("/api/invoice/list-lead-pi/".concat(e),t)},sendForApprovalData:function(e){return Ze.post("/api/invoice/list-approval/",e)},createLeadsProformaInvoiceData:function(e){return Ze.post("/api/invoice/list-lead-pi/",e)},getLeadsProformaInvoiceDataByID:function(e){return Ze.get("/api/invoice/list-lead-pi/".concat(e))},updateLeadsProformaInvoiceData:function(e,t){return Ze.patch("/api/invoice/list-lead-pi/".concat(e),t)},createCustomerProformaInvoiceData:function(e){return Ze.post("/api/invoice/list-company-pi/",e)},getCustomerProformaInvoiceDataByID:function(e){return Ze.get("/api/invoice/list-company-pi/".concat(e))},updateCustomerProformaInvoiceData:function(e,t){return Ze.patch("/api/invoice/list-company-pi/".concat(e),t)},getOrderBookData:function(e){var t=e.type,r=e.page,n=e.filterType,a=e.filterValue,o=e.searchValue,i="/api/invoice/list-order-book/?ordering=".concat(t);return r&&(i+="&page=".concat(r)),n&&a&&(i+="&".concat(n,"=").concat(a)),o&&(i+="&search=".concat(o)),Ze.get(i)},getTotalPendingQuantity:function(){return Ze.get("/api/invoice/pending-order-total")},getAllOrderBookDataWithSearch:function(e,t,r){return Ze.get("/api/invoice/list-order-book-company/?page=".concat(e,"&ordering=").concat(t,"&search=").concat(r))},getSalesInvoiceData:function(e,t,r,n,a,o){var i=new URLSearchParams;return e&&i.append("invoice_type",e),t&&i.append("start_date",t),r&&i.append("end_date",r),n&&i.append("page",n),a&&i.append("order_book__proforma_invoice__seller_account__unit",a),o&&i.append("search",o),Ze.get("api/invoice/list-sales-invoice/?".concat(i.toString()))},createSalesnvoiceData:function(e){return Ze.post("/api/invoice/list-sales-invoice/",e)},cancelSalesInvoice:function(e,t){return Ze.patch("/api/invoice/list-sales-invoice/".concat(e),t)},getSalesnvoiceDataById:function(e){return Ze.get("api/invoice/list-sales-invoice/".concat(e))},getAllSaleRegisterData:function(e,t){return Ze.get("/api/invoice/list-sales-register/?date_range_after=".concat(e,"&date_range_before=").concat(t))},getSaleRegisterDataWithPagination:function(e,t,r){return Ze.get("/api/invoice/list-sales-register/?date_range_after=".concat(e,"&date_range_before=").concat(t,"&page=").concat(r))},getSaleRegisterDataWithSearch:function(e,t,r){return Ze.get("/api/invoice/list-sales-register/?date_range_after=".concat(e,"&date_range_before=").concat(t,"&search=").concat(r))},getSaleRegisterDataWithPaginationAndSearch:function(e,t,r,n){return Ze.get("/api/invoice/list-sales-register/?date_range_after=".concat(e,"&date_range_before=").concat(t,"&page=").concat(r,"&search=").concat(n))},getDispatchData:function(e,t,r,n){var a=new URLSearchParams;return e&&a.append("dispatched",e),t&&a.append("page",t),void 0!==r&&a.append("unit",r),n&&a.append("search",n),Ze.get("api/invoice/list-dispatch-book/?".concat(a.toString()))},getDispatchSearchWithPagination:function(e,t,r){return Ze.get("/api/invoice/list-dispatch-book/?dispatched=".concat(e,"&search=").concat(t,"&page=").concat(r))},getDispatchDataWithSearch:function(e,t){return Ze.get("/api/invoice/list-dispatch-book/?dispatched=".concat(e,"&search=").concat(t))},getDispatchDataWithPagination:function(e,t){return Ze.get("/api/invoice/list-dispatch-book/?dispatched=".concat(e,"&page=").concat(t))},updateDispatched:function(e,t){return Ze.patch("/api/invoice/list-dispatch-book/".concat(e),t)},getAllDashboardData:function(){return Ze.get("/api/invoice/list-dashboard")},getFilterDashboardData:function(e,t){return Ze.get("/api/invoice/list-dashboard/?start_date=".concat(e,"&end_date=").concat(t))},getDispatchDashboardData:function(){return Ze.get("/api/invoice/list-dashboard-dispatch")},getLRCopyDashboardData:function(e,t,r,n){return Ze.get("/api/invoice/list-dispatch-book/?page=".concat(e,"&dispatched=").concat(t,"&lr_copy__isnull=").concat(r,"&sales_invoice__order_book__proforma_invoice__seller_account__unit=").concat(n))},getPODCopyDashboardData:function(e,t,r,n){return Ze.get("/api/invoice/list-dispatch-book/?page=".concat(e,"&dispatched=").concat(t,"&pod_copy__isnull=").concat(r,"&sales_invoice__order_book__proforma_invoice__seller_account__unit=").concat(n))},checkPrice:function(e){return Ze.get("/api/invoice/check-price-list/?pi_number=".concat(e))}},ta={someDate:(new Date).toISOString().substring(0,10)},ra=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Object(n.useState)(e),o=Object(l.a)(a,2),i=o[0],c=o[1],s=Object(n.useCallback)(function(e,r,n){var a=Object(ln.a)(i),o=t.find(function(e){return e.product===n});a[e]=Object(u.a)({},a[e],{product:n,unit:o?o.unit:""}),c(a)},[i,t]),f=Object(n.useCallback)(function(e,t){var r=Object(ln.a)(i);r[e][t.target.name]=t.target.value,c(r)},[i]),p=Object(n.useCallback)(function(){var e={product:"",unit:"",quantity:"",rate:"",requested_date:ta.someDate,special_instructions:""};c(function(t){return[].concat(Object(ln.a)(t),[e])})},[]),h=Object(n.useCallback)(function(e){c(function(t){return t.filter(function(t,r){return r!==e})})},[]);return{products:Object(n.useMemo)(function(){return r?i.map(function(e){return Object(u.a)({},e,{amount:e.quantity&&e.rate?(Number(e.quantity)*Number(e.rate)).toFixed(2):"0.00"})}):i},[i,r]),handleAutocompleteChange:s,handleFormChange:f,addFields:p,removeFields:h}};function na(){na=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var aa=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),oa={"& .MuiButtonBase-root.MuiAutocomplete-clearIndicator":{color:"blue",visibility:"visible"}},ia={someDate:(new Date).toISOString().substring(0,10)},ca=function(e){var t=e.recordForEdit,r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],p=o[1],h=Ln(),d=h.handleSuccess,m=h.handleError,y=h.handleCloseSnackbar,g=h.alertInfo,b=ra([{product:"",unit:"",quantity:"",rate:"",requested_date:ia.someDate,special_instructions:""}],i,!0),w=b.handleAutocompleteChange,O=b.handleFormChange,_=b.addFields,j=b.removeFields,L=b.products,S=Object(f.n)(),k=Object(n.useState)(!1),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(!1),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Object(n.useState)(!1),G=Object(l.a)(F,2),W=G[0],B=G[1],R=Object(n.useState)([]),z=Object(l.a)(R,2),M=z[0],U=z[1],Y=Object(n.useState)(""),q=Object(l.a)(Y,2),V=q[0],Q=q[1],H=Object(n.useState)([]),K=Object(l.a)(H,2),J=K[0],Z=K[1],X=Object(n.useState)([]),$=Object(l.a)(X,2),ee=$[0],te=$[1],re=Object(n.useState)([]),ne=Object(l.a)(re,2),ae=ne[0],oe=ne[1],ie=Object(n.useState)([]),ce=Object(l.a)(ie,2),le=ce[0],ue=ce[1],se=Object(n.useState)([]),fe=Object(l.a)(se,2),pe=fe[0],he=fe[1],de=Object(n.useState)([]),me=Object(l.a)(de,2),ve=me[0],ye=me[1],ge=Object(n.useState)([]),be=Object(l.a)(ge,2),Ee=be[0],we=be[1],xe=Object(n.useState)(!0),Oe=Object(l.a)(xe,2),_e=Oe[0],je=Oe[1],Le=Object(n.useState)(!1),Se=Object(l.a)(Le,2),ke=Se[0],Pe=Se[1],Ce=Object(n.useState)([]),De=Object(l.a)(Ce,2),Ne=De[0],Te=De[1],Ae=Object(s.c)(function(e){return e.auth}).profile,Ie=function(e){var t=e.target,r=t.name,n=t.value;U(Object(u.a)({},M,Object(Wt.a)({},r,n)))};Object(n.useEffect)(function(){Be(),We()},[A]),Object(n.useEffect)(function(){Ge(),Fe()},[]);var Fe=Object(n.useCallback)(Object(c.a)(na().mark(function e(){var t;return na().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,un.getAllValidPriceList("all");case 3:t=e.sent,p(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("error potential",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),[]),Ge=function(){var e=Object(c.a)(na().mark(function e(){var t;return na().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ea.getAllPaginateSellerAccountData("all");case 3:t=e.sent,Te(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error fetching seller account data:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(c.a)(na().mark(function e(){var r,n,a,o;return na().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([Vt.getCompanyDataByIdWithType(t,"contacts"),Vt.getCompanyDataByIdWithType(t,"warehouse")]);case 3:r=e.sent,n=Object(l.a)(r,2),a=n[0],o=n[1],ue(a.data.contacts),he(o.data.warehouse),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),B(!1),console.log("company data by id error",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(c.a)(na().mark(function e(){var r;return na().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vt.getCompanyDataById(t);case 3:r=e.sent,oe(r.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("company data by id error",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=Object(c.a)(na().mark(function e(t){var r,n,a,o;return na().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=null!==ve.contact&&null!==Ee.address&&null!==Ee.state&&null!==Ee.city&&null!==Ee.pincode,n={type:"Customer",raised_by:Ae.email,raised_by_first_name:Ae.first_name,raised_by_last_name:Ae.last_name,seller_account:V.unit,seller_address:V.address,seller_pincode:V.pincode,seller_state:V.state,seller_city:V.city,seller_gst:V.gst_number,seller_pan:V.pan_number,seller_state_code:V.state_code,seller_cin:V.cin_number,seller_email:V.email,seller_contact:V.contact,seller_bank_name:V.bank_name,seller_account_no:V.current_account_no,seller_ifsc_code:V.ifsc_code,seller_branch:V.branch,company:ae.id,company_name:ae.name,contact:ve.contact,contact_person_name:ve.name,alternate_contact:ve.alternate_contact,gst_number:ae.gst_number||null,pan_number:ae.pan_number,billing_address:ae.address,billing_state:ae.state,billing_city:ae.city,billing_pincode:ae.pincode,address:Ee.address,pincode:Ee.pincode,state:Ee.state,city:Ee.city,place_of_supply:M.place_of_supply,transporter_name:M.transporter_name,buyer_order_no:!0===_e?"verbal":M.buyer_order_no,buyer_order_date:M.buyer_order_date,payment_terms:J,delivery_terms:ee,status:ke?"Price Approval":"Approved",price_approval:ke,products:L},e.prev=3,B(!0),r){e.next=8;break}return D(!0),e.abrupt("return");case 8:return e.next=10,ea.createCustomerProformaInvoiceData(n);case 10:a=e.sent,o=a.data.message||"Proforma Invoice created successfully!",d(o),setTimeout(function(){S("/invoice/active-pi")},300),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),m(e.t0);case 19:return e.prev=19,B(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[3,16,19,22]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Sn,{open:g.open,onClose:y,severity:g.severity,message:g.message}),a.a.createElement(Pt,{open:W}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return Re(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"seller_account",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return Q(t)},options:Ne.map(function(e){return e}),getOptionLabel:function(e){return e.unit},sx:{minWidth:300},label:"Seller Account",style:oa})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"payment_terms",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return Z(t)},options:la.map(function(e){return e.label}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Payment Terms",value:J,style:oa})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"delivery_terms",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return te(t)},options:ua.map(function(e){return e.label}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Delivery Terms",value:ee,style:oa})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(aa,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"CUSTOMER"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"company",size:"small",label:"Company",variant:"outlined",value:ae.name?ae.name:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(tr.a,{required:!0,fullWidth:!0,size:"small",sx:{padding:"0",margin:"0"}},a.a.createElement(rr.a,{id:"demo-simple-select-required-label"},"Contact Name"),a.a.createElement(nr.a,{labelId:"demo-simple-select-required-label",id:"demo-simple-select-required",label:"Contact Name",onChange:function(e,t){return ye(e.target.value)}},le&&le.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e},e?e.name:"Please First Select Company")})),a.a.createElement(sa,null,"first select Company Name"))),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,name:"contact",size:"small",label:"Contact",variant:"outlined",value:ve&&ve.contact?ve.contact:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,name:"alternate_contact",size:"small",label:"Alt. Contact",variant:"outlined",value:ve&&ve.alternate_contact?ve.alternate_contact:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,multiline:!0,required:!0,name:"address",size:"small",label:"Billing Address",variant:"outlined",value:ae.address?ae.address:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,required:!0,name:"city",size:"small",label:"Billing City",variant:"outlined",value:ae.city?ae.city:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,required:!0,name:"state",size:"small",label:"Billing State",variant:"outlined",value:ae.state?ae.state:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,required:!0,name:"pincode",size:"small",type:"number",label:"Billing Pin Code",variant:"outlined",value:ae.pincode?ae.pincode:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Shipping Address"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Shipping Address",onChange:function(e,t){return we(e.target.value)}},pe&&pe.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e},e?e.address:"Please First Select Contact")})),a.a.createElement(sa,null,"first select Contact"))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,disabled:!0,name:"city",size:"small",label:"Shipping City",variant:"outlined",value:Ee&&Ee.city?Ee.city:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,disabled:!0,name:"state",size:"small",label:"Shipping State",variant:"outlined",value:Ee&&Ee.state?Ee.state:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,disabled:!0,name:"pincode",size:"small",type:"number",label:"Shipping Pin Code",variant:"outlined",value:Ee&&Ee.pincode?Ee.pincode:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Cr.a,{label:"Verbal",control:a.a.createElement(Xn.a,{checked:_e,onChange:function(e){return je(e.target.checked)}})}),a.a.createElement(Lt,{required:!0,name:"buyer_order_no",size:"small",label:"Buyer Order No",variant:"outlined",disabled:!0===_e,value:!0===_e?"Verbal":M.buyer_order_no?M.buyer_order_no:"",onChange:Ie,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"buyer_order_date",size:"small",label:"Buyer Order Date",variant:"outlined",value:M.buyer_order_date?M.buyer_order_date:ia.someDate,onChange:Ie,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"place_of_supply",size:"small",label:"Place of Supply",variant:"outlined",value:M.place_of_supply,onChange:Ie})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"transporter_name",size:"small",label:"Transporter Name",variant:"outlined",value:M.transporter_name,onChange:Ie})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(aa,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Cr.a,{label:"Price Approval",control:a.a.createElement(Xn.a,{checked:ke,onChange:function(e){return Pe(e.target.checked)}})})),L.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{key:t,item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,r){return w(t,e,r)},options:i.map(function(e){return e.product}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name",style:oa})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity,onChange:function(e){return O(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{type:"number",fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",onChange:function(e){return O(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,type:"number",name:"amount",size:"small",label:"Amount",variant:"outlined",value:(e.quantity*e.rate).toFixed(2)})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"requested_date",size:"small",label:"Request Date",variant:"outlined",value:e.requested_date?e.requested_date:ia.someDate,onChange:function(e){return O(t,e)},InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"special_instructions",size:"small",label:"Special Instructions",variant:"outlined",value:e.special_instructions?e.special_instructions:"",onChange:function(e){return O(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,alignContent:"right"},0!==t&&a.a.createElement(yt.a,{disabled:0===t,onClick:function(){return j(t)},variant:"contained"},"Remove")))}),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(yt.a,{onClick:_,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")),a.a.createElement(ut,{maxWidth:"xl",title:"Update Lead Details",openPopup:C,setOpenPopup:D},a.a.createElement(E.a,null,"Kindly update all required field WareHouse Details in Company"),a.a.createElement(yt.a,{variant:"contained",onClick:function(){return I(!0),void D(!1)}},"Update Customer")),a.a.createElement(ut,{maxWidth:"xl",title:"Update Leads",openPopup:A,setOpenPopup:I},a.a.createElement(Zr,{recordForEdit:t,setOpenPopup:I})))},la=[{label:"100% Advance",value:"100%_advance"},{label:"50% Advance, Balance Before Dispatch",value:"50%_advance_balance_before_dispatch"},{label:"30% Advance, Balance Before Dispatch",value:"30%_advance_balance_before_dispatch"},{label:"7 days along with PDC",value:"7_days_with_pdc"},{label:"10 days along with PDC",value:"10_days_with_pdc"},{label:"15 days along with PDC",value:"15_days_with_pdc"},{label:"30 days along with PDC",value:"30_days_with_pdc"},{label:"45 days along with PDC",value:"45_days_with_pdc"},{label:"60 days along with PDC",value:"60_days_with_pdc"},{label:"7 days",value:"7_days"},{label:"15 days",value:"15_days"},{label:"30 days",value:"30_days"},{label:"10% Advance, balance against shipping document (export)",value:"10%_advance_balance_against_shipping_document_(export)"},{label:"20% Advance, balance against shipping document (export)",value:"20%_advance_balance_against_shipping_document_(export)"},{label:"30% Advance, balance against shipping document (export)",value:"30%_advance_balance_against_shipping_document_(export)"},{label:"40% Advance, balance against shipping document (export)",value:"40%_advance_balance_against_shipping_document_(export)"},{label:"50% Advance, balance against shipping document (export)",value:"50%_advance_balance_against_shipping_document_(export)"},{label:"LC at Sight (Export)",value:"lc_at_sight_(export)"},{label:"LC 45 days (Export)",value:"lc_45_days_(export)"},{label:"TT in advance (Export)",value:"tt_in_advance_(export)"},{label:"45 days",value:"45_days"},{label:"60 days",value:"60_days"},{label:"Against Delivery",value:"against_delivery"}],ua=[{label:"Ex-Work (Freight to pay)",value:"ex_work_(freight_to_pay)"},{label:"Transporter Warehouse (Freight to Pay)",value:"transporter_warehouse_(freight_to_pay)"},{label:"Customer Door Delivery (Freight to Pay)",value:"customer_door_delivery_(freight_to_pay)"},{label:"Customer Door Delivery (Prepaid)",value:"customer_door_delivery_(prepaid)"},{label:"Transporter Warehouse (Prepaid)",value:"transporter_warehouse_(prepaid)"},{label:"Add actual freight in invoice",value:"add_actual_freight_in_invoice"},{label:"Courier (Freight to Pay)",value:"courier_(freight_to_pay)"},{label:"Courier (Freight Add in Invoice)",value:"courier_(freight_add_in_invoice"}],sa=Object(L.a)($n.a)(function(){return{padding:"0px"}}),fa=r(23),pa=r(44),ha=r(656),da=r(200),ma=r.n(da),va=r(66),ya=r.n(va),ga=function(e){var t=e.onSearch,r=e.onReset,o=Object(n.useState)(""),i=Object(l.a)(o,2),c=i[0],u=i[1];return a.a.createElement(vt.a,{sx:{width:"100%"}}," ",a.a.createElement(jt.a,{size:"small",label:"Search",variant:"outlined",value:c,onChange:function(e){u(e.target.value)},fullWidth:!0,InputProps:{endAdornment:a.a.createElement(ha.a,{position:"end"},a.a.createElement(m.a,{"aria-label":"search",onClick:function(){t(c)}},a.a.createElement(ma.a,null)),c&&a.a.createElement(m.a,{"aria-label":"reset",onClick:function(){u(""),r()}},a.a.createElement(ya.a,null)))}}))};function ba(){ba=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ea=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(!1),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(!1),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(!1),A=Object(l.a)(T,2),I=A[0],F=A[1],G=Object(n.useState)([]),W=Object(l.a)(G,2),B=W[0],R=W[1],z=Object(n.useState)(),M=Object(l.a)(z,2),U=M[0],Y=M[1],q=Object(n.useState)(1),V=Object(l.a)(q,2),Q=V[0],H=V[1],K=Object(n.useState)(0),J=Object(l.a)(K,2),Z=J[0],X=J[1],$=Object(n.useState)(""),ee=Object(l.a)($,2),te=ee[0],re=ee[1],ne=Object(n.useState)(""),ae=Object(l.a)(ne,2),oe=ae[0],ie=ae[1],ce=Object(n.useState)([]),le=Object(l.a)(ce,2),ue=le[0],se=le[1],fe=Object(n.useRef)(null),pe=Object(s.c)(function(e){return e.auth}).profile,he=pe.sales_users||[],de=Object(n.useState)(!1),me=Object(l.a)(de,2),ve=me[0],ye=me[1],ge=Object(n.useState)("Active"),be=Object(l.a)(ge,2),Ee=be[0],we=be[1],xe=Ln(),Oe=xe.handleError,_e=xe.handleCloseSnackbar,je=xe.alertInfo;Object(n.useEffect)(function(){var e=function(){ye(!0),R([])},t=function(){ye(!1),ke()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var Le=function(){var e=Object(c.a)(ba().mark(function e(){var t;return ba().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se();case 3:t=e.sent,se(t),setTimeout(function(){fe.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(c.a)(ba().mark(function e(){var t,r;return ba().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(!0),e.next=4,Vt.getAllCustomerData(Ee,"all",te,oe);case 4:return t=e.sent,r=t.data.map(function(e){return{id:e.id,name:e.name,assigned_to:e.assigned_to,pan_number:e.pan_number,gst_number:e.gst_number,address:e.address,city:e.city,state:e.state,pincode:e.pincode,business_type:e.business_type,category:e.category,est_date:e.est_date,total_sales_turnover:e.total_sales_turnover,type:e.type,status:e.status}}),console.log("data",r),F(!1),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),Oe(e.t0),console.log("while downloading company details",e.t0);case 15:return e.prev=15,F(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,11,15,18]])}));return function(){return e.apply(this,arguments)}}(),ke=Object(n.useCallback)(Object(c.a)(ba().mark(function e(){var t;return ba().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(!0),e.next=4,Vt.getAllCustomerData(Ee,Q,te,oe);case 4:t=e.sent,R(t.data.results),X(Math.ceil(t.data.count/25)),F(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),Oe(e.t0),console.log("while getting company details",e.t0);case 14:return e.prev=14,F(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])})),[Ee,Q,te,oe]);Object(n.useEffect)(function(){ke()},[Q,Ee,te,ke]);var Pe=pe.groups.includes("Director")||pe.groups.includes("Accounts")||pe.groups.includes("Sales Manager");return a.a.createElement(a.a.Fragment,null,a.a.createElement(pa.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(ve?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Sn,{open:je.open,onClose:_e,severity:je.severity,message:je.message}),a.a.createElement(Pt,{open:I}),a.a.createElement("div",null,a.a.createElement("div",{style:{padding:"16px",margin:"16px",boxShadow:"0px 3px 6px #00000029",borderRadius:"4px",display:"flex",flexDirection:"column",backgroundColor:"rgb(255, 255, 255)"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{disabled:!Pe,size:"small",sx:{minWidth:200},options:["Active","Closed","Blacklist"],getOptionLabel:function(e){return e},value:Ee,onChange:function(e,t){we(t),ke(Q,t,te,oe)},label:"Filter By Status"})),!pe.groups.includes("Sales Executive")&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",sx:{minWidth:200},value:te,onChange:function(e,t){re(t),ke(Q,Ee,t,oe)},options:he.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(ga,{onSearch:function(e){ie(e),H(1)},onReset:function(){ie(""),H(1)}})),pe.groups.includes("Accounts")&&a.a.createElement(Et.a,{item:!0,xs:12,sm:1},a.a.createElement(yt.a,{variant:"contained",onClick:function(){return p(!0)}},"Add")))),a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:5},(pe.groups.includes("Director")||pe.groups.includes("Sales Manager"))&&a.a.createElement(yt.a,{variant:"contained",onClick:function(){return k(!0)}},"Assign Bulk Customer")),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement("h3",{style:{textAlign:"left",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Company")),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yt.a,{variant:"contained",onClick:Le},"Download CSV"),ue.length>0&&a.a.createElement(fa.CSVLink,{data:ue,headers:[{label:"ID",key:"id"},{label:"NAME",key:"name"},{label:"Assigned To",key:"assigned_to"},{label:"PAN NUMBER",key:"pan_number"},{label:"GST NUMBER",key:"gst_number"},{label:"ADDRESS",key:"address"},{label:"CITY",key:"city"},{label:"STATE",key:"state"},{label:"PINCODE",key:"pincode"},{label:"BUSINESS TYPE",key:"business_type"},{label:"CATEGORY",key:"category"},{label:"EST. DATE",key:"est_date"},{label:"TOTAL SALES TURNOVER",key:"total_sales_turnover"},{label:"TYPE",key:"type"},{label:"CONTACT NAME",key:"contact_name"},{label:"CONTACT",key:"contact"},{label:"ALTERNATE CONTACT",key:"alternate_contact"},{label:"EMAIL",key:"email"},{label:"ALTERNATE EMAIL",key:"alternate_email"},{label:"STATUS",key:"status"}],ref:fe,filename:"Customer.csv",target:"_blank",style:{textDecoration:"none",outline:"none",visibility:"hidden"}})))),a.a.createElement("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"green",color:"white",padding:"10px",borderRadius:"4px",display:D?"block":"none",zIndex:9999}},a.a.createElement("span",{style:{marginRight:"10px"}},"Bulk Customer Assigned Successfully!"),a.a.createElement("button",{style:{backgroundColor:"transparent",border:"none",color:"white",cursor:"pointer",padding:"0"},onClick:function(){N(!1)}},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},a.a.createElement("path",{fillRule:"evenodd",d:"M8 7.293l2.146-2.147a.5.5 0 11.708.708L8.707 8l2.147 2.146a.5.5 0 01-.708.708L8 8.707l-2.146 2.147a.5.5 0 01-.708-.708L7.293 8 5.146 5.854a.5.5 0 01.708-.708L8 7.293z"})))),a.a.createElement(Bt.a,{sx:{maxHeight:400,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(xa,null,["NAME","Assigned To","PAN NO.","GST NO.","CITY","STATE","STATUS","ACTION"].map(function(e){return a.a.createElement(wa,{key:e,align:"center"},e)}))),a.a.createElement(Mt.a,null,B.map(function(e,t){return a.a.createElement(xa,{key:e.i},a.a.createElement(wa,{align:"center"},e.name),a.a.createElement(wa,{align:"center"},e.assigned_to.map(function(e,t){return a.a.createElement("div",{key:t,style:{border:"1px solid #4caf50",borderRadius:"20px",color:"#4caf50"}},e)})),a.a.createElement(wa,{align:"center"},e.pan_number),a.a.createElement(wa,{align:"center"},e.gst_number),a.a.createElement(wa,{align:"center"},e.city),a.a.createElement(wa,{align:"center"},e.state),a.a.createElement(wa,{align:"center"},e.status),a.a.createElement(wa,{align:"center"},a.a.createElement(yt.a,{sx:{color:"#1976d2"},onClick:function(){return Y(e.id),void o(!0)}},"View,"),!pe.groups.includes("Accounts Billing Department")&&a.a.createElement(yt.a,{sx:{color:"#28a745"},onClick:function(){return Y(e.id),void v(!0)}},"PI,"),a.a.createElement(yt.a,{sx:{color:"#5e35b1"},onClick:function(){return Y(e.id),void E(!0)}},"Activity,"),!1===e.is_potential_completed&&a.a.createElement(yt.a,{sx:{color:"#eb5042"},onClick:function(){return Y(e.id),void _(!0)}},"Potential")))})))),a.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},a.a.createElement(Zn,{currentPage:Q,totalPages:Z,handlePageChange:function(e,t){H(t)}})))),a.a.createElement(ut,{fullScreen:!0,title:"Create Customer Details",openPopup:f,setOpenPopup:p},a.a.createElement(qn,{setOpenPopup:p,getAllCompanyDetails:ke})),a.a.createElement(ut,{fullScreen:!0,title:"Update Customer",openPopup:r,setOpenPopup:o},a.a.createElement(zn,{setOpenPopup:o,getAllCompanyDetails:ke,recordForEdit:U})),a.a.createElement(ut,{fullScreen:!0,title:"Create Customer Proforma Invoice",openPopup:m,setOpenPopup:v},a.a.createElement(ca,{recordForEdit:U,setOpenPopup:v})),a.a.createElement(ut,{maxWidth:"lg",title:"Assign Bulk Lead to another Employee",openPopup:S,setOpenPopup:k},a.a.createElement(Kn,{setOpenPopup:k,setOpenSnackbar:N})),a.a.createElement(ut,{maxWidth:"xl",title:"Create Activity",openPopup:b,setOpenPopup:E},a.a.createElement(qr,{recordForEdit:U,setOpenModal:E,getFollowUp:ke})),a.a.createElement(ut,{maxWidth:"lg",title:"Create Potential",openPopup:O,setOpenPopup:_},a.a.createElement(Fn,{getCompanyDetailsByID:ke,recordForEdit:U,setOpenModal:_})))},wa=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),xa=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Oa(){Oa=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var _a=function(e){var t=e.setOpenPopup,r=e.getAllSellerAccountsDetails,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],p=Object(n.useState)([]),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)([]),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=function(e){var t=e.target,r=t.name,n=t.value;m(Object(u.a)({},d,Object(Wt.a)({},r,n)))},j=function(){var e=Object(c.a)(Oa().mark(function e(){var t,r;return Oa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),t=d.ifsc_code,e.next=5,Je.a.get("https://ifsc.razorpay.com/".concat(t));case 5:r=e.sent,b(r.data),O(""),f(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0),f(!1),404===e.t0.response.status&&O("please enter valid ifsc code.");case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(c.a)(Oa().mark(function e(n){var a;return Oa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),f(!0),a={name:d.name,current_account_no:d.current_account_no,address:d.address,unit:d.unit,gst_number:d.gst_number,grn_prefix:d.grn_prefix,pincode:d.pincode,state:d.state,city:d.city,state_code:d.state_code,cin_number:d.cin_number,email:d.email,pan_number:d.pan_number,prefix:d.prefix,suffix:d.suffix,contact:"+91".concat(d.contact),ifsc_code:d.ifsc_code,bank_name:g.BANK,branch:g.BRANCH},e.next=6,ea.createSellerAccountData(a);case 6:t(!1),f(!1),r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),f(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:s}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return L(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,size:"small",name:"name",label:"Company Name",variant:"outlined",value:d.name,onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"current_account_no",label:"Account No",variant:"outlined",value:d.account_no,onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"gst_number",size:"small",label:"Gst Number",variant:"outlined",value:d.gst_number?d.gst_number:"",onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"grn_prefix",size:"small",label:"GRN Prefix",variant:"outlined",value:d.grn_prefix?d.grn_prefix:"",onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:d.address?d.address:"",onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"unit",size:"small",label:"Unit",variant:"outlined",value:d.unit?d.unit:"",onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"pincode",size:"small",label:"Pin Code",variant:"outlined",value:d.pincode?d.pincode:"",onChange:_}))," ",a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"state",size:"small",label:"State",variant:"outlined",value:d.state?d.state:"",onChange:_}))," ",a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"city",size:"small",label:"City",variant:"outlined",value:d.city?d.city:"",onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"state_code",size:"small",label:"State Code",variant:"outlined",value:d.state_code?d.state_code:"",onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"cin_number",size:"small",label:"CIN Number",variant:"outlined",value:d.cin_number?d.cin_number:"",onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"email",size:"small",label:"Email",variant:"outlined",value:d.email?d.email:"",onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"pan_number",size:"small",label:"Pan Number",variant:"outlined",value:d.pan_number?d.pan_number:"",onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"prefix",size:"small",label:"Prefix",variant:"outlined",value:d.prefix?d.prefix:"",onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"suffix",size:"small",label:"Suffix",variant:"outlined",value:d.suffix?d.suffix:"",onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{type:"number",fullWidth:!0,name:"contact",size:"small",label:"Contact",variant:"outlined",value:d.contact,onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{sx:{minWidth:"200px"},name:"ifsc_code",size:"small",label:"IFSC Code",variant:"outlined",value:d.ifsc_code,onChange:_,error:x&&x,helperText:x&&x}),a.a.createElement(yt.a,{onClick:function(){return j()},variant:"contained",sx:{marginLeft:"1rem"}},"Validate")),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"bank_name",label:"Bank Name",variant:"outlined",value:g.BANK?g.BANK:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"branch",label:"Branch",variant:"outlined",value:g.BRANCH?g.BRANCH:""}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function ja(){ja=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var La=function(e){var t=e.setOpenPopup,r=e.getAllSellerAccountsDetails,o=e.idForEdit,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)([]),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)([]),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=function(e){var t=e.target,r=t.name,n=t.value;v(Object(u.a)({},m,Object(Wt.a)({},r,n)))};Object(n.useEffect)(function(){L()},[o]);var L=function(){var e=Object(c.a)(ja().mark(function e(){var t;return ja().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,ea.getSellerAccountDataById(o);case 4:t=e.sent,console.log("response",t),v(t.data),p(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),p(!1),console.log("company data by id error",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(c.a)(ja().mark(function e(){var t,r;return ja().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),t=m.ifsc_code,e.next=5,Je.a.get("https://ifsc.razorpay.com/".concat(t));case 5:r=e.sent,E(r.data),_(""),p(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0),p(!1),404===e.t0.response.status&&_("please enter valid ifsc code.");case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(ja().mark(function e(n){var a;return ja().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),p(!0),a={name:m.name,current_account_no:m.current_account_no,address:m.address,unit:m.unit,gst_number:m.gst_number,grn_prefix:m.grn_prefix,pincode:m.pincode,state:m.state,city:m.city,state_code:m.state_code,cin_number:m.cin_number,email:m.email,pan_number:m.pan_number,prefix:m.prefix,suffix:m.suffix,contact:m.contact,ifsc_code:m.ifsc_code?m.ifsc_code:"",bank_name:b.BANK?b.BANK:m.bank_name,branch:b.BRANCH?b.BRANCH:m.branch},e.next=6,ea.updateSellerAccountData(o,a);case 6:t(!1),p(!1),r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),p(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return k(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,size:"small",name:"name",label:"Company Name",variant:"outlined",value:m.name?m.name:"",onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"current_account_no",label:"Account No",variant:"outlined",value:m.current_account_no?m.current_account_no:"",onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"gst_number",size:"small",label:"Gst Number",variant:"outlined",value:m.gst_number?m.gst_number:"",onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"grn_prefix",size:"small",label:"GRN Prefix",variant:"outlined",value:m.grn_prefix?m.grn_prefix:"",onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:m.address?m.address:"",onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"unit",size:"small",label:"Unit",variant:"outlined",value:m.unit?m.unit:"",onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"pincode",size:"small",label:"Pin Code",variant:"outlined",value:m.pincode?m.pincode:"",onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"state",size:"small",label:"State",variant:"outlined",value:m.state?m.state:"",onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"city",size:"small",label:"City",variant:"outlined",value:m.city?m.city:"",onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"state_code",size:"small",label:"State Code",variant:"outlined",value:m.state_code?m.state_code:"",onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"cin_number",size:"small",label:"CIN Number",variant:"outlined",value:m.cin_number?m.cin_number:"",onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"email",size:"small",label:"Email",variant:"outlined",value:m.email?m.email:"",onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"pan_number",size:"small",label:"Pan Number",variant:"outlined",value:m.pan_number?m.pan_number:"",onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"prefix",size:"small",label:"Prefix",variant:"outlined",value:m.prefix?m.prefix:"",onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"suffix",size:"small",label:"Suffix",variant:"outlined",value:m.suffix?m.suffix:"",onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"contact",size:"small",label:"Contact",variant:"outlined",value:m.contact?m.contact:"",onChange:j})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{sx:{minWidth:"200px"},name:"ifsc_code",size:"small",label:"IFSC Code",variant:"outlined",value:m.ifsc_code?m.ifsc_code:"",onChange:j,error:O&&O,helperText:O&&O}),a.a.createElement(yt.a,{onClick:function(){return S()},variant:"contained",sx:{marginLeft:"1rem"}},"Validate")),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"bank_name",label:"Bank Name",variant:"outlined",value:b.BANK?b.BANK:m.bank_name,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"branch",label:"Branch",variant:"outlined",value:b.BRANCH?b.BRANCH:m.branch,InputLabelProps:{shrink:!0}}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},Sa=function(e){var t=e.errMsg,r=e.errRef;return a.a.createElement("div",{style:{width:"100%",padding:10,marginBottom:10,borderRadius:4,backgroundColor:t?"red":"offscreen",textAlign:"center",color:"white",textTransform:"capitalize"},ref:r,className:t?"errmsg":"offscreen","aria-live":"assertive"},t)};function ka(){ka=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Pa=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useRef)(),y=Object(n.useState)(!1),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)([]),L=Object(l.a)(j,2),S=L[0],k=L[1];Object(n.useEffect)(function(){P()},[]);var P=function(){var e=Object(c.a)(ka().mark(function e(){var t;return ka().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,ea.getAllSellerAccountData();case 4:t=e.sent,k(t.data.results),E(!1),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),E(!1),e.t0.response?400===e.t0.response.status?_(e.t0.response.data.errors.name?e.t0.response.data.errors.name:e.t0.response.data.errors.non_field_errors):401===e.t0.response.status?_(e.t0.response.data.errors.code):_("Server Error"):_("\u201cSorry, You Are Not Allowed to Access This Page\u201d Please contact to admin"),v.current.focus();case 14:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),C=S.map(function(e){return{id:e.id,unit:e.unit,company:e.name,bank:e.bank_name,current_account_no:e.current_account_no,ifsc_code:e.ifsc_code,branch:e.branch,gst_number:e.gst_number}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:b}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Sa,{errRef:v,errMsg:O}),a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:2}),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Seller Accounts Details")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"},a.a.createElement(yt.a,{onClick:function(){return f(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(Cn,{headers:["ID","UNIT","COMPANY","BANK","ACCOUNT NO.","IFSC CODE","BRANCH","GST","ACTION"],data:C,openInPopup:function(e){m(e.id),o(!0)}}))),a.a.createElement(ut,{maxWidth:"xl",title:"Create Seller Accounts Details",openPopup:s,setOpenPopup:f},a.a.createElement(_a,{setOpenPopup:f,getAllSellerAccountsDetails:P})),a.a.createElement(ut,{maxWidth:"xl",title:"Update Seller Accounts Details",openPopup:r,setOpenPopup:o},a.a.createElement(La,{setOpenPopup:o,getAllSellerAccountsDetails:P,idForEdit:d})))};function Ca(){Ca=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Da=function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getAllOrderBook,i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(t.estimated_date),d=Object(l.a)(h,2),m=d[0],v=d[1];console.log("estimateDate",m);var y=Object(s.c)(function(e){return e.auth}).profile,g=function(){var e=Object(c.a)(Ca().mark(function e(n){var a;return Ca().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),p(!0),a={orderbook:t.orderbook,product:t.product,quantity:t.quantity,rate:t.rate,amount:t.amount,gst:t.gst,total:t.total,estimated_date:m},e.next=6,ea.updateOrderBookData(t.id,a);case 6:r(!1),p(!1),o(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("err update orderbook",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(Pt,{open:f})),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return g(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,size:"small",label:"Product",variant:"outlined",value:t.product?t.product:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,size:"small",label:"Pending Quantity",variant:"outlined",value:t.pending_quantity?t.pending_quantity:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,size:"small",label:"Requested Date",variant:"outlined",value:t.requested_date?t.requested_date:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"estimated_date",size:"small",label:"Estimated Date",variant:"outlined",value:m||"",onChange:function(e){return v(e.target.value)},InputLabelProps:{shrink:!0}}))),(y.groups.includes("Production")||y.groups.includes("Production Delhi"))&&a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))},Na=function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getAllOrderBook,i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(t.pending_quantity),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(s.c)(function(e){return e.auth}).profile,g=function(){var e=Object(c.a)(Ca().mark(function e(n){var a;return Ca().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),p(!0),a={orderbook:t.orderbook,product:t.product,quantity:t.quantity,rate:t.rate,amount:t.amount,gst:t.gst,total:t.total,pending_quantity:m,revision:t.revision+1},e.next=6,ea.updateOrderBookData(t.id,a);case 6:r(!1),p(!1),o(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("err update orderbook",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return g(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,size:"small",label:"Product",variant:"outlined",value:t.product?t.product:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Pending Quantity",variant:"outlined",value:m||"",onChange:function(e){return v(e.target.value)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,size:"small",label:"Requested Date",variant:"outlined",value:t.requested_date?t.requested_date:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,name:"estimated_date",size:"small",label:"Estimated Date",variant:"outlined",value:t.estimated_date?t.estimated_date:"",InputLabelProps:{shrink:!0}}))),y.groups.includes("Accounts")&&a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))},Ta=function(e){var t=e.filterSelectedQuery,r=e.setFilterSelectedQuery,n=e.handleInputChange,o=e.getResetData;return a.a.createElement(a.a.Fragment,null,a.a.createElement(jt.a,{value:t,onChange:function(e){return r(e.target.value)},name:"search",size:"small",placeholder:"search",label:"Search",variant:"outlined",sx:{backgroundColor:"#ffffff",marginLeft:"1em","& .MuiSelect-iconOutlined":{display:t?"none":""},"&.Mui-focused .MuiIconButton-root":{color:"primary.main"}},InputProps:{endAdornment:a.a.createElement(a.a.Fragment,null,a.a.createElement(m.a,{sx:{visibility:t?"visible":"hidden"},onClick:o},a.a.createElement(ya.a,null)))}}),a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:n},"Search"))};function Aa(){Aa=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ia=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useRef)(),u=Object(n.useState)(!1),f=Object(l.a)(u,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(""),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(1),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(""),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)(0),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useState)([]),B=Object(l.a)(W,2),R=B[0],z=B[1],M=Object(n.useState)(""),U=Object(l.a)(M,2),Y=U[0],q=U[1],V=Object(n.useState)(""),Q=Object(l.a)(V,2),H=Q[0],K=Q[1],J=Object(n.useState)(null),Z=Object(l.a)(J,2),X=Z[0],$=Z[1],ee=Object(n.useRef)(null),te=Object(s.c)(function(e){return e.auth}).profile,re=te.sales_users||[],ne=[{label:"Search By State",value:"orderbook__proforma_invoice__seller_account__state"}].concat(Object(ln.a)(te.groups.includes("Sales Executive")?[]:[{label:"Sales Person",value:"orderbook__proforma_invoice__raised_by__email"}])),ae=ne.find(function(e){return e.value===Y}),oe=function(){var e=Object(c.a)(Aa().mark(function e(){var t;return Aa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:t=e.sent,z(t),setTimeout(function(){ee.current.link.click()});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(c.a)(Aa().mark(function e(){var t,r;return Aa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h(!0),!H&&!N){e.next=8;break}return e.next=5,ea.getOrderBookData({type:"customer",page:"all",filterType:Y,filterValue:H,searchValue:N});case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,ea.getOrderBookData({type:"customer",page:"all"});case 10:e.t0=e.sent;case 11:return t=e.t0,r=t.data.map(function(e){return te.groups.includes("Factory-Mumbai-OrderBook")||te.groups.includes("Factory-Delhi-OrderBook")?{company:e.company,order_book_date:e.order_book_date,pi_date:e.pi_date,proforma_invoice:e.proforma_invoice,billing_city:e.billing_city,shipping_city:e.shipping_city,product:e.product,quantity:e.quantity,pending_quantity:e.pending_quantity,pending_amount:e.pending_amount,seller_state:e.seller_state,estimated_date:e.estimated_date,special_instructions:e.special_instructions}:te.groups.includes("Customer Service")?{company:e.company,order_book_date:e.order_book_date,pi_date:e.pi_date,proforma_invoice:e.proforma_invoice,billing_city:e.billing_city,shipping_city:e.shipping_city,product:e.product,quantity:e.quantity,rate:e.rate,pending_quantity:e.pending_quantity,seller_state:e.seller_state,billing_address:e.billing_address,billing_pincode:e.billing_pincode,shipping_address:e.shipping_address,shipping_pincode:e.shipping_pincode,payment_terms:e.payment_terms,delivery_terms:e.delivery_terms,transporter_name:e.transporter_name,place_of_supply:e.place_of_supply,buyer_order_no:e.buyer_order_no,buyer_order_date:e.buyer_order_date,estimated_date:e.estimated_date,special_instructions:e.special_instructions}:{company:e.company,order_book_date:e.order_book_date,pi_date:e.pi_date,proforma_invoice:e.proforma_invoice,billing_city:e.billing_city,shipping_city:e.shipping_city,billing_pincode:e.billing_pincode,shipping_pincode:e.shipping_pincode,product:e.product,quantity:e.quantity,amount:e.amount,pending_quantity:e.pending_quantity,seller_state:e.seller_state,pending_amount:e.pending_amount,estimated_date:e.estimated_date,special_instructions:e.special_instructions}}),h(!1),e.abrupt("return",r);case 17:e.prev=17,e.t1=e.catch(0),console.log(e.t1);case 20:return e.prev=20,h(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[0,17,20,23]])}));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(c.a)(Aa().mark(function e(t){var r,n;return Aa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,ea.getOrderBookData(t);case 4:(r=e.sent)?(o(r.data.results),n=r.data.count,G(Math.ceil(n/25))):(ue(),T("")),h(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),le(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),le=function(e){h(!1);var t="Server Error";if(e.response)switch(e.response.status){case 400:t=e.response.data.errors.name?e.response.data.errors.name:e.response.data.errors.non_field_errors;break;case 401:t=e.response.data.errors.code;break;default:t="Server Error"}else t="\u201cSorry, You Are Not Allowed to Access This Page\u201d Please contact to admin";j(t),i.current.focus()};Object(n.useEffect)(function(){ue()},[]);var ue=function(){var e=Object(c.a)(Aa().mark(function e(){return Aa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce({type:"customer",page:k,filterType:Y,filterValue:H,searchValue:N});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(c.a)(Aa().mark(function e(t,r){return Aa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce({type:"customer",filterType:Y,filterValue:t,searchValue:r});case 2:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),fe=function(){var e=Object(c.a)(Aa().mark(function e(t,r){var n;return Aa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P(n=r),e.next=4,ce({type:"customer",page:n,filterType:Y,filterValue:H,searchValue:N});case 4:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),pe=r.map(function(e,t){return{id:e.id,approval_data:e.order_book_date,company:e.company,raised_by:e.raised_by,billing_city:e.billing_city,shipping_city:e.shipping_city,pi_date:e.pi_date,pi_no:e.proforma_invoice,product:e.product,quantity:e.quantity,pending_quantity:e.pending_quantity,amount:e.amount,pending_amount:e.pending_amount,est_date:e.est_date,special_instruction:e.special_instruction,revision:e.revision}}),he=r.map(function(e,t){return{id:e.id,approval_data:e.order_book_date,company:e.company,raised_by:e.raised_by,billing_city:e.billing_city,shipping_city:e.shipping_city,pi_date:e.pi_date,pi_no:e.proforma_invoice,product:e.product,quantity:e.quantity,pending_quantity:e.pending_quantity,pending_amount:e.pending_amount,est_date:e.est_date,special_instruction:e.special_instruction,revision:e.revision}});return a.a.createElement("div",null,a.a.createElement(Pt,{open:p}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Sa,{errRef:i,errMsg:_}),a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},a.a.createElement(yr,{size:"small",sx:{width:300},value:ae,onChange:function(e,t){q(t?t.value:"")},options:ne,getOptionLabel:function(e){return e.label},label:"Filter By"}),"orderbook__proforma_invoice__seller_account__state"===Y&&a.a.createElement(yr,{size:"small",sx:{width:300,marginLeft:"10px"},value:H,onChange:function(e,t){K(t),se(t,N)},options:Fa.map(function(e){return e}),getOptionLabel:function(e){return e},label:"Filter By State"}),Y.includes("orderbook__proforma_invoice__raised_by__email")&&a.a.createElement(yr,{size:"small",sx:{width:300,marginLeft:"10px"},value:H,onChange:function(e,t){K(t),se(t,N)},options:re.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"}),a.a.createElement(Ta,{filterSelectedQuery:N,setFilterSelectedQuery:T,handleInputChange:function(e){T(N),se(H,N)},getResetData:function(){T(""),se(H,null)}}),a.a.createElement(yt.a,{sx:{marginLeft:"10px"},variant:"contained",onClick:oe},"Download CSV"),R.length>0&&a.a.createElement(fa.CSVLink,{headers:te.groups.includes("Customer Service")?Ga:Wa,data:R,ref:ee,filename:"Customer Order Book.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})),a.a.createElement(vt.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Customer Order Book Details")),a.a.createElement(Cn,{headers:te.groups.includes("Factory-Mumbai-OrderBook")&&te.groups.includes("Factory-Delhi-OrderBook")?["ID","Approval Date","Company","Raised By","Billing City","Shipping City","Pi Date","Pi No","Product","Quantity","Pending Quantity","Amount","Pending Amount","EST DATE","Special Instructions","Revision","ACTION"]:["ID","Approval Date","Company","Raised By","Billing City","Shipping City","Pi Date","Pi No","Product","Quantity","Pending Quantity","Pending Amount","EST DATE","Special Instructions","Revision","ACTION"],data:te.groups.includes("Factory-Mumbai-OrderBook")&&te.groups.includes("Factory-Delhi-OrderBook")?pe:he,openInPopup:(te.groups.includes("Production")||te.groups.includes("Production Delhi")||te.groups.includes("Accounts"))&&function(e){try{var t=r.find(function(t){return t.id===e.id});$(t),te.groups.includes("Accounts")&&w(!0),(te.groups.includes("Production")||te.groups.includes("Production Delhi"))&&y(!0)}catch(n){console.log("err",n)}},openInPopup2:null}),a.a.createElement(Zn,{currentPage:k,totalPages:F,handlePageChange:fe}))),a.a.createElement(ut,{title:"Update Customer OrderBook",openPopup:v,setOpenPopup:y},a.a.createElement(Da,{recordForEdit:X,setOpenPopup:y,getAllOrderBook:ue})),a.a.createElement(ut,{title:"Update Customer OrderBook",openPopup:E,setOpenPopup:w},a.a.createElement(Na,{recordForEdit:X,setOpenPopup:w,getAllOrderBook:ue})))},Fa=["Delhi","Maharashtra"],Ga=[{label:"Seller State",key:"seller_state"},{label:"Approval Date",key:"order_book_date"},{label:"PI Date",key:"pi_date"},{label:"PI Number",key:"proforma_invoice"},{label:"Customer",key:"company"},{label:"Billing City",key:"billing_city"},{label:"Billing Address",key:"billing_address"},{label:"Billing Pincode",key:"billing_pincode"},{label:"Shipping City",key:"shipping_city"},{label:"Shipping Address",key:"shipping_address"},{label:"Shipping Pincode",key:"shipping_pincode"},{label:"Product",key:"product"},{label:"Pending Quantity",key:"pending_quantity"},{label:"Invoice Quantity",key:""},{label:"Rate",key:"rate"},{label:"Amount",key:""},{label:"Payment Terms",key:"payment_terms"},{label:"Delivery Terms",key:"delivery_terms"},{label:"Transporter Name",key:"transporter_name"},{label:"Place Of Supply",key:"place_of_supply"},{label:"Buyer Order No",key:"buyer_order_no"},{label:"Buyer Order Date",key:"buyer_order_date"},{label:"Estimated Date",key:"estimated_date"},{label:"Special Instruction",key:"special_instructions"}],Wa=[{label:"Customer",key:"company"},{label:"Approval Date",key:"order_book_date"},{label:"PI Date",key:"pi_date"},{label:"PI Number",key:"proforma_invoice"},{label:"Billing City",key:"billing_city"},{label:"Shipping City",key:"shipping_city"},{label:"Shipping Pincode",key:"shipping_pincode"},{label:"Billing Pincode",key:"billing_pincode"},{label:"Product",key:"product"},{label:"Quantity",key:"quantity"},{label:"Amount",key:"amount"},{label:"Pending Quantity",key:"pending_quantity"},{label:"Seller State",key:"seller_state"},{label:"Pending Amount",key:"pending_amount"},{label:"Estimated Date",key:"estimated_date"},{label:"Special Instruction",key:"special_instructions"}];function Ba(){Ba=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ra=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1];Object(n.useEffect)(function(){p()},[]);var p=function(){var e=Object(c.a)(Ba().mark(function e(){var t;return Ba().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,ea.getTotalPendingQuantity();case 4:t=e.sent,f(t.data),o(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o(!1);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),h=s.map(function(e,t){return{product:e.product__name,total:e.total}}),d=s.map(function(e){return{product__name:e.product__name,total:e.total}});return a.a.createElement("div",{style:{padding:"16px",margin:"16px",boxShadow:"0px 3px 6px #00000029",borderRadius:"4px",display:"flex",flexDirection:"column",backgroundColor:"rgb(255, 255, 255)"}},a.a.createElement(Pt,{open:r}),a.a.createElement("div",{style:{display:"flex"}},a.a.createElement("div",{style:{flexGrow:.9}}),a.a.createElement("div",{style:{flexGrow:2}},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Total Pending Quantity")),a.a.createElement("div",{style:{flexGrow:.5},align:"right"},a.a.createElement(fa.CSVLink,{data:d,headers:[{label:"Product",key:"product__name"},{label:"Total",key:"total"}],filename:"Total Pending Quantity.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}},a.a.createElement(yt.a,{color:"success",variant:"contained"},"Download CSV")))),a.a.createElement(Cn,{headers:["PRODUCT","TOTAL"],data:h,openInPopup:null,openInPopup2:null}))};function za(){za=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ma=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useRef)(),u=Object(n.useState)(!1),f=Object(l.a)(u,2),p=f[0],h=f[1],d=Object(n.useState)(""),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(!1),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(!1),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(1),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)(""),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useState)(0),B=Object(l.a)(W,2),R=B[0],z=B[1],M=Object(n.useState)([]),U=Object(l.a)(M,2),Y=U[0],q=U[1],V=Object(n.useState)(""),Q=Object(l.a)(V,2),H=Q[0],K=Q[1],J=Object(n.useState)(""),Z=Object(l.a)(J,2),X=Z[0],$=Z[1],ee=Object(n.useState)(null),te=Object(l.a)(ee,2),re=te[0],ne=te[1],ae=Object(n.useRef)(null),oe=Object(s.c)(function(e){return e.auth}).profile,ie=oe.sales_users||[],ce=[{label:"Search By State",value:"orderbook__proforma_invoice__seller_account__state"}].concat(Object(ln.a)(oe.groups.includes("Sales Executive")?[]:[{label:"Sales Person",value:"orderbook__proforma_invoice__raised_by__email"}])),le=function(){var e=Object(c.a)(za().mark(function e(){var t;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:t=e.sent,q(t),setTimeout(function(){ae.current.link.click()});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(c.a)(za().mark(function e(){var t,r;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h(!0),!X&&!F){e.next=8;break}return e.next=5,ea.getOrderBookData({type:"product",page:"all",filterType:H,filterValue:X,searchValue:F});case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,ea.getOrderBookData({type:"product",page:"all"});case 10:e.t0=e.sent;case 11:return t=e.t0,r=t.data.map(function(e){return oe.groups.includes("Factory-Mumbai-OrderBook")||oe.groups.includes("Factory-Delhi-OrderBook")?{product:e.product,order_book_date:e.order_book_date,pi_date:e.pi_date,proforma_invoice:e.proforma_invoice,quantity:e.quantity,pending_quantity:e.pending_quantity,pending_amount:e.pending_amount,company:e.company,billing_city:e.billing_city,shipping_city:e.shipping_city,seller_state:e.seller_state,estimated_date:e.estimated_date,special_instructions:e.special_instructions}:oe.groups.includes("Customer Service")?{product:e.product,order_book_date:e.order_book_date,pi_date:e.pi_date,proforma_invoice:e.proforma_invoice,quantity:e.quantity,amount:e.amount,pending_quantity:e.pending_quantity,company:e.company,billing_address:e.billing_address,billing_pincode:e.billing_pincode,shipping_address:e.shipping_address,shipping_pincode:e.shipping_pincode,seller_state:e.seller_state,estimated_date:e.estimated_date,special_instructions:e.special_instructions}:{product:e.product,order_book_date:e.order_book_date,pi_date:e.pi_date,proforma_invoice:e.proforma_invoice,quantity:e.quantity,amount:e.amount,pending_quantity:e.pending_quantity,pending_amount:e.pending_amount,company:e.company,billing_city:e.billing_city,shipping_city:e.shipping_city,billing_pincode:e.billing_pincode,shipping_pincode:e.shipping_pincode,seller_state:e.seller_state,estimated_date:e.estimated_date,special_instructions:e.special_instructions}}),h(!1),e.abrupt("return",r);case 17:e.prev=17,e.t1=e.catch(0),console.log(e.t1);case 20:return e.prev=20,h(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[0,17,20,23]])}));return function(){return e.apply(this,arguments)}}(),se=ce.find(function(e){return e.value===H}),fe=function(){var e=Object(c.a)(za().mark(function e(t){var r,n;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,ea.getOrderBookData(t);case 4:(r=e.sent)?(o(r.data.results),n=r.data.count,z(Math.ceil(n/25))):(he(),G("")),h(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),pe(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),pe=function(e){h(!1);var t="Server Error";if(e.response)switch(e.response.status){case 400:t=e.response.data.errors.name?e.response.data.errors.name:e.response.data.errors.non_field_errors;break;case 401:t=e.response.data.errors.code;break;default:t="Server Error"}else t="\u201cSorry, You Are Not Allowed to Access This Page\u201d Please contact to admin";y(t),i.current.focus()};Object(n.useEffect)(function(){he()},[]);var he=function(){var e=Object(c.a)(za().mark(function e(){return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe({type:"product",page:N,filterType:H,filterValue:X,searchValue:F});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(c.a)(za().mark(function e(t,r){return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe({type:"product",filterType:H,filterValue:t,searchValue:r});case 2:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),me=function(){var e=Object(c.a)(za().mark(function e(t,r){var n;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T(n=r),e.next=4,fe({type:"product",page:n,filterType:H,filterValue:X,searchValue:F});case 4:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),ve=r.map(function(e,t){return{id:e.id,approval_data:e.order_book_date,product:e.product,raised_by:e.raised_by,pi_date:e.pi_date,pi_no:e.proforma_invoice,quantity:e.quantity,pending_quantity:e.pending_quantity,amount:e.amount,pending_amount:e.pending_amount,est_date:e.est_date,special_instruction:e.special_instruction,company:e.company,billing_city:e.billing_city,shipping_city:e.shipping_city,revision:e.revision}}),ye=r.map(function(e,t){return{id:e.id,approval_data:e.order_book_date,product:e.product,raised_by:e.raised_by,pi_date:e.pi_date,pi_no:e.proforma_invoice,quantity:e.quantity,pending_quantity:e.pending_quantity,pending_amount:e.pending_amount,est_date:e.est_date,special_instruction:e.special_instruction,company:e.company,billing_city:e.billing_city,shipping_city:e.shipping_city,revision:e.revision}});return a.a.createElement("div",null,a.a.createElement(Pt,{open:p}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Sa,{errRef:i,errMsg:v}),a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},a.a.createElement(yr,{size:"small",sx:{width:300},value:se,onChange:function(e,t){K(t?t.value:"")},options:ce,getOptionLabel:function(e){return e.label},label:"Filter By"}),"orderbook__proforma_invoice__seller_account__state"===H&&a.a.createElement(yr,{size:"small",sx:{width:300,marginLeft:"10px"},value:X,onChange:function(e,t){$(t),de(t,F)},options:Ua.map(function(e){return e}),getOptionLabel:function(e){return e},label:"Filter By State"}),H.includes("orderbook__proforma_invoice__raised_by__email")&&a.a.createElement(yr,{size:"small",sx:{width:300,marginLeft:"10px"},value:X,onChange:function(e,t){$(t),de(t,F)},options:ie.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"}),a.a.createElement(Ta,{filterSelectedQuery:F,setFilterSelectedQuery:G,handleInputChange:function(e){G(F),de(X,F)},getResetData:function(){G(""),de(X,null)}}),a.a.createElement(yt.a,{sx:{marginLeft:"10px"},variant:"contained",onClick:le},"Download CSV"),Y.length>0&&a.a.createElement(fa.CSVLink,{headers:oe.groups.includes("Customer Service")?qa:Ya,data:Y,ref:ae,filename:"Product Order Book.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})),a.a.createElement(vt.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Product Order Book Details")),a.a.createElement(Cn,{headers:oe.groups.includes("Factory-Mumbai-OrderBook")&&oe.groups.includes("Factory-Delhi-OrderBook")?["ID","Approval Date","Product","Raised By","Pi Date","Pi No","Quantity","Pending Quantity","Amount","Pending Amount","EST DATE","Special Instructions","Company","Billing City","Shipping City","Revision","ACTION"]:["ID","Approval Date","Product","Raised By","Pi Date","Pi No","Quantity","Pending Quantity","Pending Amount","EST DATE","Special Instructions","Company","Billing City","Shipping City","Revision","ACTION"],data:oe.groups.includes("Factory-Mumbai-OrderBook")&&oe.groups.includes("Factory-Delhi-OrderBook")?ve:ye,openInPopup:(oe.groups.includes("Production")||oe.groups.includes("Production Delhi")||oe.groups.includes("Accounts"))&&function(e){try{var t=r.find(function(t){return t.id===e.id});ne(t),oe.groups.includes("Accounts")&&P(!0),(oe.groups.includes("Production")||oe.groups.includes("Production Delhi"))&&j(!0)}catch(n){console.log(n)}},openInPopup2:null}),a.a.createElement(Zn,{currentPage:N,totalPages:R,handlePageChange:me}))),a.a.createElement(ut,{maxWidth:"lg",title:"View Total Pending Quantity",openPopup:E,setOpenPopup:w},a.a.createElement(Ra,null)),a.a.createElement(ut,{title:"Update Product OrderBook",openPopup:_,setOpenPopup:j},a.a.createElement(Da,{recordForEdit:re,setOpenPopup:j,getAllOrderBook:he})),a.a.createElement(ut,{title:"Update Customer OrderBook",openPopup:k,setOpenPopup:P},a.a.createElement(Na,{recordForEdit:re,setOpenPopup:P,getAllOrderBook:he})))},Ua=["Delhi","Maharashtra"],Ya=[{label:"Product",key:"product"},{label:"Approval Date",key:"order_book_date"},{label:"PI Date",key:"pi_date"},{label:"PI Number",key:"proforma_invoice"},{label:"Quantity",key:"quantity"},{label:"Amount",key:"amount"},{label:"Pending Quantity",key:"pending_quantity"},{label:"Customer",key:"company"},{label:"Billing City",key:"billing_city"},{label:"Shipping City",key:"shipping_city"},{label:"Shipping Pincode",key:"shipping_pincode"},{label:"Billing Pincode",key:"billing_pincode"},{label:"Seller State",key:"seller_state"},{label:"Pending Amount",key:"pending_amount"},{label:"Estimated Date",key:"estimated_date"},{label:"Special Instruction",key:"special_instructions"}],qa=[{label:"Product",key:"product"},{label:"Approval Date",key:"order_book_date"},{label:"PI Date",key:"pi_date"},{label:"PI Number",key:"proforma_invoice"},{label:"Quantity",key:"quantity"},{label:"Amount",key:"amount"},{label:"Pending Quantity",key:"pending_quantity"},{label:"Customer",key:"company"},{label:"Billing City",key:"billing_city"},{label:"Billing Pincode",key:"billing_pincode"},{label:"Shipping Address",key:"shipping_address"},{label:"Shipping City",key:"shipping_city"},{label:"Shipping Pincode",key:"shipping_pincode"},{label:"Seller State",key:"seller_state"},{label:"Special Instruction",key:"special_instructions"}],Va=r(658),Qa=r(657);function Ha(){Ha=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ka=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),Ja=function(e){var t=e.setOpenPopup,r=e.getSalesInvoiceDetails,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],y=Object(n.useState)(""),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)([]),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)([]),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)([]),A=Object(l.a)(T,2),I=A[0],F=A[1],G=Object(n.useState)([{product:"",pending_quantity:"",quantity:"",rate:"",proforma_invoice:"",id:"",user:""}]),W=Object(l.a)(G,2),B=W[0],R=W[1],z=Object(n.useState)(0),M=Object(l.a)(z,2),U=M[0],Y=M[1],q=function(e,t){var r=Object(ln.a)(B);r[e][t.target.name]=parseFloat(t.target.value)||0,R(r);var n=function(e){return e.filter(function(e){return e.pending_quantity>0}).reduce(function(e,t){return e+(Number(t.quantity)||0)*(Number(t.rate)||0)},0)}(r);Y(n)},V=(new Date).toISOString().split("T")[0],Q=function(e){var t=e.target,r=t.name,n=t.value;F(Object(u.a)({},I,Object(Wt.a)({},r,n)))},H=function(){var e=Object(c.a)(Ha().mark(function e(t){var r,n;return Ha().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),f(!0),e.next=5,ea.getAllOrderBookDataWithSearch("all","customer",I.company);case 5:r=e.sent,n=r.data.filter(function(e){return e.products&&e.products.some(function(e){return e.pending_quantity>0})}),k(n),f(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),f(!1),console.log("err",e.t0),alert(e.t0.response.data.errors.proforma_invoice);case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(Ha().mark(function e(t){var r,n,a;return Ha().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{f(!0),r=[],n=[],t.map(function(e){return _(e),n.push(e.id),N(n),e.products.map(function(e){var t={product:e.product,pending_quantity:e.pending_quantity,requested_date:e.requested_date,rate:e.rate,proforma_invoice:e.proforma_invoice,id:e.id,raised_by:e.raised_by};return r.push(t),t})}),a=r.map(function(e){return{product:e.product,pending_quantity:e.pending_quantity,requested_date:e.requested_date,rate:e.rate,proforma_invoice:e.proforma_invoice,id:e.id,user:e.raised_by}}),R(a),f(!1)}catch(o){f(!1),console.log("err",o),alert(o.response.data.errors.proforma_invoice)}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(Ha().mark(function e(n){var a,o;return Ha().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),a=B.filter(function(e){return Number(e.pending_quantity)>0&&Number(e.quantity)>0}).map(function(e){e.pending_quantity,e.rate,e.requested_date;return Object(lr.a)(e,["pending_quantity","rate","requested_date"])}),o={invoice_type:"customer",order_book:O.id,order_book_list:D,generation_date:I.generation_date?I.generation_date:(new Date).toISOString().split("T")[0],products:a,place_of_supply:void 0!==I.place_of_supply?I.place_of_supply:O?O.place_of_supply:"",transporter_name:void 0!==I.transporter_name?I.transporter_name:O?O.transporter_name:""},f(!0),0===I.length){e.next=10;break}return e.next=8,ea.createSalesnvoiceData(o);case 8:t(!1),r();case 10:f(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),f(!1),m(!0),e.t0.response&&e.t0.response.data?400===e.t0.response.status&&E(e.t0.response.data.errors.non_field_errors):E(e.t0.response.data);case 18:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}(),Z=function(){m(!1),E("")};return a.a.createElement("div",null,a.a.createElement(Pt,{open:s}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return J(e)}},a.a.createElement(Lr.a,{open:d,autoHideDuration:1e4,onClose:Z,anchorOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement(Sr.a,{severity:"error",onClose:Z,sx:{width:"100%"}},a.a.createElement(Qa.a,null,"Error"),b)),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{sx:{minWidth:"8rem"},name:"company",size:"small",label:"search By Company Name",variant:"outlined",onChange:Q,value:I.company}),a.a.createElement(yt.a,{onClick:function(e){return H(e)},variant:"contained"},"Submit")),S&&S.length>0&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(mr.a,{name:"pi_number",multiple:!0,size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return K(t)},options:S,getOptionLabel:function(e){return"".concat(e.proforma_invoice," - ").concat(e.company)},sx:{minWidth:300},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"PI Number"}))}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"seller_state",size:"small",label:"Seller State",variant:"outlined",value:O?O.seller_state:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"seller_auto_number",size:"small",label:"Seller Auto Number",variant:"outlined",value:O?O.seller_auto_number:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"company",size:"small",label:"Company",variant:"outlined",value:O?O.company:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"shipping_address",size:"small",label:"Shipping Address",variant:"outlined",value:O?O.shipping_address:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"shipping_state",size:"small",label:"Shipping State",variant:"outlined",value:O?O.shipping_state:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"shipping_city",size:"small",label:"Shipping City",variant:"outlined",value:O?O.shipping_city:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"shipping_pincode",size:"small",label:"Shipping Pincode",variant:"outlined",value:O?O.shipping_pincode:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"billing_address",size:"small",label:"Billing Address",variant:"outlined",value:O?O.billing_address:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"billing_state",size:"small",label:"Billing State",variant:"outlined",value:O?O.billing_state:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"billing_city",size:"small",label:"Billing City",variant:"outlined",value:O?O.billing_city:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"billing_pincode",size:"small",label:"Billing Pincode",variant:"outlined",value:O?O.billing_pincode:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"transporter_name",size:"small",label:"Transporter Name",variant:"outlined",value:void 0!==I.transporter_name?I.transporter_name:O?O.transporter_name:"",error:""===I.transporter_name,onChange:Q})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"place_of_supply",size:"small",label:"Place of Supply",variant:"outlined",value:void 0!==I.place_of_supply?I.place_of_supply:O?O.place_of_supply:"",onChange:Q})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"generation_date",size:"small",label:"Generation Date",variant:"outlined",value:I.generation_date?I.generation_date:V,onChange:Q,inputProps:{max:V}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Ka,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),B&&B.length>0&&B.map(function(e,t){if(Number(e.pending_quantity)<=0)return null;var r=(Number(e.quantity)||0)*(Number(e.rate)||0);return a.a.createElement(a.a.Fragment,{key:t}," ",a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"product",size:"small",label:"Product",variant:"outlined",value:e.product})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"pending_quantity",size:"small",label:"Pending Quantity",variant:"outlined",value:e.pending_quantity})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity,onChange:function(e){return q(t,e)},error:e.pending_quantity<e.quantity,helperText:e.pending_quantity<e.quantity?"Quantity must be less than or equal to pending quantity":""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"amount",size:"small",label:"Amount",variant:"outlined",value:r.toFixed(2),InputProps:{readOnly:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:1},a.a.createElement(yt.a,{onClick:function(){return function(e){var t=Object(ln.a)(B);t.splice(e,1),R(t)}(t)},variant:"contained"},"Remove")))}),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"totalAmount",size:"small",label:"Total Amount",variant:"outlined",value:isNaN(U)?"":U.toFixed(2),InputProps:{readOnly:!0}}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},Za=r(110),Xa=r(50),$a=r.n(Xa),eo=r(138),to=r.n(eo),ro=r(74),no=r.n(ro),ao=r(75),oo=r.n(ao);function io(){io=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var co=function(e){var t=e.idForEdit,r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],s=o[1],f=Object(n.useState)([]),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)([]),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),w=E[0],x=E[1];console.log("idforedit",t);var O=function(){var e=Object(c.a)(io().mark(function e(){var r;return io().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,ea.getSalesnvoiceDataById(t);case 4:r=e.sent,s(r.data),_(r.data.products_si),g(r.data.hsn_table),x(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),x(!1);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){t&&O()},[t]),console.log("salesinvoicedata",i);for(var _=function(e){for(var t=[],r=0;r<e.length;r++){for(var n=!1,a=0;a<t.length;a++)if(t[a].product===e[r].product&&parseInt(t[a].rate)===parseInt(e[r].rate)){t[a].quantity=parseInt(t[a].quantity)+parseInt(e[r].quantity),t[a].amount=parseFloat(t[a].amount)+parseFloat(e[r].amount),t[a].total=parseFloat(t[a].amount)+parseFloat(e[r].total),t[a].gst=parseFloat(t[a].amount)+parseFloat(e[r].gst),n=!0;break}n||t.push(e[r])}d(t)},j=(i.amount_in_words?i.amount_in_words:"").split(" "),L=0;L<j.length;L++)j[L]=j[L].charAt(0).toUpperCase()+j[L].slice(1);var S=j.join(" "),k=Object(n.useRef)(),P=Object(Za.useReactToPrint)({content:function(){return k.current},documentTitle:"Sales Invoice Number ".concat(i.order_book)}),C=(i.total-i.amount).toFixed(2);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:w}),a.a.createElement("div",{className:"container-fluid mb-4",style:{border:"1px Solid #000000"}},a.a.createElement("div",{className:"row p-2"},a.a.createElement("div",{className:"col-xs-12 "}," ",a.a.createElement(yt.a,{variant:"contained",onClick:P},"Export")))),a.a.createElement("div",{className:"container-fluid m-0 p-0",style:{border:"1px Solid #000000"},ref:k},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-xs-12"},a.a.createElement("div",{className:"grid invoice",style:{padding:"10px"}},a.a.createElement("div",{className:"grid-body"},a.a.createElement("div",{className:"invoice-title"},a.a.createElement("div",{className:"row",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("div",{className:"col-md-2 align-self-center logos"},a.a.createElement("img",{src:$a.a,alt:"",Height:"60",width:"150"})),a.a.createElement("div",{className:"col-md-7",style:{marginRight:"1rem"}},a.a.createElement("div",{className:"text-center address"},a.a.createElement("strong",{style:Object(u.a)({},lo)},"Glutape India Private Limited"),a.a.createElement("br",null),a.a.createElement("p",{style:{fontSize:"0.50rem"}},i.seller_address,",",i.seller_city,",",i.seller_state,"-",i.seller_state_code,",",a.a.createElement("br",null),i.seller_pincode,", CIN No ;-",i.seller_cin_number,", P.No :- ",a.a.createElement("br",null),i.seller_contact,"E:",i.seller_email,",W:www.glutape.com"))),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-end msme"},a.a.createElement("img",{src:oo.a,alt:"",height:"50",width:"90"})),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-start iso"},a.a.createElement("img",{src:to.a,alt:"",height:"35",width:"90"}))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("p",{className:"text-center fs-6 fw-bold p-0 m-0"},"Sales Invoice"))),a.a.createElement("div",{className:"row",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("div",{className:"col-md-6",style:Object(u.a)({},lo)},a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},lo)},"Sales Invoice No & Date :"," ")," ",i.invoice_no," &"," ",i.generation_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},lo)},"Customer Name :"," ")," ",i.company)),a.a.createElement("div",{className:"col-md-6",style:Object(u.a)({},lo,{borderLeft:"1px Solid #000000"})},a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},lo)},"Place of Supply :"," "),i.place_of_supply),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},lo)},"Transporter Name :"," "),i.transporter_name),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},lo)},"Buyer Order No & Date :"," "),i.buyer_order_number," &"," ",i.buyer_order_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},lo)},"Payment Terms :"," ")," ",i.payment_terms),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},lo)},"Delivery Terms :"," ")," ",i.delivery_terms)))),a.a.createElement("div",{className:"row",style:Object(u.a)({},lo,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-6"},a.a.createElement("address",null,a.a.createElement("strong",{style:lo},"Billed To:"),a.a.createElement("br",null),i.buyer_details?a.a.createElement(a.a.Fragment,null,a.a.createElement("strong",{style:lo},"Company:"),i.buyer_details.name||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:lo},"Address:"),i.buyer_details.billing_address||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:lo},"City & State:"),i.buyer_details.billing_city||"N/A"," &"," ",i.buyer_details.billing_state||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:lo},"Pin Code:"),i.buyer_details.billing_pincode||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:lo},"GST Number:"),i.buyer_details.gst||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:lo},"PAN Number:"),i.buyer_details.pan||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:lo},"Contact:"),i.contact||"N/A"):a.a.createElement("p",null,"Buyer details are not available."))),a.a.createElement("div",{className:"col-md-6 justify-content-end",style:{borderLeft:"1px Solid #000000"}},a.a.createElement("address",{className:"justify-content-end"},a.a.createElement("strong",{style:lo},"Shipped To:"),a.a.createElement("br",null),i.buyer_details?a.a.createElement(a.a.Fragment,null,a.a.createElement("strong",{style:lo},"Company:"),i.buyer_details.name||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:lo},"Address:"),i.buyer_details.shipping_address||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:lo},"City & State:"),i.buyer_details.shipping_city||"N/A"," &"," ",i.buyer_details.shipping_state||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:lo},"Pin Code:"),i.buyer_details.shipping_pincode||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:lo},"GST Number:"),i.buyer_details.gst||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:lo},"PAN Number:"),i.buyer_details.pan||"N/A",a.a.createElement("br",null),a.a.createElement("strong",{style:lo},"Contact:"),i.contact||"N/A"):a.a.createElement("p",null,"Shipping details are not available.")))),a.a.createElement("div",{className:"row",style:Object(u.a)({},lo,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-12"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",{className:"line"},a.a.createElement("td",{className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},lo)},"SR.NO")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},lo)},"DESCRIPTION OF GOODS")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},lo)},"HSN COCE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},lo)},"QTY")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},lo)},"UNIT")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},lo)},"RATE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},lo)},"AMOUNT")))),a.a.createElement("tbody",null,h.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",{className:"text-start"},t+1),a.a.createElement("td",{className:"text-center"},e.description,a.a.createElement("br",null),e.product),a.a.createElement("td",{className:"text-center"},e.hsn_code),a.a.createElement("td",{className:"text-center"},e.quantity),a.a.createElement("td",{className:"text-center"},e.unit),a.a.createElement("td",{className:"text-center"},e.rate),a.a.createElement("td",{className:"text-center"},e.amount))}),a.a.createElement("tr",null,a.a.createElement("td",{colspan:"3.5",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},lo)},"Company Bank Details :"," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},lo)},"Company Name :"," "),"Glutape India Pvt Ltd"),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},lo)},"Bank :"," "),i.seller_details?i.seller_details.bank_name:"NA"," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},lo)},"Account No :"," "),i.seller_details?i.seller_details.account_no:"NA"),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},lo)},"Branch & IFSC Code :"," "),i.seller_details?i.seller_details.branch:"NA"," ","&",i.seller_details?i.seller_details.ifsc:"NA"),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},lo)},"Gst Number :"," "),i.seller_details?i.seller_details.gst:"NA"),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},lo)},"Pan Number :"," "),i.seller_details?i.seller_details.pan:"NA")),a.a.createElement("td",{colspan:"3"},a.a.createElement("strong",{style:Object(u.a)({},lo)},"Taxable Amount"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},lo)},"CGST Amount")," ",a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},lo)},"SGST Amount")," ",a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},lo)},"IGST Amount"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},lo)},"Round Off"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},lo)},"Total Amount")),a.a.createElement("td",{colspan:"0.5",className:"text-right"},a.a.createElement("span",null,i.amount),a.a.createElement("br",null),a.a.createElement("span",null,i.cgst?i.cgst:"-"),a.a.createElement("br",null),a.a.createElement("span",null,i.sgst?i.sgst:"-"),a.a.createElement("br",null),a.a.createElement("span",null,i.igst?i.igst:"-"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},lo)},i.round_off),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},lo)},i.round_off_total))))))),void 0!==i.amount_in_words&&a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},lo,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-8 text-right"},a.a.createElement("strong",null,"Amount in Words :-"),"\xa0\xa0",S)),y.length>0&&a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},lo,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-8 text-right table-responsive"},a.a.createElement("table",{className:"table table-bordered"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"HSN"),a.a.createElement("th",null,"TAXABLE AMOUNT"),a.a.createElement("th",null,"CGST"),a.a.createElement("th",null,"SGST"),a.a.createElement("th",null,"IGST"),a.a.createElement("th",null,"GST %"),a.a.createElement("th",null,"TOTAL GST"))),a.a.createElement("tbody",null,y.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,e.hsn_code),a.a.createElement("td",null,e.amount),a.a.createElement("td",null,e.cgst),a.a.createElement("td",null,e.sgst),a.a.createElement("td",null,e.igst),a.a.createElement("td",null,e.gst_percentage),a.a.createElement("td",null,e.total_gst))}),a.a.createElement("tr",null,a.a.createElement("td",{colspan:"1",className:"text-end"},a.a.createElement("strong",{style:Object(u.a)({},lo)},"Total :")),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},lo)},i.amount)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},lo)},i.cgst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},lo)},i.sgst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},lo)},i.igst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},lo)})),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},lo)},C))))))),a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},lo,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-12 text-right"},a.a.createElement("strong",{style:Object(u.a)({},lo)},"Terms and Condition :-"),uo.map(function(e,t){return a.a.createElement("p",{key:t,style:{margin:0,padding:0,fontSize:"0.50rem"}},e.id,e.text,a.a.createElement("br",null))}))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12 "},a.a.createElement("img",{src:no.a,alt:"",height:"60",width:"100%"})))))))))},lo={fontSize:"0.80rem"},uo=[{id:"1)",text:"Material once sold will not be taken back."},{id:"2)",text:"Material is delivered at owner's risk and with no liability of transportation damage to Glutape India Pvt Ltd. "},{id:"3)",text:"Our risk and Responsibility ceases as soon as the goods leave our premises."},{id:"4)",text:"In case the cargo is insured, a claim against insurance will be settled once the insurance claim gets sanctioned from the respective insurance company"},{id:"5)",text:"Please test Material before using."},{id:"6)",text:"No allowance for storage of difference in quality will be allowed unless the same is given to us within 24 hour of receipt insurance company."},{id:"7)",text:"Subjects to mumbai, Maharashtra jurisdiction only."},{id:"8)",text:"Validity of this Sales Invoice is 3 Days from Date of Proforma Invoice."}],so=r(43),fo=r.n(so),po=r(42),ho=r.n(po);function mo(){mo=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var vo=function(e){var t=e.idForEdit,r=e.getSalesInvoiceDetails,o=e.setOpenPopup,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=function(){var e=Object(c.a)(mo().mark(function e(n){var a;return mo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),f(!0),a={generation_date:t.generation_date,cancelled:d},e.next=6,ea.cancelSalesInvoice(t.invoice_no,a);case 6:o(!1),r(),f(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),f(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:s}),a.a.createElement(E.a,{variant:"body1"},"Are you sure you want to cancel the sales invoice?"),a.a.createElement(Xn.a,{checked:d,onChange:function(){return m(!d)},color:"primary"}),a.a.createElement(E.a,{variant:"body2",component:"label",htmlFor:"confirmCancel"},"Confirm cancellation"),a.a.createElement("br",null),a.a.createElement(yt.a,{variant:"contained",onClick:v,disabled:!d},"Cancel Sales Invoice"))},yo={getAllVendorData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("search",t),r&&n.append("vendor_source",r),Ze.get("api/inventory/list-vendor/?".concat(n.toString()))},createVendorData:function(e){return Ze.post("/api/inventory/list-vendor/",e)},getVendorDataById:function(e){return Ze.get("/api/inventory/list-vendor/".concat(e))},updateVendorData:function(e,t){return Ze.patch("/api/inventory/list-vendor/".concat(e),t)},createBankInventoryData:function(e){return Ze.post("/api/inventory/list-bank/",e)},updateBankInventoryData:function(e,t){return Ze.patch("/api/inventory/list-bank/".concat(e),t)},createContactInventoryData:function(e){return Ze.post("/api/inventory/list-contact/",e)},updateContactInventoryData:function(e,t){return Ze.patch("/api/inventory/list-contact/".concat(e),t)},createWareHouseInventoryData:function(e){return Ze.post("/api/inventory/list-warehouse/",e)},updatetWareHouseInventoryData:function(e,t){return Ze.patch("/api/inventory/list-warehouse/".concat(e),t)},getAllPurchaseOrderData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),void 0!==t&&n.append("close_short",t),r&&n.append("search",r),Ze.get("/api/inventory/purchase-order/?".concat(n.toString()))},createPurchaseOrderData:function(e){return Ze.post("/api/inventory/purchase-order/",e)},updatePurchaseOrderData:function(e,t){return Ze.patch("/api/inventory/purchase-order/".concat(e,"/"),t)},getAllPackingListData:function(e,t,r){console.log(e,t,r);var n=new URLSearchParams;return e&&n.append("page",e),void 0!==t&&n.append("accepted",t),r&&n.append("search",r),Ze.get("/api/inventory/list-packing-list/?".concat(n.toString()))},createPackingListData:function(e){return Ze.post("/api/inventory/list-packing-list/",e)},updatePackingListData:function(e,t){return Ze.patch("/api/inventory/list-packing-list/".concat(e,"/"),t)},getAllGRNData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),void 0!==t&&n.append("accepted",t),r&&n.append("search",r),Ze.get("api/inventory/list-grn/?".concat(n.toString()))},createGRNData:function(e){return Ze.post("/api/inventory/list-grn/",e)},getGRNDataById:function(e){return Ze.get("/api/inventory/list-grn/".concat(e))},updateGRNData:function(e,t){return Ze.patch("/api/inventory/list-grn/".concat(e),t)},getAllGRNRegisterDetails:function(e,t){var r=new URLSearchParams;return e&&r.append("year_month",e),t&&r.append("page",t),Ze.get("api/inventory/grn-register/?".concat(r.toString()))},getAllPurchaseInvoiceData:function(e,t,r){var n=new URLSearchParams;return n.append("invoice_type","Purchase"),e&&n.append("year_month",e),t&&n.append("page",t),r&&n.append("search",r),Ze.get("api/inventory/list-purchase-invoice/?".concat(n.toString()))},createPurchaseInvoiceData:function(e){return Ze.post("/api/inventory/list-purchase-invoice/",e)},getPurchaseInvoiceDataById:function(e){return Ze.get("/api/inventory/list-purchase-invoice/".concat(e))},createStoresInventoryData:function(e){return Ze.post("/api/inventory/list-stores-inventory/",e)},getAllConsStoresInventoryData:function(){return Ze.get("/api/inventory/list-con-stores-inventory/")},getDescriptionStoresInventoryDetails:function(e,t){var r=new URLSearchParams;return e&&r.append("unit",e),t&&r.append("search",t),Ze.get("api/inventory/description-stores-inventory/?".concat(r.toString()))},getJobWorkerInventoryData:function(){return Ze.get("api/inventory/job-worker-inventory/")},getProductCodeStoresInventoryDetails:function(e){return Ze.post("api/inventory/description-stores-inventory/cons_store_product/",e)},getAllProductStoresInventoryDetails:function(e){return Ze.post("api/inventory/description-stores-inventory/store_product/",e)},getAllMaterialRequisitionFormData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/inventory/list-material-requisition-form/?".concat(r.toString()))},createMaterialRequisitionFormData:function(e){return Ze.post("/api/inventory/list-material-requisition-form/",e)},updateMaterialRequisitionFormData:function(e,t){return Ze.patch("/api/inventory/list-material-requisition-form/".concat(e),t)},getAllBillofMaterialsData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),void 0!==t&&n.append("approved",t),r&&n.append("search",r),Ze.get("api/inventory/list-bill-of-materials/?".concat(n.toString()))},createBillofMaterialsData:function(e){return Ze.post("/api/inventory/list-bill-of-materials/",e)},updateBillofMaterialsData:function(e,t){return Ze.patch("/api/inventory/list-bill-of-materials/".concat(e),t)},getAllProductionEntryData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/inventory/list-production-entry/?".concat(r.toString()))},createProductionEntryData:function(e){return Ze.post("/api/inventory/list-production-entry/",e)},getAllMaterialTransferNoteData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("accepted",t),r&&n.append("search",r),Ze.get("/api/inventory/list-material-transfer-note/?".concat(n.toString()))},createMaterialTransferNoteData:function(e){return Ze.post("/api/inventory/list-material-transfer-note/",e)},updateMaterialTransferNoteData:function(e,t){return Ze.patch("/api/inventory/list-material-transfer-note/".concat(e),t)},getProductionInventoryData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("/api/inventory/list-production-inventory/?".concat(r.toString()))},getAllConsProductionInventoryData:function(){return Ze.get("/api/inventory/list-con-production-inventory/")},getAllProductionGAndLInventoryData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/inventory/list-production-gnl/?".concat(r.toString()))},getAllProductionShortFallData:function(){return Ze.get("/api/inventory/list-production-shortfall/")},getAllDailyProductionReport:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=new URLSearchParams;return e&&a.append("date_range_after",e),t&&a.append("date_range_before",t),a.append("page",r),n&&a.append("search",n),Ze.get("api/inventory/list-daily-production-report/?".concat(a.toString()))},getWeeklyProductionReportFilterData:function(e,t){return Ze.get("/api/inventory/list-weekly-product-quantity/?month=".concat(e,"&year=").concat(t))},getCurrencyData:function(){return Ze.get("/api/inventory/currency")},createCurrencyData:function(e){return Ze.post("/api/inventory/currency/",e)},updateCurrencyData:function(e,t){return Ze.patch("/api/inventory/currency/".concat(e,"/"),t)},getAllStoresInventoryDetails:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/inventory/list-stores-inventory/?".concat(r.toString()))},getAllSafetyStockData:function(){return Ze.get("/api/inventory/safety-stock/")},createSafetyStockData:function(e){return Ze.post("/api/inventory/safety-stock/",e)},updateSafetyStockData:function(e,t){return Ze.patch("/api/inventory/safety-stock/".concat(e,"/"),t)},getChalan:function(e){var t=new URLSearchParams;return e&&t.append("page",e),Ze.get("/api/inventory/challan/?".concat(t.toString()))},createChalan:function(e){return Ze.post("/api/inventory/challan/",e)},updateChalan:function(e,t){return Ze.patch("/api/inventory/challan/".concat(e,"/"),t)},getChallanInvoice:function(e){var t=new URLSearchParams;return e&&t.append("page",e),Ze.get("/api/inventory/challan-invoice/?".concat(t.toString()))},createChalanInvoice:function(e){return Ze.post("/api/inventory/challan-invoice/",e)},getPhysical:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("/api/inventory/physical-inventory/?".concat(r.toString()))},createPhysical:function(e){return Ze.post("/api/inventory/physical-inventory/",e)},updatePhysical:function(e,t){return Ze.patch("/api/inventory/physical-inventory/".concat(e,"/"),t)},getSalesReturnData:function(e,t){var r=new URLSearchParams;return r.append("invoice_type","Sales Return"),e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/inventory/list-purchase-invoice/?".concat(r.toString()))},getSalesReturnByIDData:function(e){return Ze.get("api/invoice/list-sales-invoice/".concat(e))},createSalesReturn:function(e){return Ze.post("/api/inventory/list-purchase-invoice/",e)},getSalesReturnInventoryData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/inventory/sales-return-inventory/?".concat(r.toString()))},updateSalesReturnInventoryData:function(e,t){return Ze.patch("api/inventory/sales-return-inventory/".concat(e,"/"),t)}};function go(){go=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var bo=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),Eo={someDate:(new Date).toISOString().substring(0,10)},wo=function(e){var t=e.getSalesInvoiceDetails,r=e.setOpenPopup,o=Object(n.useState)([]),i=Object(l.a)(o,2),s=i[0],f=i[1],p=Ln(),h=p.handleSuccess,d=p.handleError,m=p.handleCloseSnackbar,y=p.alertInfo,g=ra([{product:"",quantity:""}],s,!0),b=g.handleAutocompleteChange,E=g.handleFormChange,w=g.addFields,x=g.removeFields,O=g.products,_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)({from_unit:"",to_unit:"",generation_date:Eo.someDate,transport_cost:"",transporter_name:""}),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)([]),T=Object(l.a)(N,2),A=T[0],I=T[1],F=function(e){var t=e.target,r=t.name,n=t.value;D(Object(u.a)({},C,Object(Wt.a)({},r,n)))},G=function(e,t){D(Object(u.a)({},C,Object(Wt.a)({},e,t?t.unit:"")))},W=Object(n.useCallback)(Object(c.a)(go().mark(function e(){var t;return go().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yo.getAllConsStoresInventoryData();case 3:t=e.sent,console.log("response product",t.data),f(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("error potential",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),[]),B=function(){var e=Object(c.a)(go().mark(function e(){var t;return go().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ea.getAllPaginateSellerAccountData("all");case 3:t=e.sent,I(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error fetching seller account data:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){B(),W()},[]);var R=function(){var e=Object(c.a)(go().mark(function e(n){var a,o,i,c;return go().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=O.map(function(e){return{product:e.product,quantity:e.quantity}}),o={invoice_type:"unit",generation_date:C.generation_date||Eo.someDate,to_unit:C.to_unit,from_unit:C.from_unit,transporter_name:C.transporter_name,transport_cost:C.transport_cost,products:a},e.prev=3,S(!0),e.next=7,ea.createSalesnvoiceData(o);case 7:i=e.sent,c=i.data.message||"Branch Invoice created successfully!",h(c),r(!1),t(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),d(e.t0),console.error("Creating BI error",e.t0);case 18:return e.prev=18,S(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[3,14,18,21]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Sn,{open:y.open,onClose:m,severity:y.severity,message:y.message}),a.a.createElement(Pt,{open:L}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return R(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"from_unit",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return G("from_unit",t)},options:A,getOptionLabel:function(e){return e.unit},sx:{minWidth:300},label:"From Unit"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"to_unit",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return G("to_unit",t)},options:A,getOptionLabel:function(e){return e.unit},sx:{minWidth:300},label:"To Unit"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"generation_date",size:"small",label:"Generation Date",variant:"outlined",value:C.generation_date||Eo.someDate,onChange:F,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"transport_cost",size:"small",label:"Transport Cost",variant:"outlined",value:C.transport_cost,onChange:F})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"transporter_name",size:"small",label:"Transporter Name",variant:"outlined",value:C.transporter_name,onChange:F})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(bo,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),O.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:t},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,r){return b(t,e,r)},options:s.map(function(e){return e.product__name}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity,onChange:function(e){return E(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,alignContent:"right"},0!==t&&a.a.createElement(yt.a,{disabled:0===t,onClick:function(){return x(t)},variant:"contained"},"Remove")))}),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(yt.a,{onClick:w,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function xo(){xo=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Oo=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),_o=function(e){var t=e.idForEdit,r=e.setOpenPopup,o=e.getSalesInvoiceDetails,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(),h=Object(l.a)(p,2),d=h[0],m=h[1],y=Object(n.useState)([{product:"",quantity:"",rate:"",amount:""}]),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Ln(),x=w.handleSuccess,O=w.handleError,_=w.handleCloseSnackbar,j=w.alertInfo;Object(n.useEffect)(function(){L()},[t]);var L=function(){var e=Object(c.a)(xo().mark(function e(){var r;return xo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,yo.getSalesReturnByIDData(t);case 4:r=e.sent,m(r.data),E(r.data.products_si),f(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),f(!1),console.log("error",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}();console.log("salesreturn",d);var S=function(){var e=Object(c.a)(xo().mark(function e(t){var n,a,i,c;return xo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),n=b.map(function(e){return{product:e.product,quantity:e.quantity,rate:e.rate,amount:e.rate*e.quantity}}),a={invoice_type:"Sales Return",sales_invoive_no:d.invoice_no,gst_number:d.buyer_gst,pan_number:d.buyer_pan,state:d.billing_state,address:d.billing_address,city:d.billing_city,pincode:d.billing_pincode,supplier_name:d.company,country:d.billing_country,name:d&&d.seller_details?d.seller_details.name:"",seller_address:d.seller_address,seller_city:d.seller_city,seller_state:d.seller_state,seller_gst:d.seller_gst,seller_email:d.seller_email,seller_pan:d.seller_pan,seller_pincode:d.seller_pincode,seller_contact:d.seller_contact,seller_state_code:d.seller_state_code,seller_unit:d.seller_unit,products_data:n},f(!0),e.next=7,yo.createSalesReturn(a);case 7:i=e.sent,c=i.data.message||"Sales Return Created successfully",x(c),setTimeout(function(){r(!1),o()},300),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),O(e.t0);case 16:return e.prev=16,f(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:j.open,onClose:_,severity:j.severity,message:j.message}),a.a.createElement(Pt,{open:s}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return S(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Seller Unit",variant:"outlined",value:d?d.seller_unit:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Invoice No",variant:"outlined",value:d?d.invoice_no:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Supplier Name",variant:"outlined",value:d&&d.seller_details?d.seller_details.name:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"seller_state",size:"small",label:"Seller State",variant:"outlined",value:d?d.seller_state:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"company",size:"small",label:"Company",variant:"outlined",value:d?d.company:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"shipping_address",size:"small",label:"Shipping Address",variant:"outlined",value:d?d.shipping_address:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"shipping_state",size:"small",label:"Shipping State",variant:"outlined",value:d?d.shipping_state:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"shipping_city",size:"small",label:"Shipping City",variant:"outlined",value:d?d.shipping_city:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"shipping_pincode",size:"small",label:"Shipping Pincode",variant:"outlined",value:d?d.shipping_pincode:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"billing_address",size:"small",label:"Billing Address",variant:"outlined",value:d?d.billing_address:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"billing_state",size:"small",label:"Billing State",variant:"outlined",value:d?d.billing_state:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"billing_city",size:"small",label:"Billing City",variant:"outlined",value:d?d.billing_city:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"billing_pincode",size:"small",label:"Billing Pincode",variant:"outlined",value:d?d.billing_pincode:""})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Oo,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),b&&b.length>0&&b.map(function(e,t){if(Number(e.pending_quantity)<=0)return null;var r=(Number(e.quantity)||0)*(Number(e.rate)||0);return a.a.createElement(a.a.Fragment,{key:t}," ",a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"product",size:"small",label:"Product",variant:"outlined",value:e.product})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity,onChange:function(e){return function(e,t){var r=Object(ln.a)(b);r[e][t.target.name]=parseFloat(t.target.value)||0,E(r)}(t,e)},error:e.pending_quantity<e.quantity,helperText:e.pending_quantity<e.quantity?"Quantity must be less than or equal to pending quantity":""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"amount",size:"small",label:"Amount",variant:"outlined",value:r.toFixed(2),InputProps:{readOnly:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:1},a.a.createElement(yt.a,{onClick:function(){return function(e){var t=Object(ln.a)(b);t.splice(e,1),E(t)}(t)},variant:"contained"},"Remove")))})),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function jo(){jo=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Lo=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),So={someDate:(new Date).toISOString().substring(0,10)},ko=function(e){var t=e.getSalesInvoiceDetails,r=e.setOpenPopup,o=Ln(),i=o.handleSuccess,s=o.handleError,f=o.handleCloseSnackbar,p=o.alertInfo,h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],y=d[1],g=Object(n.useState)([{product:"",quantity:"",rate:"",user:"",amount:""}]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)({invoice_type:"",sales_return:"",generation_date:So.someDate,vendor:"",transporter_name:""}),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)([]),S=Object(l.a)(L,2),k=S[0],P=S[1],C=function(e){var t=e.target,r=t.name,n=t.value;j(Object(u.a)({},_,Object(Wt.a)({},r,n)))},D=function(e,t){var r=t.target,n=r.name,a=r.value,o=Object(ln.a)(E);if(o[e]=Object(u.a)({},o[e],Object(Wt.a)({},n,a)),"rate"===n||"quantity"===n){var i=parseFloat(o[e].rate)||0,c=parseFloat(o[e].quantity)||0;o[e].amount=(i*c).toFixed(2)}w(o)},N=function(){var e=Object(c.a)(jo().mark(function e(t){var r,n,a,o;return jo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,yo.getSalesReturnData("all",t);case 4:r=e.sent,n=r.data[0],a=n.products_data.map(function(e){return{product:e.product,quantity:e.quantity}}),w(a),j(function(e){return Object(u.a)({},e,{sales_return:n.invoice_no})}),o=r.data.message||"Sales Return Data Get successfully!",i(o),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),s(e.t0),console.error("Error fetching sales return data:",e.t0);case 17:return e.prev=17,y(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[0,13,17,20]])}));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(c.a)(jo().mark(function e(){var t;return jo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ea.getAllPaginateSellerAccountData("all");case 3:t=e.sent,P(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error fetching seller account data:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){T()},[]);var A=function(){var e=Object(c.a)(jo().mark(function e(n){var a,o,c;return jo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={invoice_type:"Supplier",generation_date:_.generation_date,sales_return:_.sales_return,transporter_name:_.transporter_name,vendor:_.vendor,seller_unit:_.seller_unit,products:E},e.prev=2,y(!0),e.next=6,ea.createSalesnvoiceData(a);case 6:o=e.sent,c=o.data.message||"Supplier Invoice created successfully!",i(c),r(!1),t(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),s(e.t0),console.error("Creating BI error",e.t0);case 17:return e.prev=17,y(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[2,13,17,20]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Sn,{open:p.open,onClose:f,severity:p.severity,message:p.message}),a.a.createElement(Pt,{open:m}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return A(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(ga,{onSearch:N,onReset:function(){j("")}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"seller_unit",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return function(e,t){j(Object(u.a)({},_,Object(Wt.a)({},e,t?t.unit:"")))}("seller_unit",t)},options:k,getOptionLabel:function(e){return e.unit},fullWidth:!0,label:"Seller Unit"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"generation_date",size:"small",label:"Generation Date",variant:"outlined",value:_.generation_date||So.someDate,onChange:C,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"vendor",size:"small",label:"Vendor",variant:"outlined",value:_.vendor,onChange:C})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"transporter_name",size:"small",label:"Transporter Name",variant:"outlined",value:_.transporter_name,onChange:C})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lo,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),E.map(function(e,t){var r=(Number(e.quantity)||0)*(Number(e.rate)||0);return a.a.createElement(a.a.Fragment,{key:t},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"product",size:"small",label:"Product",variant:"outlined",value:e.product,onChange:function(e){return D(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity,onChange:function(e){return D(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate,onChange:function(e){return D(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"amount",size:"small",label:"Amount",variant:"outlined",value:r.toFixed(2),InputProps:{readOnly:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:1},a.a.createElement(yt.a,{onClick:function(){return function(e){var t=Object(ln.a)(E);t.splice(e,1),w(t)}(t)},variant:"contained"},"Remove")))})),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Po(){Po=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Co=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(!1),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(!1),A=Object(l.a)(T,2),I=A[0],F=A[1],G=Object(n.useState)(!1),W=Object(l.a)(G,2),B=W[0],R=W[1],z=Object(n.useState)(),M=Object(l.a)(z,2),U=M[0],Y=M[1],q=Object(n.useState)(1),V=Object(l.a)(q,2),Q=V[0],H=V[1],K=Object(n.useState)(0),J=Object(l.a)(K,2),Z=J[0],X=J[1],$=Object(n.useState)(""),ee=Object(l.a)($,2),te=ee[0],re=ee[1],ne=Object(n.useState)(""),ae=Object(l.a)(ne,2),oe=ae[0],ie=ae[1],ce=Object(n.useState)([]),le=Object(l.a)(ce,2),ue=le[0],se=le[1],fe=Object(n.useState)(new Date),pe=Object(l.a)(fe,2),he=pe[0],de=pe[1],me=Object(n.useState)(new Date),ve=Object(l.a)(me,2),ye=ve[0],ge=ve[1],be=(new Date).toISOString().split("T")[0],Ee=new Date("2030-12-31").toISOString().split("T")[0],we=Object(n.useState)([]),xe=Object(l.a)(we,2),Oe=xe[0],_e=xe[1],je=Object(n.useRef)(null),Le=Ln(),Se=Le.handleError,ke=Le.handleCloseSnackbar,Pe=Le.alertInfo,Ce=function(){var e=Object(c.a)(Po().mark(function e(){var t;return Po().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De();case 2:t=e.sent,_e(t),setTimeout(function(){je.current.link.click()});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(c.a)(Po().mark(function e(){var t,r,n,a,i;return Po().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),t=ye?ye.toISOString().split("T")[0]:"",r=he?he.toISOString().split("T")[0]:"",e.next=6,ea.getSalesInvoiceData(t,r,"all",oe,te);case 6:return n=e.sent,a=n.data.filter(function(e){return!0!==e.cancelled}),i=[],a.forEach(function(e){var t={date:e.generation_date,invoice_no:e.invoice_no,seller_unit:e.seller_unit,customer:e.company,taxabale_amount:e.amount,gst:e.gst,total_amount:e.total};i.push(t)}),o(!1),e.abrupt("return",i);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:return e.prev=17,o(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[0,14,17,20]])}));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(c.a)(Po().mark(function e(){var t;return Po().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,ea.getAllPaginateSellerAccountData("all");case 4:t=e.sent,se(t.data),o(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o(!1);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){Ne()},[]);var Te=Object(n.useCallback)(Object(c.a)(Po().mark(function e(){var t,r,n;return Po().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),t=ye?ye.toISOString().split("T")[0]:"",r=he?he.toISOString().split("T")[0]:"",e.next=6,ea.getSalesInvoiceData("customer",t,r,Q,oe,te);case 6:n=e.sent,f(n.data.results),X(Math.ceil(n.data.count/25)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Se(e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])})),[ye,he,Q,oe,te]);Object(n.useEffect)(function(){Te()},[ye,he,Q,oe,te]);var Ae=function(e){Y(e),k(!0)},Ie=function(e){Y(e),N(!0)},Fe=function(e){console.log("item",e),Y(e),R(!0)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:Pe.open,onClose:ke,severity:Pe.severity,message:Pe.message}),a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{flexGrow:1}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(yr,{size:"small",onChange:function(e,t){return function(e){var t=e;if("Today"===t){var r=new Date;de(r),ge(r)}else if("Yesterday"===t){var n=new Date;n.setDate(n.getDate()-1),de(n),ge(n)}else if("Last 7 Days"===t){var a=new Date,o=new Date;o.setDate(o.getDate()-7),de(a),ge(o)}else if("Last 30 Days"===t){var i=new Date,c=new Date;c.setDate(c.getDate()-30),de(i),ge(c)}else if("This Month"===t){var l=new Date,u=new Date(l.getFullYear(),l.getMonth(),1);de(l),ge(u)}else if("Last Month"===t){var s=new Date;s.setDate(0);var f=new Date(s.getFullYear(),s.getMonth(),1);de(s),ge(f)}else"Custom Date"===t&&(ge(new Date),de(new Date),F(!0))}(t)},options:Ao.map(function(e){return e.value}),getOptionLabel:function(e){return e},label:"Filter By Date"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(yr,{size:"small",value:oe,onChange:function(e,t){return r=t,console.log("value",r),void ie(r);var r},options:ue.map(function(e){return e.unit}),getOptionLabel:function(e){return e},label:"Filter By State"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(ga,{onSearch:function(e){re(e),H(1)},onReset:function(){re(""),H(1)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(yt.a,{onClick:Ce,variant:"contained"},"Download CSV"),Oe.length>0&&a.a.createElement(fa.CSVLink,{headers:[{label:"Date",key:"date"},{label:"Invoice No",key:"invoice_no"},{label:"Unit",key:"seller_unit"},{label:"Customer",key:"customer"},{label:"Taxable Amount",key:"taxabale_amount"},{label:"GST",key:"gst"},{label:"Total Amount",key:"total_amount"}],data:Oe,ref:je,filename:"Sales Invoice.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})),a.a.createElement(Et.a,{item:!0,xs:12,md:4},a.a.createElement(yt.a,{onClick:function(){return m(!0)},variant:"contained"},"BranchInvoice"),a.a.createElement(yt.a,{onClick:function(){return b(!0)},variant:"outlined"},"Supplier Invoice")),a.a.createElement(Et.a,{item:!0,xs:12,md:5},a.a.createElement(vt.a,{display:"flex",justifyContent:"center"},a.a.createElement(E.a,{variant:"h4",sx:{mt:2,mb:2,fontWeight:"bold"}},"Sales Invoice"))),a.a.createElement(Et.a,{item:!0,xs:12,md:3,display:"flex",justifyContent:"flex-end"},a.a.createElement(yt.a,{onClick:function(){return _(!0)},variant:"contained",color:"success"},"SalesInvoice")))),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(No,null),a.a.createElement(No,{align:"center"},"DATE"),a.a.createElement(No,{align:"center"},"SALES INVOICE NUMBER"),a.a.createElement(No,{align:"center"},"UNIT"),a.a.createElement(No,{align:"center"},"TAXABLE AMOUNT"),a.a.createElement(No,{align:"center"},"GST"),a.a.createElement(No,{align:"center"},"TOTAL"),a.a.createElement(No,{align:"center"},"COMPANY"),a.a.createElement(No,{align:"center"},"PROFORMA INVOICE LIST"),a.a.createElement(No,{align:"center"},"PROFIT/LOSS %"),a.a.createElement(No,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,s.map(function(e){return a.a.createElement(Do,{key:e.id,row:e,openInPopup:Ae,openInPopup2:Ie,openInPopupSalesReturn:Fe})})))),a.a.createElement(Zn,{currentPage:Q,totalPages:Z,handlePageChange:function(e,t){return H(t)}}))),a.a.createElement(ut,{fullScreen:!0,title:"Create Branch Invoice",openPopup:d,setOpenPopup:m},a.a.createElement(wo,{getSalesInvoiceDetails:Te,setOpenPopup:m})),a.a.createElement(ut,{fullScreen:!0,title:"Create Supplier Invoice",openPopup:g,setOpenPopup:b},a.a.createElement(ko,{getSalesInvoiceDetails:Te,setOpenPopup:b})),a.a.createElement(ut,{fullScreen:!0,title:"Create Sales Invoice",openPopup:O,setOpenPopup:_},a.a.createElement(Ja,{getSalesInvoiceDetails:Te,setOpenPopup:_})),a.a.createElement(ut,{fullScreen:!0,title:"View Sales Invoice",openPopup:S,setOpenPopup:k},a.a.createElement(co,{idForEdit:U,getSalesInvoiceDetails:Te,setOpenPopup:k})),a.a.createElement(ut,{maxWidth:"xl",title:"Cancel Sales Invoice",openPopup:D,setOpenPopup:N},a.a.createElement(vo,{idForEdit:U,getSalesInvoiceDetails:Te,setOpenPopup:N})),a.a.createElement(ut,{fullScreen:!0,title:"Create Sales Return",openPopup:B,setOpenPopup:R},a.a.createElement(_o,{idForEdit:U,getSalesInvoiceDetails:Te,setOpenPopup:R})),a.a.createElement(ut,{openPopup:I,setOpenPopup:F,title:"Date Filter",maxWidth:"md"},a.a.createElement(vt.a,{sx:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",margin:"10px",padding:"20px"}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:5,sm:5,md:5,lg:5},a.a.createElement(Lt,{fullWidth:!0,label:"Start Date",variant:"outlined",size:"small",type:"date",id:"start-date",value:ye?ye.toISOString().split("T")[0]:"",min:be,max:Ee,onChange:function(e){var t=new Date(e.target.value);ge(t),de(new Date)}})),a.a.createElement(Et.a,{item:!0,xs:5,sm:5,md:5,lg:5},a.a.createElement(Lt,{fullWidth:!0,label:"End Date",variant:"outlined",size:"small",type:"date",id:"end-date",value:he?he.toISOString().split("T")[0]:"",min:ye?ye.toISOString().split("T")[0]:be,max:Ee,onChange:function(e){var t=new Date(e.target.value);de(t)},disabled:!ye})),a.a.createElement(Et.a,{item:!0,xs:2,sm:2,md:2,lg:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){ge(new Date),de(new Date)}},"Reset"))))))};function Do(e){var t=e.row,r=e.openInPopup,o=e.openInPopup2,i=e.openInPopupSalesReturn,c=Object(n.useState)(!1),u=Object(l.a)(c,2),f=u[0],p=u[1],h=Object(s.c)(function(e){return e.auth}).profile;return a.a.createElement(a.a.Fragment,null,a.a.createElement(To,{sx:{"& > *":{borderBottom:"unset"},textDecoration:t.cancelled?"line-through":"none"}},a.a.createElement(No,null,a.a.createElement(m.a,{"aria-label":"expand row",size:"small",onClick:function(){return p(!f)}},f?a.a.createElement(ho.a,null):a.a.createElement(fo.a,null))),a.a.createElement(No,{align:"center"},t.generation_date),a.a.createElement(No,{align:"center"},t.invoice_no),a.a.createElement(No,{align:"center"},t.seller_details.unit),a.a.createElement(No,{align:"center"},t.amount),a.a.createElement(No,{align:"center"},t.seller_details.gst),a.a.createElement(No,{align:"center"},t.total),a.a.createElement(No,{align:"center"},t.company),null!==t.proforma_invoice_list?a.a.createElement(No,{align:"center"},"".concat(t.proforma_invoice_list,",")):a.a.createElement(No,{align:"center"}),a.a.createElement(No,{align:"center"},t.profit_or_loss_pct),a.a.createElement(No,{align:"center"},a.a.createElement(yt.a,{variant:"text",onClick:function(){return r(t.invoice_no)}},"View"),(h.groups.includes("Accounts")||h.groups.includes("Accounts Billing Department"))&&a.a.createElement(yt.a,{variant:"text",color:"error",onClick:function(){return o(t)}},"Cancel"),(h.groups.includes("Director")||h.groups.includes("Accounts"))&&a.a.createElement(yt.a,{variant:"text",color:"success",onClick:function(){return i(t.invoice_no)}},"Sales Return"))),a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(Va.a,{in:f,timeout:"auto",unmountOnExit:!0},a.a.createElement(vt.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Product"),a.a.createElement(Rt.a,{size:"small","aria-label":"purchases"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{align:"center"},"PRODUCT CODE"),a.a.createElement(Ut.a,{align:"center"},"QUANTITY"),a.a.createElement(Ut.a,{align:"center"},"AMOUNT"),a.a.createElement(Ut.a,{align:"center"},"PROFIT/LOSS(PER UNIT)"))),a.a.createElement(Mt.a,null,t.products_si.map(function(e){return a.a.createElement(Yt.a,{key:e.date},a.a.createElement(Ut.a,{component:"th",scope:"row",align:"center"},e.product),a.a.createElement(Ut.a,{align:"center"},e.quantity),a.a.createElement(Ut.a,{align:"center"},e.amount),a.a.createElement(Ut.a,{align:"center"},e.profit_or_loss))}))))))))}var No=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14}),t}),To=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Ao=[{value:"Today"},{value:"Yesterday"},{value:"Last 7 Days"},{value:"Last 30 Days"},{value:"This Month"},{value:"Last Month"},{value:"Custom Date"}],Io=r(644),Fo=r(310),Go=r.n(Fo),Wo=r(309),Bo=r.n(Wo),Ro=function(){var e=JSON.parse(localStorage.getItem("user"));return e?e.refresh:null},zo=function(e){var t=JSON.parse(localStorage.getItem("user"));t||(t={}),t.access=e,localStorage.setItem("user",JSON.stringify(t))},Mo=function(e){console.log("user",JSON.stringify(e)),localStorage.setItem("user",JSON.stringify(e))},Uo=r(308),Yo=r.n(Uo);function qo(){qo=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Vo={backgroundColor:"#1bbd7e"},Qo=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(ht.a)(),h=Object(f.n)(),d=Object(s.b)(),v=Object(n.useRef)(),y=Object(n.useRef)(),g=Object(n.useState)({email:"",password:"",showPassword:!1}),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(""),O=Object(l.a)(x,2),_=O[0],j=O[1];Object(n.useEffect)(function(){v.current.focus()},[]),Object(n.useEffect)(function(){j("")},[E]);var L=function(e){return function(t){w(Object(u.a)({},E,Object(Wt.a)({},e,t.target.value)))}},S=function(){var e=Object(c.a)(qo().mark(function e(t){var r,n;return qo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,o(!0),d({type:"LOGIN_START"}),r={email:E.email,password:E.password},e.next=7,Ct.login(r);case 7:(n=e.sent).data.token.access&&(Mo(n.data.token),d({type:"LOGIN_SUCCESS",payload:n.data}),d(F(n.data)),k()),h("/user/analytics"),w(""),o(!1),e.next=21;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("err :>> ",e.t0),o(!1),e.t0.response?400===e.t0.response.status?j("Missing Username or Password"):401===e.t0.response.status?j("Unauthorized"):404===e.t0.response.status?j(e.t0.response.data.errors.non_field_errors):j("Login Failed"):j("please verify your email"),d({type:"LOGIN_FAIL",payload:_}),y.current.focus();case 21:case"end":return e.stop()}},e,null,[[1,14]])}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(qo().mark(function e(){var t;return qo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Ct.getProfile();case 4:t=e.sent,d(F(t.data)),o(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(dt.a,{theme:i},a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,null,a.a.createElement(Et.a,{align:"center"},a.a.createElement(bt.a,{style:Vo},a.a.createElement(Yo.a,null)),a.a.createElement("h2",null,"Sign In")),a.a.createElement(vt.a,{onSubmit:S,component:"form",noValidate:!0},a.a.createElement(Sa,{errMsg:_,errRef:y}),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(jt.a,{fullWidth:!0,name:"email",size:"small",label:"Email",variant:"outlined",ref:v,autoComplete:"off",onChange:L("email"),value:E.email,required:!0})),a.a.createElement(Et.a,{rowSpacing:.5,item:!0,xs:12},a.a.createElement(tr.a,{variant:"outlined",size:"small",fullWidth:!0},a.a.createElement(rr.a,{htmlFor:"outlined-adornment-password"},"Password"),a.a.createElement(Io.a,{id:"outlined-adornment-password",type:E.showPassword?"text":"password",value:E.password,onChange:L("password"),endAdornment:a.a.createElement(ha.a,{position:"end"},a.a.createElement(m.a,{"aria-label":"toggle password visibility",onClick:function(){w(Object(u.a)({},E,{showPassword:!E.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end"},E.showPassword?a.a.createElement(Bo.a,null):a.a.createElement(Go.a,null))),label:"Password"})))),a.a.createElement(Qn,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},text:"Sign In"}),a.a.createElement(Et.a,{container:!0,justifyContent:"center"},a.a.createElement(Et.a,{item:!0},a.a.createElement(p.b,{to:"/forgot-password",className:"link-primary"},"Forgot Password? Click Here"))))))},Ho=r(316),Ko=r.n(Ho),Jo=r(91),Zo=r(341);function Xo(){Xo=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var $o,ei,ti,ri,ni,ai,oi,ii,ci,li,ui,si,fi,pi,hi,di,mi=function(e){var t=e.handleToggle,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)(!1),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)(""),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Jo.b().shape({first_name:Jo.d().required("first name is required"),last_name:Jo.d().required("last name is required"),email:Jo.d().required("Email is required").email("Email is invalid"),contact:Jo.d().required("contact is required").matches(yi,"Phone number is not valid"),password:Jo.d().required("Please Enter your password").matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/,"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and one special case Character"),password2:Jo.d().required("Confirm Password is required").oneOf([Jo.c("password"),null],"Confirm Password does not match"),acceptTerms:Jo.a().oneOf([!0],"Accept Terms is required")}),b=Object(Zo.a)({initialValues:{first_name:"",last_name:"",email:"",contact:"",password:"",password2:""},validationSchema:g,onSubmit:function(){var e=Object(c.a)(Xo().mark(function e(t){var r,n;return Xo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={first_name:t.first_name,last_name:t.last_name,email:t.email,contact:t.contact,password:t.password,password2:t.password2},u(!0),e.next=5,Ct.register(r);case 5:n=e.sent,console.log("res :>> ",n),y(n.data.message),h(!0),u(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("error",e.t0),u(!1);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()}),w=Object(ht.a)();return a.a.createElement("div",null,a.a.createElement(dt.a,{theme:w},a.a.createElement(Pt,{open:i}),a.a.createElement(mt.a,{open:p,onClose:function(){return h(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},a.a.createElement(vt.a,{sx:vi},a.a.createElement(E.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"Verify Your Email"),a.a.createElement(E.a,{id:"modal-modal-description",sx:{mb:2,color:"#3980F4"}},v),a.a.createElement(yt.a,{variant:"contained",onClick:function(){return t(!0)}},"LOGIN"))),a.a.createElement(Et.a,null,a.a.createElement(Et.a,{align:"center"},a.a.createElement(bt.a,{style:{backgroundColor:"#1bbd7e"}},a.a.createElement(Ko.a,null)),a.a.createElement("h2",{style:{margin:0}},"Sign Up"),a.a.createElement(E.a,{variant:"caption",gutterBottom:!0},"Please fill this form to create an account !")),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:b.handleSubmit,sx:{mt:"1em"}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{required:!0,name:"first_name",size:"small",label:"First Name",variant:"outlined",value:b.values.first_name,onChange:b.handleChange,error:b.touched.first_name&&Boolean(b.errors.first_name),helperText:b.touched.first_name&&b.errors.first_name})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{required:!0,name:"last_name",size:"small",label:"Last Name",variant:"outlined",value:b.values.last_name,onChange:b.handleChange,error:b.touched.last_name&&Boolean(b.errors.last_name),helperText:b.touched.last_name&&b.errors.last_name})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{required:!0,name:"email",fullWidth:!0,size:"small",label:"Email",variant:"outlined",value:b.values.email,onChange:b.handleChange,error:b.touched.email&&Boolean(b.errors.email),helperText:b.touched.email&&b.errors.email})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{required:!0,name:"contact",fullWidth:!0,size:"small",label:"Contact No.",type:"phone",variant:"outlined",value:b.values.contact,onChange:b.handleChange,error:b.touched.contact&&Boolean(b.errors.contact),helperText:b.touched.contact&&b.errors.contact})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{required:!0,name:"password",size:"small",type:"password",label:"Password",variant:"outlined",value:b.values.password,onChange:b.handleChange,error:b.touched.password&&Boolean(b.errors.password),helperText:b.touched.password&&b.errors.password})),a.a.createElement(Et.a,{rowSpacing:.5,item:!0,xs:12,sm:6},a.a.createElement(Lt,{required:!0,name:"password2",size:"small",type:"Password",label:"Confirm Password",variant:"outlined",value:b.values.password2,onChange:b.handleChange,error:b.touched.password2&&Boolean(b.errors.password2),helperText:b.touched.password2&&b.errors.password}))),a.a.createElement(Qn,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},text:"Sign Up"}),a.a.createElement(Et.a,{container:!0,justifyContent:"center"},a.a.createElement(Et.a,{item:!0},a.a.createElement(yt.a,{onClick:function(){return t(!0)},variant:"text"},"Already have an account? Sign in")))))))},vi={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},yi=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,gi=r(37),bi=r(58),Ei=bi.a.div($o||($o=Object(gi.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  height: 100vh;\n"]))),wi=bi.a.div(ei||(ei=Object(gi.a)(["\n  background-color: #fff;\n  border-radius: 10px;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n  position: relative;\n  overflow: hidden;\n  width: 800px;\n  max-width: 100%;\n  min-height: 500px;\n"]))),xi=bi.a.div(ti||(ti=Object(gi.a)(["\n  position: absolute;\n  top: 0;\n  height: 100%;\n  transition: all 0.6s ease-in-out;\n  left: 0;\n  width: 50%;\n  opacity: 0;\n  z-index: 1;\n  ","\n"])),function(e){return!0!==e.signinIn?"\n transform: translateX(100%);\nopacity: 1;\nz-index: 5;\n":null}),Oi=bi.a.div(ri||(ri=Object(gi.a)(["\n  position: absolute;\n  top: 0;\n  height: 100%;\n  transition: all 0.6s ease-in-out;\n  left: 0;\n  width: 50%;\n  z-index: 2;\n  ","\n"])),function(e){return!0!==e.signinIn?"transform: translateX(100%);":null}),_i=bi.a.div(ni||(ni=Object(gi.a)(["\n  background-color: #ffffff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: 0 50px;\n  height: 100%;\n  text-align: center;\n"]))),ji=bi.a.h1(ai||(ai=Object(gi.a)(["\n  font-weight: bold;\n  margin: 0;\n"]))),Li=(bi.a.input(oi||(oi=Object(gi.a)(["\n  background-color: #eee;\n  border: none;\n  padding: 12px 15px;\n  margin: 8px 0;\n  width: 100%;\n"]))),bi.a.button(ii||(ii=Object(gi.a)(["\n  border-radius: 20px;\n  border: 1px solid #ff4b2b;\n  background-color: #ff4b2b;\n  color: #ffffff;\n  font-size: 12px;\n  font-weight: bold;\n  padding: 12px 45px;\n  letter-spacing: 1px;\n  text-transform: uppercase;\n  transition: transform 80ms ease-in;\n\n  &:active {\n    transform: scale(0.95);\n  }\n\n  &:focus {\n    outline: none;\n  }\n"])))),Si=Object(bi.a)(Li)(ci||(ci=Object(gi.a)(["\n  background-color: transparent;\n  border-color: #ffffff;\n"]))),ki=(bi.a.a(li||(li=Object(gi.a)(["\n  color: #333;\n  font-size: 14px;\n  text-decoration: none;\n  margin: 15px 0;\n"]))),bi.a.div(ui||(ui=Object(gi.a)(["\n  position: absolute;\n  top: 0;\n  left: 50%;\n  width: 50%;\n  height: 100%;\n  overflow: hidden;\n  transition: transform 0.6s ease-in-out;\n  z-index: 100;\n  ","\n"])),function(e){return!0!==e.signinIn?"transform: translateX(-100%);\n":null})),Pi=bi.a.div(si||(si=Object(gi.a)(["\n  background: #006ba1; /* Add the desired color */\n  //   background: -webkit-linear-gradient(to right, #006ba1, #ff4b2b, #ff416c);\n  //   background: linear-gradient(to right, #006ba1, #ff4b2b, #ff416c);\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: 0 0;\n  color: #ffffff;\n  position: relative;\n  left: -100%;\n  height: 100%;\n  width: 200%;\n  transform: translateX(0);\n  transition: transform 0.6s ease-in-out;\n  ","\n"])),function(e){return!0!==e.signinIn?"transform: translateX(50%);":null}),Ci=bi.a.div(fi||(fi=Object(gi.a)(["\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: 0 40px;\n  text-align: center;\n  top: 0;\n  height: 100%;\n  width: 50%;\n  transform: translateX(0);\n  transition: transform 0.6s ease-in-out;\n"]))),Di=Object(bi.a)(Ci)(pi||(pi=Object(gi.a)(["\n  transform: translateX(-20%);\n  ","\n"])),function(e){return!0!==e.signinIn?"transform: translateX(0);":null}),Ni=Object(bi.a)(Ci)(hi||(hi=Object(gi.a)(["\n  right: 0;\n  transform: translateX(0);\n  ","\n"])),function(e){return!0!==e.signinIn?"transform: translateX(20%);":null}),Ti=bi.a.p(di||(di=Object(gi.a)(["\n  font-size: 14px;\n  font-weight: 100;\n  line-height: 20px;\n  letter-spacing: 0.5px;\n  margin: 20px 0 30px;\n"]))),Ai=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),r=t[0],o=t[1],i=function(e){o(e)};return a.a.createElement(Ei,null,a.a.createElement(wi,null,a.a.createElement(xi,{signinIn:r},a.a.createElement(_i,null,a.a.createElement(mi,{handleToggle:i}))),a.a.createElement(Oi,{signinIn:r},a.a.createElement(_i,null,a.a.createElement(Qo,null))),a.a.createElement(ki,{signinIn:r},a.a.createElement(Pi,{signinIn:r},a.a.createElement(Di,{signinIn:r},a.a.createElement(ji,null,"Welcome to Glutape!"),a.a.createElement(Ti,null,"Enter your personal details and start your journey with us"),a.a.createElement(Si,{onClick:function(){return i(!0)}},"Sign In")),a.a.createElement(Ni,{signinIn:r},a.a.createElement(ji,null,"Hello, Team!"),a.a.createElement(Ti,null,"To keep connected with us please login with your personal info"),a.a.createElement(Si,{onClick:function(){return i(!1)}},"Sign Up"))))))},Ii=r(612),Fi=[{type:"text",label:"First Name",name:"first_name"},{type:"text",label:"Middle Name",name:"middle_name"},{type:"text",label:"Last Name",name:"last_name"},{type:"email",label:"Email",name:"email"},{type:"tel",label:"Contact",name:"contact"},{type:"autocomplete",label:"Gender",name:"gender",options:["Male","Female","Others"]},{type:"date",label:"Date of Birth",name:"date_of_birth"},{type:"text",label:"Place of Birth",name:"place_of_birth"},{type:"autocomplete",label:"Nationality",name:"nationality",options:["Indian","Canadian","British","Chineese","Japaneese","Pakistani","Arabic","Others"]},{type:"autocomplete",label:"Religion",name:"religion",options:["Christianity","Islam","Hinduism","Buddhism","Sikhism","Judaism","No religion","Others"]},{type:"autocomplete",label:"Marital Status",name:"marital_status",options:["Married","Unmarried"]},{type:"conditionalDate",label:"Marriage Date",name:"marriage_date",condition:"Married"},{type:"date",label:"Date of Joining",name:"date_of_joining"},{type:"autocomplete",label:"Blood Group",name:"blood_group",options:["A+","A-","B+","B-","AB+","AB-","O+","O-"]}],Gi=function(e){var t=e.formData,r=e.setFormData,n=function(e){var t=e.target,n=t.name,a=t.value,o=n.split(".")[1];r(function(e){return Object(u.a)({},e,{personal:Object(u.a)({},e.personal,Object(Wt.a)({},o,a))})})};return a.a.createElement(a.a.Fragment,null,Fi.map(function(e,r){var o=t.personal[e.name]||"";switch(e.type){case"autocomplete":return a.a.createElement(Et.a,{item:!0,xs:12,sm:4,key:r},a.a.createElement(yr,{options:e.options,fullWidth:!0,size:"small",value:o,onChange:function(t,r){n({target:{name:"personal.".concat(e.name),value:r||""}})},renderInput:function(t){return a.a.createElement(Lt,Object.assign({},t,{label:e.label}))}}));case"conditionalDate":if(t.personal.marital_status===e.condition)return a.a.createElement(Et.a,{item:!0,xs:12,sm:4,key:r},a.a.createElement(Lt,{fullWidth:!0,type:"date",size:"small",label:e.label,name:"personal.".concat(e.name),value:o,onChange:n,InputLabelProps:{shrink:!0}}));break;default:return a.a.createElement(Et.a,{item:!0,xs:12,sm:4,key:r},a.a.createElement(Lt,{fullWidth:!0,type:e.type,size:"small",label:e.label,name:"personal.".concat(e.name),value:o,onChange:n,disabled:e.disabled,InputLabelProps:"date"===e.type?{shrink:!0}:{}}))}return null}))};function Wi(){Wi=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Bi=function(e){var t=e.type,r=e.formData,n=e.setFormData,o=a.a.useState(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],p=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},h=function(e){var t=e.target,a=t.name,o=t.value,i=Object(u.a)({},r.address),c=a.split("_"),s=Object(l.a)(c,2),f=s[0],p=s[1];i[f][p]=o,n(function(e){return Object(u.a)({},e,{address:i})})},d=function(){var e=Object(c.a)(Wi().mark(function e(t){var r;return Wi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.target.value,h(t),6===r.length&&m(t);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(Wi().mark(function e(a){var o,i,c;return Wi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.target.value,e.prev=1,f(!0),e.next=5,Je.a.get("https://api.postalpincode.in/pincode/".concat(o));case 5:"Success"===(i=e.sent).data[0].Status?((c=Object(u.a)({},r.address))[t].city=i.data[0].PostOffice[0].District,c[t].state=i.data[0].PostOffice[0].State,n(function(e){return Object(u.a)({},e,{address:c})})):console.log("Pincode not valid or data not found."),f(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("Error validating pincode",e.t0),f(!1);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),v=function(e){return"".concat(t,"_").concat(e)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:s}),"permanent"===t&&a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Cr.a,{control:a.a.createElement(Xn.a,{checked:r.address.permanent.is_permanent_same_as_current||!1,onChange:function(e){var t=e.target.checked,a=Object(u.a)({},r.address);t?(a.permanent=Object(u.a)({},a.current),a.permanent.is_permanent_same_as_current=!0):a.permanent={address:"",city:"",state:"",pin:"",is_permanent_same_as_current:!1},n(function(e){return Object(u.a)({},e,{address:a})})},name:"is_permanent_same_as_current",color:"primary"}),label:"Same as Current Address"})),["address","pin","city","state"].map(function(e,n){return a.a.createElement(Et.a,{item:!0,xs:12,sm:n>0?4:12,key:e},a.a.createElement(Lt,{fullWidth:!0,size:"small",disabled:["city","state"].includes(e),label:"".concat(p(t)," ").concat(p(e)),name:v(e),value:r.address[t][e],onChange:"pin"===e?d:h,InputLabelProps:{shrink:!!r.address[t][e]||void 0}}))}))},Ri=function(e){var t=e.formData,r=e.setFormData,n=["Father","Mother","Brother","Sister","Spouse","Son","Daughter","Uncle","Aunt","Friend","Neighbour"],o=function(e,n){var a=e.target,o=a.name,i=a.value,c=Object(ln.a)(t.emergency_contacts);c[n][o]=i,r(Object(u.a)({},t,{emergency_contacts:c}))};return a.a.createElement(a.a.Fragment,null,t.emergency_contacts.map(function(e,i){return a.a.createElement(a.a.Fragment,{key:i},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Emergency Contact Person Name",name:"name",value:e.name||"",onChange:function(e){return o(e,i)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{options:n,fullWidth:!0,size:"small",value:e.relationship||"",onChange:function(e,t){o({target:{name:"relationship",value:t||""}},i)},label:"Emergency Contact Relationship"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Emergency Contact Number",type:"tel",name:"number",value:e.number||"",onChange:function(e){return o(e,i)}})),t.emergency_contacts.length>1&&a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"error",onClick:function(){return function(e){var n=Object(ln.a)(t.emergency_contacts);n.splice(e,1),r(Object(u.a)({},t,{emergency_contacts:n}))}(i)}},"Remove Contact")))}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yt.a,{variant:"contained",onClick:function(){var e=Object(ln.a)(t.emergency_contacts);e.push({name:"",relationship:"",number:""}),r(Object(u.a)({},t,{emergency_contacts:e}))}},"Add Emergency Contact")))},zi=function(e){var t=e.formData,r=e.setFormData,n=function(e,t){var n=e.split(".");if(2===n.length){var a=n[1];r(function(e){return Object(u.a)({},e,{pf_esi_details:Object(u.a)({},e.pf_esi_details,Object(Wt.a)({},a,t))})})}else r(function(r){return Object(u.a)({},r,Object(Wt.a)({},e,t))})};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{options:["Yes","No"],fullWidth:!0,size:"small",value:t.pf_esi_details.has_pf_esi_account||"",onChange:function(e,t){return n("pf_esi_details.has_pf_esi_account",t||"")},label:"Do you have PF & ESI Account"})),"Yes"===t.pf_esi_details.has_pf_esi_account&&a.a.createElement(a.a.Fragment,null,["UAN No.","PF No.","ESI No."].map(function(e,r){var o=["uan_number","pf_number","esi_number"];return a.a.createElement(Et.a,{key:e,item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:e,name:"pf_esi_details.".concat(o[r]),value:t.pf_esi_details[o[r]],onChange:function(e){return n(e.target.name,e.target.value)}}))})))},Mi=["Yes","No"],Ui=[{label:"Known Allergies",name:"known_allergies",options:null},{label:"Previous Surgeries",name:"previous_surgeries",options:null},{label:"Surgery Type",name:"surgery_type",options:null},{label:"Diabetic",name:"diabetic",options:Mi},{label:"Asthma or Respiratory Issues",name:"asthama_respiratory",options:Mi},{label:"Vision Impairments",name:"vision",options:Mi},{label:"Hearing Impairments",name:"hearing",options:Mi},{label:"Hyper Tension",name:"hyper_tension",options:Mi},{label:"Heart Issues",name:"heart_issues",options:Mi},{label:"Cancer",name:"cancer",options:Mi},{label:"High Blood Pressure",name:"high_blood_pressure",options:Mi},{label:"Low Blood Pressure",name:"low_blood_pressure",options:Mi},{label:"Pregnancy",name:"pregnancy",options:[].concat(Mi,["Not Applicable"])}],Yi=function(e){var t=e.label,r=e.name,n=e.value,o=e.options,i=e.handleChange;return a.a.createElement(yr,{options:o||[],fullWidth:!0,size:"small",value:n,onChange:function(e,t){return i(r,t)},renderInput:function(e){return a.a.createElement(Lt,Object.assign({label:t},e))}})},qi=function(e){var t=e.formData,r=e.setFormData,n=function(e,t){r(function(r){return Object(u.a)({},r,{medical:Object(u.a)({},r.medical,Object(Wt.a)({},e,t))})})},o=function(e){return t.medical&&t.medical[e]};return a.a.createElement(Et.a,{container:!0,spacing:2},Ui.map(function(e){var t=e.label,r=e.name,i=e.options;return a.a.createElement(Et.a,{item:!0,xs:12,sm:4,key:r},i?a.a.createElement(Yi,{label:t,name:r,value:o(r)||"",options:i,handleChange:n}):a.a.createElement(Lt,{fullWidth:!0,size:"small",label:t,name:"medical.".concat(r),value:o(r)||"",onChange:function(e){return n(r,e.target.value)}}))}))},Vi=function(e){var t=e.formData,r=e.setFormData,n=function(e){var t=e.target,n=t.name,a=t.value,o=n.split(".")[1];r(function(e){return Object(u.a)({},e,{doctor:Object(u.a)({},e.doctor,Object(Wt.a)({},o,a))})})};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Doctor's Name",name:"doctor.name",value:t.doctor.name||"",onChange:function(e){return n(e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Doctor's Phone Number",name:"doctor.phone_number",value:t.doctor.phone_number||"",onChange:function(e){return n(e)}})))},Qi=["Yes","No"],Hi=function(e){var t=e.formData,r=e.setFormData,n=function(e){var t=e.target,n=t.name,a=t.value,o=n.split(".")[1];r(function(e){return Object(u.a)({},e,{addiction:Object(u.a)({},e.addiction,Object(Wt.a)({},o,a))})})};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{options:Qi,fullWidth:!0,size:"small",value:t.addiction.tobacco,onChange:function(e,t){n({target:{name:"addiction.tobacco",value:t||""}})},label:"Tobacco"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{options:Qi,fullWidth:!0,size:"small",value:t.addiction.cigarettes,onChange:function(e,t){n({target:{name:"addiction.cigarettes",value:t||""}})},label:"Cigarettes"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{options:Qi,fullWidth:!0,size:"small",value:t.addiction.alcohol,onChange:function(e,t){n({target:{name:"addiction.alcohol",value:t||""}})},label:"Alcohol"})))},Ki=[{section:"school",type:"text",label:"10th School Name",name:"name"},{section:"school",type:"text",label:"Board",name:"board"},{section:"school",type:"number",label:"Passout Year",name:"passout"},{section:"college",type:"text",label:"12th School/College Name",name:"name"},{section:"college",type:"text",label:"Board",name:"board"},{section:"college",type:"number",label:"Passout Year",name:"passout"},{section:"diploma",type:"text",label:"Diploma Type",name:"type"},{section:"diploma",type:"text",label:"Diploma University Name",name:"uni_name"},{section:"diploma",type:"number",label:"Passout Year",name:"passout"},{section:"graduation",type:"text",label:"Graduation Type",name:"type"},{section:"graduation",type:"text",label:"Graduation University Name",name:"university"},{section:"graduation",type:"number",label:"Passout Year",name:"passout"},{section:"pg",type:"text",label:"Post Graduation / Masters",name:"masters"},{section:"pg",type:"number",label:"Passout Year",name:"passout"},{section:"education",type:"text",label:"Additional Educational Qualifications",name:"additional_qualifiction"}],Ji=function(e){var t=e.formData,r=e.setFormData;return a.a.createElement(a.a.Fragment,null,Ki.map(function(e,n){var o=function(e){return t&&t.education?"education"===e.section?t.education[e.name]||"":t.education[e.section]&&t.education[e.section][e.name]||"":""}(e);return a.a.createElement(Et.a,{item:!0,xs:12,sm:4,key:n},a.a.createElement(Lt,{fullWidth:!0,type:e.type,size:"small",label:e.label,name:e.name,value:o,onChange:function(n){return function(e,n){var a=e.target,o=a.name,i=a.value,c=Object(u.a)({},t.education);"education"===n?c[o]=i:(c[n]||(c[n]={}),c[n][o]=i),r(function(e){return Object(u.a)({},e,{education:c})})}(n,e.section)},InputLabelProps:"date"===e.type?{shrink:!0}:{}}))}))},Zi=function(e){var t=e.formData,r=e.setFormData,n=function(e,n){var a=e.target,o=a.name,i=a.value,c=Object(ln.a)(t.employment_history);c[n][o]=i,r(Object(u.a)({},t,{employment_history:c}))};return a.a.createElement(a.a.Fragment,null,t.employment_history.map(function(e,o){return a.a.createElement(a.a.Fragment,{key:o},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Company Name",name:"company_name",value:e.company_name||"",onChange:function(e){return n(e,o)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Designation",name:"post_held",value:e.post_held||"",onChange:function(e){return n(e,o)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Worked From",type:"date",name:"workedFrom",value:e.workedFrom,onChange:function(e){return n(e,o)},InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Worked Till",type:"date",name:"workedTill",value:e.workedTill,onChange:function(e){return n(e,o)},InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},t.employment_history.length>1&&a.a.createElement(yt.a,{variant:"contained",color:"error",onClick:function(){return function(e){var n=Object(ln.a)(t.employment_history);n.splice(e,1),r(Object(u.a)({},t,{employment_history:n}))}(o)}},"Remove")))}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yt.a,{variant:"contained",onClick:function(){var e=t.employment_history.map(function(e){return e.company_name.toLowerCase()});if(new Set(e).size!==e.length)alert("Please ensure that the employer names are unique.");else{var n=[].concat(Object(ln.a)(t.employment_history),[{company_name:"",post_held:"",workedFrom:"",workedTill:""}]);r(Object(u.a)({},t,{employment_history:n}))}}},"Add More")))},Xi=function(e){var t=e.formData,r=e.setFormData,n=function(e,n){var a=e.target,o=a.name,i=a.value,c=Object(ln.a)(t.family_details);c[n][o]=i,r(Object(u.a)({},t,{family_details:c}))},o=["Father","Mother","Brother","Sister","Spouse","Son","Daughter","Uncle","Aunt","Friend","Neighbour"],i=["A+","A-","B+","B-","AB+","AB-","O+","O-"];return a.a.createElement(a.a.Fragment,null,t.family_details.map(function(e,c){return a.a.createElement(a.a.Fragment,{key:c},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Name",name:"name",value:e.name||"",onChange:function(e){return n(e,c)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{options:o,fullWidth:!0,size:"small",value:e.relationship||"",onChange:function(e,t){n({target:{name:"relationship",value:t||""}},c)},label:"Contact Relationship"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yr,{fullWidth:!0,size:"small",options:i,getOptionLabel:function(e){return e},value:e.blood_group||"",onChange:function(e,t){n({target:{name:"blood_group",value:t}},c)},label:"Blood Group"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Contact Number",name:"contact_number",value:e.contact_number||"",onChange:function(e){return n(e,c)}})),t.family_details.length>1&&a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"error",onClick:function(){return function(e){var n=Object(ln.a)(t.family_details);n.splice(e,1),r(Object(u.a)({},t,{family_details:n}))}(c)}},"Remove")))}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yt.a,{variant:"contained",onClick:function(){var e=Object(ln.a)(t.family_details);e.push({name:"",marital_status:"",blood_group:"",contact_number:""}),r(Object(u.a)({},t,{family_details:e}))}},"Add Family Member")))};function $i(){$i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ec=function(e){var t=e.formData,r=e.setFormData,o=Object(n.useState)(""),i=Object(l.a)(o,2),s=i[0],f=i[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=function(e){var t=e.target,r=t.name,n=t.value;"ifsc_code"===r&&11===n.length?g(n):y(r,n)},y=function(e,t){r(function(r){return Object(u.a)({},r,{kyc:Object(u.a)({},r.kyc,Object(Wt.a)({},e,t))})})},g=function(){var e=Object(c.a)($i().mark(function e(t){var n,a,o,i,c,l,s,p;return $i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Je.a.get("https://ifsc.razorpay.com/".concat(t));case 4:n=e.sent,a=n.data,o=a.BANK,i=a.BRANCH,c=a.CITY,l=a.STATE,s=a.ADDRESS,r(function(e){return Object(u.a)({},e,{kyc:Object(u.a)({},e.kyc,{ifsc_code:t,name:o,branch:i,city:c,state:l,address:s})})}),f(""),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),p=404===e.t0.response.status?"Please enter a valid IFSC code.":"Error fetching bank details. Please try again later.",f(p);case 15:return e.prev=15,m(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,11,15,18]])}));return function(t){return e.apply(this,arguments)}}(),b=[{label:"Account No",name:"account_number"},{label:"IFSC Code",name:"ifsc_code",error:s,helperText:s},{label:"Bank Name",name:"name",disabled:!0},{label:"Branch",name:"branch",disabled:!0},{label:"Bank City",name:"city",disabled:!0},{label:"Bank State",name:"state",disabled:!0},{label:"Bank Address",name:"address",disabled:!0,multiline:!0},{label:"PAN Card No",name:"pan_card_number"},{label:"Aadhar Card No",name:"aadhar_card_number"},{label:"Passport Number",name:"passport_number"},{label:"Driving License Number",name:"dl_number"}];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:d}),b.map(function(e,r){return a.a.createElement(Et.a,{item:!0,xs:12,sm:4,key:r},a.a.createElement(Lt,Object.assign({fullWidth:!0,size:"small",onChange:v,value:t.kyc[e.name],InputLabelProps:Object(u.a)({shrink:!!t.kyc[e.name]||void 0},e.InputLabelProps)},e)))}))};function tc(){tc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var rc=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),nc=function(e){var t=e.setOpenPopup,r=e.getUsers,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],f=i[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],y=Object(n.useState)(null),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(0),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(s.c)(function(e){return e.auth}),C=P.profile?P.profile:[],D=Object(n.useState)({user:C.emp_id,personal:{first_name:null,middle_name:null,last_name:null,email:null,contact:null,date_of_birth:null,place_of_birth:null,nationality:null,marital_status:null,marriage_date:null,date_of_joining:null,blood_group:null},address:{current:{address:null,city:null,state:null,pin:null,is_permanent_same_as_current:!1},permanent:{address:null,city:null,state:null,pin:null}},kyc:{name:null,account_number:null,ifsc_code:null,branch:null,city:null,state:null,address:null,pan_card_number:null,aadhar_card_number:null,passport_number:null,dl_number:null},emergency_contacts:[{name:null,relationship:null,number:null}],pf_esi_details:{has_pf_esi_account:null,uan_number:null,pf_number:null,esi_number:null},employment_history:[{company_name:null,post_held:null,workedFrom:null,workedTill:null}],education:{school:{name:null,board:null,passout:null},college:{name:null,board:null,passout:null},diploma:{type:null,uni_name:null,passout:null},graduation:{type:null,university:null,passout:null},pg:{masters:null,passout:null},additional_qualifiction:null},medical:{surgery_type:null,pregnancy:null,previous_surgeries:null,known_allergies:null,diabetic:null,hyper_tension:null,heart_issues:null,cancer:null,high_blood_pressure:null,low_blood_pressure:null,asthama_respiratory:null,vision:null,hearing:null},addiction:{tobacco:null,cigarettes:null,alcohol:null},doctor:{name:null,phone_number:null},family_details:[{name:null,relationship:null,blood_group:null,contact_number:null}]}),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Object(n.useCallback)(function(){S<O.length-1?k(function(e){return e+1}):(m(!1),k(0))},[S,O.length]),F=function(){var e=Object(c.a)(tc().mark(function e(n){var a;return tc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),f(!0),e.prev=2,e.next=5,Ct.createUserProfileData(T);case 5:t(!1),r(),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error creating user profile:",e.t0),o=e.t0.response.data,a=Object.values(o).flatMap(function(e){return e}),_(function(e){return[].concat(Object(ln.a)(e),Object(ln.a)(a))}),k(0),m(function(e){return!e});case 16:return e.prev=16,f(!1),e.finish(16);case 19:case"end":return e.stop()}var o},e,null,[[2,9,16,19]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(gt.a,null,a.a.createElement(Pt,{open:u}),a.a.createElement(Lr.a,{open:d,autoHideDuration:6e3,onClose:I,anchorOrigin:{vertical:"top",horizontal:"right"}},a.a.createElement(Ii.a,{onClose:I,severity:"error"},O[S])),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:F},a.a.createElement(Et.a,{item:!0,xs:12,sx:{marginTop:"20px",marginBottom:"20px"}},a.a.createElement(rc,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Upload Profile Picture"})),a.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];t&&t.size<=102400?E(t):alert("Please select an image of size less than 100KB")}}),b&&a.a.createElement("img",{src:URL.createObjectURL(b),alt:"Profile",width:"100"})," ")),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sx:{marginTop:"20px",marginBottom:"20px"}},a.a.createElement(rc,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Personal Details"})))),a.a.createElement(Gi,{formData:T,setFormData:A}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(rc,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Current Address Details"})))),a.a.createElement(Bi,{type:"current",formData:T,setFormData:A}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(rc,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Permanent Address Details"})))),a.a.createElement(Bi,{type:"permanent",formData:T,setFormData:A}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(rc,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"KYC Details"})))),a.a.createElement(ec,{formData:T,setFormData:A}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(rc,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Emergency Contact Details"})))),a.a.createElement(Ri,{formData:T,setFormData:A}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(rc,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PF & ESI Details"})))),a.a.createElement(zi,{formData:T,setFormData:A}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(rc,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Educational Details"})))),a.a.createElement(Ji,{formData:T,setFormData:A}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(rc,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Employment Details"})))),a.a.createElement(Zi,{formData:T,setFormData:A}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(rc,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Family Details"})))),a.a.createElement(Xi,{formData:T,setFormData:A}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(rc,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Known Health Issues"})))),a.a.createElement(qi,{formData:T,setFormData:A}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(rc,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Addiction Details"})))),a.a.createElement(Hi,{formData:T,setFormData:A}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(rc,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Family Doctor Details"})))),a.a.createElement(Vi,{formData:T,setFormData:A}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yt.a,{fullWidth:!0,type:"submit",variant:"contained",sx:{marginBottom:"20px"}},"Submit")))))};function ac(){ac=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var oc=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)([]),h=Object(l.a)(p,2),d=h[0],m=h[1];Object(n.useEffect)(function(){v()},[]);var v=function(){var e=Object(c.a)(ac().mark(function e(){var t;return ac().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Ct.getProfile();case 4:t=e.sent,m(t.data),o(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(Et.a,{sx:{marginTop:"5em"}},a.a.createElement(Pt,{open:r}),a.a.createElement(Tr.a,{style:ic},a.a.createElement(Et.a,{align:"center"},a.a.createElement(bt.a,{style:cc}),a.a.createElement("h2",null,"User Profile")),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(lc,null,"ID :- ",a.a.createElement("span",null,d.emp_id))),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(lc,null,"Name :-"," ",a.a.createElement("span",null,d.first_name," \xa0",d.last_name))),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(lc,null,"Email :- ",a.a.createElement("span",null,d.email))),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(lc,null,"Staff :- ",a.a.createElement("span",null,d.groups))),!d.is_created&&a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){return f(!0)}},"Complete Profile")))),a.a.createElement(ut,{fullScreen:!0,title:"Create User Profile",openPopup:s,setOpenPopup:f},a.a.createElement(nc,{setOpenPopup:f,getUsers:v})))},ic={padding:20,height:"50vh",width:340,margin:"0 auto"},cc={backgroundColor:"#1bbd7e"},lc=Object(L.a)(E.a)(function(){return{padding:"0px"}}),uc=r(659),sc=r(660);function fc(){fc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var pc=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(0),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(""),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(s.c)(function(e){return e.auth}).profile,C=Ln(),D=C.handleError,N=C.handleCloseSnackbar,T=C.alertInfo,A=Object(n.useCallback)(function(){var e=Object(c.a)(fc().mark(function e(t,r,n){var a;return fc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,ea.getDispatchData("false",t,r,n);case 4:a=e.sent,o(a.data.results),E(Math.ceil(a.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),D(e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,r,n){return e.apply(this,arguments)}}(),[]);Object(n.useEffect)(function(){A(m,S,O)},[m,S,O]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:T.open,onClose:N,severity:T.severity,message:T.message}),a.a.createElement(Pt,{open:f}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{sx:{flexGrow:1,mr:1},size:"small",value:S,onChange:function(e,t){return k(t),void v(1)},options:dc,getOptionLabel:function(e){return e},label:"Filter By Accepted"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(ga,{onSearch:function(e){_(e),v(1)},onReset:function(){_(""),v(1)}})))),a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sx:{textAlign:"center"}},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Pending Dispatch")))),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(vc,null,a.a.createElement(mc,{align:"center"}),a.a.createElement(mc,{align:"center"},"Sales Invoice"),a.a.createElement(mc,{align:"center"},"Customer"),a.a.createElement(mc,{align:"center"},"Date"),a.a.createElement(mc,{align:"center"},"Dispatch Location"),(P.groups.includes("Factory-Mumbai-Dispatch")||P.groups.includes("Factory-Delhi-Dispatch")||P.groups.includes("Director"))&&a.a.createElement(mc,{align:"center"},"Dispatched"))),a.a.createElement(Mt.a,null," ",r.map(function(e){return a.a.createElement(hc,{key:e.id,row:e,getAllDispatchDetails:A,users:P})})))),a.a.createElement(Zn,{currentPage:m,totalPages:b,handlePageChange:function(e,t){v(t)}}))))};function hc(e){var t=e.row,r=e.getAllDispatchDetails,o=e.users,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(t.dispatched),h=Object(l.a)(p,2),d=h[0],v=h[1],y=Object(n.useState)(!1),g=Object(l.a)(y,2),b=g[0],w=g[1],x=Object(n.useState)(""),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(""),S=Object(l.a)(L,2),k=S[0],P=S[1],C=function(){var e=Object(c.a)(fc().mark(function e(n){var a;return fc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),f(!0),(a=new FormData).append("dispatched",d),e.next=7,ea.updateDispatched(t.id,a);case 7:r(),f(!1),w(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("error :>> ",e.t0),f(!1);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Yt.a,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(Ut.a,null,a.a.createElement(m.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return f(!s)}},s?a.a.createElement(ho.a,null):a.a.createElement(fo.a,null))),a.a.createElement(Ut.a,{align:"center"},t.sales_invoice),a.a.createElement(Ut.a,{align:"center"},t.customer),a.a.createElement(Ut.a,{align:"center"},Ur()(t.date).format("DD-MM-YYYY")),a.a.createElement(Ut.a,{align:"center"},t.dispatch_location),(o.groups.includes("Factory-Mumbai-Dispatch")||o.groups.includes("Factory-Delhi-Dispatch")||o.groups.includes("Director"))&&a.a.createElement(Ut.a,{align:"center"},a.a.createElement(yt.a,{onClick:function(){w(!0),j(t.sales_invoice),P(t.customer)},variant:"contained",color:"success"},"Confirm Dispatch"))),a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(Va.a,{in:s,timeout:"auto",unmountOnExit:!0},a.a.createElement(vt.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Rt.a,{size:"small","aria-label":"purchases"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{align:"center"},"DISPATCH ID"),a.a.createElement(Ut.a,{align:"center"},"PRODUCT"),a.a.createElement(Ut.a,{align:"center"},"QUANTITY"))),a.a.createElement(Mt.a,null,t.products.map(function(e){return a.a.createElement(Yt.a,{key:e.dispatch_book},a.a.createElement(Ut.a,{align:"center"},e.dispatch_book),a.a.createElement(Ut.a,{align:"center"},e.product),a.a.createElement(Ut.a,{align:"center"},e.quantity))}))))))),a.a.createElement(at.a,{open:b,onClose:function(){return w(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(ot.a,{id:"alert-dialog-title"},"Dispatch"),a.a.createElement(it.a,null,a.a.createElement(uc.a,{id:"alert-dialog-description"},a.a.createElement(Cr.a,{label:"Do you confirm that ".concat(_," to ").concat(k," is dispatched. ?"),control:a.a.createElement(Xn.a,{checked:d,onChange:function(e){v(e.target.checked)},inputProps:{"aria-label":"controlled"}})}))),a.a.createElement(sc.a,null,a.a.createElement(yt.a,{disabled:!1===d,variant:"contained",color:"success",onClick:function(e){return C(e)}},"Submit"),a.a.createElement(yt.a,{variant:"contained",onClick:function(){return w(!1)}},"Cancel"))))}var dc=["customer","invoice"],mc=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14}),t}),vc=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),yc=r(162),gc=r.n(yc);function bc(){bc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ec=function(e){var t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],f=e.idData,p=e.getAllDispatchDetails,h=e.setOpenPopup,d=e.userData,m=Object(n.useState)(""),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)(""),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(""),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(""),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)([]),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Object(s.c)(function(e){return e.auth}).profile,F=function(e){var t=e.target,r=t.name,n=t.value;A(Object(u.a)({},T,Object(Wt.a)({},r,n)))};console.log("lrCopy ",y||f.lr_copy);var G=function(){var e=Object(c.a)(bc().mark(function e(t){var r,n,a,o;return bc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),r=new FormData,"Customer Service"===d.groups.toString()?(r.append("sales_invoice",f.sales_invoice),r.append("transporter",T.transporter?T.transporter:f.transporter),r.append("lr_number",T.lr_number?T.lr_number:f.lr_number),r.append("lr_date",T.lr_date?T.lr_date:f.lr_date),""!==y&&r.append("lr_copy",y||""),""!==j&&r.append("pod_copy",j||""),r.append("dispatched",!0)):(r.append("sales_invoice",f.sales_invoice),r.append("transporter",T.transporter?T.transporter:f.transporter),r.append("lr_number",T.lr_number?T.lr_number:f.lr_number),r.append("lr_date",T.lr_date?T.lr_date:f.lr_date),""!==y&&r.append("lr_copy",y||""),r.append("dispatched",!0)),n=T.lr_date?T.lr_date:f.lr_date,a=T.lr_number?T.lr_number:f.lr_number,o=T.transporter?T.transporter:f.transporter,console.log("LRDATE",n),""===y&&""===j&&(null===n||null===a||null===o||"Customer Service"!==d.groups.toString())){e.next=17;break}return i(!0),e.next=12,ea.updateDispatched(f.id,r);case 12:h(!1),p(),i(!1),e.next=24;break;case 17:if(""===y&&(null===n||null===a||null===o)){e.next=24;break}return i(!0),e.next=21,ea.updateDispatched(f.id,r);case 21:h(!1),p(),i(!1);case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(0),console.log("error :>> ",e.t0),i(!1);case 30:case"end":return e.stop()}},e,null,[[0,26]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:o}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return G(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Sales Invoice",variant:"outlined",value:f.sales_invoice})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Customer",variant:"outlined",value:f.customer})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"transporter",size:"small",label:"Transporter",variant:"outlined",value:T.transporter?T.transporter:f.transporter,onChange:F})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"lr_number",size:"small",label:"LR Number",variant:"outlined",value:T.lr_number?T.lr_number:f.lr_number,onChange:F})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"lr_date",size:"small",label:"LR Date",variant:"outlined",value:T.lr_date?T.lr_date:f.lr_date,onChange:F,InputLabelProps:{shrink:!0}})),(I.groups.includes("Factory-Mumbai-Dispatch")||I.groups.includes("Factory-Delhi-Dispatch"))&&a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement("label",null,"LR Copy : "),a.a.createElement("input",{type:"file",name:"file",onChange:function(e){g(e.target.files[0]),x(URL.createObjectURL(e.target.files[0]))}}),a.a.createElement("img",{src:w||f.lr_copy,alt:"lrcopy",height:"50px",width:"50px"})),"Customer Service"===d.groups.toString()&&a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement("label",null,"POD Copy : "),a.a.createElement("input",{type:"file",name:"file",onChange:function(e){L(e.target.files[0]),C(URL.createObjectURL(e.target.files[0]))}}),a.a.createElement("img",{src:P||f.pod_copy,alt:"podcopy",height:"50px",width:"50px"}))),a.a.createElement(Qn,{sx:{marginTop:"1rem"},type:"submit",fullWidth:!0,variant:"contained",text:"Submit"})))};function wc(){wc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var xc=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(""),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(0),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(s.c)(function(e){return e.auth}).profile,L=Ln(),S=L.handleError,k=L.handleCloseSnackbar,P=L.alertInfo,C=Object(n.useCallback)(function(){var e=Object(c.a)(wc().mark(function e(t,r){var n;return wc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,ea.getDispatchData(!0,t,r);case 4:n=e.sent,o(n.data.results),_(Math.ceil(n.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),S(e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,r){return e.apply(this,arguments)}}(),[]);Object(n.useEffect)(function(){C(m,b)},[m,b]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:P.open,onClose:k,severity:P.severity,message:P.message}),a.a.createElement(Pt,{open:f}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(ga,{onSearch:function(e){E(e),v(1)},onReset:function(){E(""),v(1)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,sx:{textAlign:"center"}},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Pending Dispatch")))),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(jc,null,a.a.createElement(_c,{align:"center"}),a.a.createElement(_c,{align:"center"},"Sales Invoice"),a.a.createElement(_c,{align:"center"},"Customer"),a.a.createElement(_c,{align:"center"},"Date"),a.a.createElement(_c,{align:"center"},"Dispatch Location"),"Customer Service"===j.groups.toString()&&a.a.createElement(_c,{align:"center"},"LR COPY"),a.a.createElement(_c,{align:"center"},"ACTION"))),a.a.createElement(Mt.a,null,r.map(function(e){return a.a.createElement(Oc,{key:e.id,row:e,getAllDispatchDetails:C,userData:j})})))),a.a.createElement(Zn,{currentPage:m,totalPages:O,handlePageChange:function(e,t){v(t)}}))))};function Oc(e){var t=e.row,r=e.getAllDispatchDetails,o=e.userData,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],v=h[1],y=Object(n.useState)(""),g=Object(l.a)(y,2),b=g[0],w=g[1],x=function(){var e=Object(c.a)(wc().mark(function e(t){var r;return wc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.lr_copy?t.lr_copy:"",gc.a.saveAs(r,"image");case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Yt.a,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(Ut.a,null,a.a.createElement(m.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return f(!s)}},s?a.a.createElement(ho.a,null):a.a.createElement(fo.a,null))),a.a.createElement(Ut.a,{align:"center"},t.sales_invoice),a.a.createElement(Ut.a,{align:"center"},t.customer),a.a.createElement(Ut.a,{align:"center"},Ur()(t.date).format("DD-MM-YYYY")),a.a.createElement(Ut.a,{align:"center"},t.dispatch_location),"Customer Service"===o.groups.toString()&&a.a.createElement(Ut.a,{align:"center"},a.a.createElement(yt.a,{color:"success",variant:"outlined",onClick:function(){return x(t)}},"Download")),a.a.createElement(Ut.a,{align:"center"},a.a.createElement("button",{type:"button",class:"btn btn-primary",onClick:function(){return function(e){w(e),v(!0)}(t)}},"View"))),a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(Va.a,{in:s,timeout:"auto",unmountOnExit:!0},a.a.createElement(vt.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Rt.a,{size:"small","aria-label":"purchases"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{align:"center"},"DISPATCH ID"),a.a.createElement(Ut.a,{align:"center"},"PRODUCT"),a.a.createElement(Ut.a,{align:"center"},"QUANTITY"))),a.a.createElement(Mt.a,null,t.products.map(function(e){return a.a.createElement(Yt.a,{key:e.dispatch_book},a.a.createElement(Ut.a,{align:"center"},e.dispatch_book),a.a.createElement(Ut.a,{align:"center"},e.product),a.a.createElement(Ut.a,{align:"center"},e.quantity))}))))))),a.a.createElement(ut,{maxWidth:"md",title:"Update Dispatch",openPopup:d,setOpenPopup:v},a.a.createElement(Ec,{idData:b,getAllDispatchDetails:r,setOpenPopup:v,userData:o})))}var _c=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14}),t}),jc=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Lc=function(e){var t=e.filterSelectedQuery,r=e.handleInputChange,n=e.getResetData,o=e.HelperText;return a.a.createElement(jt.a,{value:t,onChange:function(e){return r(e)},name:"search",size:"small",placeholder:"search",label:"Search",variant:"outlined",sx:{backgroundColor:"#ffffff",marginLeft:"1em","& .MuiSelect-iconOutlined":{display:t?"none":""},"&.Mui-focused .MuiIconButton-root":{color:"primary.main"}},InputProps:{endAdornment:a.a.createElement(m.a,{sx:{visibility:t?"visible":"hidden"},onClick:n},a.a.createElement(ya.a,null)),startAdornment:a.a.createElement(m.a,null,a.a.createElement(ma.a,null))},helperText:o})};function Sc(){Sc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var kc=function(){var e=Object(n.useRef)(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(""),s=Object(l.a)(u,2),f=s[0],p=s[1],h=Object(n.useState)(1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)([]),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(0),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(new Date),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(new Date(D.getTime()-6048e5)),A=Object(l.a)(T,2),I=A[0],F=A[1],G=(new Date).toISOString().split("T")[0],W=new Date("2030-12-31").toISOString().split("T")[0];Object(n.useEffect)(function(){B()},[I]);var B=function(){var t=Object(c.a)(Sc().mark(function t(){var r,n,a,o,c,l;return Sc().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i(!0),r=I?I.toISOString().split("T")[0]:"",n=D?D.toISOString().split("T")[0]:"",!m){t.next=13;break}return t.next=7,ea.getSaleRegisterDataWithPagination(r,n,m);case 7:a=t.sent,E(a.data.results),o=a.data.count,k(Math.ceil(o/25)),t.next=17;break;case 13:return t.next=15,ea.getAllSaleRegisterData(r,n);case 15:(c=t.sent)&&(E(c.data.results),l=c.data.count,k(Math.ceil(l/25)));case 17:i(!1),t.next=25;break;case 20:t.prev=20,t.t0=t.catch(0),i(!1),t.t0.response?400===t.t0.response.status?p(t.t0.response.data.errors.name?t.t0.response.data.errors.name:t.t0.response.data.errors.non_field_errors):401===t.t0.response.status?p(t.t0.response.data.errors.code):p("Server Error"):p("\u201cSorry, You Are Not Allowed to Access This Page\u201d Please contact to admin"),e.current.focus();case 25:case"end":return t.stop()}},t,null,[[0,20]])}));return function(){return t.apply(this,arguments)}}(),R=function(){var e=Object(c.a)(Sc().mark(function e(t){var r,n,a,o,c;return Sc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),r=t,n=I?I.toISOString().split("T")[0]:"",a=D?D.toISOString().split("T")[0]:"",console.log("StartDate",n),console.log("EndDate",a),e.next=9,ea.getSaleRegisterDataWithSearch(n,a,r);case 9:(o=e.sent)?(E(o.data.results),c=o.data.count,k(Math.ceil(c/25))):(B(),_("")),i(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("error Search sale register",e.t0),i(!1);case 18:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(Sc().mark(function e(t,r){var n,a,o,c,l,u,s;return Sc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=r,a=I?I.toISOString().split("T")[0]:"",o=D?D.toISOString().split("T")[0]:"",v(n),i(!0),!O){e.next=13;break}return e.next=9,ea.getSaleRegisterDataWithPaginationAndSearch(a,o,n,O);case 9:(c=e.sent)?(E(c.data.results),l=c.data.count,k(Math.ceil(l/25))):(B(),_("")),e.next=19;break;case 13:return e.next=15,ea.getSaleRegisterDataWithPagination(a,o,n);case 15:u=e.sent,E(u.data.results),s=u.data.count,k(Math.ceil(s/25));case 19:i(!1),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 26:case"end":return e.stop()}},e,null,[[0,22]])}));return function(t,r){return e.apply(this,arguments)}}(),M=b.map(function(e){return{date:Ur()(e.date).format("DD-MM-YYYY"),sales_invoice:e.sales_invoice,customer:e.customer,dispatch_location:e.dispatch_location,lr_copy:e.lr_copy,pod_copy:e.pod_copy}}).filter(function(e){return null!==e});return a.a.createElement("div",null,a.a.createElement(Pt,{open:o}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Sa,{errRef:e,errMsg:f}),a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:2},a.a.createElement(vt.a,{flexGrow:2},a.a.createElement(Lt,{label:"Start Date",variant:"outlined",size:"small",type:"date",id:"start-date",value:I?I.toISOString().split("T")[0]:"",min:G,max:D?new Date(D.getTime()-6048e5).toISOString().split("T")[0]:W,onChange:function(e){var t=new Date(e.target.value);F(t),N(new Date(t.getTime()+6048e5))}}),a.a.createElement(Lt,{label:"End Date",variant:"outlined",size:"small",id:"end-date",value:D?D.toISOString().split("T")[0]:"",min:I?I.toISOString().split("T")[0]:G,max:I?new Date(I.getTime()+6048e5).toISOString().split("T")[0]:W,disabled:!I}),a.a.createElement(Lc,{filterSelectedQuery:O,handleInputChange:function(e){_(e.target.value),R(e.target.value)},getResetData:function(){_(""),B()}}))),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Sales Register")),a.a.createElement(vt.a,{flexGrow:.5},a.a.createElement(fa.CSVLink,{data:M,headers:Nc,filename:"my-file.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}},a.a.createElement(yt.a,{variant:"contained",color:"success"},"Export to Excel")))),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Dc,null,a.a.createElement(Cc,{align:"center"}),a.a.createElement(Cc,{align:"center"},"Date"),a.a.createElement(Cc,{align:"center"},"Sales Invoice"),a.a.createElement(Cc,{align:"center"},"Customer"),a.a.createElement(Cc,{align:"center"},"Dispatch Location"),a.a.createElement(Cc,{align:"center"},"LR COPY"),a.a.createElement(Cc,{align:"center"},"POD COPY"))),a.a.createElement(Mt.a,null," ",b.map(function(e){return a.a.createElement(Pc,{key:e.id,row:e,getSalesRegisterData:B})})))),a.a.createElement(Zn,{currentPage:m,totalPages:S,handlePageChange:z}))))};function Pc(e){var t=e.row,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],s=function(){var e=Object(c.a)(Sc().mark(function e(t){var r;return Sc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.lr_copy?t.lr_copy:"",gc.a.saveAs(r,"image");case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(Sc().mark(function e(t){var r;return Sc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.pod_copy?t.pod_copy:"",gc.a.saveAs(r,"image");case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{opn:i}),a.a.createElement(Yt.a,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(Ut.a,null,a.a.createElement(m.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return u(!i)}},i?a.a.createElement(ho.a,null):a.a.createElement(fo.a,null))),a.a.createElement(Ut.a,{align:"center"},Ur()(t.date).format("DD-MM-YYYY")),a.a.createElement(Ut.a,{align:"center"},t.sales_invoice),a.a.createElement(Ut.a,{align:"center"},t.customer),a.a.createElement(Ut.a,{align:"center"},t.dispatch_location),a.a.createElement(Ut.a,{align:"center"},null!==t.lr_copy&&a.a.createElement(yt.a,{color:"success",variant:"outlined",onClick:function(){return s(t)}},"Download")),a.a.createElement(Ut.a,{align:"center"},null!==t.pod_copy&&a.a.createElement(yt.a,{color:"success",variant:"outlined",onClick:function(){return f(t)}},"Download"))),a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(Va.a,{in:i,timeout:"auto",unmountOnExit:!0},a.a.createElement(vt.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Rt.a,{size:"small","aria-label":"purchases"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{align:"center"},"DISPATCH ID"),a.a.createElement(Ut.a,{align:"center"},"PRODUCT"),a.a.createElement(Ut.a,{align:"center"},"QUANTITY"),a.a.createElement(Ut.a,{align:"center"},"RATE"),a.a.createElement(Ut.a,{align:"center"},"AMOUNT"))),a.a.createElement(Mt.a,null,t.products.map(function(e){return a.a.createElement(Yt.a,{key:e.dispatch_book},a.a.createElement(Ut.a,{align:"center"},e.dispatch_book),a.a.createElement(Ut.a,{align:"center"},e.product),a.a.createElement(Ut.a,{align:"center"},e.quantity),a.a.createElement(Ut.a,{align:"center"},e.rate),a.a.createElement(Ut.a,{align:"center"},e.amount))}))))))))}var Cc=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14}),t}),Dc=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Nc=[{label:"Date",key:"date"},{label:"Sales Invoice",key:"sales_invoice"},{label:"Customer",key:"customer"},{label:"Dispatch Location",key:"dispatch_location"},{label:"LR Copy",key:"lr_copy"},{label:"POD Copy",key:"pod_copy"}];function Tc(){Tc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ac=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useRef)(),u=Object(n.useState)(!1),f=Object(l.a)(u,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(null),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(""),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(1),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)(0),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useState)(""),B=Object(l.a)(W,2),R=B[0],z=B[1],M=Object(n.useState)([]),U=Object(l.a)(M,2),Y=U[0],q=U[1],V=Object(n.useState)(""),Q=Object(l.a)(V,2),H=Q[0],K=Q[1],J=Object(n.useState)(""),Z=Object(l.a)(J,2),X=Z[0],$=Z[1],ee=Object(n.useRef)(null),te=Object(s.c)(function(e){return e.auth}).profile,re=te.sales_users||[],ne=[{label:"Search By State",value:"orderbook__proforma_invoice__seller_account__state"}].concat(Object(ln.a)(te.groups.includes("Sales Executive")?[]:[{label:"Sales Person",value:"orderbook__proforma_invoice__raised_by__email"}])),ae=function(){var e=Object(c.a)(Tc().mark(function e(){var t;return Tc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:t=e.sent,q(t),setTimeout(function(){ee.current.link.click()});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(c.a)(Tc().mark(function e(){var t,r;return Tc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h(!0),!X&&!R){e.next=8;break}return e.next=5,ea.getOrderBookData({type:"pi",page:"all",filterType:H,filterValue:X,searchValue:R});case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,ea.getOrderBookData({type:"pi",page:"all"});case 10:e.t0=e.sent;case 11:return t=e.t0,r=t.data.map(function(e){return te.groups.includes("Factory-Mumbai-OrderBook")||te.groups.includes("Factory-Delhi-OrderBook")?{proforma_invoice:e.proforma_invoice,order_book_date:e.order_book_date,pi_date:e.pi_date,company:e.company,billing_city:e.billing_city,shipping_city:e.shipping_city,product:e.product,quantity:e.quantity,pending_amount:e.pending_amount,pending_quantity:e.pending_quantity,seller_state:e.seller_state,estimated_date:e.estimated_date,special_instructions:e.special_instructions}:{proforma_invoice:e.proforma_invoice,order_book_date:e.order_book_date,pi_date:e.pi_date,company:e.company,billing_city:e.billing_city,shipping_city:e.shipping_city,billing_pincode:e.billing_pincode,shipping_pincode:e.shipping_pincode,product:e.product,quantity:e.quantity,amount:e.amount,pending_amount:e.pending_amount,pending_quantity:e.pending_quantity,seller_state:e.seller_state,estimated_date:e.estimated_date,special_instructions:e.special_instructions}}),h(!1),e.abrupt("return",r);case 17:e.prev=17,e.t1=e.catch(0),console.log(e.t1);case 20:return e.prev=20,h(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[0,17,20,23]])}));return function(){return e.apply(this,arguments)}}(),ie=ne.find(function(e){return e.value===H}),ce=function(){var e=Object(c.a)(Tc().mark(function e(t){var r,n;return Tc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,ea.getOrderBookData(t);case 4:(r=e.sent)?(o(r.data.results),n=r.data.count,G(Math.ceil(n/25))):(ue(),z("")),h(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),le(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),le=function(e){h(!1);var t="Server Error";if(e.response)switch(e.response.status){case 400:t=e.response.data.errors.name?e.response.data.errors.name:e.response.data.errors.non_field_errors;break;case 401:t=e.response.data.errors.code;break;default:t="Server Error"}else t="\u201cSorry, You Are Not Allowed to Access This Page\u201d Please contact to admin";P(t),i.current.focus()};Object(n.useEffect)(function(){ue()},[]);var ue=function(){var e=Object(c.a)(Tc().mark(function e(){return Tc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce({type:"pi",page:N,filterType:H,filterValue:X,searchValue:R});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(c.a)(Tc().mark(function e(t,r){return Tc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce({type:"pi",filterType:H,filterValue:t,searchValue:r});case 2:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),fe=function(){var e=Object(c.a)(Tc().mark(function e(t,r){var n;return Tc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T(n=r),e.next=4,ce({type:"pi",page:n,filterType:H,filterValue:X,searchValue:R});case 4:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),pe=r.map(function(e,t){return{id:e.id,approval_data:e.order_book_date,pi_no:e.proforma_invoice,pi_date:e.pi_date,company:e.company,raised_by:e.raised_by,billing_city:e.billing_city,shipping_city:e.shipping_city,product:e.product,quantity:e.quantity,pending_quantity:e.pending_quantity,amount:e.amount,pending_amount:e.pending_amount,est_date:e.est_date,special_instruction:e.special_instruction,revision:e.revision}}),he=r.map(function(e,t){return{id:e.id,approval_data:e.order_book_date,pi_no:e.proforma_invoice,pi_date:e.pi_date,company:e.company,raised_by:e.raised_by,billing_city:e.billing_city,shipping_city:e.shipping_city,product:e.product,quantity:e.quantity,pending_quantity:e.pending_quantity,pending_amount:e.pending_amount,est_date:e.est_date,special_instruction:e.special_instruction,revision:e.revision}});return a.a.createElement("div",null,a.a.createElement(Pt,{open:p}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Sa,{errRef:i,errMsg:k}),a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},a.a.createElement(yr,{size:"small",sx:{width:300},value:ie,onChange:function(e,t){K(t?t.value:"")},options:ne,getOptionLabel:function(e){return e.label},label:"Filter By"}),"orderbook__proforma_invoice__seller_account__state"===H&&a.a.createElement(yr,{size:"small",sx:{width:300,marginLeft:"10px"},value:X,onChange:function(e,t){$(t),se(t,R)},options:Ic.map(function(e){return e}),getOptionLabel:function(e){return e},label:"Filter By State"}),H.includes("orderbook__proforma_invoice__raised_by__email")&&a.a.createElement(yr,{size:"small",sx:{width:300,marginLeft:"10px"},value:X,onChange:function(e,t){$(t),se(t,R)},options:re.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"}),a.a.createElement(Ta,{filterSelectedQuery:R,setFilterSelectedQuery:z,handleInputChange:function(e){z(R),se(X,R)},getResetData:function(){z(""),se(X,null)}}),a.a.createElement(yt.a,{sx:{marginLeft:"10px"},variant:"contained",onClick:ae},"Download CSV"),Y.length>0&&a.a.createElement(fa.CSVLink,{headers:Fc,data:Y,ref:ee,filename:"PI Order Book.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})),a.a.createElement(vt.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"PI Order Book Details")),a.a.createElement(Cn,{headers:te.groups.includes("Factory-Mumbai-OrderBook")&&te.groups.includes("Factory-Delhi-OrderBook")?["Id","Approval Date","Pi No","Pi Date","Company","Raised By","Billing City","Shipping City","Product","Quantity","Pending Quantity","Amount","Pending Amount","EST DATE","Special Instructions","Revision","ACTION"]:["ID","Approval Date","Pi No","Pi Date","Company","Raised_by","Billing City","Shipping City","Product","Quantity","Pending Quantity","Pending Amount","EST DATE","Special Instructions","Revision","ACTION"],data:te.groups.includes("Factory-Mumbai-OrderBook")&&te.groups.includes("Factory-Delhi-OrderBook")?pe:he,openInPopup:(te.groups.includes("Production")||te.groups.includes("Production Delhi")||te.groups.includes("Accounts"))&&function(e){try{var t=r.find(function(t){return t.id===e.id});j(t),te.groups.includes("Accounts")&&w(!0),(te.groups.includes("Production")||te.groups.includes("Production Delhi"))&&y(!0)}catch(n){console.log(n)}},openInPopup2:null}),a.a.createElement(Zn,{currentPage:N,totalPages:F,handlePageChange:fe}))),a.a.createElement(ut,{title:"Update PI OrderBook",openPopup:v,setOpenPopup:y},a.a.createElement(Da,{recordForEdit:_,setOpenPopup:y,getAllOrderBook:ue})),a.a.createElement(ut,{title:"Update Customer OrderBook",openPopup:E,setOpenPopup:w},a.a.createElement(Na,{recordForEdit:_,setOpenPopup:w,getAllOrderBook:ue})))},Ic=["Delhi","Maharashtra"],Fc=[{label:"PI Number",key:"proforma_invoice"},{label:"Approval Date",key:"order_book_date"},{label:"PI Date",key:"pi_date"},{label:"Customer",key:"company"},{label:"Billing City",key:"billing_city"},{label:"Shipping City",key:"shipping_city"},{label:"Shipping Pincode",key:"shipping_pincode"},{label:"Billing Pincode",key:"billing_pincode"},{label:"Product",key:"product"},{label:"Quantity",key:"quantity"},{label:"Amount",key:"amount"},{label:"Pending Amount",key:"pending_amount"},{label:"Pending Quantity",key:"pending_quantity"},{label:"Seller State",key:"seller_state"},{label:"Estimated Date",key:"estimated_date"},{label:"Special Instruction",key:"special_instructions"}],Gc=r(112),Wc=r.n(Gc);function Bc(){Bc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Rc=function(e){var t=e.setOpenPopup,r=e.getAllVendorDetailsByID,o=e.vendorData,i=Object(n.useState)(!1),f=Object(l.a)(i,2),p=f[0],h=f[1],d=Object(n.useState)([]),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(null),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(""),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(s.c)(function(e){return e.auth}),S=Object(n.useRef)(null),k=function(e){var t=e.target,r=t.name,n=t.value;y(Object(u.a)({},v,Object(Wt.a)({},r,n))),"Domestic"===o.type&&"ifsc_code"===r?(S.current&&clearTimeout(S.current),S.current=setTimeout(function(){P(n)},500)):y(Object(u.a)({},v,Object(Wt.a)({},r,n)))},P=function(){var e=Object(c.a)(Bc().mark(function e(t){var r;return Bc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je.a.get("https://ifsc.razorpay.com/".concat(t));case 3:r=e.sent,w(r.data),j(""),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0),404===e.t0.response.status&&j("please enter valid ifsc code.");case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(c.a)(Bc().mark(function e(n){var a;return Bc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),h(!0),a={vendor:L?L.vendorName:"",current_account_no:v.current_account_no,ifsc_code:v.ifsc_code,bank_name:"Domestic"===o.type?E.BANK?E.BANK:"":v.bank_name,address:"Domestic"===o.type?E.ADDRESS?E.ADDRESS:"":v.address,state:"Domestic"===o.type?E.STATE?E.STATE:"":v.state,district:"Domestic"===o.type?E.DISTRICT?E.DISTRICT:"":v.district,city:"Domestic"===o.type?E.CITY?E.CITY:"":v.city,branch:"Domestic"===o.type?E.BRANCH?E.BRANCH:"":v.branch},e.next=6,yo.createBankInventoryData(a);case 6:t(!1),r(),h(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),h(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:p}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return C(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},"Domestic"===o.type?a.a.createElement(Lt,{fullWidth:!0,name:"ifsc_code",size:"small",label:"IFSC Code",variant:"outlined",value:v.ifsc_code,onChange:k,onBlur:k,error:_&&_,helperText:_&&_}):a.a.createElement(Lt,{fullWidth:!0,name:"ifsc_code",size:"small",label:"Swift Code",variant:"outlined",value:v.ifsc_code,onChange:k})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"current_account_no",label:"Account No",variant:"outlined",value:v.account_no,onChange:k})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"bank_name",label:"Bank Name",variant:"outlined",value:"Domestic"===o.type&&E?E.BANK||"":v.bank_name,onChange:k})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"branch",label:"Branch",variant:"outlined",value:"Domestic"===o.type&&E?E.BRANCH||"":v.branch,onChange:k})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"district",label:"District",variant:"outlined",value:"Domestic"===o.type&&E?E.DISTRICT||"":v.district,onChange:k})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"city",label:"City",variant:"outlined",value:"Domestic"===o.type&&E?E.CITY||"":v.city,onChange:k})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:"Domestic"===o.type&&E?E.STATE||"":v.state,onChange:k})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:"Domestic"===o.type&&E?E.ADDRESS||"":v.address,onChange:k}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function zc(){zc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Mc=function(e){var t=e.setOpenPopup,r=e.getAllVendorDetailsByID,o=e.idForEdit,i=e.vendorData,f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(o),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(""),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(s.c)(function(e){return e.auth}),k=Object(n.useRef)(null),P=function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},y,Object(Wt.a)({},r,n))),"ifsc_code"===r&&(k.current&&clearTimeout(k.current),k.current=setTimeout(function(){C(n)},500))},C=function(){var e=Object(c.a)(zc().mark(function e(t){var r;return zc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je.a.get("https://ifsc.razorpay.com/".concat(t));case 3:r=e.sent,x(r.data),L(""),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0),404===e.t0.response.status&&L("please enter valid ifsc code.");case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(c.a)(zc().mark(function e(n){var a,c,l;return zc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),d(!0),c="International"===i.type?"int_ca_no":"current_account_no",a={vendor:S?S.vendorName:""},Object(Wt.a)(a,c,y[c]||y.current_account_no),Object(Wt.a)(a,"ifsc_code",y.ifsc_code?y.ifsc_code:""),Object(Wt.a)(a,"bank_name","Domestic"===i.type&&w.BANK?w.BANK:y.bank_name),Object(Wt.a)(a,"address","Domestic"===i.type&&w.ADDRESS?w.ADDRESS:y.address),Object(Wt.a)(a,"state","Domestic"===i.type&&w.STATE?w.STATE:y.state),Object(Wt.a)(a,"district","Domestic"===i.type&&w.DISTRICT?w.DISTRICT:y.district),Object(Wt.a)(a,"city","Domestic"===i.type&&w.CITY?w.CITY:y.city),Object(Wt.a)(a,"branch","Domestic"===i.type&&w.BRANCH?w.BRANCH:y.branch),l=a,e.next=7,yo.updateBankInventoryData(o.id,l);case 7:t(!1),r(),d(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),d(!1);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:h}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return D(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},"Domestic"===i.type?a.a.createElement(Lt,{fullWidth:!0,name:"ifsc_code",size:"small",label:"IFSC Code",variant:"outlined",value:y.ifsc_code?y.ifsc_code:"",onChange:P,onBlur:P,error:j&&j,helperText:j&&j}):a.a.createElement(Lt,{fullWidth:!0,name:"ifsc_code",size:"small",label:"Swift Code",variant:"outlined",value:y.ifsc_code?y.ifsc_code:"",onChange:P})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"International"===i.type?"int_ca_no":"current_account_no",label:"Account No",variant:"outlined",value:"International"===i.type?y.int_ca_no?y.int_ca_no:"":y.current_account_no?y.current_account_no:"",onChange:P})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"bank_name",label:"Bank Name",variant:"outlined",value:"Domestic"===i.type?w.BANK?w.BANK:y.bank_name:y.bank_name?y.bank_name:"",onChange:P})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"branch",label:"Branch",variant:"outlined",value:"Domestic"===i.type?w.BRANCH?w.BRANCH:y.branch:y.branch?y.branch:"",onChange:P})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"district",label:"District",variant:"outlined",value:"Domestic"===i.type?w.DISTRICT?w.DISTRICT:y.district:y.district?y.district:"",onChange:P})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"city",label:"City",variant:"outlined",value:"Domestic"===i.type?w.CITY?w.CITY:y.city:y.city?y.city:"",onChange:P})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:"Domestic"===i.type?w.STATE?w.STATE:y.state:y.state?y.state:"",onChange:P})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:"Domestic"===i.type?w.ADDRESS?w.ADDRESS:y.address:y.address?y.address:"",onChange:P}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},Uc=function(e){var t=e.bankData,r=e.vendorData,o=e.open,i=e.getAllVendorDetailsByID,c=Object(n.useState)(!1),s=Object(l.a)(c,2),f=s[0],p=s[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(),g=Object(l.a)(y,2),b=g[0],E=g[1],w=t.map(function(e){return{id:e.id,bank_name:e.bank_name,account_no:"Domestic"===r.type?e.current_account_no:e.int_ca_no,ifsc_code:e.ifsc_code,branch:e.branch}}),x=["ID","Bank","ACCOUNT NO","Domestic"===r.type?"IFSC CODE":"SWIFT CODE","BRANCH","Action"];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:o}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:2}),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Bank Details")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"},a.a.createElement(yt.a,{onClick:function(){return v(!0)},variant:"contained",color:"success",startIcon:a.a.createElement(Wc.a,null)},"Add"))),a.a.createElement(Cn,{headers:x,data:w.map(function(e){return Object(u.a)({},e,{account_no:e.account_no})}),openInPopup:function(e){var r=t.find(function(t){return t.id===e.id});E(r),p(!0)},openInPopup2:null,openInPopup3:null,openInPopup4:null})),a.a.createElement(ut,{title:"Create Bank Details",openPopup:m,setOpenPopup:v},a.a.createElement(Rc,{setOpenPopup:v,vendorData:r,getAllVendorDetailsByID:i})),a.a.createElement(ut,{title:"Update Bank Details",openPopup:f,setOpenPopup:p},a.a.createElement(Mc,{setOpenPopup:p,vendorData:r,getAllVendorDetailsByID:i,idForEdit:b})))};function Yc(){Yc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var qc=function(e){var t=e.setOpenPopup,r=e.getAllVendorDetailsByID,o=e.vendorData,i=Object(n.useState)(!1),f=Object(l.a)(i,2),p=f[0],h=f[1],d=Object(n.useState)(""),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)("in"),b=Object(l.a)(g,2),E=b[0],w=b[1],O=Object(n.useState)("in"),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(s.c)(function(e){return e.auth}),N=Object(n.useState)({email:"",alternate_email:""}),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Object(n.useState)({}),G=Object(l.a)(F,2),W=G[0],B=G[1],R=function(e){var t=e.target,r=t.name,n=t.value;I(Object(u.a)({},A,Object(Wt.a)({},r,n)))},z=function(e){var t=e.target,r=t.name,n=t.value;C(Object(u.a)({},P,Object(Wt.a)({},r,n.toUpperCase())))},M=function(){var e=Object(c.a)(Yc().mark(function e(n){var a,i,c;return Yc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),B(U(A)),null,null,a="+"+E,i="+"+j,c={vendor:D?D.vendorName:"",name:P.name,designation:v,contact:a||"",alternate_contact:i||"",email:A.email,alternate_email:A.alternate_email,pan_number:"Domestic"===o.type?P.pan_no:"",aadhaar:"Domestic"===o.type?P.aadhar_no:""},h(!0),e.next=11,yo.createContactInventoryData(c);case 11:r(),t(!1),h(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("error",e.t0),h(!1);case 20:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){console.log(W),0===Object.keys(W).length&&console.log(A)},[W]);var U=function(e){var t={},r=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i;return e.email?r.test(e.email)||(t.email="This is not a valid email format!"):t.email="Email is required!",e.alternate_email?r.test(e.alternate_email)||(t.alternate_email="This is not a valid alternate email format!"):t.alternate_email="Alternate Email is required!",t};return a.a.createElement("div",null,a.a.createElement(Pt,{open:p}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return M(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"name",label:"Name",variant:"outlined",value:P.name,onChange:z})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-select-small"},"Designation"),a.a.createElement(nr.a,{labelId:"demo-select-small",id:"demo-select-small",value:v,label:"Designation",onChange:function(e){return y(e.target.value)}},a.a.createElement(x.a,{value:"Owner"},"Owner "),a.a.createElement(x.a,{value:"Partner"},"Partner"),a.a.createElement(x.a,{value:"Director"},"Director"),a.a.createElement(x.a,{value:"Accounts"},"Accounts"),a.a.createElement(x.a,{value:"Purchase"},"Purchase"),a.a.createElement(x.a,{value:"Quality"},"Quality"),a.a.createElement(x.a,{value:"Stores"},"Stores")))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(or.a,{specialLabel:"Contact",inputStyle:{height:"15px",width:"250px"},value:E,onChange:function(e){w(e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(or.a,{specialLabel:"Alternate Contact",inputStyle:{height:"15px",width:"250px"},value:j,onChange:function(e){L(e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"email",label:"Email",variant:"outlined",value:A.email,onChange:R,error:Boolean(W.email),helperText:W.email})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"alternate_email",label:"Alt Email",variant:"outlined",value:A.alternate_email,onChange:R,error:Boolean(W.alternate_email),helperText:W.alternate_email})),"Domestic"===o.type?a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,disabled:"Director"!==v&&"Owner"!==v&&"Partner"!==v,size:"small",name:"pan_no",label:"Pan No.",variant:"outlined",value:"Domestic"===o.type?P.pan_no:"",onChange:z,helperText:W.pan_no&&"Applicable Only if designation is Owner/Partner/Director"})):null,"Domestic"===o.type?a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,disabled:"Director"!==v&&"Owner"!==v&&"Partner"!==v,size:"small",type:"number",name:"aadhar_no",label:"Aadhar No.",variant:"outlined",value:"Domestic"===o.type?P.aadhar_no:"",onChange:z,helperText:"Applicable Only if designation is Owner/Partner/Director"})):null),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Vc(){Vc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Qc=function(e){var t=e.setOpenPopup,r=e.getAllVendorDetailsByID,o=e.IDForEdit,i=e.vendorData,s=Object(n.useState)(!1),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)(o.designation),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(o),b=Object(l.a)(g,2),E=b[0],w=b[1],O=Object(n.useState)(""),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(""),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useRef)(),N=Object(n.useState)(""),T=Object(l.a)(N,2),A=T[0],I=T[1],F=function(e){var t=e.target,r=t.name,n=t.value;w(Object(u.a)({},E,Object(Wt.a)({},r,n)))};console.log("inputValue",E);var G=function(){var e=Object(c.a)(Vc().mark(function e(n){var a,o,i,c,l;return Vc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),h(!0),h(!0),a=j?"+"+j:E.contact,o=P?"+"+P:E.alternate_contact,console.log("contact1 :>> ",a),console.log("contact1 :>> ",o),i="director"===v||"owner"===v||"partner"===v?E.aadhaar:"",c="director"===v||"owner"===v||"partner"===v?E.pan_number:"",console.log("contact1 :>> ",o),l={name:E.name?E.name:"",vendor:E.vendor?E.vendor:"",designation:v||"",email:E.email?E.email:"",alternate_email:E.alternate_email?E.alternate_email:"",contact:a||"",alternate_contact:o||null,pan_number:c||null,aadhaar:i||null},e.next=14,yo.updateContactInventoryData(E.id,l);case 14:t(!1),r(),h(!1),e.next=25;break;case 19:e.prev=19,e.t0=e.catch(0),console.log("createing company detail error",e.t0),h(!1),e.t0.response?400===e.t0.response.status?I(e.t0.response.data.errors.alternate_contact?e.t0.response.data.errors.alternate_contact:e.t0.response.data.errors.contact):401===e.t0.response.status?I(e.t0.response.data.errors.code):I("Server Error"):I("\u201cSorry, You Are Not Allowed to Access This Page\u201d Please contact to admin"),D.current.focus();case 25:case"end":return e.stop()}},e,null,[[0,19]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:p}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return G(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement("p",{style:{width:"100%",padding:10,marginBottom:10,borderRadius:4,backgroundColor:A?"red":"offscreen",textAlign:"center",color:"white",textTransform:"capitalize"},ref:D,className:A?"errmsg":"offscreen","aria-live":"assertive"},A),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"name",label:"Name",variant:"outlined",value:E.name?E.name:"",onChange:F})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-select-small"},"Designation"),a.a.createElement(nr.a,{labelId:"demo-select-small",id:"demo-select-small",value:v||v,label:"Designation",onChange:function(e){return y(e.target.value)}},a.a.createElement(x.a,{value:"Owner"},"Owner "),a.a.createElement(x.a,{value:"Partner"},"Partner"),a.a.createElement(x.a,{value:"Director"},"Director"),a.a.createElement(x.a,{value:"Accounts"},"Accounts"),a.a.createElement(x.a,{value:"Purchase"},"Purchase"),a.a.createElement(x.a,{value:"Quality"},"Quality"),a.a.createElement(x.a,{value:"Stores"},"Stores")))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(or.a,{specialLabel:"Contact",inputStyle:{height:"15px",width:"250px"},value:j||E.contact,onChange:function(e){L(e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(or.a,{specialLabel:"Alternate Contact",inputStyle:{height:"15px",width:"250px"},value:P||E.alternate_contact,onChange:function(e){C(e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"email",label:"Email",variant:"outlined",value:E.email?E.email:"",onChange:F})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"alternate_email",label:"Alt Email",variant:"outlined",value:E.alternate_email?E.alternate_email:"",onChange:F})),"Domestic"!==i.type||"director"!==v&&"owner"!==v&&"partner"!==v?null:a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,disabled:"director"!==v&&"owner"!==v&&"partner"!==v,onChange:F,size:"small",name:"pan_number",label:"Pan No.",variant:"outlined",value:E.pan_number?E.pan_number:"",helperText:"Applicable Only if designation is Owner/Partner/Director"})),"Domestic"!==i.type||"director"!==v&&"owner"!==v&&"partner"!==v?null:a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,disabled:"director"!==v&&"owner"!==v&&"partner"!==v,onChange:F,size:"small",name:"aadhar_no",label:"Aadhar No.",variant:"outlined",value:E.aadhaar?E.aadhaar:"",helperText:"Applicable Only if designation is Owner/Partner/Director"}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},Hc=function(e){var t=e.contactData,r=e.getAllVendorDetailsByID,o=e.open,i=e.vendorData,c=Object(n.useState)(!1),u=Object(l.a)(c,2),s=u[0],f=u[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(),y=Object(l.a)(v,2),g=y[0],b=y[1],E=t.map(function(e){return{id:e.id,name:e.name,vendor:e.vendor,designation:e.designation,contact:e.contact,alternate_contact:e.alternate_contact}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:o}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:2}),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Contact Details")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"},a.a.createElement(yt.a,{onClick:function(){return m(!0)},variant:"contained",color:"success",startIcon:a.a.createElement(Wc.a,null)},"Add"))),a.a.createElement(Cn,{headers:["ID","Name","Company","Designation","Contact","Alt. Contact","Action"],data:E,openInPopup:function(e){var r=t.find(function(t){return t.id===e.id});b(r),f(!0)},openInPopup2:null,openInPopup3:null,openInPopup4:null})),a.a.createElement(ut,{title:"Create Contact Details",openPopup:d,setOpenPopup:m},a.a.createElement(qc,{vendorData:i,getAllVendorDetailsByID:r,setOpenPopup:m})),a.a.createElement(ut,{title:"Update Contact Details",openPopup:s,setOpenPopup:f},a.a.createElement(Qc,{vendorData:i,setOpenPopup:f,IDForEdit:g,getAllVendorDetailsByID:r})))};function Kc(){Kc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Jc=function(e){var t=e.setOpenPopup,r=e.getAllVendorDetailsByID,o=e.contactData,i=e.vendorData,f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)([]),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)(null),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(""),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(s.c)(function(e){return e.auth}),k=Object(n.useRef)(null),P=function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},y,Object(Wt.a)({},r,n))),"pincode"===r&&(k.current&&clearTimeout(k.current),k.current=setTimeout(function(){C(n)},500))},C=function(){var e=Object(c.a)(Kc().mark(function e(t){var r;return Kc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je.a.get("https://api.postalpincode.in/pincode/".concat(t));case 3:r=e.sent,x(r.data[0].PostOffice[0]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(c.a)(Kc().mark(function e(n){var a;return Kc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),d(!0),a={vendor:S?S.vendorName:"",contact:j.id,address:y.address,pincode:y.pincode,state:w.State,city:w.District},e.next=6,yo.createWareHouseInventoryData(a);case 6:t(!1),r(),d(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),d(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:h}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return D(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{fullWidth:!0,size:"small",id:"grouped-demo",onChange:function(e,t){return L(t)},options:o.map(function(e){return e}),groupBy:function(e){return e.designation},getOptionLabel:function(e){return"".concat(e.name," ").concat(e.contact)},label:"Contact"})),"Domestic"===i.type?a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"pincode",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:y.pincode,onChange:P,onBlur:P})):null,a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,onChange:P,size:"small",name:"address",label:"Address",variant:"outlined",value:y.address})),w?a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:w.State?w.State:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"city",label:"City",variant:"outlined",value:w.District?w.District:""}))):null),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Zc(){Zc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Xc=function(e){var t=e.IDForEdit,r=e.getAllVendorDetailsByID,o=e.setOpenPopup,i=e.contactData,f=e.vendorData;console.log("IDForEdit",t);var p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(t),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(s.c)(function(e){return e.auth}),w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(""),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useRef)(null),C=function(e){var t=e.target,r=t.name,n=t.value;b(Object(u.a)({},g,Object(Wt.a)({},r,n))),"pincode"===r&&(P.current&&clearTimeout(P.current),P.current=setTimeout(function(){D(n)},500))},D=function(){var e=Object(c.a)(Zc().mark(function e(t){var r;return Zc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je.a.get("https://api.postalpincode.in/pincode/".concat(t));case 3:r=e.sent,_(r.data[0].PostOffice[0]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(c.a)(Zc().mark(function e(t){var n;return Zc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),m(!0),n={vendor:E?E.vendorName:"",contact:S.id?S.id:g.contact,address:g.address,pincode:g.pincode,state:O.State?O.State:g.state,city:O.District?O.District:g.city},e.next=6,yo.updatetWareHouseInventoryData(g.id,n);case 6:o(!1),r(),m(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("createing company detail error",e.t0),m(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:d}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return N(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"contact",label:"Contact",variant:"outlined",value:g.contact_name?"".concat(g.contact_name," ").concat(g.contact_number):""})),"Domestic"===f.type?a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{fullWidth:!0,size:"small",id:"grouped-demo",onChange:function(e,t){return k(t)},options:i.map(function(e){return e}),groupBy:function(e){return e.designation},getOptionLabel:function(e){return"".concat(e.name," ").concat(e.contact)},label:"Update Contact"})):null,a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,onChange:C,size:"small",name:"address",label:"Address",variant:"outlined",value:g.address?g.address:""})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"pincode",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:g.pincode?g.pincode:"",onChange:C,onBlur:C})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:O.State?O.State:g.state,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"city",label:"City",variant:"outlined",value:O.District?O.District:g.city,InputLabelProps:{shrink:!0}}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},$c=function(e){var t=e.getAllVendorDetailsByID,r=e.wareHousedata,o=e.open,i=e.contactData,c=e.vendorData,u=Object(n.useState)(!1),s=Object(l.a)(u,2),f=s[0],p=s[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(),g=Object(l.a)(y,2),b=g[0],E=g[1],w=r.map(function(e){return{id:e.id,contact_number:e.contact_number,state:e.state,pincode:e.pincode}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:o}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:2}),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"WareHouse Details")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"},a.a.createElement(yt.a,{onClick:function(){return v(!0)},variant:"contained",color:"success",startIcon:a.a.createElement(Wc.a,null)},"Add"))),a.a.createElement(Cn,{headers:["ID","Contact","State","Pin Code","Action"],data:w,openInPopup:function(e){var t=r.find(function(t){return t.id===e.id});E(t),p(!0)},openInPopup2:null,openInPopup3:null,openInPopup4:null})),a.a.createElement(ut,{title:"Create WareHouse Details",openPopup:m,setOpenPopup:v},a.a.createElement(Jc,{vendorData:c,getAllVendorDetailsByID:t,setOpenPopup:v,contactData:i})),a.a.createElement(ut,{title:"Update WareHouse Details",openPopup:f,setOpenPopup:p},a.a.createElement(Xc,{vendorData:c,contactData:i,IDForEdit:b,setOpenPopup:p,getAllVendorDetailsByID:t})))};function el(){el=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var tl=function(e){var t=e.recordForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],f=Object(n.useState)([]),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)([]),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(s.b)(),k=Object(n.useState)(0),P=Object(l.a)(k,2),C=P[0],D=P[1];Object(n.useEffect)(function(){t&&N()},[t]);var N=function(){var e=Object(c.a)(el().mark(function e(){var r;return el().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,yo.getVendorDataById(t);case 4:r=e.sent,L(r.data),d(r.data.bank),g(r.data.contacts),x(r.data.warehouse),S(U(r.data.name)),u(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),u(!1),console.log("company data by id error",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:i}),a.a.createElement("div",null,a.a.createElement(_n,{tabs:[{label:"Bank"},{label:"Contact"},{label:"WareHouse"}],activeTab:C,onTabChange:function(e){D(e)}}),a.a.createElement("div",{style:{marginTop:"10px"}},0===C&&a.a.createElement("div",null,a.a.createElement(Uc,{vendorData:j,bankData:h,open:i,getAllVendorDetailsByID:N})),1===C&&a.a.createElement("div",null,a.a.createElement(Hc,{vendorData:j,contactData:y,open:i,getAllVendorDetailsByID:N})),2===C&&a.a.createElement("div",null,a.a.createElement($c,{vendorData:j,contactData:y,wareHousedata:w,open:i,getAllVendorDetailsByID:N})))))},rl=[{name:"Afghanistan",code:"AF"},{name:"\xc5land Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"AndorrA",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People'S Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People'S Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}];function nl(){nl=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var al=function(e){var t=e.getAllVendorDetails,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],s=o[1],f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)("Domestic"),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(!1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=(new Date).toISOString().slice(0,10),k=Object(n.useState)({name:"",address:"",pincode:"",city:"",state:"",website:"",estd_date:S,gst_number:"",pan_number:"",total_sales_turnover:"",country:"",vendor_source:""}),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)([]),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Object(n.useState)(""),G=Object(l.a)(F,2),W=G[0],B=G[1],R=Ln(),z=R.handleSuccess,M=R.handleError,U=R.handleCloseSnackbar,Y=R.alertInfo,q=Object(n.useRef)(null),V=function(e){var t=e.target,r=t.name,n=t.value;D(r?Object(u.a)({},C,Object(Wt.a)({},r,n)):Object(u.a)({},C,{country:e.target.textContent})),"pincode"===r&&(q.current&&clearTimeout(q.current),q.current=setTimeout(function(){H(n)},500))};console.log("inputValue",C);var Q,H=function(){var e=Object(c.a)(nl().mark(function e(t){var r;return nl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je.a.get("https://api.postalpincode.in/pincode/".concat(t));case 3:r=e.sent,I(r.data[0].PostOffice[0]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Creating Bank error ",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),K="Domestic"===y&&w&&(""===C.gst_number||C.gst_number.toString().length>15)?"GST NO should be less than or equal to 15 Digit":"",J="Domestic"!==y||!j||""!==C.pan_number&&(Q=C.pan_number,/[A-Z]{5}[0-9]{4}[A-Z]{1}/.test(Q))?"":"Invalid PAN No.",Z=function(){var e=Object(c.a)(nl().mark(function e(r){var n,a;return nl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.preventDefault(),d(!0),!K&&!J){e.next=6;break}return d(!1),e.abrupt("return");case 6:return n={type:y,name:C.name,address:C.address,pincode:C.pincode||null,state:"Domestic"===y?A?A.State:"":C.state,city:"Domestic"===y?A?A.District:"":C.city,website:C.website_url,estd_date:C.estd_date||null,gst_number:C.gst_number,pan_number:C.pan_number,total_sales_turnover:C.total_sale,country:"Domestic"===y?"India":C.country?C.country:null},e.next=9,yo.createVendorData(n);case 9:a=e.sent,B(a.data.vendor_id),z("Vendor created successfully"),t(),d(!1),s(!0),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(0),M(e.t0),console.log("createing company detail error",e.t0),d(!1);case 22:case"end":return e.stop()}},e,null,[[0,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:Y.open,onClose:U,severity:Y.severity,message:Y.message}),a.a.createElement(Pt,{open:h}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return Z(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(a.a.Fragment,null,a.a.createElement(tr.a,null,a.a.createElement(kr.a,{id:"demo-row-radio-buttons-group-label"},"Type"),a.a.createElement(Pr.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:y,onChange:function(e){var t=e.target.value;g(t),"Domestic"===t&&D(Object(u.a)({},C,{country:"India"}))}},a.a.createElement(Cr.a,{value:"International",control:a.a.createElement(Dr.a,null),label:"International"}),a.a.createElement(Cr.a,{value:"Domestic",control:a.a.createElement(Dr.a,null),label:"Domestic"}))))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{size:"small",id:"grouped-demo",options:"International"===y?rl:[],getOptionLabel:function(e){return e.name},value:"Domestic"===y?{name:"India"}:C.country?{name:C.country}:null,onChange:function(e,t){return V(e)},label:"Enter Country Name"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{size:"small",id:"custom-demo",options:[{name:"Vendor"},{name:"Job Worker"},{name:"Vendor/Job Worker"}],getOptionLabel:function(e){return e.name},value:C.vendor_source?{name:C.vendor_source}:null,onChange:function(e,t){return V(e)},label:"Source"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Vendor Name",variant:"outlined",value:C.name,onChange:V})),"Domestic"===y?a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"pincode",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:C.pincode,onChange:V,onBlur:V})):null,a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:"Domestic"===y?A.State?A.State:"":C.state,onChange:V})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"city",size:"small",label:"City",variant:"outlined",value:"Domestic"===y?A.District?A.District:"":C.city,onChange:V})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"website_url",label:"website Url",variant:"outlined",value:C.website_url,onChange:V})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"estd_date",size:"small",label:"Estd.Date",variant:"outlined",value:C.estd_date,onChange:V})),"Domestic"===y?a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"gst_number",label:"GST No.",variant:"outlined",value:C.gst_number,onChange:V,error:""!==K,helperText:K,onFocus:function(){return x(!0)},onBlur:function(){return x(!1)}})):null,"Domestic"===y?a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,size:"small",name:"pan_number",label:"Pan No.",variant:"outlined",value:C.pan_number,onChange:V,error:""!==J,helperText:J,onFocus:function(){return L(!0)},onBlur:function(){return L(!1)}})):null,a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"total_sale",size:"small",type:"number",label:"Total Sale",variant:"outlined",value:C.total_sale,onChange:V})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:C.address,onChange:V}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")),a.a.createElement(ut,{maxWidth:"lg",title:"Create Customer",openPopup:i,setOpenPopup:s},a.a.createElement(tl,{setOpenPopup:s,getAllVendorDetails:t,recordForEdit:W})))};function ol(){ol=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var il=function(e){var t=e.setOpenPopup,r=e.getAllVendorDetails,o=e.recordForEdit,i=Object(n.useState)(!1),f=Object(l.a)(i,2),p=f[0],h=f[1],d=Object(n.useState)(o.type),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(o),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Ln(),S=L.handleSuccess,k=L.handleError,P=L.handleCloseSnackbar,C=L.alertInfo,D=Object(s.b)(),N=function(e,t){if("string"===typeof e&&t&&t.hasOwnProperty("name"))w(Object(u.a)({},E,Object(Wt.a)({},e,t.name)));else if(e.target){var r=e.target,n=r.name,a=r.value;w(Object(u.a)({},E,Object(Wt.a)({},n,a)))}};Object(n.useEffect)(function(){D(U(o.name))},[]);var T=function(e){return e.length<=14},A=function(){var e=Object(c.a)(ol().mark(function e(n){var a;return ol().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),h(!0),a={type:v,name:E.name,vendor_source:E.vendor_source,address:E.address,pincode:E.pincode,state:"Domestic"===v&&E.state,city:"Domestic"===v&&E.city,website:E.website,estd_date:E.estd_date,gst_number:E.gst_number,pan_number:E.pan_number,total_sales_turnover:E.total_sales_turnover,country:"Domestic"===v?"India":E.country?E.country:null},e.next=6,yo.updateVendorData(E.id,a);case 6:S("Vendor updated successfully"),setTimeout(function(){t(!1)},300),h(!1),r(),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(0),k(e.t0),console.log("createing company detail error",e.t0),j(e.t0.response.data.errors?e.t0.response.data.errors.pan_number:""),h(!1);case 18:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return console.log("typeData",v),console.log("value","Domestic"===v?E.country?E.country:"India":E.country?E.country:null),a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:C.open,onClose:P,severity:C.severity,message:C.message}),a.a.createElement(Pt,{open:p}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return A(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(a.a.Fragment,null,a.a.createElement(tr.a,null,a.a.createElement(kr.a,{id:"demo-row-radio-buttons-group-label"},"Type"),a.a.createElement(Pr.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:v||"",onChange:function(e){var t=e.target.value;y(t),"Domestic"===t&&w(Object(u.a)({},E,{country:"India"}))}},a.a.createElement(Cr.a,{value:"International",control:a.a.createElement(Dr.a,null),label:"International"}),a.a.createElement(Cr.a,{value:"Domestic",control:a.a.createElement(Dr.a,null),label:"Domestic"}))))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{size:"small",id:"grouped-demo",options:"International"===v?rl:[],getOptionLabel:function(e){return e.name},value:"Domestic"===v?{name:"India"}:E.country?{name:E.country}:null,onChange:function(e,t){return N(e,t)},label:"International"===v?"Enter Country Name":"Country"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{size:"small",id:"custom-demo",options:[{name:"Vendor"},{name:"Job Worker"},{name:"Vendor/Job Worker"}],getOptionLabel:function(e){return e.name},value:E.vendor_source?{name:E.vendor_source}:null,onChange:function(e,t){return N("vendor_source",t)},label:"Source"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Company Name",variant:"outlined",value:(E.name,E.name),onChange:N,InputLabelProps:{shrink:!0}})),"Domestic"===v?a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"pincode",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:E.pincode?E.pincode:"",onChange:N,onBlur:N})):null,a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"state",label:"State",variant:"outlined",value:"Domestic"===v&&E.state,onChange:N,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"city",size:"small",label:"City",variant:"outlined",value:"Domestic"===v&&E.city,onChange:N,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"website",label:"website Url",variant:"outlined",value:E.website?E.website:"",onChange:N,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"estd_date",size:"small",label:"Estd.Date",variant:"outlined",value:E.estd_date?E.estd_date:"",onChange:N,InputLabelProps:{shrink:!0}})),"Domestic"===v?a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"gst_number",label:"GST No.",variant:"outlined",value:E.gst_number?E.gst_number:"",onChange:N,InputLabelProps:{shrink:!0},error:T(E.gst_number?E.gst_number.toString():""),helperText:T(E.gst_number?E.gst_number.toString():"")?"GST NO should be less than or equal to 15 Digit":""})):null,"Domestic"===v?a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,size:"small",name:"pan_number",label:"Pan No.",variant:"outlined",value:E.pan_number?E.pan_number:"",onChange:N,error:""===E.pan_number,helperText:_,InputLabelProps:{shrink:!0}})):null,a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"total_sales_turnover",size:"small",type:"number",label:"Total Sale",variant:"outlined",value:E.total_sales_turnover?E.total_sales_turnover:"",onChange:N,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:E.address?E.address:"",onChange:N,InputLabelProps:{shrink:!0}}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function cl(){cl=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ll=function(e){var t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],u=e.setOpenPopup,s=e.getAllVendorDetails,f=e.recordForEdit,p=Object(n.useState)([]),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)([]),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(0),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Ln(),T=N.handleError,A=N.handleCloseSnackbar,I=N.alertInfo;Object(n.useEffect)(function(){f&&F()},[f]);var F=function(){var e=Object(c.a)(cl().mark(function e(){var t;return cl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,yo.getVendorDataById(f.id);case 4:t=e.sent,S(t.data),m(t.data.bank),b(t.data.contacts),O(t.data.warehouse),i(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),T(e.t0),i(!1),console.log("company data by id error",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:I.open,onClose:A,severity:I.severity,message:I.message}),a.a.createElement(Pt,{open:o}),a.a.createElement("div",null,a.a.createElement(_n,{tabs:[{label:"Vendor"},{label:"Bank"},{label:"Contact"},{label:"WareHouse"}],activeTab:C,onTabChange:function(e){D(e)}}),a.a.createElement("div",{style:{marginTop:"10px"}},0===C&&a.a.createElement("div",null,a.a.createElement(il,{setOpenPopup:u,getAllVendorDetails:s,recordForEdit:f})),1===C&&a.a.createElement("div",null,a.a.createElement(Uc,{vendorData:L,bankData:d,open:o,getAllVendorDetailsByID:F})),2===C&&a.a.createElement("div",null,a.a.createElement(Hc,{contactData:g,vendorData:L,open:o,getAllVendorDetailsByID:F})),3===C&&a.a.createElement("div",null,a.a.createElement($c,{vendorData:L,contactData:g,wareHousedata:x,open:o,getAllVendorDetailsByID:F})))))};function ul(){ul=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var sl=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),fl=function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getAllVendorDetails,i=Object(s.c)(function(e){return{sellerData:e.auth.sellerAccount,userData:e.auth.profile}}),f=i.sellerData,p=i.userData,h=(new Date).toISOString().slice(0,10),d=Object(n.useState)({created_by:p.email,po_date:h,schedule_date:h,vendor:t.name,vendor_type:t.type,vendor_email:"",vendor_contact_person:"",vendor_contact:"",seller_account:"",payment_terms:"",delivery_terms:"",currency:"",products:[{product:"",quantity:"",unit:"",amount:"",rate:""}]}),m=Object(l.a)(d,2),y=m[0],g=m[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(!1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)([]),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Ln(),F=I.handleSuccess,G=I.handleError,W=I.handleCloseSnackbar,B=I.alertInfo;console.log("inputVales",y);var R=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;g(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))})},[]),z=Object(n.useCallback)(function(e,r){g(function(n){var a=Object(u.a)({},n,Object(Wt.a)({},e,r));if("vendor_contact_person"===e){var o=t.contacts.find(function(e){return e.name===r});o&&(a.vendor_contact=o.contact,a.vendor_email=o.email),"Domestic"===t.type?a.currency="INR":"International"===t.type&&(a.currency="")}return a})},[t.type,t.contacts]),M=function(e,t,r){g(function(n){var a=Object(ln.a)(n.products),o=Object(u.a)({},a[e]);if(o[t]=r,"quantity"===t||"rate"===t){var i=o.quantity?parseFloat(o.quantity):0,c=o.rate?parseFloat(o.rate):0;o.amount=(i*c).toFixed(2)}return a[e]=o,Object(u.a)({},n,{products:a})})},U=Object(n.useCallback)(function(){M(y.products.length,"",""),x([].concat(Object(ln.a)(w),[""]))},[y.products.length,M]);Object(n.useEffect)(function(){t&&g(function(e){return Object(u.a)({},e,{vendor_type:t.type})})},[t]),Object(n.useEffect)(function(){q(),Y()},[t]);var Y=function(){var e=Object(c.a)(ul().mark(function e(){var r,n;return ul().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,e.next=4,yo.getCurrencyData();case 4:(r=e.sent)&&r.data&&(n=r.data,"International"===t.type&&(n=n.filter(function(e){return"INR"!==e.name})),A(n),"Domestic"!==t.type||y.currency||g(function(e){return Object(u.a)({},e,{currency:"INR"})})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),G(e.t0),console.error("Error fetching currency data",e.t0);case 12:return e.prev=12,L(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,8,12,15]])}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(c.a)(ul().mark(function e(){var t;return ul().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,un.getAllProduct();case 4:t=e.sent,C(t.data),L(!1),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),G(e.t0),console.error("error potential",e.t0),L(!1);case 14:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(ul().mark(function e(t){var n;return ul().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),L(!0),n={created_by:y.created_by,vendor:y.vendor,vendor_type:y.vendor_type,vendor_email:y.vendor_email,vendor_contact_person:y.vendor_contact_person,vendor_contact:y.vendor_contact,seller_account:y.seller_account,payment_terms:y.payment_terms,delivery_terms:y.delivery_terms,schedule_date:y.schedule_date,currency:y.currency,po_date:y.po_date,products:y.products||[]},e.next=6,yo.createPurchaseOrderData(n);case 6:e.sent&&o(),F("Purchase Order Created Successfully"),setTimeout(function(){r(!1)},300),L(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),G(e.t0),console.log("createing Packing list error",e.t0),L(!1);case 18:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:B.open,onClose:W,severity:B.severity,message:B.message}),a.a.createElement(Pt,{open:j}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return V(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Vendor",variant:"outlined",value:t.name||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",disablePortal:!0,id:"combo-box-demo",options:t.contacts,getOptionLabel:function(e){return e.name},onChange:function(e,t){return z("vendor_contact_person",t.name)},label:"Vendor Contact Person"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{disabled:!0,fullWidth:!0,size:"small",label:"Vendor Type",variant:"outlined",value:y.vendor_type||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return z("seller_account",t)},options:f.map(function(e){return e.unit}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Buyer Account"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return g(Object(u.a)({},y,{payment_terms:t}))},options:pl.map(function(e){return e}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Payment Terms"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return g(Object(u.a)({},y,{delivery_terms:t}))},options:hl.map(function(e){return e}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Delivery Terms"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,type:"date",name:"po_date",size:"small",label:"Purchase Order Date",variant:"outlined",value:y.po_date,InputProps:{inputProps:{min:h,max:h}}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",disablePortal:!0,id:"currency-autocomplete",value:T.find(function(e){return e.name===y.currency})||null,onChange:function(e,t){return g(Object(u.a)({},y,{currency:t.name}))},options:T.map(function(e){return e}),getOptionLabel:function(e){return"".concat(e.name," (").concat(e.symbol,")")},sx:{minWidth:300},label:"Currency"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"schedule_date",size:"small",label:"Schedule Date",variant:"outlined",value:y.schedule_date,onChange:R,InputProps:{inputProps:{min:h}}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(sl,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),y.products.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{key:t,item:!0,xs:12,sm:3},a.a.createElement(yr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo-".concat(t),value:e.product?e.product:"",onChange:function(e,r){return function(e,t){if(t){var r=P.find(function(e){return e.name===t});r?(y.products.some(function(r,n){return r.product===t&&n!==e}),g(function(n){var a=n.products.map(function(n,a){return a===e?Object(u.a)({},n,{product:t,unit:r.unit}):n});return Object(u.a)({},n,{products:a})})):console.error("Selected product not found in product options")}}(t,r)},options:P.map(function(e){return e.name}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"unit",size:"small",label:"Unit",variant:"outlined",value:e.unit?e.unit:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity||"",onChange:function(e){return M(t,"quantity",e.target.value)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate||"",onChange:function(e){return M(t,"rate",e.target.value)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,name:"amount",size:"small",label:"Amount",variant:"outlined",value:e.amount||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:1,alignContent:"right"},0!==t&&a.a.createElement(yt.a,{disabled:0===t,onClick:function(){return function(e){g(function(t){var r=t.products.filter(function(t,r){return r!==e}),n=t.products[e].product;return x(w.filter(function(e){return e!==n})),Object(u.a)({},t,{products:r})})}(t)},variant:"contained"},"Remove")))}),a.a.createElement(Et.a,{item:!0,xs:12,sm:2,alignContent:"right"},a.a.createElement(yt.a,{onClick:U,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},pl=["100% Advance against PI","50% Advance, Balance Before Dispatch","30% Advance, Balance Before Dispatch","15 days with PDC (Post-Dated Check)","30 days with PDC","45 days with PDC","60 days with PDC","15 days credit","30 days credit","45 days credit","60 days credit","90 days credit","120 days credit","TT in 100% advance against PI","10% Advance, balance against bill of lading","15% Advance, balance against bill of lading","20% Advance, balance against bill of lading","30% Advance, balance against bill of lading","50% Advance, balance against bill of lading","60 days against documents","90 days against documents","120 days against documents","LC at Sight","LC 45 days","LC 60 days"],hl=["Ex-Work","FOB (Free On Board)","CIF (Cost, Insurance, and Freight)","C & F (Cost and Freight)","Door Delivery (Prepaid)","Door Delivery to pay","Transporter Warehouse (Prepaid)","Transporter Warehouse to pay","Add actual freight in invoice","Ex - warehouse"];function dl(){dl=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ml=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),vl=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getAllVendorDetails,i=e.currentPage,f=Object(s.c)(function(e){return{sellerData:e.auth.sellerAccount,userData:e.auth.profile}}),p=f.sellerData,h=f.userData,d=(new Date).toISOString().slice(0,10),m=Object(n.useState)({created_by:h.email,schedule_date:d,job_worker:t.name,vendor_type:t.type,vendor_contact_person:"",buyer_account:"",delivery_term:"",transporter_name:"",challan_no:"",transpotation_cost:"",vechile_no:"",products:[{product:"",quantity:"",unit:""}]}),y=Object(l.a)(m,2),g=y[0],b=y[1],E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)([]),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Ln(),T=N.handleSuccess,A=N.handleError,I=N.handleCloseSnackbar,F=N.alertInfo,G=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;b(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))})},[]),W=Object(n.useCallback)(function(e,r){b(function(n){var a=Object(u.a)({},n,Object(Wt.a)({},e,r));if("vendor_contact_person"===e){var o=t.contacts.find(function(e){return e.name===r});o&&(a.vendor_contact=o.contact,a.vendor_email=o.email),"Domestic"===t.type?a.currency="INR":"International"===t.type&&(a.currency="")}return a})},[t.type,t.contacts]),B=function(e,t,r){b(function(n){var a=Object(ln.a)(n.products),o=Object(u.a)({},a[e]);if(o[t]="quantity"===t?parseInt(r,10)||"":"rate"===t?parseFloat(r)||"":r,"quantity"===t||"rate"===t){var i=parseInt(o.quantity,10)||0,c=parseFloat(o.rate)||0;o.amount=Math.round(i*c)}return a[e]=o,Object(u.a)({},n,{products:a})})},R=Object(n.useCallback)(function(){B(g.products.length,"",""),O([].concat(Object(ln.a)(x),[""]))},[g.products.length,B]);Object(n.useEffect)(function(){t&&b(function(e){return Object(u.a)({},e,{vendor_type:t.type})})},[t]),Object(n.useEffect)(function(){z()},[t]);var z=function(){var e=Object(c.a)(dl().mark(function e(){var t;return dl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,un.getAllRawMaterials("all");case 4:t=e.sent,D(t.data),S(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error potential",e.t0),S(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(c.a)(dl().mark(function e(t){var n;return dl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),S(!0),n={created_by:g.created_by,job_worker:g.job_worker,vendor_type:g.vendor_type,vendor_contact_person:g.vendor_contact_person,buyer_account:g.buyer_account,payment_terms:g.payment_terms,delivery_term:g.delivery_terms,schedule_date:g.schedule_date,transporter_name:g.transporter_name,challan_no:g.challan_no,transpotation_cost:parseFloat(g.transpotation_cost),vechile_no:g.vechile_no,products:g.products||[]},e.next=6,yo.createChalan(n);case 6:e.sent&&o(i),T("Chalan created successfully"),setTimeout(function(){r(!1)},300),S(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),A(e.t0),console.log("createing Challan error",e.t0),S(!1);case 18:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:F.open,onClose:I,severity:F.severity,message:F.message}),a.a.createElement(Pt,{open:L}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return M(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Vendor",variant:"outlined",value:t.name||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",disablePortal:!0,id:"combo-box-demo",options:t.contacts,getOptionLabel:function(e){return e.name},onChange:function(e,t){return W("vendor_contact_person",t.name)},label:"Vendor Contact Person"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{disabled:!0,fullWidth:!0,size:"small",label:"Vendor Type",variant:"outlined",value:g.vendor_type||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return W("buyer_account",t)},options:p.map(function(e){return e.unit}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Buyer Account"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return b(Object(u.a)({},g,{delivery_terms:t}))},options:yl.map(function(e){return e}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Delivery Terms"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"transporter_name",size:"small",label:"Transporter Name",variant:"outlined",value:g.transporter_name,onChange:G})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"challan_no",size:"small",label:"Challan No",variant:"outlined",value:g.challan_no,onChange:G})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,type:"number",name:"transpotation_cost",size:"small",label:"Transportation Cost",variant:"outlined",value:g.transpotation_cost,onChange:G})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"vechile_no",size:"small",label:"Vehicle No",variant:"outlined",value:g.vechile_no,onChange:G})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"schedule_date",size:"small",label:"Schedule Date",variant:"outlined",value:g.schedule_date,onChange:G,InputProps:{inputProps:{min:d}}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(ml,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),g.products.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{key:t,item:!0,xs:12,sm:3},a.a.createElement(yr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo-".concat(t),value:e.product?e.product:"",onChange:function(e,r){return function(e,t){if(t){var r=C.find(function(e){return e.name===t});r?b(function(n){var a=n.products.map(function(n,a){return a===e?Object(u.a)({},n,{product:t,unit:r.unit}):n});return Object(u.a)({},n,{products:a})}):console.error("Selected product not found in product options")}}(t,r)},options:C.map(function(e){return e.name}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"unit",size:"small",label:"Unit",variant:"outlined",value:e.unit?e.unit:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity||"",onChange:function(e){return B(t,"quantity",e.target.value)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:1,alignContent:"right"},0!==t&&a.a.createElement(yt.a,{disabled:0===t,onClick:function(){return function(e){b(function(t){var r=t.products.filter(function(t,r){return r!==e}),n=t.products[e].product;return O(x.filter(function(e){return e!==n})),Object(u.a)({},t,{products:r})})}(t)},variant:"contained"},"Remove")))}),a.a.createElement(Et.a,{item:!0,xs:12,sm:2,alignContent:"right"},a.a.createElement(yt.a,{onClick:R,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))}),yl=["Ex-Work","Ex - warehouse"];function gl(){gl=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var bl=function(){var e=Object(s.b)(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(!1),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)([]),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)(1),I=Object(l.a)(A,2),F=I[0],W=I[1],B=Object(n.useState)(0),R=Object(l.a)(B,2),z=R[0],M=R[1],U=Object(n.useState)(""),Y=Object(l.a)(U,2),q=Y[0],V=Y[1],Q=Object(s.c)(function(e){return e.auth.profile}),H=Object(n.useState)(),K=Object(l.a)(H,2),J=K[0],Z=K[1],X=Ln(),$=X.handleError,ee=X.handleCloseSnackbar,te=X.alertInfo;Object(n.useEffect)(function(){re()},[]);var re=function(){var t=Object(c.a)(gl().mark(function t(){var r;return gl().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),t.next=4,ea.getAllPaginateSellerAccountData("all");case 4:r=t.sent,e(G(r.data)),j(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),$(t.t0),j(!1);case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(){return t.apply(this,arguments)}}(),ne=Object(n.useCallback)(function(){var e=Object(c.a)(gl().mark(function e(t){var r,n,a=arguments;return gl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:q,e.prev=1,j(!0),e.next=5,yo.getAllVendorData(t,r,J);case 5:n=e.sent,P(n.data.results),M(Math.ceil(n.data.count/25)),j(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),$(e.t0),j(!1),console.error("error",e.t0);case 16:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),[q,J]);Object(n.useEffect)(function(){ne(F)},[F,J,q,ne]);var ae=[{label:"Vendor",value:"Vendor"},{label:"Job Worker",value:"Job Worker"},{label:"Vendor/ Job Worker",value:"Vendor/Job Worker"}],oe=k.map(function(e){return{id:e.id,name:e.name,vendor_source:e.vendor_source,type:e.type,pan_number:e.pan_number,gst_number:e.gst_number,city:e.city,state:e.state}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:te.open,onClose:ee,severity:te.severity,message:te.message}),a.a.createElement(Pt,{open:_}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{value:ae.find(function(e){return e.value===J})||null,onChange:function(e,t){Z(t?t.value:"")},options:ae,getOptionLabel:function(e){return e.label},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Source Filter",fullWidth:!0}))},fullWidth:!0,size:"small"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(ga,{onSearch:function(e){V(e),W(1)},onReset:function(){V(""),W(1)}})))),a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6}),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement("h3",{style:{textAlign:"left",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Vendor")),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},(Q.groups.includes("Accounts")||Q.groups.includes("Director")||Q.groups.includes("Accounts Executive"))&&a.a.createElement(yt.a,{onClick:function(){return h(!0)},variant:"contained",color:"success"},"Add")))),a.a.createElement(Cn,{headers:["ID","Vendor","Source","Type","Pan No.","Gst No.","City","State","Action"],data:oe,openInPopup:Q.groups.includes("Purchase")?null:function(e){var t=k.find(function(t){return t.id===e.id});T(t),i(!0)},openInPopup2:function(e){var t=k.find(function(t){return t.id===e.id});T(t),y(!0)},openInPopup3:function(e){var t=k.find(function(t){return t.id===e.id});T(t),w(!0)},openInPopup4:null,ButtonText:(!Q.groups.includes("Accounts Executive")||!Q.groups.includes("Accounts"))&&"Create PO",ButtonText1:(!Q.groups.includes("Accounts Executive")||!Q.groups.includes("Accounts"))&&"Challan Register"}),a.a.createElement(Zn,{currentPage:F,totalPages:z,handlePageChange:function(e,t){W(t)}}))),a.a.createElement(ut,{fullScreen:!0,title:"Create Vendor Details",openPopup:p,setOpenPopup:h},a.a.createElement(al,{setOpenPopup:h,getAllVendorDetails:ne})),a.a.createElement(ut,{fullScreen:!0,title:"Update Vendor Details",openPopup:o,setOpenPopup:i},a.a.createElement(ll,{setOpenPopup:i,getAllVendorDetails:ne,recordForEdit:N})),a.a.createElement(ut,{fullScreen:!0,title:"Purchase Order",openPopup:v,setOpenPopup:y},a.a.createElement(fl,{setOpenPopup:y,recordForEdit:N,getAllVendorDetails:ne})),a.a.createElement(ut,{fullScreen:!0,title:"Create Challan Register",openPopup:E,setOpenPopup:w},a.a.createElement(vl,{setOpenPopup:w,getAllVendorDetails:ne,recordForEdit:N,currentPage:F})))};function El(){El=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var wl=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getAllStoresInventoryDetails,o=e.currentPage,i=e.searchQuery,s=Object(n.useState)(!1),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)([]),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Ln(),S=L.handleSuccess,k=L.handleError,P=L.handleCloseSnackbar,C=L.alertInfo,D=function(e){var t,r=e.target,n=r.name,a=r.value,o=v.pending_quantity,i=v.amount;"quantity"===n?(o=parseInt(a),i=parseFloat(v.rate||0)*parseFloat(a)||""):"rate"===n&&(i=parseFloat(a)*parseInt(v.quantity)||"");y(Object(u.a)({},v,(t={},Object(Wt.a)(t,n,a),Object(Wt.a)(t,"pending_quantity",o),Object(Wt.a)(t,"amount",i),t)))},N=function(e,t){y(Object(u.a)({},v,Object(Wt.a)({},e,t)))};Object(n.useEffect)(function(){T(),A()},[]);var T=function(){var e=Object(c.a)(El().mark(function e(){var t;return El().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,un.getAllProduct();case 4:t=e.sent,w(t.data),h(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error potential",e.t0),h(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(c.a)(El().mark(function e(){var t;return El().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,ea.getAllPaginateSellerAccountData("all");case 4:t=e.sent,console.log("response seller",t.data),j(t.data),h(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),h(!1);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(c.a)(El().mark(function e(n){var a;return El().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),a={seller_account:v.seller_account,product:v.product,quantity:v.quantity,pending_quantity:v.pending_quantity,rate:v.rate,amount:v.amount},h(!0),e.next=6,yo.createStoresInventoryData(a);case 6:"Store Inventory Created Successfully",S("Store Inventory Created Successfully"),setTimeout(function(){t(!1)},300),r(o,i),h(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),k(e.t0),h(!1),console.error("error Store Inventory",e.t0);case 18:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:C.open,onClose:P,severity:C.severity,message:C.message}),a.a.createElement(Pt,{open:p}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return I(e)},sx:{mt:1}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"seller_account",size:"small",disablePortal:!0,id:"combo-box-demo",value:v.seller_account||"",onChange:function(e,t){return N("seller_account",t)},options:_.map(function(e){return e.unit}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Seller Account"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",value:v.product||"",onChange:function(e,t){return N("product",t)},options:E.map(function(e){return e.name}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:v.quantity||"",onChange:D})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"pending_quantity",size:"small",label:"Pending Quantity",variant:"outlined",value:v.pending_quantity||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:v.rate||"",onChange:D})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"amount",size:"small",label:"Amount",variant:"outlined",value:v.amount||""}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:3,mb:2,textAlign:"right"}},"Submit")))});function xl(){xl=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ol=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)([]),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(0),g=Object(l.a)(y,2),b=(g[0],g[1],Object(n.useState)(1)),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(0),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(""),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)([]),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Object(n.useRef)(null),F=(Object(s.c)(function(e){return e.auth}).profile,Ln()),G=F.handleSuccess,W=F.handleError,B=F.handleCloseSnackbar,R=F.alertInfo,z=function(){var e=Object(c.a)(xl().mark(function e(){var t;return xl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M();case 3:t=e.sent,A(t),setTimeout(function(){I.current.link.click()}),G("CSV file downloaded successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(c.a)(xl().mark(function e(){var t,r;return xl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o(!0),!P){e.next=8;break}return e.next=5,yo.getAllStoresInventoryDetails("all",P);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,yo.getAllStoresInventoryDetails("all");case 10:t=e.sent;case 11:return r=t.data.map(function(e){return{product:e.product,seller_account:e.seller_account,description:e.description,created_on:e.created_on,unit:e.unit,quantity:e.quantity,pending_quantity:e.pending_quantity,rate:e.rate,amount:e.amount}}),o(!1),e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,o(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){U()},[]),Object(n.useEffect)(function(){U(w,P)},[w,P]);var U=Object(n.useCallback)(function(){var e=Object(c.a)(xl().mark(function e(t){var r,n,a=arguments;return xl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:P,e.prev=1,o(!0),e.next=5,yo.getAllStoresInventoryDetails(t,r);case 5:n=e.sent,v(n.data.results),L(Math.ceil(n.data.count/25)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),W(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(t){return e.apply(this,arguments)}}(),[]),Y=m.map(function(e,t){return{product:e.product,source:e.source,source_key:e.source_key,seller_account:e.seller_account,description:e.description,unit:e.unit,quantity:e.quantity,pending_quantity:e.pending_quantity,created_on:e.created_on,expiry_date:e.expiry_date,rate:e.rate,amount:e.amount}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:R.open,onClose:B,severity:R.severity,message:R.message}),a.a.createElement(Pt,{open:r}),a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(ga,{onSearch:function(e){C(e),x(1)},onReset:function(){C(""),x(1)}})),a.a.createElement(vt.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Stores Inventory")),a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(yt.a,{onClick:z,variant:"contained",sx:{marginRight:1}},"Download CSV"),T.length>0&&a.a.createElement(fa.CSVLink,{data:Object(ln.a)(T),headers:[{label:"PRODUCT",key:"product"},{label:"SELLER STATE",key:"seller_account"},{label:"DESCRIPTION",key:"description"},{label:"DATE",key:"created_on"},{label:"UNIT",key:"unit"},{label:"QUANTITY",key:"quantity"},{label:"PENDING QUANTITY",key:"pending_quantity"},{label:"RATE",key:"rate"},{label:"AMOUNT",key:"amount"}],ref:I,filename:"Store Inventory.csv",target:"_blank",style:{textDecoration:"none",outline:"none",marginRight:1}})))),a.a.createElement(Cn,{headers:["PRODUCT","SOURCE","SOURCE KEY","SELLER STATE","DESCRIPTION","UNIT","QUANTITY","PENDING QUANTITY","MFG. DATE","EXPIRY DATE","RATE","AMOUNT"],data:Y,openInPopup:null,openInPopup2:null}),a.a.createElement(Zn,{currentPage:w,totalPages:j,handlePageChange:function(e,t){x(t)}}),a.a.createElement(ut,{maxWidth:"xl",title:"Create Stores Inventory",openPopup:f,setOpenPopup:p},a.a.createElement(wl,{currentPage:w,searchQuery:P,setOpenPopup:p,getAllStoresInventoryDetails:U}))))};function _l(){_l=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var jl=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(0),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useRef)(null),P=Ln(),C=P.handleSuccess,D=P.handleError,N=P.handleCloseSnackbar,T=P.alertInfo,A=function(){var e=Object(c.a)(_l().mark(function e(){var t;return _l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I();case 3:t=e.sent,S(t),setTimeout(function(){k.current.link.click()}),C("CSV Download Successful"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),D(e.t0),console.log("CSVLink Download error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(c.a)(_l().mark(function e(){var t,r;return _l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o(!0),!x){e.next=8;break}return e.next=5,yo.getProductionInventoryPaginateData("all",x);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,yo.getProductionInventoryPaginateData("all");case 10:t=e.sent;case 11:return r=t.data.map(function(e){return{product:e.product,seller_account:e.seller_account,description:e.description,created_on:e.created_on,unit:e.unit,quantity:e.quantity,pending_quantity:e.pending_quantity,rate:e.rate,amount:e.amount}}),o(!1),e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,o(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){F(d,x)},[d,x]);var F=Object(n.useCallback)(function(){var e=Object(c.a)(_l().mark(function e(t,r){var n;return _l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,yo.getProductionInventoryData(t,r);case 4:n=e.sent,f(n.data.results),b(Math.ceil(n.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),D(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,r){return e.apply(this,arguments)}}(),[]),G=s.map(function(e,t){return{product:e.product,seller_account:e.seller_account,description:e.description,source_key:e.source_key,created_on:e.created_on,unit:e.unit,quantity:e.quantity,pending_quantity:e.pending_quantity,rate:e.rate,amount:e.amount}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:T.open,onClose:N,severity:T.severity,message:T.message}),a.a.createElement(Pt,{open:r}),a.a.createElement("div",null,a.a.createElement("div",{style:{padding:"16px",margin:"16px",boxShadow:"0px 3px 6px #00000029",borderRadius:"4px",display:"flex",flexDirection:"column",backgroundColor:"rgb(255, 255, 255)"}},a.a.createElement("div",{style:{display:"flex"}},a.a.createElement("div",{style:{flexGrow:.9}},a.a.createElement(ga,{onSearch:function(e){O(e),m(1)},onReset:function(){O(""),m(1)}})),a.a.createElement("div",{style:{flexGrow:2}},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Production Inventory")),a.a.createElement("div",{style:{flexGrow:.5},align:"right"},a.a.createElement(yt.a,{variant:"contained",onClick:A},"Download CSV"),L.length>0&&a.a.createElement(fa.CSVLink,{data:L,headers:[{label:"PRODUCT",key:"product"},{label:"SELLER STATE",key:"seller_account"},{label:"DESCRIPTION",key:"description"},{label:"DATE",key:"created_on"},{label:"UNIT",key:"unit"},{label:"QUANTITY",key:"quantity"},{label:"PENDING QUANTITY",key:"pending_quantity"},{label:"RATE",key:"rate"},{label:"AMOUNT",key:"amount"}],ref:k,filename:"Production Inventory.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}}))),a.a.createElement(Cn,{headers:["PRODUCT","SELLER STATE","DESCRIPTION","BATCH NO","DATE","UNIT","QUANTITY","PENDING QUANTITY","RATE","AMOUNT"],data:G,openInPopup:null,openInPopup2:null,Styles:{paddingLeft:"10px",paddingRight:"10px"}}),a.a.createElement(Zn,{currentPage:d,totalPages:g,handlePageChange:function(e,t){m(t)}}))))};function Ll(){Ll=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Sl=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(""),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Ln(),y=v.handleError,g=v.handleCloseSnackbar,b=v.alertInfo;Object(n.useEffect)(function(){E()},[]);var E=function(){var e=Object(c.a)(Ll().mark(function e(){var t;return Ll().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,yo.getAllConsProductionInventoryData();case 4:t=e.sent,f(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),y(e.t0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),w=s.filter(function(e){return e.product__name.toLowerCase().includes(d.toLowerCase())}).map(function(e){return{product:e.product__name,seller_account:e.seller_account,unit:e.product__unit,quantity:e.quantity}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:b.open,onClose:g,severity:b.severity,message:b.message}),a.a.createElement(Pt,{open:r}),a.a.createElement("div",null,a.a.createElement("div",{style:{padding:"16px",margin:"16px",boxShadow:"0px 3px 6px #00000029",borderRadius:"4px",display:"flex",flexDirection:"column",backgroundColor:"rgb(255, 255, 255)"}},a.a.createElement("div",{style:{display:"flex"}},a.a.createElement("div",{style:{flexGrow:.9}},a.a.createElement(Lc,{filterSelectedQuery:d,handleInputChange:function(e){m(e.target.value)},getResetData:function(){m("")}})),a.a.createElement("div",{style:{flexGrow:2}},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Production Inventory Cons")),a.a.createElement("div",{style:{flexGrow:.5},align:"right"},a.a.createElement(fa.CSVLink,{data:w,headers:[{label:"PRODUCT",key:"product"},{label:"SELLER UNIT",key:"seller_account"},{label:"UNIT",key:"unit"},{label:"QUANTITY",key:"quantity"}],filename:"Production Inventory Consolidate.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}},a.a.createElement("div",{className:"btn btn-primary",style:{display:"inline-block",padding:"6px 16px",margin:"10px",fontSize:"0.875rem",minWidth:"64px",fontWeight:500,lineHeight:1.75,borderRadius:"4px",letterSpacing:"0.02857em",textTransform:"uppercase",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2)"}},"Download CSV")))),a.a.createElement(Cn,{headers:["PRODUCT","SELLER UNIT","UNIT","QUANTITY"],data:w,openInPopup:null,openInPopup2:null}))))};function kl(){kl=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Pl=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(""),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Ln(),y=v.handleError,g=v.handleCloseSnackbar,b=v.alertInfo;Object(n.useEffect)(function(){w()},[]);var w=function(){var e=Object(c.a)(kl().mark(function e(){var t;return kl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,yo.getAllConsStoresInventoryData();case 4:t=e.sent,f(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),y(e.t0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),x=s.filter(function(e){return e.product__name.toLowerCase().includes(d.toLowerCase())}).map(function(e){return{product:e.product__name,seller_account:e.seller_account,unit:e.product__unit,quantity:e.quantity}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:b.open,onClose:g,severity:b.severity,message:b.message}),a.a.createElement(Pt,{open:r}),a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(vt.a,{sx:{flexGrow:1,minWidth:"300px"}},a.a.createElement(ga,{onSearch:function(e){m(e)},onReset:function(){m("")}})),a.a.createElement(E.a,{variant:"h3",sx:{flexGrow:2,textAlign:"center",margin:"0",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,minWidth:"150px"}},"Stores Inventory Cons"),a.a.createElement(vt.a,{sx:{flexGrow:1,display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(fa.CSVLink,{data:x,headers:[{label:"PRODUCT",key:"product"},{label:"SELLER UNIT",key:"seller_account"},{label:"UNIT",key:"unit"},{label:"QUANTITY",key:"quantity"}],filename:"Stores Inventory Consolidate.csv",target:"_blank",style:{textDecoration:"none",outline:"none"}},a.a.createElement(yt.a,{variant:"contained",sx:{marginRight:1}},"Download CSV")))),a.a.createElement(Cn,{headers:["PRODUCT","SELLER UNIT","UNIT","QUANTITY"],data:x})))},Cl={getProductForecast:function(){return Ze.get("/api/forecast/list-product-forecast/")},getByFilterProductForecast:function(e,t){return Ze.get("/api/forecast/list-product-forecast/?".concat(e,"=").concat(t))},getAllPaginateProductForecast:function(e){return Ze.get("/api/forecast/list-product-forecast/?page=".concat(e))},getAllPaginateProductForecastWithSearch:function(e,t,r){return Ze.get("/api/forecast/list-product-forecast/?page=".concat(e,"&").concat(t,"=").concat(r))},getAllSearchProductForecast:function(e,t){return Ze.get("/api/forecast/list-product-forecast/?".concat(e,"=").concat(t))},getAllProductForecastPaginate:function(e,t,r){return Ze.get("/api/forecast/list-product-forecast/?page=".concat(e,"&").concat(t,"=").concat(r))},getProductForecastPaginateData:function(e){return Ze.get("/api/forecast/list-product-forecast/?page=".concat(e))},updateProductForecast:function(e,t){return Ze.patch("/api/forecast/list-product-forecast/".concat(e),t)},getAllCurrentMonthData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("product_forecast__sales_person__email",t),r&&n.append("search",r),Ze.get("/api/forecast/list-current-month-forecast/?".concat(n.toString()))},updateAnticipatedDate:function(e,t){return Ze.patch("/api/forecast/list-quantity-forecast/".concat(e),t)},getAllCustomerNotHavingData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("sales_person__email",t),r&&n.append("search",r),Ze.get("/api/forecast/list-product-not-having-forecast/?".concat(n.toString()))},getAllCustomerHavingData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("sales_person__email",t),r&&n.append("search",r),Ze.get("/api/forecast/list-product-having-forecast/?".concat(n.toString()))},getAllDeadCustomerData:function(e,t,r){var n=new URLSearchParams;return e&&n.append("page",e),t&&n.append("assigned_to__email",t),r&&n.append("search",r),Ze.get("/api/forecast/list-dead-customers/?".concat(n.toString()))},getAllProductWiseForecastData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("/api/forecast/list-product-wise-forecast/?".concat(r.toString()))},getAllDescriptionWiseForecastData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("/api/forecast/list-description-wise-forecast/?".concat(r.toString()))},getLastThreeMonthForecastData:function(){return Ze.get("/api/forecast/last-three-month-forecast/")},getConsLastThreeMonthForecastData:function(){return Ze.get("/api/forecast/consolidated-last-three-month-forecast/")},getLastThreeMonthForecastDataByFilter:function(e){return Ze.get("/api/forecast/last-three-month-forecast/?product_forecast__sales_person__email=".concat(e))},getProductWiseTurnoverForecast:function(){return Ze.get("/api/forecast/productwise-turnover")},getAllSearchProductWiseTurnoverForecast:function(e,t){return Ze.get("/api/forecast/productwise-turnover/?".concat(e,"=").concat(t))},getAllProductWiseTurnoverForecastPaginate:function(e,t,r){return Ze.get("/api/forecast/productwise-turnover/?page=".concat(e,"&").concat(t,"=").concat(r))},getProductWiseTurnoverForecastPaginateData:function(e){return Ze.get("/api/forecast/productwise-turnover/?page=".concat(e))}};function Dl(){Dl=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Nl=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(1),f=Object(l.a)(i,2),p=f[0],h=f[1],d=Object(n.useState)(0),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(null),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(""),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)([]),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(null),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)(!1),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useState)([]),B=Object(l.a)(W,2),R=B[0],z=B[1],M=Object(n.useState)([]),U=Object(l.a)(M,2),Y=U[0],q=U[1],V=Object(n.useRef)(null),Q=Object(n.useState)(!1),H=Object(l.a)(Q,2),K=H[0],J=H[1],Z=Object(s.c)(function(e){return e.auth.profile}).sales_users||[];Object(n.useEffect)(function(){var e=function(){J(!0),P([])},t=function(){J(!1),te()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var X=function(){var e=Object(c.a)(Dl().mark(function e(){var t;return Dl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$();case 3:t=e.sent,z(t),setTimeout(function(){V.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(c.a)(Dl().mark(function e(){var t,r;return Dl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Cl.getAllDeadCustomerData("all",E,_);case 4:return t=e.sent,r=t.data.map(function(e){var t=e.assigned_to.map(function(e,t){return Object(Wt.a)({},"sales_person_".concat(t+1),e)});return Object(u.a)({company:e.name,city:e.city,state:e.state},t.reduce(function(e,t){return Object(u.a)({},e,t)},{}),{contact_person_name:e.contacts&&e.contacts[0]?e.contacts[0].name:"",contact:e.contacts&&e.contacts[0]?e.contacts[0].contact:""})}),console.log(r),o(!1),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){ee()},[]);var ee=function(){var e=Object(c.a)(Dl().mark(function e(){var t;return Dl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,un.getAllProduct();case 4:t=e.sent,q(t.data),o(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error potential",e.t0),o(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){te(p)},[p,te]);var te=Object(n.useCallback)(function(){var e=Object(c.a)(Dl().mark(function e(t){var r,n,a,i,c=arguments;return Dl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:E,n=c.length>2&&void 0!==c[2]?c[2]:_,e.prev=2,o(!0),e.next=6,Cl.getAllDeadCustomerData(t,r,n);case 6:a=e.sent,P(a.data.results),i=a.data.count,y(Math.ceil(i/25)),o(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Error fetching Customer Having Forecast",e.t0),o(!1);case 17:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t){return e.apply(this,arguments)}}(),[E,_]),re=Object(n.useCallback)(function(e){T(e.id),G(!0)},[k]),ne=k.map(function(e){return{id:e.id,company:e.name,city:e.city,state:e.state,sales_person:e.assigned_to,contact_person_name:e.contacts&&e.contacts[0]?e.contacts[0].name:"",contact:e.contacts&&e.contacts[0]?e.contacts[0].contact:""}});return a.a.createElement("div",null,a.a.createElement(pa.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(K?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",sx:{minWidth:150},onChange:function(e,t){return function(e){w(e),te(p,e,_)}(t)},value:E,options:Z.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{size:"small",label:"Search",variant:"outlined",value:_,onChange:function(e){j(e.target.value)},fullWidth:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){return te(p,E,_)},fullWidth:!0},"Search")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"secondary",onClick:function(){j(""),h(1),te(1,E,"")},fullWidth:!0},"Reset")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:X},"Download CSV"),R.length>0&&a.a.createElement(fa.CSVLink,{data:R,headers:[{label:"Company",key:"company"},{label:"City",key:"city"},{label:"State",key:"state"},{label:"Sales Person 1",key:"sales_person_1"},{label:"Sales Person 2",key:"sales_person_2"},{label:"Sales Person 3",key:"sales_person_3"},{label:"Sales Person 4",key:"sales_person_4"},{label:"Contact Person Name",key:"contact_person_name"},{label:"Contact",key:"contact"}],ref:V,filename:"Dead Customer forecast.csv",style:{display:"none"}})))),a.a.createElement(vt.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Dead Customer Forecast")),a.a.createElement(Cn,{headers:["ID","Company","City","State","Sales Person","Contact Person Name","Contact","Action"],data:ne,openInPopup:re,openInPopup2:null,openInPopup3:null,openInPopup4:null}),a.a.createElement(Zn,{currentPage:p,totalPages:v,handlePageChange:function(e,t){h(t)}}))),a.a.createElement(ut,{fullScreen:!0,title:"Update Customer Details",openPopup:F,setOpenPopup:G},a.a.createElement(zn,{setOpenPopup:G,getAllCompanyDetails:te,recordForEdit:N,product:Y})))};function Tl(){Tl=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Al=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(0),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(""),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useRef)(null),P=new Date,C=P.getMonth(),D=P.getFullYear(),N=(C-2+12)%12,T=(C-1+12)%12,A=(C+1)%12,I=(C+2)%12,F=(C+3)%12,G=["January","February","March","April","May","June","July","August","September","October","November","December"],W=function(){var e=Object(c.a)(Tl().mark(function e(){var t;return Tl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R();case 3:t=e.sent,S(t),setTimeout(function(){k.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),B=[{key:"description",label:"Description"},{key:"product",label:"Product"},{key:"type",label:"Type"},{key:"unit",label:"Unit"},{key:"lastMonth1",label:"".concat(G[N]," -- ").concat(N<C?D:D-1," Forecast-Actual"),type:"number"},{key:"lastMonth2",label:"".concat(G[T]," -- ").concat(T<C?D:D-1," Forecast-Actual"),type:"number"},{key:"currentMonth",label:"".concat(G[C]," -- ").concat(D," Forecast-Actual")},{key:"nextMonth1",label:"".concat(G[A]," - ").concat(A>C?D:D+1," Forecast"),type:"number"},{key:"nextMonth2",label:"".concat(G[I]," - ").concat(I>C?D:D+1," Forecast")},{key:"nextMonth3",label:"".concat(G[F]," - ").concat(F>C?D:D+1," Forecast"),type:"number"}],R=function(){var e=Object(c.a)(Tl().mark(function e(){var t,r;return Tl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Cl.getAllProductWiseForecastData("all",g);case 4:return t=e.sent,r=t.data.filter(function(e){return e.qty_forecast.length>0}).map(function(e){return{description:e.product__description__name,product:e.product__name,type:e.product__type,unit:e.product__unit__name,lastMonth1:e.qty_forecast.filter(function(e){return 0===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),lastMonth2:e.qty_forecast.filter(function(e){return 1===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),currentMonth:e.qty_forecast.filter(function(e){return 2===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),nextMonth1:e.qty_forecast.filter(function(e){return 3===e.index_position}).map(function(e){return e.total_forecast}),nextMonth2:e.qty_forecast.filter(function(e){return 4===e.index_position}).map(function(e){return e.total_forecast}),nextMonth3:e.qty_forecast.filter(function(e){return 5===e.index_position}).map(function(e){return e.total_forecast})}}),o(!1),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){z(s)},[s,z]);var z=Object(n.useCallback)(function(){var e=Object(c.a)(Tl().mark(function e(t){var r,n,a,i=arguments;return Tl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:g,e.prev=1,o(!0),e.next=5,Cl.getAllProductWiseForecastData(t,r);case 5:n=e.sent,O(n.data.results),a=n.data.count,m(Math.ceil(a/25)),o(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error fetching Customer Having Forecast",e.t0),o(!1);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}(),[g]),M=x.filter(function(e){return e.qty_forecast.length>0}).map(function(e){return{description:e.product__description__name,product:e.product__name,type:e.product__type,unit:e.product__unit__name,lastMonth1:e.qty_forecast.filter(function(e){return 0===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),lastMonth2:e.qty_forecast.filter(function(e){return 1===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),currentMonth:e.qty_forecast.filter(function(e){return 2===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),nextMonth1:e.qty_forecast.filter(function(e){return 3===e.index_position}).map(function(e){return e.total_forecast}),nextMonth2:e.qty_forecast.filter(function(e){return 4===e.index_position}).map(function(e){return e.total_forecast}),nextMonth3:e.qty_forecast.filter(function(e){return 5===e.index_position}).map(function(e){return e.total_forecast})}}),U=["Description","Product","Type","Unit","".concat(G[N]," -- ").concat(N<C?D:D-1," Actual-Forecast"),"".concat(G[T]," -- ").concat(T<C?D:D-1," Actual-Forecast"),"".concat(G[C]," -- ").concat(D," Actual-Forecast"),"".concat(G[A]," - ").concat(A>C?D:D+1," Forecast"),"".concat(G[I]," - ").concat(I>C?D:D+1," Forecast"),"".concat(G[F]," - ").concat(F>C?D:D+1," Forecast")];return a.a.createElement("div",null,a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{size:"small",label:"Search",variant:"outlined",value:g,onChange:function(e){b(e.target.value)},fullWidth:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){return z(s,g)},fullWidth:!0},"Search")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"secondary",onClick:function(){b(""),f(1),z(1,"")},fullWidth:!0},"Reset")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:W},"Download CSV"),L.length>0&&a.a.createElement(fa.CSVLink,{data:L,headers:B,ref:k,filename:"Product Wise forecast.csv",style:{display:"none"}})))),a.a.createElement(vt.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Product Wise Forecast")),a.a.createElement(Cn,{headers:U,data:M,openInPopup:null,openInPopup2:null,openInPopup3:null,openInPopup4:null,Styles:{paddingLeft:"10px",paddingRight:"10px"}}),a.a.createElement(Zn,{currentPage:s,totalPages:d,handlePageChange:function(e,t){f(t)}}))))};function Il(){Il=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Fl=function(e){var t=e.idForEdit,r=e.setOpenPopup,o=e.getAllProductionForecastDetails,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)({id:t.id,anticipated_date:t.anticipated_date||"",month:t.month||"",product_forecast:t.product_forecast||"",year:t.year||""}),d=Object(l.a)(h,2),m=d[0],v=d[1],y=function(){var e=Object(c.a)(Il().mark(function e(t){var n;return Il().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,p(!0),n={anticipated_date:m.anticipated_date,month:m.month,product_forecast:m.product_forecast,year:m.year},e.next=6,Cl.updateAnticipatedDate(m.id,n);case 6:e.sent&&(r(!1),o()),p(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),p(!1),console.error("Error updating anticipated date:",e.t0);case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:y,sx:{mt:1}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",type:"date",label:"Estimated Date",name:"anticipated_date",value:m.anticipated_date,onChange:function(e){var t=e.target,r=t.name,n=t.value;v(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))})}}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:3,mb:2}},"Update")))};function Gl(){Gl=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Wl=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(0),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(null),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)([]),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)([]),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(!1),A=Object(l.a)(T,2),I=A[0],F=A[1],G=Object(n.useState)(""),W=Object(l.a)(G,2),B=W[0],R=W[1],z=Object(n.useRef)(null),M=Object(n.useState)(!1),U=Object(l.a)(M,2),Y=U[0],q=U[1],V=Object(s.c)(function(e){return e.auth.profile}),Q=V.sales_users||[];Object(n.useEffect)(function(){var e=function(){q(!0),k([])},t=function(){q(!1),J()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var H=function(){var e=Object(c.a)(Gl().mark(function e(){var t;return Gl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K();case 3:t=e.sent,N(t),setTimeout(function(){z.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(Gl().mark(function e(){var t,r;return Gl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Cl.getAllCurrentMonthData("all",b,O);case 4:return t=e.sent,r=t.data.filter(function(e){return e.forecast>0}).map(function(e){var t=e.orderbook_value+e.actual,r=e.forecast-t;return{company:e.company,sales_person:e.sales_person,product:e.product,forecast:e.forecast,actual:e.actual,orderbook_value:e.orderbook_value,forecast_achieved:r>0?r:0}}),o(!1),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){J(f)},[f,J]);var J=Object(n.useCallback)(function(){var e=Object(c.a)(Gl().mark(function e(t){var r,n,a,i,c=arguments;return Gl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:b,n=c.length>2&&void 0!==c[2]?c[2]:O,e.prev=2,o(!0),e.next=6,Cl.getAllCurrentMonthData(t,r,n);case 6:a=e.sent,k(a.data.results),i=a.data.count,v(Math.ceil(i/25)),o(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Error fetching Customer Having Forecast",e.t0),o(!1);case 17:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t){return e.apply(this,arguments)}}(),[b,O]),Z=Object(n.useCallback)(function(e){R(e),F(!0)},[S]),X=function(e){if(!e)return console.log("No anticipated date provided."),"";var t=new Date,r=new Date(e);return isNaN(r.getTime())?(console.log("Invalid date provided."),""):(t.setHours(0,0,0,0),r.setHours(0,0,0,0),console.log("Today: ".concat(t.toISOString(),", Anticipated: ").concat(r.toISOString())),r.getTime()===t.getTime()?(console.log("Date is today."),"#ccccff"):r<t?(console.log("Date is in the past."),"#ffcccc"):(console.log("Date is in the future."),"#ffffcc"))};console.log(X("2023-12-25"));return a.a.createElement("div",null,a.a.createElement(pa.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(Y?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},!V.groups.includes("Sales Executive")&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",sx:{minWidth:150},onChange:function(e,t){return function(e){E(e),J(f,e,O)}(t)},value:b,options:Q.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{size:"small",label:"Search",variant:"outlined",value:O,onChange:function(e){_(e.target.value)},fullWidth:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){return J(f,b,O)},fullWidth:!0},"Search")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"secondary",onClick:function(){_(""),p(1),J(1,b,"")},fullWidth:!0},"Reset")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:H},"Download CSV"),D.length>0&&a.a.createElement(fa.CSVLink,{data:D,headers:[{label:"Company",key:"company"},{label:"Sales Person",key:"sales_person"},{label:"Product",key:"product"},{label:"Forecast",key:"forecast"},{label:"Actual",key:"actual"},{label:"Orderbook Value",key:"orderbook_value"},{label:"Shortfall",key:"forecast_achieved"}],ref:z,filename:"Current Month forecast.csv",style:{display:"none"}})))),a.a.createElement(vt.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Current Month Forecast")),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Rl,null,["Company","Sales Person","Product","Forecast","Actual","Orderbook Value","Shortfall","Estimate Date","Action"].map(function(e){return a.a.createElement(Bl,{key:e,align:"center"},e)}))),a.a.createElement(Mt.a,null,S.map(function(e,t){var r,n=X(e.anticipated_date);return a.a.createElement(Rl,{key:e.id,sx:{backgroundColor:n}},a.a.createElement(Bl,{align:"center"},e.company),a.a.createElement(Bl,{align:"center"},e.sales_person),a.a.createElement(Bl,{align:"center"},e.product),a.a.createElement(Bl,{align:"center"},e.forecast),a.a.createElement(Bl,{align:"center"},e.actual),a.a.createElement(Bl,{align:"center"},e.orderbook_value),a.a.createElement(Bl,{align:"center"},e.forecast_achieved),a.a.createElement(Bl,{align:"center"},(r=e.anticipated_date)?new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(r)):"-"),a.a.createElement(Bl,{align:"center"},a.a.createElement(yt.a,{onClick:function(){return Z(e)}},"View")))})))),a.a.createElement(Zn,{currentPage:f,totalPages:m,handlePageChange:function(e,t){p(t)}}))),a.a.createElement(ut,{maxWidth:"md",title:"Update Current Month Forecast",openPopup:I,setOpenPopup:F},a.a.createElement(Fl,{idForEdit:B,setOpenPopup:F,getAllCurrentMonthForecastDetails:J})))},Bl=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),Rl=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function zl(){zl=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ml=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(0),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(""),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useRef)(null),P=new Date,C=P.getMonth(),D=P.getFullYear(),N=(C-2+12)%12,T=(C-1+12)%12,A=(C+1)%12,I=(C+2)%12,F=(C+3)%12,G=["January","February","March","April","May","June","July","August","September","October","November","December"],W=function(){var e=Object(c.a)(zl().mark(function e(){var t;return zl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R();case 3:t=e.sent,S(t),setTimeout(function(){k.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),B=[{label:"Description",key:"description"},{label:"Brand",key:"brand"},{label:"Unit",key:"unit"},{label:"".concat(G[N]," -- ").concat(N<C?D:D-1," Forecast-Actual"),key:"lastMonth1"},{label:"".concat(G[T]," -- ").concat(T<C?D:D-1," Forecast-Actual"),key:"lastMonth2"},{label:"".concat(G[C]," -- ").concat(D," Forecast-Actual"),key:"currentMonth"},{label:"".concat(G[A]," - ").concat(A>C?D:D+1," Forecast"),key:"nextMonth1"},{label:"".concat(G[I]," - ").concat(I>C?D:D+1," Forecast"),key:"nextMonth2"},{label:"".concat(G[F]," - ").concat(F>C?D:D+1," Forecast"),key:"nextMonth3"}],R=function(){var e=Object(c.a)(zl().mark(function e(){var t,r;return zl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Cl.getAllDescriptionWiseForecastData("all",g);case 4:return t=e.sent,r=t.filter(function(e){return e.qty_forecast.length>0}).map(function(e){return{description:e.product__description__name,brand:e.product__brand__name,unit:e.product__unit__name,lastMonth1:e.qty_forecast.filter(function(e){return 0===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),lastMonth2:e.qty_forecast.filter(function(e){return 1===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),currentMonth:e.qty_forecast.filter(function(e){return 2===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),nextMonth1:e.qty_forecast.filter(function(e){return 3===e.index_position}).map(function(e){return e.total_forecast}),nextMonth2:e.qty_forecast.filter(function(e){return 4===e.index_position}).map(function(e){return e.total_forecast}),nextMonth3:e.qty_forecast.filter(function(e){return 5===e.index_position}).map(function(e){return e.total_forecast})}}),o(!1),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){z(s)},[s,z]);var z=Object(n.useCallback)(function(){var e=Object(c.a)(zl().mark(function e(t){var r,n,a,i=arguments;return zl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:g,e.prev=1,o(!0),e.next=5,Cl.getAllDescriptionWiseForecastData(t,r);case 5:n=e.sent,O(n.data.results),a=n.data.count,m(Math.ceil(a/25)),o(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error fetching Customer Having Forecast",e.t0),o(!1);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}(),[g]),M=x.filter(function(e){return e.qty_forecast.length>0}).map(function(e){return{description:e.product__description__name,brand:e.product__brand__name,unit:e.product__unit__name,lastMonth1:e.qty_forecast.filter(function(e){return 0===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),lastMonth2:e.qty_forecast.filter(function(e){return 1===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),currentMonth:e.qty_forecast.filter(function(e){return 2===e.index_position}).map(function(e){return"".concat(null!==e.total_forecast?e.total_forecast:""," -- ").concat(null!==e.actual?e.actual:"")}),nextMonth1:e.qty_forecast.filter(function(e){return 3===e.index_position}).map(function(e){return e.total_forecast}),nextMonth2:e.qty_forecast.filter(function(e){return 4===e.index_position}).map(function(e){return e.total_forecast}),nextMonth3:e.qty_forecast.filter(function(e){return 5===e.index_position}).map(function(e){return e.total_forecast})}}),U=["Description","Brand","Unit","".concat(G[N]," -- ").concat(N<C?D:D-1," Actual-Forecast"),"".concat(G[T]," -- ").concat(T<C?D:D-1," Actual-Forecast"),"".concat(G[C]," -- ").concat(D," Actual-Forecast"),"".concat(G[A]," - ").concat(A>C?D:D+1," Forecast"),"".concat(G[I]," - ").concat(I>C?D:D+1," Forecast"),"".concat(G[F]," - ").concat(F>C?D:D+1," Forecast")];return a.a.createElement("div",null,a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{size:"small",label:"Search",variant:"outlined",value:g,onChange:function(e){b(e.target.value)},fullWidth:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){return z(s,g)},fullWidth:!0},"Search")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"secondary",onClick:function(){b(""),f(1),z(1,"")},fullWidth:!0},"Reset")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:W},"Download CSV"),L.length>0&&a.a.createElement(fa.CSVLink,{data:L,headers:B,ref:k,filename:"Description Wise forecast.csv",style:{display:"none"}})))),a.a.createElement(vt.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Description Wise Forecast")),a.a.createElement(Cn,{headers:U,data:M,openInPopup:null,openInPopup2:null,openInPopup3:null,openInPopup4:null,Styles:{paddingLeft:"10px",paddingRight:"10px"}}),a.a.createElement(Zn,{currentPage:s,totalPages:d,handlePageChange:function(e,t){f(t)}}))))};function Ul(){Ul=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Yl=function(e){var t=e.getAllCompanyDetailsByID,r=e.setOpenPopup2,o=e.forecastDataByID,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(null),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)([]),y=Object(l.a)(v,2),g=y[0],b=y[1];Object(n.useEffect)(function(){E()},[]);var E=function(){var e=Object(c.a)(Ul().mark(function e(t){var r,n,a;return Ul().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),r=["Director","Customer Service","Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Sales Manager without Leads"],e.next=5,Nr.getAllAssignedUser();case 5:n=e.sent,a=n.data.filter(function(e){return e.groups.some(function(e){return r.includes(e)})}),b(a),f(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),f(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(c.a)(Ul().mark(function e(n){var a;return Ul().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),n.preventDefault(),a={company:o.company,product:o.product,sales_person:d||o.sales_person},e.next=6,Cl.updateProductForecast(o.id,a);case 6:r(!1),t(),f(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),f(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:s}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:w},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Assign From",variant:"outlined",value:o.sales_person?o.sales_person:""})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{fullWidth:!0,size:"small",id:"grouped-demo",onChange:function(e,t){return m(t)},options:g.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Assign To"}))),a.a.createElement(Qn,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},text:"Assign"})))};function ql(){ql=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Vl=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(0),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(null),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)([]),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)([]),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(null),A=Object(l.a)(T,2),I=A[0],F=A[1],G=Object(n.useState)(!1),W=Object(l.a)(G,2),B=W[0],R=W[1],z=Object(n.useState)(!1),M=Object(l.a)(z,2),U=M[0],Y=M[1],q=Object(n.useRef)(null),V=Object(n.useState)(!1),Q=Object(l.a)(V,2),H=Q[0],K=Q[1],J=Object(n.useState)(!1),Z=Object(l.a)(J,2),X=Z[0],$=Z[1],ee=Object(s.c)(function(e){return e.auth.profile}),te=ee.sales_users||[],re=new Date,ne=re.getMonth(),ae=re.getFullYear(),oe=(ne-2+12)%12,ie=(ne-1+12)%12,ce=(ne+1)%12,le=(ne+2)%12,ue=(ne+3)%12,se=["January","February","March","April","May","June","July","August","September","October","November","December"];Object(n.useEffect)(function(){var e=function(){$(!0),k([])},t=function(){$(!1),de()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var fe=function(){for(var e=[],t=-2;t<=3;t++){var r=(ne+t+12)%12,n=t<0?r>ne?ae:ae-1:r<ne?ae+1:ae,a=se[r];e.push({label:"".concat(a," - ").concat(n," Actual-Forecast"),key:"".concat(a,"-").concat(n," Actual-Forecast")})}return[].concat([{label:"Company",key:"company"},{label:"Sales Person",key:"sales_person"},{label:"Product",key:"product"}],e)}();Object(n.useEffect)(function(){H&&D.length>0&&(q.current.link.click(),K(!1))},[H,D]);var pe=function(){var e=Object(c.a)(ql().mark(function e(){var t;return ql().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,he();case 4:t=e.sent,N(t),setTimeout(function(){q.current.link.click()},0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("CSVLink Download error",e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(c.a)(ql().mark(function e(){var t,r;return ql().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Cl.getAllCustomerNotHavingData("all",b,O);case 4:return t=e.sent,r=t.data.map(function(e){var t={company:e.company,sales_person:e.sales_person,product:e.product};return e.product_forecast.forEach(function(e){var r=se[parseInt(e.month)-1],n="".concat(r,"-").concat(e.year," Actual-Forecast");t[n]=null!==e.actual?"".concat(e.actual,"--").concat(e.forecast):"-".concat(e.forecast)}),t}),o(!1),console.log("Export Data: ",r),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.error("Error in handleExport",e.t0),o(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){de(f)},[f,de]);var de=Object(n.useCallback)(function(){var e=Object(c.a)(ql().mark(function e(t){var r,n,a,i,c=arguments;return ql().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:b,n=c.length>2&&void 0!==c[2]?c[2]:O,e.prev=2,o(!0),e.next=6,Cl.getAllCustomerNotHavingData(t,r,n);case 6:a=e.sent,k(a.data.results),i=a.data.count,v(Math.ceil(i/25)),o(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Error fetching Customer Having Forecast",e.t0),o(!1);case 17:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t){return e.apply(this,arguments)}}(),[b,O]),me=Object(n.useCallback)(function(e){var t=S.find(function(t){return t.id===e.id});F(t),R(!0)},[S]),ve=Object(n.useCallback)(function(e){var t=S.find(function(t){return t.id===e.id});F(t),Y(!0)},[S]),ye=Object(ln.a)(new Set(S&&S.flatMap(function(e){return e.product_forecast.map(function(e){return e.index_position})})));return ye.sort(function(e,t){return e-t}),a.a.createElement("div",null,a.a.createElement(pa.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(X?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},!ee.groups.includes("Sales Executive")&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",sx:{minWidth:150},onChange:function(e,t){return function(e){E(e),de(f,e,O)}(t)},value:b,options:te.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{size:"small",label:"Search",variant:"outlined",value:O,onChange:function(e){_(e.target.value)},fullWidth:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){return de(f,b,O)},fullWidth:!0},"Search")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"secondary",onClick:function(){_(""),p(1),de(1,b,"")},fullWidth:!0},"Reset")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:pe},"Download CSV"),D.length>0&&a.a.createElement(fa.CSVLink,{data:D,headers:fe,ref:q,filename:"Customer Not Having forecast.csv",style:{display:"none"}})))),a.a.createElement(vt.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Customer Not Having Forecast")),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Hl,null,a.a.createElement(Ql,{align:"center"},"COMPANY"),a.a.createElement(Ql,{align:"center"},"SALES PERSON"),a.a.createElement(Ql,{align:"center"},"PRODUCT"),a.a.createElement(Ql,{align:"center"}," ".concat(se[oe]," - ").concat(oe<ne?ae:ae-1),a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Ql,{align:"center"}," ".concat(se[ie]," - ").concat(ie<ne?ae:ae-1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Ql,{align:"center"},"".concat(se[ne]," - ").concat(ae)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Ql,{align:"center"}," ".concat(se[ce]," - ").concat(ce>ne?ae:ae+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Ql,{align:"center"}," ".concat(se[le]," - ").concat(le>ne?ae:ae+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Ql,{align:"center"}," ".concat(se[ue]," - ").concat(ue>ne?ae:ae+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Ql,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,S&&S.map(function(e){return a.a.createElement(Hl,null,a.a.createElement(Ql,{align:"center"},e.company),a.a.createElement(Ql,{align:"center"},e.sales_person),a.a.createElement(Ql,{align:"center"},e.product),ye.map(function(t){var r=e.product_forecast.find(function(e){return e.index_position===t});return r?null!==r.actual?a.a.createElement(Ut.a,{key:t,align:"center"},r.actual," - ",r.forecast):a.a.createElement(Ut.a,{key:t,align:"center"},"- ",r.forecast):a.a.createElement(Ut.a,{key:t,align:"center"},"N/A")}),a.a.createElement(Ql,{align:"center"},a.a.createElement(yt.a,{sx:{color:"#1976d2"},onClick:function(){return me(e)}},"View"),a.a.createElement(yt.a,{sx:{color:"#28a745"},onClick:function(){return ve(e)}},"Assign To")))})))),a.a.createElement(Zn,{currentPage:f,totalPages:m,handlePageChange:function(e,t){p(t)}}))),a.a.createElement(ut,{title:"Update Forecast Details",openPopup:B,setOpenPopup:R},a.a.createElement(gn,{getAllCompanyDetailsByID:de,setOpenPopup:R,forecastDataByID:I})),a.a.createElement(ut,{title:"Product Forecast Assign To",openPopup:U,setOpenPopup:Y},a.a.createElement(Yl,{getAllCompanyDetailsByID:de,setOpenPopup2:Y,forecastDataByID:I})))},Ql=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),Hl=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Kl(){Kl=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Jl=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(0),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(null),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)([]),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)([]),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(null),A=Object(l.a)(T,2),I=A[0],F=A[1],G=Object(n.useState)(!1),W=Object(l.a)(G,2),B=W[0],R=W[1],z=Object(n.useState)(!1),M=Object(l.a)(z,2),U=M[0],Y=M[1],q=Object(n.useRef)(null),V=Object(n.useState)(!1),Q=Object(l.a)(V,2),H=Q[0],K=Q[1],J=Object(n.useState)(!1),Z=Object(l.a)(J,2),X=Z[0],$=Z[1],ee=Object(s.c)(function(e){return e.auth.profile}),te=ee.sales_users||[],re=new Date,ne=re.getMonth(),ae=re.getFullYear(),oe=(ne-2+12)%12,ie=(ne-1+12)%12,ce=(ne+1)%12,le=(ne+2)%12,ue=(ne+3)%12,se=["January","February","March","April","May","June","July","August","September","October","November","December"];Object(n.useEffect)(function(){var e=function(){$(!0),k([])},t=function(){$(!1),de()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var fe=function(){for(var e=[],t=-2;t<=3;t++){var r=(ne+t+12)%12,n=t<0?r>ne?ae:ae-1:r<ne?ae+1:ae,a=se[r];e.push({label:"".concat(a," - ").concat(n," Actual-Forecast"),key:"".concat(a,"-").concat(n," Actual-Forecast")})}return[].concat([{label:"Company",key:"company"},{label:"Sales Person",key:"sales_person"},{label:"Product",key:"product"}],e)}();Object(n.useEffect)(function(){H&&D.length>0&&(q.current.link.click(),K(!1))},[H,D]);var pe=function(){var e=Object(c.a)(Kl().mark(function e(){var t;return Kl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,he();case 4:t=e.sent,N(t),setTimeout(function(){q.current.link.click()},0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("CSVLink Download error",e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(c.a)(Kl().mark(function e(){var t,r;return Kl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Cl.getAllCustomerHavingData("all",b,O);case 4:return t=e.sent,r=t.data.map(function(e){var t={company:e.company,sales_person:e.sales_person,product:e.product};return e.product_forecast.forEach(function(e){var r=se[parseInt(e.month)-1],n="".concat(r,"-").concat(e.year," Actual-Forecast");t[n]=null!==e.actual?"".concat(e.actual,"--").concat(e.forecast):"-".concat(e.forecast)}),t}),o(!1),console.log("Export Data: ",r),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.error("Error in handleExport",e.t0),o(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){de(f)},[f,de]);var de=Object(n.useCallback)(function(){var e=Object(c.a)(Kl().mark(function e(t){var r,n,a,i,c=arguments;return Kl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:b,n=c.length>2&&void 0!==c[2]?c[2]:O,e.prev=2,o(!0),e.next=6,Cl.getAllCustomerHavingData(t,r,n);case 6:a=e.sent,k(a.data.results),i=a.data.count,v(Math.ceil(i/25)),o(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Error fetching Customer Having Forecast",e.t0),o(!1);case 17:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t){return e.apply(this,arguments)}}(),[b,O]),me=Object(n.useCallback)(function(e){var t=S.find(function(t){return t.id===e.id});F(t),R(!0)},[S]),ve=Object(n.useCallback)(function(e){var t=S.find(function(t){return t.id===e.id});F(t),Y(!0)},[S]),ye=Object(ln.a)(new Set(S&&S.flatMap(function(e){return e.product_forecast.map(function(e){return e.index_position})})));return ye.sort(function(e,t){return e-t}),a.a.createElement("div",null,a.a.createElement(pa.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(X?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},!ee.groups.includes("Sales Executive")&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",sx:{minWidth:150},onChange:function(e,t){return function(e){E(e),de(f,e,O)}(t)},value:b,options:te.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{size:"small",label:"Search",variant:"outlined",value:O,onChange:function(e){_(e.target.value)},fullWidth:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){return de(f,b,O)},fullWidth:!0},"Search")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"secondary",onClick:function(){_(""),p(1),de(1,b,"")},fullWidth:!0},"Reset")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:pe},"Download CSV"),D.length>0&&a.a.createElement(fa.CSVLink,{data:D,headers:fe,ref:q,filename:"Customer Having forecast.csv",style:{display:"none"}})))),a.a.createElement(vt.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Customer Having Forecast")),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Xl,null,a.a.createElement(Zl,{align:"center"},"COMPANY"),a.a.createElement(Zl,{align:"center"},"SALES PERSON"),a.a.createElement(Zl,{align:"center"},"PRODUCT"),a.a.createElement(Zl,{align:"center"}," ".concat(se[oe]," - ").concat(oe<ne?ae:ae-1),a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Zl,{align:"center"}," ".concat(se[ie]," - ").concat(ie<ne?ae:ae-1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Zl,{align:"center"},"".concat(se[ne]," - ").concat(ae)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Zl,{align:"center"}," ".concat(se[ce]," - ").concat(ce>ne?ae:ae+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Zl,{align:"center"}," ".concat(se[le]," - ").concat(le>ne?ae:ae+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Zl,{align:"center"}," ".concat(se[ue]," - ").concat(ue>ne?ae:ae+1)," ",a.a.createElement("br",null),"ACTUAL - FORECAST"),a.a.createElement(Zl,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,S&&S.map(function(e){return a.a.createElement(Xl,null,a.a.createElement(Zl,{align:"center"},e.company),a.a.createElement(Zl,{align:"center"},e.sales_person),a.a.createElement(Zl,{align:"center"},e.product),ye.map(function(t){var r=e.product_forecast.find(function(e){return e.index_position===t});return r?null!==r.actual?a.a.createElement(Ut.a,{key:t,align:"center"},r.actual," - ",r.forecast):a.a.createElement(Ut.a,{key:t,align:"center"},"- ",r.forecast):a.a.createElement(Ut.a,{key:t,align:"center"},"N/A")}),a.a.createElement(Zl,{align:"center"},a.a.createElement(yt.a,{sx:{color:"#1976d2"},onClick:function(){return me(e)}},"View"),a.a.createElement(yt.a,{sx:{color:"#28a745"},onClick:function(){return ve(e)}},"Assign To")))})))),a.a.createElement(Zn,{currentPage:f,totalPages:m,handlePageChange:function(e,t){p(t)}}))),a.a.createElement(ut,{title:"Update Forecast Details",openPopup:B,setOpenPopup:R},a.a.createElement(gn,{getAllCompanyDetailsByID:de,setOpenPopup:R,forecastDataByID:I})),a.a.createElement(ut,{title:"Product Forecast Assign To",openPopup:U,setOpenPopup:Y},a.a.createElement(Yl,{getAllCompanyDetailsByID:de,setOpenPopup2:Y,forecastDataByID:I})))},Zl=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),Xl=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function $l(){$l=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var eu=Object(n.memo)(function(e){var t=e.getAllLeadDetails,r=e.setOpenPopup,o=e.leadForecastData,i=e.currentPage,s=Object(n.useState)(o),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Ln(),b=g.handleSuccess,E=g.handleError,w=g.handleCloseSnackbar,x=g.alertInfo,O=function(e){var t=e.target,r=t.name,n=t.value;h(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))})},_=Object(n.useCallback)(function(){var e=Object(c.a)($l().mark(function e(n){var a,o,c;return $l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),y(!0),a={quantity:p.quantity,anticipated_date:p.anticipated_date},e.next=6,Nr.updateLeadForecast(p.id,a);case 6:o=e.sent,c=o.data.message||"Forecast Leads Updated successfully",b(c),setTimeout(function(){r(!1),t(p,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),E(e.t0);case 15:return e.prev=15,y(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[p,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:x.open,onClose:w,severity:x.severity,message:x.message}),a.a.createElement(Pt,{open:v}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)},sx:{mt:1}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Quantity",name:"quantity",type:"number",value:p.quantity||"",onChange:O})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Anticipated Date",name:"anticipated_date",type:"date",value:p.anticipated_date||"",onChange:O})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(vt.a,{display:"flex",justifyContent:"flex-end"},a.a.createElement(yt.a,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:3,mb:2,textAlign:"right"}},"Submit"))))))});function tu(){tu=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ru=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(0),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Ln(),P=k.handleError,C=k.handleCloseSnackbar,D=k.alertInfo;Object(n.useEffect)(function(){N()},[g]);var N=Object(n.useCallback)(Object(c.a)(tu().mark(function e(){var t;return tu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Nr.getLeadForecast(g);case 4:t=e.sent,f(t.data.results),m(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),P(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[g]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:D.open,onClose:C,severity:D.severity,message:D.message}),a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:2}),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Lead Forecast Details"))),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(au,null,a.a.createElement(nu,{align:"center"},"Id"),a.a.createElement(nu,{align:"center"},"Lead Id"),a.a.createElement(nu,{align:"center"},"Sales Person"),a.a.createElement(nu,{align:"center"},"Product"),a.a.createElement(nu,{align:"center"},"Month"),a.a.createElement(nu,{align:"center"},"Quantity"),a.a.createElement(nu,{align:"center"},"Estimated Date"),a.a.createElement(nu,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,Array.isArray(s)&&s.map(function(e,t){return a.a.createElement(au,{key:t},a.a.createElement(nu,{align:"center"},e.id),a.a.createElement(nu,{align:"center"},e.lead||"N/A"),a.a.createElement(nu,{align:"center"},e.updated_by),a.a.createElement(nu,{align:"center"},e.product),a.a.createElement(nu,{align:"center"},e.month),a.a.createElement(nu,{align:"center"},e.quantity||"N/A"),a.a.createElement(nu,{align:"center"},e.anticipated_date||null),a.a.createElement(nu,{align:"center"},a.a.createElement(yt.a,{onClick:function(){return S(e),void O(!0)}},"Edit")))})))),a.a.createElement(Zn,{totalPages:d,currentPage:g,handlePageChange:function(e,t){b(t)}}))),L&&a.a.createElement(ut,{title:"Update Lead Forecast",openPopup:x,setOpenPopup:O},a.a.createElement(eu,{getAllLeadDetails:N,setOpenPopup:O,leadForecastData:L,currentPage:g})))},nu=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),au=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),ou=function(){var e=Object(s.c)(function(e){return e.auth}).profile,t=e.groups.includes("Director")||e.groups.includes("Accounts")||e.groups.includes("Sales Executive")||e.groups.includes("Sales Manager without Leads")||e.groups.includes("Sales Manager")||e.groups.includes("Sales Deputy Manager")||e.groups.includes("Sales Assistant Deputy Manager")||e.groups.includes("Customer Service"),r=e.groups.includes("Director")||e.groups.includes("Accounts")||e.groups.includes("Purchase"),o=Object(n.useState)(t?0:4),i=Object(l.a)(o,2),c=i[0],u=i[1],f=[{label:"Curr. Month Forecast",visible:t,index:0},{label:"Customers w/ Forecast",visible:t,index:1},{label:"Customers w/o Forecast",visible:t,index:2},{label:"Dead Customers",visible:t,index:3},{label:"Prod. Forecast",visible:r,index:4},{label:"Desc. Forecast",visible:r,index:5},{label:"Lead Forecast",visible:t,index:6}].filter(function(e){return e.visible}),p=f.map(function(e){return e.index}),h={0:a.a.createElement(Wl,null),1:a.a.createElement(Jl,null),2:a.a.createElement(Vl,null),3:a.a.createElement(Nl,null),4:a.a.createElement(Al,null),5:a.a.createElement(Ml,null),6:a.a.createElement(ru,null)};return a.a.createElement("div",null,a.a.createElement(_n,{tabs:f,activeTab:c,onTabChange:function(e){u(p[e])}}),a.a.createElement("div",null,p.includes(c)&&a.a.createElement("div",null,h[c])))},iu=function(e){var t=e.activity;return a.a.createElement(a.a.Fragment,null,a.a.createElement(vt.a,{component:"form",noValidate:!0,sx:{mt:1}},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column",backgroundColor:"#F5F5F5"}},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:.9,align:"left"}),a.a.createElement(vt.a,{flexGrow:2.5,align:"center"},a.a.createElement("h3",{className:"Auth-form-title"},"View Activity")),a.a.createElement(vt.a,{flexGrow:.3,align:"right"})),a.a.createElement(vt.a,{sx:{display:"flex",flexDirection:"column",height:260,overflow:"hidden",overflowY:"scroll"}},t.length>0&&t.map(function(e){return a.a.createElement("div",{key:e.id},a.a.createElement(Ar.a,{sx:Object(Wt.a)({},"& .".concat(Ir.a.root),{flex:.2})},a.a.createElement(Fr.a,null,a.a.createElement(Gr.a,{sx:{px:2}},a.a.createElement(E.a,{variant:"h6"},Ur()(e.created_date).format("DD/MM/YYYY h:mm"))),a.a.createElement(Wr.a,null,a.a.createElement(Br.a,null),a.a.createElement(Rr.a,null)),a.a.createElement(zr.a,{sx:{width:"50%",color:"#333"}},a.a.createElement(E.a,{variant:"h6",sx:{fontFamily:"Arial",fontWeight:"bold"}},e.created_by,e.next_followup_date&&Ur()(e.next_followup_date).format("DD/MM/YYYY")),a.a.createElement(E.a,{variant:"body1",sx:{fontFamily:"Verdana",fontSize:"16px"}},e.description)))))})))))};function cu(){cu=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var lu=function(e){var t=e.setOpenPopup,r=e.getAllTaskDetails,o=e.taskByID,i=e.activity,f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(o),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(s.c)(function(e){return e.auth}).profile,E=b.sales_users||[],w=Ln(),O=w.handleSuccess,_=w.handleError,j=w.handleCloseSnackbar,L=w.alertInfo,S=function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},y,Object(Wt.a)({},r,n)))},k=function(e,t){g(Object(u.a)({},y,Object(Wt.a)({},e,t)))},P=function(){var e=Object(c.a)(cu().mark(function e(n){var a;return cu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),d(!0),a={created_by:b.email,name:y.name,description:y.description,due_date:y.due_date,priority:y.priority,assigned_to:y.assigned_to,completed:y.completed},e.next=6,Xe.updateTask(y.id,a);case 6:O("Task Updated Successfully"),setTimeout(function(){t(!1)},300),r(),d(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),_(e.t0),d(!1),console.error("error Task",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:L.open,onClose:j,severity:L.severity,message:L.message}),a.a.createElement(Pt,{open:h}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return P(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"created_by",size:"small",label:"Created By",variant:"outlined",value:b.email||y.created_by})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Task Name",variant:"outlined",value:y.name,onChange:function(e){return S(e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"description",size:"small",label:"Description",variant:"outlined",value:y.description,onChange:function(e){return S(e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"due_date",size:"small",label:"Due Date",variant:"outlined",value:y.due_date,InputLabelProps:{shrink:!0},inputProps:{min:(new Date).toISOString().slice(0,10)},onChange:function(e){return S(e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-select-small"},"Priority"),a.a.createElement(nr.a,{name:"priority",labelId:"demo-select-small",id:"demo-select-small",label:"Priority",value:y.priority,onChange:function(e){return k("priority",e.target.value)}},a.a.createElement(x.a,{value:"Low"},"Low "),a.a.createElement(x.a,{value:"Medium"},"Medium"),a.a.createElement(x.a,{value:"High"},"High")))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},!b.groups.includes("Sales Executive")&&a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-select-small"},"Assigned To"),a.a.createElement(nr.a,{name:"assigned_to",labelId:"demo-select-small",id:"demo-select-small",label:"Assigned To",value:y.assigned_to,onChange:function(e){return k("assigned_to",e.target.value)}},E.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.email},e.email)})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement("div",{style:{display:"flex",alignItems:"center"}},a.a.createElement("span",{style:{marginRight:"10px"}},"Completed"),a.a.createElement("div",{style:{position:"relative",display:"inline-block",width:"40px",height:"20px",borderRadius:"20px",backgroundColor:y.completed?"#4caf50":"#f44336",transition:"background-color 0.3s"},onClick:function(){S({target:{name:"completed",value:!y.completed}})}},a.a.createElement("div",{style:{position:"absolute",top:"1px",left:y.completed?"22px":"2px",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:"#fff",boxShadow:"0 2px 5px rgba(0,0,0,0.3)",transition:"left 0.3s, background-color 0.3s"}}))))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(iu,{activity:i}))))};function uu(){uu=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var su=function(e){var t=e.setOpenPopup,r=e.getAllTaskDetails,o=Object(n.useState)(!1),i=Object(l.a)(o,2),f=i[0],p=i[1],h=Object(n.useState)([]),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(s.c)(function(e){return e.auth}).profile,g=y.sales_users||[],b=Ln(),E=b.handleSuccess,w=b.handleError,O=b.handleCloseSnackbar,_=b.alertInfo,j=function(e){var t=e.target,r=t.name,n=t.value;v(Object(u.a)({},m,Object(Wt.a)({},r,n)))},L=function(e,t){v(Object(u.a)({},m,Object(Wt.a)({},e,t)))},S=function(){var e=Object(c.a)(uu().mark(function e(n){var a;return uu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),p(!0),a={created_by:y.email,name:m.name,description:m.description,due_date:m.due_date,priority:m.priority,assigned_to:m.assigned_to},e.next=6,Xe.createTask(a);case 6:E("Task Created Successfully"),setTimeout(function(){t(!1)},300),r(),p(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),w(e.t0),p(!1),console.error("error Task",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:_.open,onClose:O,severity:_.severity,message:_.message}),a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return S(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"created_by",size:"small",label:"Created By",variant:"outlined",value:y.email})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Task Name",variant:"outlined",onChange:function(e){return j(e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"description",size:"small",label:"Description",variant:"outlined",onChange:function(e){return j(e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"due_date",size:"small",label:"Due Date",variant:"outlined",InputLabelProps:{shrink:!0},inputProps:{min:(new Date).toISOString().slice(0,10)},onChange:function(e){return j(e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-select-small"},"Priority"),a.a.createElement(nr.a,{name:"priority",labelId:"demo-select-small",id:"demo-select-small",label:"Priority",value:m.priority,onChange:function(e){return L("priority",e.target.value)}},a.a.createElement(x.a,{value:"Low"},"Low "),a.a.createElement(x.a,{value:"Medium"},"Medium"),a.a.createElement(x.a,{value:"High"},"High")))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},!y.groups.includes("Sales Executive")&&a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-select-small"},"Assigned To"),a.a.createElement(nr.a,{name:"assigned_to",labelId:"demo-select-small",id:"demo-select-small",label:"Assigned To",value:m.assigned_to,onChange:function(e){return L("assigned_to",e.target.value)}},g.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.email},e.email)}))))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function fu(){fu=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var pu=function(e){var t=e.setOpenModalActivity,r=e.getAllTaskDetails,o=e.activity,i=Object(n.useState)(!1),f=Object(l.a)(i,2),p=f[0],h=f[1],d=Object(n.useState)([]),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(s.c)(function(e){return e.auth}).profile,b=Ln(),E=b.handleSuccess,w=b.handleError,x=b.handleCloseSnackbar,O=b.alertInfo,_=function(){var e=Object(c.a)(fu().mark(function e(n){var a;return fu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),h(!0),a={created_by:g.email,task:o.id,description:v.description},e.next=6,Xe.createActivityTask(a);case 6:E("Activity Created Successfully"),setTimeout(function(){t(!1)},300),r(),h(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),w(e.t0),h(!1),console.error("error Task",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:O.open,onClose:x,severity:O.severity,message:O.message}),a.a.createElement(Pt,{open:p}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"created_by",size:"small",label:"Created By",variant:"outlined",value:g.email})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{multiline:!0,fullWidth:!0,name:"description",size:"small",label:"Description",variant:"outlined",onChange:function(e){return function(e){var t=e.target,r=t.name,n=t.value;y(Object(u.a)({},v,Object(Wt.a)({},r,n)))}(e)}}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function hu(){hu=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var du=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)([]),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(null),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(null),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(null),A=Object(l.a)(T,2),I=A[0],F=A[1],G=Object(n.useState)(1),W=Object(l.a)(G,2),B=W[0],R=W[1],z=Object(n.useState)(0),M=Object(l.a)(z,2),U=M[0],Y=M[1],q=Object(n.useState)([]),V=Object(l.a)(q,2),Q=V[0],H=V[1],K=Object(n.useState)(!1),J=Object(l.a)(K,2),Z=J[0],X=J[1],$=Object(s.c)(function(e){return e.auth.profile}),ee=$.sales_users||[],te=Ln(),re=te.handleError,ne=te.handleCloseSnackbar,ae=te.alertInfo,oe=function(){var e=Object(c.a)(hu().mark(function e(){return hu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return N(""),e.next=3,ce();case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){ie(),ce()},[]);var ie=function(){var e=Object(c.a)(hu().mark(function e(t){var r;return hu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,Nr.getAllAssignedUser();case 4:r=e.sent,E(r.data),v(!1),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),re(e.t0),console.log("error",e.t0),v(!1);case 14:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(c.a)(hu().mark(function e(){var t,r;return hu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,Xe.getAllTaskData({page:B,assignToFilter:S,searchValue:D});case 4:t=e.sent,_(t.data.results),r=t.data.count,Y(Math.ceil(r/25)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),re(e.t0);case 13:return e.prev=13,v(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(c.a)(hu().mark(function e(t,r){var n,a;return hu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,Xe.getAllTaskData({assignToFilter:t,searchValue:r});case 4:if(!(n=e.sent)){e.next=11;break}_(n.data.results),a=n.data.count,Y(Math.ceil(a/25)),e.next=15;break;case 11:return e.next=13,ce();case 13:k(""),N("");case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),re(e.t0),console.log("error Search leads",e.t0);case 21:return e.prev=21,v(!1),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[0,17,21,24]])}));return function(t,r){return e.apply(this,arguments)}}(),ue=function(){var e=Object(c.a)(hu().mark(function e(t,r){var n,a,o;return hu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,R(n=r),v(!0),!S&&!D){e.next=10;break}return e.next=7,Xe.getAllTaskData({page:n,assignToFilter:S,searchValue:D});case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,Xe.getAllTaskData({page:n});case 12:e.t0=e.sent;case 13:if(!(a=e.t0)){e.next=20;break}_(a.data.results),o=a.data.count,Y(Math.ceil(o/25)),e.next=23;break;case 20:return e.next=22,ce();case 22:k("");case 23:e.next=29;break;case 25:e.prev=25,e.t1=e.catch(0),re(e.t1),console.log("error",e.t1);case 29:return e.prev=29,v(!1),e.finish(29);case 32:case"end":return e.stop()}},e,null,[[0,25,29,32]])}));return function(t,r){return e.apply(this,arguments)}}(),se=O.map(function(e){var t="";switch(e.priority){case"High":t="#ffcccc";break;case"Medium":t="#ccccff";break;case"Low":t="#ffffcc";break;default:t="#ffffff"}return{priority:t}}),fe=O.map(function(e,t){return{id:e.id,created_by:e.created_by,name:e.name,description:e.description,due_date:e.due_date,priority:e.priority,assigned_to:e.assigned_to,completed:e.completed}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:ae.open,onClose:ne,severity:ae.severity,message:ae.message}),a.a.createElement(Pt,{open:m}),a.a.createElement("div",null,a.a.createElement("div",{style:{padding:"16px",margin:"16px",boxShadow:"0px 3px 6px #00000029",borderRadius:"4px",display:"flex",flexDirection:"column",backgroundColor:"rgb(255, 255, 255)"}},a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},!$.groups.includes("Sales Executive")&&a.a.createElement(yr,{size:"small",sx:{width:300},onChange:function(e,t){return function(e){k(e),le(e,D)}(t)},value:S,options:ee.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"}),a.a.createElement(Ta,{filterSelectedQuery:D,setFilterSelectedQuery:N,handleInputChange:function(){N(D),le(S,D)},getResetData:oe}),a.a.createElement(yt.a,{variant:"contained",onClick:function(){return o(!0)},style:{backgroundColor:"#006ba1",color:"#fff",marginLeft:"auto",marginRight:"1em"}},"Create Task")),a.a.createElement(vt.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Task")),a.a.createElement(Cn,{headers:["ID","CREATED BY","TASK","DESCRIPTION","DUE DATE","PRIORITY","ASSIGNED TO","COMPLETED","ACTION"],data:fe,openInPopup:function(e){var t=O.find(function(t){return t.id===e.id});F(t.activities),H(t),p(!0)},openInPopup2:function(e){var t=O.find(function(t){return t.id===e.id});F(t),X(!0)},openInPopup3:null,openInPopup4:null,ButtonText:"Activity",PriorityColor:se}),a.a.createElement(Zn,{currentPage:B,totalPages:U,handlePageChange:ue}))),a.a.createElement(ut,{title:"Create Task",openPopup:r,setOpenPopup:o},a.a.createElement(su,{getAllTaskDetails:ce,assigned:b,setOpenPopup:o})),a.a.createElement(ut,{maxWidth:"xl",title:"Update Task",openPopup:f,setOpenPopup:p},a.a.createElement(lu,{setOpenPopup:p,getAllTaskDetails:ce,assigned:b,taskByID:Q,activity:I})),a.a.createElement(ut,{maxWidth:"xl",title:"Create Activity",openPopup:Z,setOpenPopup:X},a.a.createElement(pu,{activity:I,getAllTaskDetails:ce,setOpenModalActivity:X})," "))};function mu(){mu=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var vu=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useRef)(),y=Object(n.useState)(""),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(1),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(0),A=Object(l.a)(T,2),I=A[0],F=A[1],G=Object(n.useState)(""),W=Object(l.a)(G,2),B=W[0],R=W[1],z=Object(n.useState)([]),M=Object(l.a)(z,2),U=M[0],Y=M[1],q=Object(n.useState)([]),V=Object(l.a)(q,2),Q=V[0],H=V[1];Object(n.useEffect)(function(){J(),K()},[]);var K=function(){var e=Object(c.a)(mu().mark(function e(t){var r,n,a;return mu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),r=["Director","Customer Service","Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Sales Manager without Leads"],e.next=5,Nr.getAllAssignedUser();case 5:n=e.sent,a=n.data.filter(function(e){return e.groups.some(function(e){return r.includes(e)})}),console.log("filteredData",a),Y(a),m(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("error",e.t0),m(!1);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(mu().mark(function e(){var t,r,n,a;return mu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,m(!0),!D){e.next=11;break}return e.next=5,Vt.getPaginationByUnassignedData(D);case 5:t=e.sent,_(t.data.results),r=t.data.count,F(Math.ceil(r/25)),e.next=17;break;case 11:return e.next=13,Vt.getUnassignedData();case 13:n=e.sent,_(n.data.results),a=n.data.count,F(Math.ceil(a/25));case 17:m(!1),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(0),m(!1),e.t0.response?400===e.t0.response.status?E(e.t0.response.data.errors.name?e.t0.response.data.errors.name:e.t0.response.data.errors.non_field_errors):401===e.t0.response.status?E(e.t0.response.data.errors.code):E("Server Error"):E("\u201cSorry, You Are Not Allowed to Access This Page\u201d Please contact to admin"),v.current.focus();case 25:case"end":return e.stop()}},e,null,[[0,20]])}));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(c.a)(mu().mark(function e(t){var r,n,a;return mu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,m(!0),""===(r=encodeURIComponent(t))){e.next=12;break}return e.next=6,Vt.getSearchByUnassignedData(r);case 6:n=e.sent,_(n.data.results),a=n.data.count,F(Math.ceil(a/25)),e.next=14;break;case 12:J(),R("");case 14:m(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log("error Search leads",e.t0),m(!1);case 21:case"end":return e.stop()}},e,null,[[0,17]])}));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(mu().mark(function e(t,r){var n,a,o,i;return mu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,N(n=r),m(!0),!B){e.next=11;break}return e.next=7,Vt.getSearchandPaginationByUnassignedData(n,B);case 7:(a=e.sent)?(_(a.data.results),o=a.data.count,F(Math.ceil(o/25))):(J(),R("")),e.next=15;break;case 11:return e.next=13,Vt.getPaginationByUnassignedData(n);case 13:i=e.sent,_(i.data.results);case 15:m(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.log("error",e.t0),m(!1);case 22:case"end":return e.stop()}},e,null,[[0,18]])}));return function(t,r){return e.apply(this,arguments)}}();console.log("recordForEdit",S);var $=function(){var e=Object(c.a)(mu().mark(function e(t){var r;return mu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),m(!0),r={type_of_customer:S.type_of_customer,name:S.name,address:S.address,pincode:S.pincode,state:S.state,city:S.city,website:S.website,estd_date:S.estd_date,gst_number:S.gst_number||null,pan_number:S.pan_number||null,business_type:S.business_type,assigned_to:Q||""},e.next=6,Vt.updateCompanyData(S.id,r);case 6:o(!1),J(),H([]),m(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("createing Unassigned company detail error",e.t0),m(!1);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),ee=O.map(function(e){return{id:e.id,name:e.name,pan_number:e.pan_number,gst_number:e.gst_number,city:e.city,state:e.state}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:d}),a.a.createElement("div",null,a.a.createElement(Sa,{errRef:v,errMsg:b}),a.a.createElement("div",{style:{padding:"16px",margin:"16px",boxShadow:"0px 3px 6px #00000029",borderRadius:"4px",display:"flex",flexDirection:"column",backgroundColor:"rgb(255, 255, 255)"}},a.a.createElement("div",{style:{display:"flex"}},a.a.createElement("div",{style:{flexGrow:.9}},a.a.createElement(Ta,{filterSelectedQuery:B,setFilterSelectedQuery:R,handleInputChange:function(){R(B),Z(B)},getResetData:function(){R(""),J()}})),a.a.createElement("div",{style:{flexGrow:2}},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Unassigned Customer")),a.a.createElement("div",{style:{flexGrow:.5},align:"right"})),a.a.createElement("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"green",color:"white",padding:"10px",borderRadius:"4px",display:s?"block":"none",zIndex:9999}},a.a.createElement("span",{style:{marginRight:"10px"}},"Bulk Customer Assigned Successfully!"),a.a.createElement("button",{style:{backgroundColor:"transparent",border:"none",color:"white",cursor:"pointer",padding:"0"},onClick:function(){f(!1)}},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},a.a.createElement("path",{fillRule:"evenodd",d:"M8 7.293l2.146-2.147a.5.5 0 11.708.708L8.707 8l2.147 2.146a.5.5 0 01-.708.708L8 8.707l-2.146 2.147a.5.5 0 01-.708-.708L7.293 8 5.146 5.854a.5.5 0 01.708-.708L8 7.293z"})))),a.a.createElement(Cn,{headers:["ID","NAME","PAN NO.","GST NO.","CITY","STATE","ACTION"],data:ee,openInPopup:function(e){var t=O.find(function(t){return t.id===e.id});k(t),o(!0)}}),a.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},a.a.createElement(Zn,{currentPage:D,totalPages:I,handlePageChange:X})))),a.a.createElement(ut,{maxWidth:"lg",title:"Assign To Customer",openPopup:r,setOpenPopup:o},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{size:"small",value:Q,onChange:function(e,t){H(t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:U.map(function(e){return e.email}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(vr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},label:"Assign To",placeholder:"Assign To"})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yt.a,{variant:"contained",color:"success",onClick:function(e){return $(e)}},"Submit")))))},yu=r(207),gu=r.n(yu),bu=r(140),Eu=r.n(bu),wu=r(67),xu=r(3);function Ou(){Ou=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var _u=function(e){var t=e.getProformaInvoiceData,r=e.invoiceData,o=e.users,i=e.setOpenPopup,s=e.setOpenPopup2,f=Object(n.useState)({}),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(!1),v=Object(l.a)(m,2),y=v[0],g=v[1],b=function(e){var t=e.target,r=t.name,n=t.value;d(Object(u.a)({},h,Object(Wt.a)({},r,n)))},E=function(){var e=Object(c.a)(Ou().mark(function e(n){var a;return Ou().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),a={type:r.type,raised_by:o.email,seller_account:r.seller_account,company:r.company,lead:r.lead,address:r.address,pincode:r.pincode,state:r.state,city:r.city,buyer_order_no:r.buyer_order_no,contact:r.contact,alternate_contact:r.alternate_contact,payment_terms:r.payment_terms,delivery_terms:r.delivery_terms,generation_date:r.generation_date,validity:r.validity,status:h.status,amount_recieved:h.amount_recieved||0,amount:r.amount,place_of_supply:r.place_of_supply,sgst:r.sgst?r.sgst:null,cgst:r.cgst?r.cgst:null,igst:r.igst?r.igst:null,total:r.total,gst_number:r.gst_number,pan_number:r.pan_number?r.pan_number:null},g(!0),"Customer"!==r.type){e.next=9;break}return e.next=7,ea.sendForApprovalCompanyData(r.pi_number,a);case 7:e.next=11;break;case 9:return e.next=11,ea.sendForApprovalLeadsData(r.pi_number,a);case 11:i(!1),g(!1),s(!1),t(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),g(!1);case 20:case"end":return e.stop()}},e,null,[[0,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:y}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:E},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(tr.a,{sx:{minWidth:"400px"},size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Status"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"status",label:"Status",value:h.status||"",onChange:b,sx:{"& .MuiSelect-iconOutlined":{display:h.status?"none":""},"&.Mui-focused .MuiIconButton-root":{color:"primary.main"}}},ju.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.label},e.label)})))),"Partially Paid"===h.status&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"amount_recieved",size:"small",label:"Amount Received",variant:"outlined",value:h.amount_recieved||"",onChange:b})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"balance_amount",size:"small",label:"Balance Amount",variant:"outlined",value:h.amount_recieved?r.total-h.amount_recieved:""})))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},ju=[{label:"Partially Paid",value:"partially_paid"},{label:"Fully Paid",value:"fully_paid"},{label:"Credit",value:"credit"}],Lu=r(139),Su=r.n(Lu),ku=function(e){for(var t=e.productData,r=e.invoiceData,n=e.hsnData,o=e.AMOUNT_IN_WORDS,i=e.TOTAL_GST,c=Math.ceil(t.length/6),l=[],s=0;s<c;s++){var f=6*s,p=f+6,h=t.slice(f,p);l.push(h)}function d(e){return e.toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}return a.a.createElement(xu.a,null,l.map(function(e,t){return a.a.createElement(xu.c,{size:"A4",orientation:"portrait",style:{fontSize:"12pt"}},a.a.createElement(xu.f,{style:{padding:"20pt"}},a.a.createElement(xu.f,{style:Nu},a.a.createElement(Pu,{invoiceData:r,capitalizeFirstLetter:d}),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{alignItems:"center",padding:0})},a.a.createElement(xu.e,{style:{fontWeight:"100",fontSize:12}},"Proforma Tax Invoice"))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Proforma Invoice No & Date :")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},r.pi_number," & ",r.generation_date)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Place of Supply :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},d(r.place_of_supply)))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Sales Person :")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},d(r.raised_by_first_name),d(r.raised_by_last_name))),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Transporter Name :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},d(r.transporter_name)))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Valid Until :")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},Ur()(r.validity).format("DD-MM-YYYY"))),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Buyer Order No & Date :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},r.buyer_order_no," &"," ",r.buyer_order_date))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{z:!0}),a.a.createElement(xu.f,{style:Object(u.a)({},Gu)}),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)}),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Amount Receive :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},r.amount_recieved))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu)}),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)}),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Payment Terms :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},r.payment_terms))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu)}),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)}),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Delivery Terms :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},r.delivery_terms))),a.a.createElement(xu.f,{style:Object(u.a)({},Tu,Fu)},a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},zu,Uu,{textAlign:"center"})},"Billed To")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},zu,{textAlign:"center"})},"Shipped To"," "))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Company :")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},d(r.company_name))),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Company :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},d(r.company_name)))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Address :")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},d(r.billing_address))),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Address :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},d(r.address)))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"City & State:")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},d(r.billing_city)," &",d(r.billing_state))),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"City & State:")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},d(r.city)," &",d(r.state)))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Pin Code :")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},r.billing_pincode)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)}," Pin Code :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},r.pincode))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Gst Number :")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},r.gst_number)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Gst Number :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},r.gst_number))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Pan Number :")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},r.pan_number)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Pan Number :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},r.pan_number))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Contact :")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},r.contact)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Contact :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},r.contact))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Contact Person :")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},d(r.contact_person_name))),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Contact Person :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},d(r.contact_person_name)))),a.a.createElement(xu.f,{className:Object(u.a)({},Tu,Fu),style:Object(u.a)({},Tu,Fu)},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{flex:.2,flexGrow:.2,marginLeft:"4pt",textAlign:"left"})},a.a.createElement(xu.e,null,"Sr.No")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{flex:.8,flexGrow:.8,textAlign:"left"})},a.a.createElement(xu.e,null,"Description of Goods")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{flex:.3,flexGrow:.3,textAlign:"center"})},a.a.createElement(xu.e,null,"HSN")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(xu.e,null,"Quantity")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(xu.e,null,"Unit")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(xu.e,null,"Rate")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(xu.e,null,"Amount"))),e.map(function(e,r){var n=6*t+r+1;return a.a.createElement(xu.f,{style:Object(u.a)({},Tu,{paddingVertical:5}),key:r},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{flex:.2,flexGrow:.2,marginLeft:"4pt",textAlign:"left"})},a.a.createElement(xu.e,{style:Ru},n)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{textAlign:"left",flex:.8,flexGrow:.8,width:80})},a.a.createElement(xu.e,{style:Object(u.a)({},Ru,{color:"#000"})},e.product),a.a.createElement(xu.e,{style:Object(u.a)({},Ru,{color:"#000"})},d(e.description))),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{flex:.3,flexGrow:.3,textAlign:"center"})},a.a.createElement(xu.e,{style:Ru},e.hsn_code)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(xu.e,{style:Ru},e.quantity)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(xu.e,{style:Ru},d(e.unit))),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(xu.e,{style:Ru},e.rate)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(xu.e,{style:Ru},e.amount)))}),a.a.createElement(xu.f,{style:Object(u.a)({},Tu)},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Fu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu,{textAlign:"center"})},"Company Bank Details")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Fu,Uu)}),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{flexGrow:.4})},a.a.createElement(xu.e,{style:Object(u.a)({},zu,{textAlign:"right"})},"Taxable Amount :")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{flexGrow:.4})},a.a.createElement(xu.e,{style:Object(u.a)({},Mu,{textAlign:"center"})},r.amount))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Company :")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},"Glutape India Pvt Ltd")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu,{textAlign:"right"})},"CGST Amount :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu,{textAlign:"center"})},r.cgst?r.cgst:"-"))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Bank :")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},d(r.seller_bank_name))),a.a.createElement(xu.f,{style:Object(u.a)({},Gu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu,{textAlign:"right"})},"SGST Amount :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu,{textAlign:"center"})},r.sgst?r.sgst:"-"))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Account No :")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},r.seller_account_no)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu,{textAlign:"right"})},"IGST Amount :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu,{textAlign:"center"})},r.igst?r.igst:"-"))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Branch & IFSC Code :")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},d(r.seller_branch)," &",r.seller_ifsc_code)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu,{textAlign:"right"})},"Round Off :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu,{textAlign:"center"})},r.round_off))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Gst Number :")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},r.seller_gst)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu,{textAlign:"right"})},"Total Amount :")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu,{textAlign:"center"})},r.round_off_total))),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Pan Number :")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},r.seller_pan)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu)}),a.a.createElement(xu.f,{style:Gu})),a.a.createElement(xu.f,{style:Object(u.a)({},Tu)},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{padding:"5pt"})},a.a.createElement(xu.e,{style:zu},"Amount in Words :-",a.a.createElement(xu.e,{style:Mu}," \xa0",o)))),a.a.createElement(xu.f,null,a.a.createElement(xu.e,null,"\n")),a.a.createElement(xu.f,{style:Object(u.a)({},Tu,Fu)},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"HSN")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"TAXABLE AMOUNT")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"CGST")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"SGST")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"IGST")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"GST")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"TOTAL GST"))),n.map(function(e,t){return a.a.createElement(xu.f,{style:Tu,key:t},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},e.hsn_code)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},e.amount)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},e.cgst)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},e.sgst)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},e.igst)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},e.gst_percentage)),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},Mu)},e.total_gst)))}),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"Total")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},r.amount||"-")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},r.cgst||"-")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},r.sgst||"-")),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"-"|r.igst)),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,Uu)},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"-")),a.a.createElement(xu.f,{style:Gu},a.a.createElement(xu.e,{style:Object(u.a)({},zu)},"-"|i))),a.a.createElement(xu.f,null,a.a.createElement(xu.e,null,"\n")),a.a.createElement(xu.f,{style:Tu},a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{marginLeft:"4pt"})},a.a.createElement(xu.e,{style:{fontWeight:"bold",fontSize:8}},"Terms and Condition :-"),Du.map(function(e,t){return a.a.createElement(xu.e,{key:t,style:{color:"#777777",fontSize:6}},e.id," ",d(e.text))})),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{justifyContent:"center",alignItems:"center"})},a.a.createElement(xu.e,{style:Mu},r.approval?d(r.approval.approve_name):""),a.a.createElement(xu.e,{style:Mu},r.approval?Ur()(r.approval.approval_date).format("DD-MM-YYYY"):""),a.a.createElement(xu.e,{style:Mu},"Authorising Signatory"),a.a.createElement(xu.e,{style:Mu},"[Digitally Signed]"))),a.a.createElement(Cu,null))),a.a.createElement(xu.e,{style:Object(u.a)({},Ru,{display:"flex",justifyContent:"center",textAlign:"center"})},"This is Computer Generated Proforma Tax Invoice"),a.a.createElement(xu.e,{style:Object(u.a)({},Ru,{display:"flex",justifyContent:"center",textAlign:"center"})},"Page ",t+1," of ",c))}))},Pu=function(e){var t=e.invoiceData,r=e.capitalizeFirstLetter;return a.a.createElement(xu.f,{style:Au},a.a.createElement(xu.f,{style:{marginRight:"20pt"}},a.a.createElement(xu.b,{source:$a.a,style:Wu})),a.a.createElement(xu.f,{style:Object(u.a)({},Gu,{alignItems:"center",textAlign:"center",padding:0})},a.a.createElement(xu.e,{style:{fontWeight:"bold",fontSize:12}},"Glutape India Private Limited"),a.a.createElement(xu.e,{style:{color:"#777777",fontSize:6}},r(t.seller_address),","," ",r(t.seller_city),", ","\n",r(t.seller_state),"-",t.seller_state_code,",",t.seller_pincode,", CIN No;-"," ",t.seller_cin,", P.No:- ",t.seller_contact,"\n","E: ",t.seller_email,", W: www.glutape.com")),a.a.createElement(xu.f,null,a.a.createElement(xu.b,{source:oo.a,style:Bu})),a.a.createElement(xu.f,null,a.a.createElement(xu.b,{source:Su.a,style:Bu})))},Cu=function(){return a.a.createElement(xu.f,{style:Iu},a.a.createElement(xu.b,{source:no.a,style:{width:"100%",height:"auto"}}))},Du=[{id:"1)",text:"Material once sold will not be taken back."},{id:"2)",text:"Material is delivered at owner's risk and with no liability of transportation damage to Glutape India Pvt Ltd. "},{id:"3)",text:"Our risk and Responsibility ceases as soon as the goods leave our premises."},{id:"4)",text:"In case the cargo is insured, a claim against insurance will be settled once the insurance claim gets sanctioned from the respective insurance company"},{id:"5)",text:"Please test Material before using."},{id:"6)",text:"No allowance for storage of difference in quality will be allowed unless the same is given to us within 24 hour of receipt insurance company."},{id:"7)",text:"Subjects to mumbai, Maharashtra jurisdiction only."},{id:"8)",text:"Validity of this Proforma Invoice is 3 Days from Date of Proforma Invoice."}],Nu={border:"1pt solid #000000",overflow:"hidden"},Tu={display:"flex",flexDirection:"row",borderBottom:"1pt solid #ccc"},Au={height:"40pt",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottom:"1pt solid #777777"},Iu={height:"40pt",flexDirection:"row",width:"100%",borderTop:"1pt solid #777777"},Fu={backgroundColor:"#eee",fontWeight:"bold"},Gu={flex:1,flexGrow:1,fontSize:10},Wu={height:"auto",width:"80pt"},Bu={height:"auto",width:"50pt"},Ru={fontWeight:300,color:"#454545",fontSize:8},zu={fontWeight:"bold",fontSize:8,textAlign:"left",marginLeft:"5pt"},Mu={fontWeight:300,fontSize:8,color:"#454545",marginLeft:"5pt"},Uu={borderRightWidth:1,borderRightColor:"#ccc"};function Yu(){Yu=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var qu=function(e){var t=e.idForEdit,r=(e.setOpenPopup,Object(n.useState)(!1)),o=Object(l.a)(r,2),i=o[0],f=o[1],p=Object(n.useState)([]),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)([]),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(""),P=Object(l.a)(k,2),C=P[0],D=(P[1],Object(s.c)(function(e){return e.auth}).profile),N=Object(n.useRef)(),T=Object(Za.useReactToPrint)({content:function(){return N.current},documentTitle:"PI Number ".concat(d.pi_number)}),A=function(){var e=Object(c.a)(Yu().mark(function e(t){var r,n,o;return Yu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),r=new wu.a,e.next=5,Object(xu.g)(a.a.createElement(ku,{productData:g,invoiceData:d,hsnData:x,AMOUNT_IN_WORDS:W,TOTAL_GST:B}),r,{}).toBlob();case 5:n=e.sent,(o=document.createElement("a")).href=URL.createObjectURL(n),o.download="PI Number ".concat(d.pi_number,".pdf"),document.body.appendChild(o),o.click(),document.body.removeChild(o),S(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("error exporting pdf",e.t0);case 18:return e.prev=18,S(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[0,15,18,21]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){I()},[]);for(var I=function(){var e=Object(c.a)(Yu().mark(function e(){var r;return Yu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,S(!0),"Customer"!==t.type){e.next=8;break}return e.next=5,ea.getCompanyPerformaInvoiceByIDData(t.pi_number);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,ea.getLeadsPerformaInvoiceByIDData(t.pi_number);case 10:e.t0=e.sent;case 11:r=e.t0,m(r.data),b(r.data.products),O(r.data.hsn_table),S(!1),e.next=21;break;case 18:e.prev=18,e.t1=e.catch(0),S(!1);case 21:case"end":return e.stop()}},e,null,[[0,18]])}));return function(){return e.apply(this,arguments)}}(),F=(d.amount_in_words?d.amount_in_words:"").split(" "),G=0;G<F.length;G++)F[G]=F[G].charAt(0).toUpperCase()+F[G].slice(1);var W=F.join(" "),B=(d.total-d.amount).toFixed(2);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:L}),a.a.createElement(Sa,{errMsg:C}),"Pending Approval"!==d.status&&"Raised"!==d.status&&a.a.createElement("div",{className:"container-fluid mb-4",style:{border:"1px Solid #000000"}},a.a.createElement("div",{className:"row p-4"},a.a.createElement("div",{className:"col-xs-6 "},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(e){return A(e)},startIcon:a.a.createElement(gu.a,null)},"Download"),a.a.createElement(yt.a,{variant:"contained",color:"secondary",onClick:T,startIcon:a.a.createElement(Eu.a,null)},"Print")))),a.a.createElement("div",{id:"invoice",style:{border:"1px Solid #000000"},className:"container-fluid m-0 p-2",ref:N},a.a.createElement("div",{className:"m-2 p-0",style:{border:"1px Solid #000000"}},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-xs-12"},a.a.createElement("div",{className:"grid invoice",style:{padding:"10px"}},a.a.createElement("div",{className:"grid-body"},a.a.createElement("div",{className:"invoice-title"},a.a.createElement("div",{className:"row",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("div",{className:"col-md-2 align-self-center logos"},a.a.createElement("img",{src:$a.a,alt:"",Height:"60",width:"150"})),a.a.createElement("div",{className:"col-md-7",style:{marginRight:"1rem"}},a.a.createElement("div",{className:"text-center address"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Glutape India Private Limited"),a.a.createElement("br",null),a.a.createElement("p",{style:{fontSize:"0.50rem"}},d.seller_address,",",d.seller_city,",",d.seller_state,"-",d.seller_state_code,",",a.a.createElement("br",null),d.seller_pincode,", CIN No ;-",d.seller_cin,", P.No :- ",a.a.createElement("br",null),d.seller_contact," E:",d.seller_email,",W:www.glutape.com"))),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-end msme"},a.a.createElement("img",{src:oo.a,alt:"",height:"50",width:"90"})),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-start iso"},a.a.createElement("img",{src:to.a,alt:"",height:"35",width:"90"}))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("p",{className:"text-center fs-6 fw-bold p-0 m-0"},"Proforma Invoice"))),a.a.createElement("div",{className:"row",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("div",{className:"col-md-6",style:Object(u.a)({},Qu)},a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Proforma Invoice No & Date :"," ")," ",d.pi_number," &"," ",d.generation_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Sales Person :"," ")," ",d.raised_by_first_name,"\xa0\xa0",d.raised_by_last_name),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Valid Until :"," ")," ",d.validity)),a.a.createElement("div",{className:"col-md-6",style:Object(u.a)({},Qu,{borderLeft:"1px Solid #000000"})},a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Place of Supply :"," "),d.place_of_supply),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Transporter Name :"," "),d.transporter_name),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Buyer Order No & Date :"," "),d.buyer_order_no," &"," ",d.buyer_order_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Amount Receive :"," "),d.amount_recieved),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Payment Terms :"," ")," ",d.payment_terms),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Delivery Terms :"," ")," ",d.delivery_terms)))),a.a.createElement("div",{className:"row",style:Object(u.a)({},Qu,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-6"},a.a.createElement("address",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Billed To:"),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Company :"," "),d.company_name,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Address :"," "),d.billing_address,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"City & State:"," "),d.billing_city," &"," ",d.billing_state,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Pin Code :"," "),d.billing_pincode),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Gst Number :"," "),d.gst_number),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Pan Number :"," "),d.pan_number),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Contact :"," "),d.contact),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Contact Person Name:"," "),d.contact_person_name))),a.a.createElement("div",{className:"col-md-6 justify-content-end",style:{borderLeft:"1px Solid #000000"}},a.a.createElement("address",{className:"justify-content-end"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Shipped To:"),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Company :"," "),d.company_name,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Address :"," "),d.address),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"City & State:"," "),d.city," & ",d.state,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Pin Code :"," "),d.pincode),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Gst Number :"," "),d.gst_number),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Pan Number :"," "),d.pan_number),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Contact :"," "),d.contact),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Contact Person Name:"," "),d.contact_person_name)))),a.a.createElement("div",{className:"row",style:Object(u.a)({},Qu,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-12"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",{className:"line"},a.a.createElement("td",{className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},"SR.NO")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},"DESCRIPTION OF GOODS")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},"BRAND")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},"HSN CODE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},"REQUESTED DATE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},"QTY")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},"UNIT")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},"RATE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},"AMOUNT")))),a.a.createElement("tbody",null,g.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",{className:"text-start"},t+1),a.a.createElement("td",{className:"text-center"},e.description,a.a.createElement("br",null),e.product),a.a.createElement("td",{className:"text-center"},e.brand),a.a.createElement("td",{className:"text-center"},e.hsn_code),a.a.createElement("td",{className:"text-center"},e.requested_date),a.a.createElement("td",{className:"text-center"},e.quantity),a.a.createElement("td",{className:"text-center"},e.unit),a.a.createElement("td",{className:"text-center"},e.rate),a.a.createElement("td",{className:"text-center"},e.amount))}),a.a.createElement("tr",null,a.a.createElement("td",{colspan:"4.5",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Company Bank Details :"," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Company Name :"," "),"Glutape India Pvt Ltd"),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Bank :"," "),d.seller_bank_name," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Account No :"," "),d.seller_account_no," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Branch & IFSC Code :"," "),d.seller_branch," &"," ",d.seller_ifsc_code," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Gst Number :"," "),d.seller_gst),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Pan Number :"," "),d.seller_pan)),a.a.createElement("td",{colspan:"3"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Taxable Amount"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},Qu)},"CGST Amount")," ",a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},Qu)},"SGST Amount")," ",a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},Qu)},"IGST Amount"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Round Off"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Total Amount")),a.a.createElement("td",{colspan:"0.5",className:"text-right"},a.a.createElement("span",null,d.amount),a.a.createElement("br",null),a.a.createElement("span",null,d.cgst?d.cgst:"-"),a.a.createElement("br",null),a.a.createElement("span",null,d.sgst?d.sgst:"-"),a.a.createElement("br",null),a.a.createElement("span",null,d.igst?d.igst:"-"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},Qu)},d.round_off),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},Qu)},d.round_off_total))))))),a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},Qu,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-8 text-right"},a.a.createElement("strong",null,"Amount in Words :-"),"\xa0\xa0",W)),a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},Qu,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-8 text-right table-responsive"},a.a.createElement("table",{className:"table table-bordered"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"HSN"),a.a.createElement("th",null,"TAXABLE AMOUNT"),a.a.createElement("th",null,"CGST"),a.a.createElement("th",null,"SGST"),a.a.createElement("th",null,"IGST"),a.a.createElement("th",null,"GST %"),a.a.createElement("th",null,"TOTAL GST"))),a.a.createElement("tbody",null,x.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,e.hsn_code),a.a.createElement("td",null,e.amount),a.a.createElement("td",null,e.cgst),a.a.createElement("td",null,e.sgst),a.a.createElement("td",null,e.igst),a.a.createElement("td",null,e.gst_percentage),a.a.createElement("td",null,e.total_gst))}),a.a.createElement("tr",null,a.a.createElement("td",{colspan:"1",className:"text-end"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Total :")),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},d.amount)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},d.cgst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},d.sgst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},d.igst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},Qu)})),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},B))))))),a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},Qu,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-8 text-right"},a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Terms and Condition :-"),Vu.map(function(e,t){return a.a.createElement("p",{key:t,style:{margin:0,padding:0,fontSize:"0.50rem"}},e.id,e.text,a.a.createElement("br",null))})),a.a.createElement("div",{className:"col-md-4 d-flex align-items-end justify-content-center"},a.a.createElement("div",{className:"text-center"},d.approval?d.approval.approve_name:"",a.a.createElement("br",null),d.approval?d.approval.approval_date:"",a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},Qu)},"Authorising Signatory"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},Qu)},"[Digitally Signed]")))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12 "},a.a.createElement("img",{src:no.a,alt:"",height:"60",width:"100%"}))))))))),a.a.createElement(ut,{maxWidth:"md",title:"Customer Confirmation of payment detail",openPopup:i,setOpenPopup:f},a.a.createElement(_u,{users:D,invoiceData:d,setOpenPopup:f,getAllProformaInvoiceDetails:I})))},Vu=[{id:"1)",text:"Material once sold will not be taken back."},{id:"2)",text:"Material is delivered at owner's risk and with no liability of transportation damage to Glutape India Pvt Ltd. "},{id:"3)",text:"Our risk and Responsibility ceases as soon as the goods leave our premises."},{id:"4)",text:"In case the cargo is insured, a claim against insurance will be settled once the insurance claim gets sanctioned from the respective insurance company"},{id:"5)",text:"Please test Material before using."},{id:"6)",text:"No allowance for storage of difference in quality will be allowed unless the same is given to us within 24 hour of receipt insurance company."},{id:"7)",text:"Subjects to mumbai, Maharashtra jurisdiction only."},{id:"8)",text:"Validity of this Proforma Invoice is 3 Days from Date of Proforma Invoice."}],Qu={fontSize:"0.80rem"};function Hu(){Hu=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ku=function(){var e,t=Object(s.b)(),r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=(o[0],o[1],Object(n.useState)(!1)),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useRef)(),g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],O=Object(n.useState)(""),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)(""),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Object(n.useState)(""),F=Object(l.a)(I,2),W=F[0],B=F[1],R=Object(n.useState)(""),z=Object(l.a)(R,2),M=z[0],U=z[1],Y=Object(n.useState)(""),q=Object(l.a)(Y,2),V=q[0],Q=q[1],H=Object(n.useState)(""),K=Object(l.a)(H,2),J=K[0],Z=K[1],X=Object(n.useState)(1),$=Object(l.a)(X,2),ee=$[0],te=$[1],re=Object(n.useState)(0),ne=Object(l.a)(re,2),ae=ne[0],oe=ne[1],ie=Object(s.c)(function(e){return e.auth}).profile,ce=ie.sales_users||[],le=Object(n.useState)(new Date),ue=Object(l.a)(le,2),se=ue[0],fe=ue[1],pe=Object(n.useState)((e=new Date,new Date(e.getFullYear(),e.getMonth(),1))),he=Object(l.a)(pe,2),de=he[0],me=he[1],ve=Object(n.useState)("monthly"),ye=Object(l.a)(ve,2),ge=ye[0],be=ye[1],Ee=[{label:"Status",value:"status"},{label:"Type",value:"type"}].concat(Object(ln.a)(ie.groups.includes("Sales Executive")?[]:[{label:"Sales Person",value:"raised_by__email"}]));Object(n.useEffect)(function(){we()},[]);var we=function(){var e=Object(c.a)(Hu().mark(function e(){var r;return Hu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,ea.getAllPaginateSellerAccountData("all");case 4:r=e.sent,t(G(r.data)),w(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),w(!1);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){xe()},[de]);var xe=function(){var e=Object(c.a)(Hu().mark(function e(){var t,r,n,a;return Hu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,w(!0),t=de?de.toISOString().split("T")[0]:"",r=se?se.toISOString().split("T")[0]:"",!ee){e.next=10;break}return e.next=7,ea.getPIPaginationWithDateRange(ee,t,r);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,ea.getPIDataWithDateRange(t,r);case 12:e.t0=e.sent;case 13:n=e.t0,C(n.data.results),a=n.data.count,oe(Math.ceil(a/25)),console.log("response filters",n),w(!1),e.next=26;break;case 21:e.prev=21,e.t1=e.catch(0),w(!1),e.t1.response?400===e.t1.response.status?L(e.t1.response.data.errors.name?e.t1.response.data.errors.name:e.t1.response.data.errors.non_field_errors):401===e.t1.response.status?L(e.t1.response.data.errors.code):L("Server Error"):L("\u201cSorry, You Are Not Allowed to Access This Page\u201d Please contact to admin"),y.current.focus();case 26:case"end":return e.stop()}},e,null,[[0,21]])}));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(c.a)(Hu().mark(function e(t){var r,n,a,o,i;return Hu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,w(!0),r=de?de.toISOString().split("T")[0]:"",n=se?se.toISOString().split("T")[0]:"",a=W?"search":"",!t&&!W){e.next=10;break}return e.next=8,ea.getPISearchWithDateRange(r,n,T,t,a,W);case 8:(o=e.sent)?(C(o.data.results),i=o.data.count,oe(Math.ceil(i/25))):(xe(),B(null),U(null),Q(null));case 10:w(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error Search leads",e.t0),w(!1);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(c.a)(Hu().mark(function e(t,r){var n,a,o,i,c,l,u;return Hu().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=W?"search":"",te(n=r),w(!0),o=de?de.toISOString().split("T")[0]:"",i=se?se.toISOString().split("T")[0]:"",!(M||V||W)){e.next=14;break}return e.next=10,ea.getPIPaginationWithFilterByWithDateRange(o,i,"page",n,T,M||V,a,W);case 10:(c=e.sent)?(C(c.data.results),l=c.data.count,oe(Math.ceil(l/25))):(xe(),B(null),U(null),Q(null)),e.next=18;break;case 14:return e.next=16,ea.getPIPaginationWithDateRange(n,o,i);case 16:u=e.sent,C(u.data.results);case 18:w(!1),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),console.log("error",e.t0),w(!1);case 25:case"end":return e.stop()}},e,null,[[0,21]])}));return function(t,r){return e.apply(this,arguments)}}(),je=P.map(function(e,t){return{type:e.type,pi_number:e.pi_number,generation_date:e.generation_date,raised_by:e.raised_by,customer:e.company_name,billing_city:e.billing_city,contact:e.contact,status:e.status,total:e.total,balance_amount:e.balance_amount,payment_terms:e.payment_terms}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:E}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Sa,{errRef:y,errMsg:j}),a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},a.a.createElement(yr,{sx:{width:300,marginRight:"10px"},size:"small",options:["yearly","monthly","weekly","today","last year"],value:ge,onChange:function(e,t){return function(e){var t=new Date,r=new Date,n=new Date;switch(be(e),e){case"yearly":r=new Date(t.getFullYear(),0,1),n=new Date(t.getFullYear(),11,31);break;case"monthly":r=new Date(t.getFullYear(),t.getMonth(),1),n=new Date(t.getFullYear(),t.getMonth()+1,0);break;case"weekly":var a=t.getDate()-t.getDay();r=new Date(t.getFullYear(),t.getMonth(),a),n=new Date(t.getFullYear(),t.getMonth(),a+6);break;case"today":r=new Date,n=new Date;break;case"last year":r=new Date(t.getFullYear()-1,0,1),n=new Date(t.getFullYear()-1,11,31);break;default:r=new Date,n=new Date}me(r),fe(n)}(t)},label:"Sort By"}),a.a.createElement(tr.a,{fullWidth:!0,size:"small",sx:{maxWidth:"200px"}},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Fliter By"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"values",label:"Fliter By",value:T,onChange:function(e){return A(e.target.value)}},Ee.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)}))),"status"===T&&a.a.createElement(tr.a,{sx:{minWidth:"200px",marginLeft:"1em"},size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Status"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"values",label:"Status",value:M,onChange:function(e){return function(e){U(e.target.value),Oe(e.target.value)}(e)}},Ju.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)}))),"type"===T&&a.a.createElement(tr.a,{sx:{minWidth:"200px",marginLeft:"1em"},size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Type"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"values",label:"Type",value:V,onChange:function(e){return function(e){Q(e.target.value),Oe(e.target.value)}(e)}},Zu.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)}))),"raised_by__email"===T&&!ie.groups.includes("Sales Executive")&&a.a.createElement(tr.a,{sx:{minWidth:"200px",marginLeft:"1em"},size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Filter By Sales Person"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"values",label:"Filter By Sales Person",value:J,onChange:function(e){return function(e){Z(e.target.value),Oe(e.target.value)}(e)},MenuProps:{PaperProps:{style:{maxHeight:300,width:250}}}},ce.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.email},e.email)}))),a.a.createElement(Ta,{filterSelectedQuery:W,setFilterSelectedQuery:B,handleInputChange:function(){B(W),Oe(M||V)},getResetData:function(){B(""),xe()}}),a.a.createElement(yt.a,{variant:"contained",color:"primary",sx:{marginLeft:"1rem"},onClick:function(){B(""),U(""),Q(""),A(""),xe()}},"Reset All")),a.a.createElement(vt.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"All PI")),a.a.createElement(Cn,{headers:["Type","PI Numer","PI Date","Raised By","Customer","Billing City","Contact","Status","PI Amount","Balance","Payment Terms","ACTION"],data:je,openInPopup:function(e){v(e),p(!0)},hideViewForStatus:["Price Approval","Raised","Pending Approval"],openInPopup2:null,openInPopup3:null,openInPopup4:null,Styles:{paddingLeft:"10px",paddingRight:"10px"}}),a.a.createElement(Zn,{currentPage:ee,totalPages:ae,handlePageChange:_e}))),a.a.createElement(ut,{fullScreen:!0,title:"View Proforma Invoice",openPopup:f,setOpenPopup:p},a.a.createElement(qu,{idForEdit:m,setOpenPopup:p})))},Ju=[{label:"Raised",value:"raised"},{label:"Pending Approval",value:"pending_approval"},{label:"Approved",value:"approved"},{label:"Partially Paid",value:"partially_paid"},{label:"Fully Paid",value:"fully_paid"},{label:"Credit",value:"credit"}],Zu=[{label:"Customer",value:"customer"},{label:"Lead",value:"lead"}],Xu=r(661);function $u(){$u=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var es=Object(n.memo)(function(e){var t=e.leadsByID,r=e.getLeadByID,o=e.setOpenPopup,i=e.getleads,f=e.currentPage,p=e.filterQuery,h=e.filterSelectedQuery,d=e.searchQuery,m=Object(n.useState)(!1),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)({}),E=Object(l.a)(b,2),w=E[0],O=E[1],_=Object(s.c)(function(e){return e.auth}).profile.email,j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Ln(),C=P.handleSuccess,D=P.handleError,N=P.handleCloseSnackbar,T=P.alertInfo,A=function(e){var t=e.target,r=t.name,n=t.value;O(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))});var a=["Not answering/busy/disconnecting","Having stock","Rate issue","Send detail on WhatsApp/sms/email","Dealing in other brand","Transportation cost issue","Call me back","Send sample","Require exclusive distributorship/dealership","Require credit"].includes(n);k(a)},I=Object(n.useCallback)(function(){var e=Object(c.a)($u().mark(function e(n){var a,c,l;return $u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,g(!0),a=Object(u.a)({leads:t,user:_},w),e.next=6,Nr.createFollowUpLeads(a);case 6:c=e.sent,l=c.data.message||"Activity Created successfully",C(l),setTimeout(function(){o(!1),i&&i(f,p,h,d),r&&r(t)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),D(e.t0);case 15:return e.prev=15,g(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[w,t,f,p,h,d]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:T.open,onClose:N,severity:T.severity,message:T.message}),a.a.createElement(Pt,{open:y}),a.a.createElement(vt.a,{component:"form",noValidate:!0,sx:{mt:1},onSubmit:function(e){return I(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Activity"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"activity",label:"Activity",MenuProps:{PaperProps:{style:{maxHeight:"200px"}}},onChange:A},ts.map(function(e){return a.a.createElement(x.a,{key:e.id,value:e.value},e.label)})))),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"notes",size:"small",label:"Note",variant:"outlined",value:w.notes,onChange:A})),"Drop the lead"!==w.activity&&a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"next_followup_date",size:"small",label:"Next Followup Date",variant:"outlined",value:w.next_followup_date||"",onChange:A,InputLabelProps:{shrink:!0},required:S,error:S&&!w.next_followup_date,helperText:S&&!w.next_followup_date?"Next Followup Date is required.":"",inputProps:{min:(new Date).toISOString().split("T")[0]}}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",variant:"contained",disabled:["Not answering/busy/disconnecting","Having stock","Rate issue","Send detail on WhatsApp/sms/email","Dealing in other brand","Transportation cost issue","Call me back","Send sample","Require exclusive distributorship/dealership","Require credit"].includes(w.activity)&&!w.next_followup_date},"Submit")))}),ts=[{id:1,value:"Not answering/busy/disconnecting",label:"Not answering/busy/disconnecting"},{id:2,value:"Having stock",label:"Having stock"},{id:3,value:"Rate issue",label:"Rate issue"},{id:4,value:"Send detail on whatsapp/sms/email",label:"Send detail on whatsapp/sms/email"},{id:5,value:"Not buying from us due to product range",label:"Not buying from us due to product range"},{id:6,value:"Dealing in other brand",label:"Dealing in other brand"},{id:7,value:"Buying a different product from other company",label:"Buying a different product from other company"},{id:8,value:"Size or quantity is unavailabe with us",label:"Size or quantity is unavailabe with us"},{id:9,value:"Transportation cost issue",label:"Transportation cost issue"},{id:10,value:"Required without bill",label:"Required without bill"},{id:11,value:"Call me back",label:"Call me back"},{id:12,value:"Send sample",label:"Send sample"},{id:13,value:"Not a decision maker",label:"Not a decision maker"},{id:14,value:"Require own branding",label:"Require own branding"},{id:15,value:"Small buyer, moved to dealer/distributor",label:"Small buyer, moved to dealer/distributor"},{id:16,value:"Require exclusive distributorship/dealership",label:"Require exclusive distributorship/dealership"},{id:17,value:"Quality issue",label:"Quality issue"},{id:18,value:"Small buyer, no dealer/distributor in that area",label:"Small buyer, no dealer/distributor in that area"},{id:19,value:"Require credit",label:"Require credit"},{id:20,value:"Wrong number",label:"Wrong number"},{id:21,value:"Company shut down",label:"Company shut down"},{id:22,value:"Order taken",label:"Order taken"},{id:23,value:"Stock lot",label:"Stock lot"},{id:24,value:"One time requirement",label:"One time requirement"},{id:25,value:"Drop the lead",label:"Drop the lead"}],rs=Object(n.memo)(function(e){var t=e.followup,r=e.leadsByID,o=e.getLeadByID,i=Object(n.useState)(!1),c=Object(l.a)(i,2),u=c[0],s=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(vt.a,{component:"form",noValidate:!0,sx:{mt:1}},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column",backgroundColor:"#F5F5F5"}},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:.9,align:"left"}),a.a.createElement(vt.a,{flexGrow:2.5,align:"center"},a.a.createElement("h3",{className:"Auth-form-title"},"View Activity")),a.a.createElement(vt.a,{flexGrow:.3,align:"right"}," ",a.a.createElement(yt.a,{variant:"contained",color:"success",onClick:function(){return s(!0)}},"Create Activity"))),t&&t.length>0&&a.a.createElement(vt.a,{sx:{display:"flex",flexDirection:"column",height:260,overflow:"hidden",overflowY:"scroll"}},t&&a.a.createElement(a.a.Fragment,null,t.map(function(e){return a.a.createElement("div",{key:e.id},a.a.createElement(Ar.a,{sx:Object(Wt.a)({},"& .".concat(Ir.a.root),{flex:.2})},a.a.createElement(Fr.a,null,a.a.createElement(Gr.a,{sx:{px:2}},a.a.createElement(E.a,{variant:"h6"},Ur()(e.current_date).format("DD/MM/YYYY h:mm"))),a.a.createElement(Wr.a,null,a.a.createElement(Br.a,null),a.a.createElement(Rr.a,null)),a.a.createElement(zr.a,{sx:{width:"50%",color:"#333"}},a.a.createElement(E.a,{variant:"h6",sx:{fontFamily:"Arial",fontWeight:"bold"}},e.activity," - ",e.user," -",e.next_followup_date&&Ur()(e.next_followup_date).format("DD/MM/YYYY")),a.a.createElement(E.a,{variant:"body1",sx:{fontFamily:"Verdana",fontSize:"16px"}},e.notes)))))}))))),a.a.createElement(ut,{maxWidth:"xl",title:"Create Activity",openPopup:u,setOpenPopup:s},a.a.createElement(es,{leadsByID:r,getLeadByID:o,setOpenPopup:s,getleads:null,currentPage:null,filterQuery:null,filterSelectedQuery:null,searchQuery:null})))});function ns(){ns=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var as=Object(n.memo)(function(e){var t=e.leadsByID,r=e.getLeadByID,o=e.setOpenPopup,i=e.getleads,s=e.currentPage,f=e.filterQuery,p=e.filterSelectedQuery,h=e.searchQuery,d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Ln(),S=L.handleSuccess,k=L.handleError,P=L.handleCloseSnackbar,C=L.alertInfo,D=function(e){var t=e.target,r=t.name,n=t.value;w(Object(u.a)({},E,Object(Wt.a)({},r,n)))};Object(n.useEffect)(function(){N()},[]);var N=function(){var e=Object(c.a)(ns().mark(function e(){var t;return ns().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,un.getAllProduct();case 4:t=e.sent,j(t.data),y(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error potential",e.t0),y(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),T=Object(n.useCallback)(function(){var e=Object(c.a)(ns().mark(function e(n){var a,c,l;return ns().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,y(!0),a={lead:t,product:E.product,current_brand:E.current_brand,current_buying_price:E.current_buying_price,current_buying_quantity:E.current_buying_quantity,target_price:E.target_price,quantity:E.quantity},e.next=6,Nr.createPotentialLead(a);case 6:c=e.sent,y(!1),l=c.data.message||"Potential Created successfully",S(l),setTimeout(function(){o(!1),i&&i(s,f,p,h),r&&r(t)},300),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),k(e.t0);case 16:return e.prev=16,y(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[1,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[E,t,s,f,p,h]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:C.open,onClose:P,severity:C.severity,message:C.message}),a.a.createElement(Pt,{open:v}),a.a.createElement(vt.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"}},a.a.createElement(vt.a,{component:"form",noValidate:!0,sx:{mt:1},onSubmit:function(e){return T(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:24,sm:4},a.a.createElement(yr,{sx:{minWidth:180},size:"small",onChange:function(e,t){return function(e){w(function(t){return Object(u.a)({},t,{product:e})})}(t)},options:_.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e||"No Options")},label:"Product Name"})),a.a.createElement(Et.a,{item:!0,xs:24,sm:4},a.a.createElement(yr,{size:"small",options:[{id:1,label:"3M",value:"3M"},{id:2,label:"Achem - Taiwan",value:"Achem - Taiwan"},{id:3,label:"Aero",value:"Aero"},{id:4,label:"AIPL ABRO",value:"AIPL ABRO"},{id:5,label:"Airot",value:"Airot"},{id:6,label:"Ajit Industries / AIPL / Sunsui",value:"Ajit Industries / AIPL / Sunsui"},{id:7,label:"Amech Wonder",value:"Amech Wonder"},{id:8,label:"Amro Wonder",value:"Amro Wonder"},{id:9,label:"Anchor Electricals",value:"Anchor Electricals"},{id:10,label:"ANNA - Drywall Tape",value:"ANNA - Drywall Tape"},{id:11,label:"Arjun - Spray Paint",value:"Arjun - Spray Paint"},{id:12,label:"ASD - Spray Paint",value:"ASD - Spray Paint"},{id:13,label:"Asian Paints",value:"Asian Paints"},{id:14,label:"Banna - Spray Paints",value:"Banna - Spray Paints"},{id:15,label:"Berger Paints",value:"Berger Paints"},{id:16,label:"Biocon Electricals",value:"Biocon Electricals"},{id:17,label:"Bosny - Spray Paints",value:"Bosny - Spray Paints"},{id:18,label:"Champion - PTFE Tape",value:"Champion - PTFE Tape"},{id:19,label:"Cobb - Spray Paint",value:"Cobb - Spray Paint"},{id:20,label:"Cooper - PTFE Tape",value:"Cooper - PTFE Tape"},{id:21,label:"Cosmos - Spray Paints",value:"Cosmos - Spray Paints"},{id:22,label:"CQL - Spray Paints",value:"CQL - Spray Paints"},{id:23,label:"Craft Dev - Spray Paints",value:"Craft Dev - Spray Paints"},{id:24,label:"Cube - Spray Paints",value:"Cube - Spray Paints"},{id:25,label:"Diamond - PTFE Tape",value:"Diamond - PTFE Tape"},{id:26,label:"Dinmo - Spray Paints",value:"Dinmo - Spray Paints"},{id:27,label:"Dornet - Drywall Tape",value:"Dornet - Drywall Tape"},{id:28,label:"Espark Wonder / Maruti Flex",value:"Espark Wonder / Maruti Flex"},{id:29,label:"Essence Tapes",value:"Essence Tapes"},{id:30,label:"Euro Tapes",value:"Euro Tapes"},{id:31,label:"F1 - Spray Paints",value:"F1 - Spray Paints"},{id:32,label:"G2 - Electricals",value:"G2 - Electricals"},{id:33,label:"GM Electricals",value:"GM Electricals"},{id:34,label:"Gomec Industries / Accent Wonder",value:"Gomec Industries / Accent Wonder"},{id:35,label:"Great White",value:"Great White"},{id:36,label:"Gree / Rajguru Adhesive Tapes",value:"Gree / Rajguru Adhesive Tapes"},{id:37,label:"Gripking Tapes",value:"Gripking Tapes"},{id:38,label:"Gypstar - Drywall Tape",value:"Gypstar - Drywall Tape"},{id:39,label:"Gyptech - Drywall Tape",value:"Gyptech - Drywall Tape"},{id:40,label:"Immortal Tapes",value:"Immortal Tapes"},{id:41,label:"Instabiz / I-Stix",value:"Instabiz / I-Stix"},{id:42,label:"I-tape",value:"I-tape"},{id:43,label:"Kansuee Industries",value:"Kansuee Industries"},{id:44,label:"Keval Industries - Tissue",value:"Keval Industries - Tissue"},{id:45,label:"Kobe - Spray Paint",value:"Kobe - Spray Paint"},{id:46,label:"Kohinoor - PTFE Tape",value:"Kohinoor - PTFE Tape"},{id:47,label:"Kotadia Engineering / SHB",value:"Kotadia Engineering / SHB"},{id:48,label:"k-rock",value:"k-rock"},{id:49,label:"Lohmann Tapes",value:"Lohmann Tapes"},{id:50,label:"Mario Industries",value:"Mario Industries"},{id:51,label:"Mexico Wonder",value:"Mexico Wonder"},{id:52,label:"Mexim Adhesive",value:"Mexim Adhesive"},{id:53,label:"MNM Composites",value:"MNM Composites"},{id:54,label:"Mseal",value:"Mseal"},{id:55,label:"MST - Spray Paint",value:"MST - Spray Paint"},{id:56,label:"Nitto - AFT",value:"Nitto - AFT"},{id:57,label:"Oddy / Atul",value:"Oddy / Atul"},{id:58,label:"One Tape",value:"One Tape"},{id:59,label:"Panamax / THB",value:"Panamax / THB"},{id:60,label:"Pidilite / SteelGrip",value:"Pidilite / SteelGrip"},{id:61,label:"pioneer spray paint",value:"pioneer spray paint"},{id:62,label:"Reva Gold",value:"Reva Gold"},{id:63,label:"Saint Gobain - Gyproc",value:"Saint Gobain - Gyproc"},{id:64,label:"Sampro - Spray Paint",value:"Sampro - Spray Paint"},{id:65,label:"Samraj Polytex - 4S Spray",value:"Samraj Polytex - 4S Spray"},{id:66,label:"Samurai - Spray Paint",value:"Samurai - Spray Paint"},{id:67,label:"Saraswat / AFT",value:"Saraswat / AFT"},{id:68,label:"Selmex Tapes",value:"Selmex Tapes"},{id:69,label:"Signfix / AFT",value:"Signfix / AFT"},{id:70,label:"Specialty Tapes",value:"Specialty Tapes"},{id:71,label:"Sumax",value:"Sumax"},{id:72,label:"Tesa Tapes",value:"Tesa Tapes"},{id:73,label:"Touch Up - Spray Paints",value:"Touch Up - Spray Paints"},{id:74,label:"Twin Tech - Spray Paint",value:"Twin Tech - Spray Paint"},{id:75,label:"UCS - Drywall Tape",value:"UCS - Drywall Tape"},{id:76,label:"USG - Drywall Tape",value:"USG - Drywall Tape"},{id:77,label:"Vardhaman / Tiger Wonder",value:"Vardhaman / Tiger Wonder"},{id:78,label:"Vista -  Spray Paint",value:"Vista -  Spray Paint"},{id:79,label:"VST - Spray Paint",value:"VST - Spray Paint"}],getOptionLabel:function(e){return e.label},onChange:function(e,t){w(Object(u.a)({},E,{current_brand:t.value}))},label:"Current Brand"})),a.a.createElement(Et.a,{item:!0,xs:24,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"current_buying_price",size:"small",label:"Current Buying Price",variant:"outlined",value:E.current_buying_price?E.current_buying_price:"",onChange:D})),a.a.createElement(Et.a,{item:!0,xs:24,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"current_buying_quantity",size:"small",label:"Current Buying Quantity Monthly",variant:"outlined",value:E.current_buying_quantity?E.current_buying_quantity:"",onChange:D})),a.a.createElement(Et.a,{item:!0,xs:24,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"target_price",size:"small",label:"Target Price",variant:"outlined",value:E.target_price?E.target_price:"",onChange:D}))),a.a.createElement(Et.a,{container:!0,justifyContent:"flex-end"},a.a.createElement(yt.a,{type:"submit",variant:"contained"},"Submit")))))}),os=Object(n.memo)(function(e){var t=e.potential,r=e.getLeadByID,o=e.leadsByID,i=Object(n.useState)(!1),c=Object(l.a)(i,2),u=c[0],s=c[1];return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(vt.a,{component:"form",noValidate:!0,sx:{mt:1}},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column",backgroundColor:"#F5F5F5"}},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:.9,align:"left"}),a.a.createElement(vt.a,{flexGrow:2.5,align:"center"},a.a.createElement("h3",{className:"Auth-form-title"},"View Lead Potential")),a.a.createElement(vt.a,{flexGrow:.3,align:"right"},a.a.createElement(yt.a,{variant:"contained",color:"success",onClick:function(){return s(!0)}},"Create Potential"))),t.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{key:t,sx:{marginBottom:"1em",marginTop:"1em"},container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:24,sm:4},"ProductName :"," ",e.product?e.product:""),a.a.createElement(Et.a,{item:!0,xs:24,sm:4},"Current Brand :"," ",e.current_brand?e.current_brand:""),a.a.createElement(Et.a,{item:!0,xs:24,sm:4},"Current Buying Price :"," ",e.current_buying_price?e.current_buying_price:""),a.a.createElement(Et.a,{item:!0,xs:24,sm:4},"Current Buying Quantity :"," ",e.current_buying_quantity),a.a.createElement(Et.a,{item:!0,xs:24,sm:4},"Target Price :"," ",e.target_price?e.target_price:""),a.a.createElement(Et.a,{item:!0,xs:24,sm:4},"Qunatity :"," ",e.quantity?e.quantity:"")),a.a.createElement(v.a,null))}))),a.a.createElement(ut,{maxWidth:"lg",title:"Create Potential",openPopup:u,setOpenPopup:s},a.a.createElement(as,{getLeadByID:r,leadsByID:o,setOpenPopup:s,getleads:null,currentPage:null,filterQuery:null,filterSelectedQuery:null,searchQuery:null})))});function is(){is=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var cs=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getAllleadsData,o=e.leadsByID,i=e.currentPage,s=e.filterQuery,f=e.filterSelectedQuery,p=e.searchQuery,h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],y=d[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],O=Object(n.useState)({estd_year:(new Date).getFullYear().toString()}),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(null),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)(null),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Object(n.useState)([]),F=Object(l.a)(I,2),G=F[0],W=F[1],B=Object(n.useState)([]),R=Object(l.a)(B,2),z=R[0],M=R[1],U=Object(n.useState)([]),Y=Object(l.a)(U,2),q=Y[0],V=Y[1],Q=Ln(),H=Q.handleSuccess,K=Q.handleError,J=Q.handleCloseSnackbar,Z=Q.alertInfo,X=function(e){var t,r=e.target,n=r.name,a=r.value,o=a;("gst_number"!==n&&"pan_number"!==n||(o=a.toUpperCase()),"name"===n)?L(Object(u.a)({},j,(t={},Object(Wt.a)(t,n,o),Object(Wt.a)(t,"purchase_decision_maker",o),t))):L(Object(u.a)({},j,Object(Wt.a)({},n,o)))},$=function(e,t){var r;"hot_lead"===e?L(Object(u.a)({},j,(r={},Object(Wt.a)(r,e,t),Object(Wt.a)(r,"target_date",t?function(){var e=new Date;return new Date(e.setDate(e.getDate()+3)).toISOString().split("T")[0]}():""),r))):L(Object(u.a)({},j,Object(Wt.a)({},e,t)))};Object(n.useEffect)(function(){o&&ne(o)},[]),Object(n.useEffect)(function(){ee(),re(),te()},[]);var ee=function(){var e=Object(c.a)(is().mark(function e(){var t;return is().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,un.getNoDescription();case 3:t=e.sent,V(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(c.a)(is().mark(function e(){var t,r;return is().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,Nr.getAllAssignedUser();case 4:t=e.sent,r=t.data.filter(function(e){return e.groups.some(function(e){return Kr.ALLOWED_ROLES.includes(e)})}),M(r),y(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error",e.t0),y(!1);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(c.a)(is().mark(function e(){var t;return is().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,Vt.getAllPaginateCompetitors("all");case 4:t=e.sent,W(t.data),y(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),y(!1),console.log("Error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(c.a)(is().mark(function e(t){var r;return is().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,Nr.getLeadsById(t);case 4:r=e.sent,C(r.data.followup),A(r.data.potential),L(r.data),y(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),y(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),ae=Object(n.useCallback)(function(){var e=Object(c.a)(is().mark(function e(n){var a,c,l;return is().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),y(!0),a={hot_lead:j.hot_lead,pinned:j.pinned,name:j.name,alternate_contact_name:j.alternate_contact_name,email:j.email,alternate_email:j.alternate_email,contact:j.contact||null,alternate_contact:j.alternate_contact||null,business_type:j.business_type,business_mismatch:j.business_mismatch||"No",interested:j.interested||"Yes",references:j.references,assigned_to:j.assigned_to||null,description:j.description||[],target_date:j.target_date||null,company:j.company||null,gst_number:j.gst_number||null,pan_number:j.pan_number||null,address:j.address,city:j.city,state:j.state,country:j.country,pincode:j.pincode||null,shipping_address:!0===E?j.address:j.shipping_address,shipping_city:!0===E?j.city:j.shipping_city,shipping_state:!0===E?j.state:j.shipping_state,shipping_pincode:!0===E?j.pincode||null:j.shipping_pincode||null,type_of_customer:j.type_of_customer,website:j.website,approx_annual_turnover:j.approx_annual_turnover,industrial_list:"Industrial Customer"===j.type_of_customer?j.industrial_list:null,category:"Distribution Customer"===j.type_of_customer?j.category:null,distribution_type:"Distribution Customer"===j.type_of_customer?j.distribution_type:null,main_distribution:"Distribution Customer"===j.type_of_customer?j.main_distribution:null,estd_year:j.estd_year||null,purchase_decision_maker:j.purchase_decision_maker},e.next=6,Nr.updateLeads(o,a);case 6:c=e.sent,l=c.data.message||"Leads Updated successfully",H(l),setTimeout(function(){t(!1),r(i,s,f,p)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),K(e.t0);case 15:return e.prev=15,y(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[j,i,s,f,p]),oe=function(e){return/^[0-9]{2}[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}[1-9A-Za-z]{1}Z[0-9A-Za-z]{1}$/.test(e)},ie=function(e){return/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/.test(e)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:Z.open,onClose:J,severity:Z.severity,message:Z.message}),a.a.createElement(Pt,{open:m}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return ae(e)},sx:{mt:1}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(ls,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Basic Details"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Cr.a,{control:a.a.createElement(Xu.a,{checked:j.hot_lead||!1,onChange:function(e){return $("hot_lead",e.target.checked)},name:"validity"}),label:"Hot Lead"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Name",variant:"outlined",value:j.name||"",onChange:X})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"alternate_contact_name",size:"small",label:"Alternate Contact Name",variant:"outlined",value:j.alternate_contact_name||"",onChange:X})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"email",size:"small",label:"Email",variant:"outlined",value:j.email||"",onChange:X})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"alternate_email",size:"small",label:"Alternate Email",variant:"outlined",value:j.alternate_email||"",onChange:X})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(or.a,{specialLabel:"Contact",value:j.contact||"",inputStyle:{height:"15px",minWidth:"300px"},country:"in",onChange:function(e){var t=e.startsWith("+")?e:"+"+e;$("contact",t)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(or.a,{specialLabel:"Alternate Contact",value:j.alternate_contact||"",inputStyle:{height:"15px",minWidth:"300px"},country:"in",onChange:function(e){var t=e.startsWith("+")?e:"+"+e;$("alternate_contact",t)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Busniess Type"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Busniess Type",value:j.business_type||"",onChange:function(e,t){return $("business_type",e.target.value)}},Kr.LeadBusinessTypeData.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.label},e.label)})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Lead Exists",variant:"outlined",value:j.lead_exists?j.lead_exists:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Business Mismatch"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Business Mismatch",value:j.business_mismatch||"No",onChange:function(e,t){return $("business_mismatch",e.target.value)}},Kr.businessMismatchsOption.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.label},e.label)})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Interested"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Interested",value:j.interested||"Yes",onChange:function(e,t){return $("interested",e.target.value)}},Kr.interestOption.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.label},e.label)})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"References",variant:"outlined",value:j.references||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{fullWidth:!0,size:"small",id:"grouped-demo",value:j.assigned_to||"",onChange:function(e,t){return $("assigned_to",t)},options:z.map(function(e){return e.email}),getOptionLabel:function(e){return e},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Assigned To"}))}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{size:"small",value:j.description||[],onChange:function(e,t){$("description",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:q.map(function(e){return e.name}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(vr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Description",placeholder:"Description"}))}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"target_date",size:"small",label:"Target Date",variant:"outlined",value:j.target_date||"",onChange:X,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(ls,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Company Details"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"company",size:"small",label:"Company",variant:"outlined",value:j.company||"",onChange:X})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"gst_number",size:"small",label:"Gst Number",variant:"outlined",value:j.gst_number||"",onChange:X,error:j.gst_number&&!oe(j.gst_number),helperText:j.gst_number&&!oe(j.gst_number)&&"Invalid GST Number"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"pan_number",size:"small",label:"Pan Number",variant:"outlined",value:j.pan_number||"",onChange:X,error:j.pan_number&&!ie(j.pan_number),helperText:j.pan_number&&!ie(j.pan_number)&&"Invalid PAN Number"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:j.address||"",onChange:X})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"city",size:"small",label:"City",variant:"outlined",value:j.city||"",onChange:X})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return $("state",t)},name:"state",value:j.state||"",options:Kr.StateOption.map(function(e){return e.label}),getOptionLabel:function(e){return e},label:"State"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"country",size:"small",label:"Country",variant:"outlined",value:j.country||"",onChange:X})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"pincode",size:"small",label:"Pin Code",variant:"outlined",value:j.pincode||"",onChange:X})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(ls,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Shipping Details"})))),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Cr.a,{control:a.a.createElement(Xn.a,{checked:E,onChange:function(e){w(e.target.checked)},inputProps:{"aria-label":"controlled"}}),label:"Same as Billing Address"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"shipping_address",size:"small",label:"Shipping Address",variant:"outlined",value:!0===E?j.address||"":j.shipping_address||"",onChange:X})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"shipping_pincode",size:"small",label:"Pin Code",variant:"outlined",value:!0===E?j.pincode||"":j.shipping_pincode||"",onChange:X})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"shipping_city",size:"small",label:"Shipping City",variant:"outlined",value:!0===E?j.city||"":j.shipping_city||"",onChange:X})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return $("shipping_state",t)},name:"shipping_state",value:E?j.state||"":j.shipping_state||"",options:Kr.StateOption.map(function(e){return e.value}),getOptionLabel:function(e){return e},label:"Shipping State"})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(ls,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"KYC Details"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(a.a.Fragment,null,a.a.createElement(tr.a,null,a.a.createElement(kr.a,{id:"demo-row-radio-buttons-group-label"},"Type of Customer"),a.a.createElement(Pr.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:j.type_of_customer||"",onChange:function(e){return $("type_of_customer",e.target.value)}},a.a.createElement(Cr.a,{value:"Industrial Customer",control:a.a.createElement(Dr.a,null),label:"Industrial Customer"}),a.a.createElement(Cr.a,{value:"Distribution Customer",control:a.a.createElement(Dr.a,null),label:"Distribution Customer"}))))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"website",size:"small",label:"Website",variant:"outlined",value:j.website||"",onChange:X})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"estd_year",size:"small",label:"Established Year",placeholder:"YYYY",value:j.estd_year||"",onChange:X})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"approx_annual_turnover",size:"small",label:"Approx Annual Turnover",variant:"outlined",value:j.approx_annual_turnover||"",onChange:X})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"purchase_decision_maker",size:"small",label:"Purchase Decision Maker",variant:"outlined",value:j.name||""})),"Industrial Customer"===j.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return $("industrial_list",t)},value:j.industrial_list||"",options:Kr.IndustriesList.map(function(e){return e.label}),getOptionLabel:function(e){return e},label:"Industrial List"})),"Distribution Customer"===j.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return $("distribution_type",t)},value:j.distribution_type||"",options:Kr.DistributionTypeOption.map(function(e){return e.label}),getOptionLabel:function(e){return e},label:"Distribution Type"})),"Distribution Customer"===j.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",value:j.category||[],onChange:function(e,t){$("category",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:Kr.CategoryOption.map(function(e){return e.label}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(vr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Category",placeholder:"Category"}))}})),"Distribution Customer"===j.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",value:j.main_distribution||[],onChange:function(e,t){$("main_distribution",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:G.map(function(e){return e.name}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(vr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Main Distribution",placeholder:"Main Distribution"}))}}))),a.a.createElement(yt.a,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:3,mb:2,textAlign:"right"}},"Submit")),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Query Product Name",variant:"outlined",value:j.query_product_name||""})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,size:"small",label:"Query Meassage",variant:"outlined",value:j.query_message||""}))),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(rs,{getLeadByID:ne,followup:P,leadsByID:o}))),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(os,{getLeadByID:ne,potential:T,leadsByID:o}))))}),ls=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})});function us(){us=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ss=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(!1),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(null),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(1),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(0),A=Object(l.a)(T,2),I=A[0],F=A[1],G=new Date,W=new Date(G.getFullYear(),G.getMonth(),1),B=new Date(G.getFullYear(),G.getMonth()+1,0),R=Object(n.useState)("This Month"),z=Object(l.a)(R,2),M=z[0],U=z[1],Y=Object(n.useState)(B),q=Object(l.a)(Y,2),V=q[0],Q=q[1],H=Object(n.useState)(W),K=Object(l.a)(H,2),J=K[0],Z=K[1],X=(new Date).toISOString().split("T")[0],$=new Date("2030-12-31").toISOString().split("T")[0],ee=Object(n.useState)(""),te=Object(l.a)(ee,2),re=te[0],ne=te[1],ae=Object(n.useState)(""),oe=Object(l.a)(ae,2),ie=oe[0],ce=oe[1],le=Object(s.c)(function(e){return e.auth.profile}).sales_users||[],ue=Ln(),se=ue.handleError,fe=ue.handleCloseSnackbar,pe=ue.alertInfo,he=function(){var e=Object(c.a)(us().mark(function e(t){return us().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{o(!0),null!==t.lead&&(k(t.lead),v(!0)),null!==t.company&&(k(t.company),E(!0)),o(!1)}catch(r){console.log("err",r),o(!1)}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){de()},[D,re,ie]);var de=Object(n.useCallback)(Object(c.a)(us().mark(function e(){var t,r,n;return us().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),t=J?J.toISOString().split("T")[0]:"",r=V?V.toISOString().split("T")[0]:"",e.next=6,Nr.getAllFollowUp(t,r,D,re,ie);case 6:n=e.sent,p(n.data.results),F(Math.ceil(n.data.count/25)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),se(e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])})),[D,re,ie]),me=f.map(function(e,t){return{id:e.id,lead:e.leads,name:e.name,company:e.company,company_name:e.company_name,user:e.user,current_date:Ur()(e.current_date?e.current_date:"-").format("DD/MM/YYYY h:mm:ss"),next_followup_date:Ur()(e.next_followup_date?e.next_followup_date:"-").format("DD/MM/YYYY h:mm:ss"),notes:e.notes}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:pe.open,onClose:fe,severity:pe.severity,message:pe.message}),a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},a.a.createElement(yr,{size:"small",sx:{width:300},value:M,onChange:function(e,t){return function(e){var t=e;if(U(t),N(1),"Today"===t){var r=new Date;Q(r),Z(r)}else if("Yesterday"===t){var n=new Date;n.setDate(n.getDate()-1),Q(n),Z(n)}else if("Last 7 Days"===t){var a=new Date,o=new Date;o.setDate(o.getDate()-7),Q(a),Z(o)}else if("Last 30 Days"===t){var i=new Date,c=new Date;c.setDate(c.getDate()-30),Q(i),Z(c)}else if("This Month"===t){var l=new Date,u=new Date(l.getFullYear(),l.getMonth(),1);Q(l),Z(u)}else if("Last Month"===t){var s=new Date;s.setDate(0);var f=new Date(s.getFullYear(),s.getMonth(),1);Q(s),Z(f)}else"Custom Date"===t&&(Z(new Date),Q(new Date),_(!0))}(t)},options:ps.map(function(e){return e.value}),getOptionLabel:function(e){return e},label:"Date"}),a.a.createElement(yr,{size:"small",sx:{width:300},onChange:function(e,t){return ne(t),void N(1)},value:re,options:le.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"}),a.a.createElement(yr,{size:"small",sx:{width:300},onChange:function(e,t){return ce(t),void N(1)},value:ie,options:fs.map(function(e){return e.label}),getOptionLabel:function(e){return e},label:"Filter By Activity"})),a.a.createElement(vt.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"All Followup")),a.a.createElement(Cn,{headers:["ID","LEADS","NAME","COMPANY","COMPANY NAME","USER","CURRENT DATE","NEXT FOLLOWUP DATE","NOTE","ACTION"],data:me,openInPopup:he,openInPopup2:null}),a.a.createElement(Zn,{totalPages:I,currentPage:D,handlePageChange:function(e,t){N(t)}}))),a.a.createElement(ut,{maxWidth:"xl",title:"Update Leads",openPopup:m,setOpenPopup:v},a.a.createElement(cs,{leadsByID:S,setOpenPopup:v,getAllleadsData:de,currentPage:D,filterQuery:re,filterSelectedQuery:ie,searchQuery:null})),a.a.createElement(ut,{maxWidth:"xl",title:"Update customer",openPopup:b,setOpenPopup:E},a.a.createElement(Zr,{setOpenPopup:E,getAllCompanyDetails:de,recordForEdit:S})),a.a.createElement(ut,{openPopup:O,setOpenPopup:_,title:"Date Filter",maxWidth:"md"},a.a.createElement(vt.a,{sx:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",margin:"10px",padding:"20px"}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:5,sm:5,md:5,lg:5},a.a.createElement(Lt,{fullWidth:!0,label:"Start Date",variant:"outlined",size:"small",type:"date",id:"start-date",value:J?J.toISOString().split("T")[0]:"",min:X,max:$,onChange:function(e){try{o(!0);var t=new Date(e.target.value);Z(t),Q(new Date),o(!1)}catch(r){console.log("err",r),o(!1)}}})),a.a.createElement(Et.a,{item:!0,xs:5,sm:5,md:5,lg:5},a.a.createElement(Lt,{fullWidth:!0,label:"End Date",variant:"outlined",size:"small",type:"date",id:"end-date",value:V?V.toISOString().split("T")[0]:"",min:J?J.toISOString().split("T")[0]:X,max:$,onChange:function(e){try{o(!0);var t=new Date(e.target.value);Q(t),o(!1)}catch(r){console.log("err",r),o(!1)}},disabled:!J})),a.a.createElement(Et.a,{item:!0,xs:2,sm:2,md:2,lg:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){Z(new Date),Q(new Date)}},"Reset"))))))},fs=[{id:1,value:"Not answering/busy/disconnecting",label:"Not answering/busy/disconnecting"},{id:2,value:"Having stock",label:"Having stock"},{id:3,value:"Rate issue",label:"Rate issue"},{id:4,value:"Send detail on whatsapp/sms/email",label:"Send detail on whatsapp/sms/email"},{id:5,value:"Not buying from us due to product range",label:"Not buying from us due to product range"},{id:6,value:"Dealing in other brand",label:"Dealing in other brand"},{id:7,value:"Buying a different product from other company",label:"Buying a different product from other company"},{id:8,value:"Size or quantity is unavailabe with us",label:"Size or quantity is unavailabe with us"},{id:9,value:"Transportation cost issue",label:"Transportation cost issue"},{id:10,value:"Required without bill",label:"Required without bill"},{id:11,value:"Call me back",label:"Call me back"},{id:12,value:"Send sample",label:"Send sample"},{id:13,value:"Not a decision maker",label:"Not a decision maker"},{id:14,value:"Require own branding",label:"Require own branding"},{id:15,value:"Small buyer, moved to dealer/distributor",label:"Small buyer, moved to dealer/distributor"},{id:16,value:"Require exclusive distributorship/dealership",label:"Require exclusive distributorship/dealership"},{id:17,value:"Quality issue",label:"Quality issue"},{id:18,value:"Small buyer, no dealer/distributor in that area",label:"Small buyer, no dealer/distributor in that area"},{id:19,value:"Require credit",label:"Require credit"},{id:20,value:"Wrong number",label:"Wrong number"},{id:21,value:"Company shut down",label:"Company shut down"},{id:22,value:"Order taken",label:"Order taken"},{id:23,value:"Stock lot",label:"Stock lot"},{id:24,value:"One time requirement",label:"One time requirement"},{id:25,value:"Drop the lead",label:"Drop the lead"}],ps=[{value:"Today"},{value:"Yesterday"},{value:"Last 7 Days"},{value:"Last 30 Days"},{value:"This Month"},{value:"Last Month"},{value:"Custom Date"}];function hs(){hs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ds=function(e){var t=e.DoneFollowup,r=e.setOpenModal,o=e.getFollowUp,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=function(){var e=Object(c.a)(hs().mark(function e(n){var a;return hs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),f(!0),a={id:t.id,leads:t.leads,current_date:t.current_date,next_followup_date:t.next_followup_date,notes:t.notes,user:t.user,is_followed_up:!0},e.next=6,Nr.DoneLeadFollowup(t.id,a);case 6:console.log("After api"),r(!1),o(),f(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),f(!1),console.log("err creating follwups",e.t0);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:s}),a.a.createElement("div",{className:"my-4"},a.a.createElement("table",{className:"table table-bordered"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"ID :")),a.a.createElement("td",null," ",t?t.id:"")),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"LEADS :")),a.a.createElement("td",null,t?t.leads:"")),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"COMPANY :")),a.a.createElement("td",null,t?t.company:"")),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"NOTES :")),a.a.createElement("td",null,t?t.notes:"")),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"CURRENT DATE :")),a.a.createElement("td",null,Ur()(t?t.current_date:"-").format("DD/MM/YYYY h:mm:ss"))),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"NEXT FOLLOWUP DATE :")),a.a.createElement("td",null," ",Ur()(t?t.next_followup_date:"-").format("DD/MM/YYYY"))),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"USER :")),a.a.createElement("td",null," ",t?t.user:"")))),a.a.createElement("div",{className:"btn btn-success",style:{display:"inline-block",padding:"6px 16px",margin:"10px",fontSize:"0.875rem",minWidth:"64px",fontWeight:500,lineHeight:1.75,borderRadius:"4px",letterSpacing:"0.02857em",textTransform:"uppercase",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2)"},onClick:function(e){return p(e)}},"Accept")))};function ms(){ms=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var vs=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(""),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(!1),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(null),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(!1),A=Object(l.a)(T,2),I=A[0],F=A[1],G=Object(n.useState)(1),W=Object(l.a)(G,2),B=W[0],R=W[1],z=Object(n.useState)(0),M=Object(l.a)(z,2),U=M[0],Y=M[1],q=Object(n.useState)(""),V=Object(l.a)(q,2),Q=V[0],H=V[1],K=Object(s.c)(function(e){return e.auth.profile}),J=K.sales_users||[],Z=Ln(),X=Z.handleError,$=Z.handleCloseSnackbar,ee=Z.alertInfo;Object(n.useEffect)(function(){var e=function(){F(!0),o([])},t=function(){F(!1),te()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]),Object(n.useEffect)(function(){te()},[B,Q]);var te=Object(n.useCallback)(Object(c.a)(ms().mark(function e(){var t;return ms().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Nr.getFollowUp("overdue_followup",B,Q);case 4:t=e.sent,o(t.data.results),Y(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),X(e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[B,Q]),re=function(){var e=Object(c.a)(ms().mark(function e(t){return ms().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{p(!0),"lead"===t.type?(N(t.lead),_(!0)):(N(t.company),k(!0)),p(!1)}catch(r){console.log("err",r),p(!1)}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ne=Array.isArray(r)?r.map(function(e,t){return{type:e.type,lead:e.leads,company:e.company,company_name:e.company_name,name:e.name,user:e.user,current_date:Ur()(e.current_date?e.current_date:"-").format("DD/MM/YYYY h:mm:ss"),next_followup_date:Ur()(e.next_followup_date?e.next_followup_date:"-").format("DD/MM/YYYY h:mm:ss"),notes:e.notes}}):[];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:ee.open,onClose:$,severity:ee.severity,message:ee.message}),a.a.createElement(Pt,{open:f}),a.a.createElement(pa.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(I?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},!K.groups.includes("Sales Executive")&&a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},a.a.createElement(yr,{size:"small",sx:{width:300},onChange:function(e,t){return H(t),void R(1)},value:Q,options:J.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(vt.a,{display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Overdue Followup")),a.a.createElement(Cn,{headers:["TYPE","LEADS","COMPANY","COMPANY NAME","NAME","USER","CURRENT DATE","NEXT FOLLOWUP DATE","NOTE","ACTION"],data:ne,openInPopup:re,openInPopup2:function(e){var t=r.find(function(t){return t.leads===e.lead});v(t),E(!0)},ButtonText:"Done"}),a.a.createElement(Zn,{totalPages:U,currentPage:B,handlePageChange:function(e,t){R(t)}}))),a.a.createElement(ut,{maxWidth:"xl",title:"Update Leads",openPopup:O,setOpenPopup:_},a.a.createElement(cs,{leadsByID:D,setOpenPopup:_,getAllleadsData:te,currentPage:B,filterQuery:null,filterSelectedQuery:Q,searchQuery:null})),a.a.createElement(ut,{maxWidth:"xl",title:"Update customer",openPopup:S,setOpenPopup:k},a.a.createElement(Zr,{setOpenPopup:k,getAllCompanyDetails:te,recordForEdit:D})),a.a.createElement(ut,{maxWidth:"xl",title:"Followup Done",openPopup:b,setOpenPopup:E},a.a.createElement(ds,{DoneFollowup:m,getFollowUp:te,setOpenModal:E})))};function ys(){ys=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var gs=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(""),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(!1),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(0),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(!1),A=Object(l.a)(T,2),I=A[0],F=A[1],G=Object(n.useState)(null),W=Object(l.a)(G,2),B=W[0],R=W[1],z=Object(n.useState)(!1),M=Object(l.a)(z,2),U=M[0],Y=M[1],q=Object(n.useState)(""),V=Object(l.a)(q,2),Q=V[0],H=V[1],K=Object(s.c)(function(e){return e.auth.profile}),J=K.sales_users||[],Z=Ln(),X=Z.handleError,$=Z.handleCloseSnackbar,ee=Z.alertInfo;Object(n.useEffect)(function(){var e=function(){Y(!0),o([])},t=function(){Y(!1),te()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]),Object(n.useEffect)(function(){te()},[S,Q]);var te=Object(n.useCallback)(Object(c.a)(ys().mark(function e(){var t;return ys().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Nr.getFollowUp("upcoming_followup",S,Q);case 4:t=e.sent,o(t.data.results),N(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),X(e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[S,Q]),re=function(){var e=Object(c.a)(ys().mark(function e(t){return ys().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{p(!0),"lead"===t.type?(R(t.lead),_(!0)):(R(t.company),F(!0)),p(!1)}catch(r){console.log("err",r),p(!1)}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ne=r.map(function(e,t){return{type:e.type,lead:e.leads,company:e.company,company_name:e.company_name,name:e.name,user:e.user,current_date:Ur()(e.current_date?e.current_date:"-").format("DD/MM/YYYY h:mm:ss"),next_followup_date:Ur()(e.next_followup_date?e.next_followup_date:"-").format("DD/MM/YYYY h:mm:ss"),notes:e.notes}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:ee.open,onClose:$,severity:ee.severity,message:ee.message}),a.a.createElement(Pt,{open:f}),a.a.createElement(pa.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(U?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},!K.groups.includes("Sales Executive")&&a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},a.a.createElement(yr,{size:"small",sx:{width:300},onChange:function(e,t){return H(t),void k(1)},value:Q,options:J.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(vt.a,{display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Upcoming Followup")),a.a.createElement(Cn,{headers:["TYPE","LEADS","COMPANY","COMPANY NAME","NAME","USER","CURRENT DATE","NEXT FOLLOWUP DATE","NOTE","ACTION"],data:ne,openInPopup:re,openInPopup2:function(e){var t=r.find(function(t){return t.leads===e.lead});v(t),E(!0)},openInPopup4:null,ButtonText:"Done"}),a.a.createElement(Zn,{totalPages:D,currentPage:S,handlePageChange:function(e,t){k(t)}}))),a.a.createElement(ut,{maxWidth:"xl",title:"Update Leads",openPopup:O,setOpenPopup:_},a.a.createElement(cs,{leadsByID:B,setOpenPopup:_,getAllleadsData:te,currentPage:S,filterQuery:null,filterSelectedQuery:Q,searchQuery:null})),a.a.createElement(ut,{maxWidth:"xl",title:"Update customer",openPopup:I,setOpenPopup:F},a.a.createElement(Zr,{setOpenPopup:F,getAllCompanyDetails:te,recordForEdit:B})),a.a.createElement(ut,{maxWidth:"xl",title:"Followup Done",openPopup:b,setOpenPopup:E},a.a.createElement(ds,{DoneFollowup:m,getFollowUp:te,setOpenModal:E})))};function bs(){bs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Es=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(""),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(!1),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(0),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(!1),A=Object(l.a)(T,2),I=A[0],F=A[1],G=Object(n.useState)(null),W=Object(l.a)(G,2),B=W[0],R=W[1],z=Object(n.useState)(!1),M=Object(l.a)(z,2),U=M[0],Y=M[1],q=Object(n.useState)(""),V=Object(l.a)(q,2),Q=V[0],H=V[1],K=Object(s.c)(function(e){return e.auth.profile}),J=K.sales_users||[],Z=Ln(),X=Z.handleError,$=Z.handleCloseSnackbar,ee=Z.alertInfo;Object(n.useEffect)(function(){var e=function(){Y(!0),o([])},t=function(){Y(!1),te()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]),Object(n.useEffect)(function(){te()},[S,Q]);var te=Object(n.useCallback)(Object(c.a)(bs().mark(function e(){var t;return bs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Nr.getFollowUp("today_followup",S,Q);case 4:t=e.sent,o(t.data.results),N(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),X(e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[S,Q]),re=function(){var e=Object(c.a)(bs().mark(function e(t){return bs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{p(!0),"lead"===t.type?(R(t.lead),_(!0)):(R(t.company),F(!0)),p(!1)}catch(r){console.log("err",r),p(!1)}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ne=r.map(function(e,t){return{type:e.type,lead:e.leads,company:e.company,company_name:e.company_name,name:e.name,user:e.user,current_date:Ur()(e.current_date?e.current_date:"-").format("DD/MM/YYYY h:mm:ss"),next_followup_date:Ur()(e.next_followup_date?e.next_followup_date:"-").format("DD/MM/YYYY h:mm:ss"),notes:e.notes}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:ee.open,onClose:$,severity:ee.severity,message:ee.message}),a.a.createElement(Pt,{open:f}),a.a.createElement(pa.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(U?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},!K.groups.includes("Sales Executive")&&a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},a.a.createElement(yr,{size:"small",sx:{width:300},onChange:function(e,t){return H(t),void k(1)},value:Q,options:J.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"})),a.a.createElement(vt.a,{display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Today Followup")),a.a.createElement(Cn,{headers:["TYPE","LEADS","COMPANY","COMPANY NAME","NAME","USER","CURRENT DATE","NEXT FOLLOWUP DATE","NOTE","ACTION"],data:ne,openInPopup:re,openInPopup2:function(e){var t=r.find(function(t){return t.leads===e.lead});v(t),E(!0)},openInPopup4:null,ButtonText:"Done"}),a.a.createElement(Zn,{totalPages:D,currentPage:S,handlePageChange:function(e,t){k(t)}}))),a.a.createElement(ut,{maxWidth:"xl",title:"Update Leads",openPopup:O,setOpenPopup:_},a.a.createElement(cs,{leadsByID:B,setOpenPopup:_,getAllleadsData:te,currentPage:S,filterQuery:null,filterSelectedQuery:Q,searchQuery:null})),a.a.createElement(ut,{maxWidth:"xl",title:"Update customer",openPopup:I,setOpenPopup:F},a.a.createElement(Zr,{setOpenPopup:F,getAllCompanyDetails:te,recordForEdit:B})),a.a.createElement(ut,{maxWidth:"xl",title:"Followup Done",openPopup:b,setOpenPopup:E},a.a.createElement(ds,{DoneFollowup:m,getFollowUp:te,setOpenModal:E})))};function ws(){ws=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var xs=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(0),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)([]),d=Object(l.a)(h,2),m=(d[0],d[1]),v=Object(n.useState)([]),y=Object(l.a)(v,2),g=(y[0],y[1]),b=Object(n.useState)([]),E=Object(l.a)(b,2),w=(E[0],E[1]),x=Object(s.b)(),O=Object(s.c)(function(e){return e.auth}).profile;Object(n.useEffect)(function(){L(),S(),k(),P()},[]);var _,j,L=function(){var e=Object(c.a)(ws().mark(function e(){var t;return ws().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,ea.getAllPaginateSellerAccountData("all");case 4:t=e.sent,x(G(t.data)),o(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o(!1);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(c.a)(ws().mark(function e(){var t;return ws().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,un.getAllProduct();case 4:t=e.sent,w(t.data),o(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error potential",e.t0),o(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(ws().mark(function e(){var t;return ws().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Nr.getAllAssignedUser();case 4:t=e.sent,m(t.data),o(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error",e.t0),o(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(c.a)(ws().mark(function e(){var t;return ws().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,un.getNoDescription();case 3:t=e.sent,g(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),C=(_=["Director","Sales Manager","Sales Deputy Manager"],j=O.groups,_.some(function(e){return j.includes(e)})?[{label:"Overdue Followup"},{label:"Today Followup"},{label:"Upcoming Followup"},{label:"All Followup"}]:[{label:"Overdue Followup"},{label:"Today Followup"},{label:"Upcoming Followup"}]);return a.a.createElement("div",null,a.a.createElement(Pt,{open:r}),a.a.createElement("div",null,a.a.createElement(_n,{tabs:C,activeTab:f,onTabChange:function(e){p(e)}}),a.a.createElement("div",null,0===f&&a.a.createElement("div",null,a.a.createElement(vs,null)),1===f&&a.a.createElement("div",null,a.a.createElement(Es,null)),2===f&&a.a.createElement("div",null,a.a.createElement(gs,null)),3===f&&a.a.createElement("div",null,a.a.createElement(ss,null)))))};function Os(){Os=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var _s=function(e){var t=e.priceData,r=Object(n.useState)(t||[]),o=Object(l.a)(r,2),i=o[0],u=o[1];Object(n.useEffect)(function(){s()});var s=function(){var e=Object(c.a)(Os().mark(function e(){var t;return Os().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ea.getPriceData();case 3:t=e.sent,u(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to fetch price data:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{align:"center"},"Product"),a.a.createElement(Ut.a,{align:"center"},"Unit"),a.a.createElement(Ut.a,{align:"center"},"PI Rate"),a.a.createElement(Ut.a,{align:"center"},"Slab 1 Price"),a.a.createElement(Ut.a,{align:"center"},"Slab 2 Price"),a.a.createElement(Ut.a,{align:"center"},"Slab 3 Price"))),a.a.createElement(Mt.a,null,i.map(function(e,t){return a.a.createElement(Yt.a,{key:t},a.a.createElement(Ut.a,{align:"center"},e.product),a.a.createElement(Ut.a,{align:"center"},e.unit),a.a.createElement(Ut.a,{align:"center"},e.rate),a.a.createElement(Ut.a,{align:"center"},e.slab1_price),a.a.createElement(Ut.a,{align:"center"},e.slab2_price),a.a.createElement(Ut.a,{align:"center"},e.slab3_price))}))))};function js(){js=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ls=function(e){var t=e.idForEdit,r=e.setOpenPopup,o=e.getProformaInvoiceData,i=Object(n.useState)(!1),f=Object(l.a)(i,2),p=f[0],h=f[1],d=Object(n.useState)([]),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(!1),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(""),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)(!1),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useState)(null),B=Object(l.a)(W,2),R=B[0],z=B[1],M=Object(s.c)(function(e){return e.auth}).profile,U=Object(n.useRef)(),Y=Object(Za.useReactToPrint)({content:function(){return U.current},documentTitle:"PI Number ".concat(v.pi_number)}),q=function(){var e=Object(c.a)(js().mark(function e(){var t,r;return js().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,ea.checkPrice(v.pi_number);case 4:t=e.sent,r=Array.isArray(t.data)?t.data:[t.data],z(r),G(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error fetching price data:",e.t0);case 13:return e.prev=13,P(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(js().mark(function e(t){var r,n,o;return js().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),r=new wu.a,e.next=5,Object(xu.g)(a.a.createElement(ku,{productData:E,invoiceData:v,hsnData:_,AMOUNT_IN_WORDS:J,TOTAL_GST:te}),r,{}).toBlob();case 5:n=e.sent,(o=document.createElement("a")).href=URL.createObjectURL(n),o.download="PI Number ".concat(v.pi_number,".pdf"),document.body.appendChild(o),o.click(),document.body.removeChild(o),P(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("error exporting pdf",e.t0);case 18:return e.prev=18,P(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[0,15,18,21]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){Q()},[]);for(var Q=function(){var e=Object(c.a)(js().mark(function e(){var r;return js().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,P(!0),"Customer"!==t.type){e.next=8;break}return e.next=5,ea.getCompanyPerformaInvoiceByIDData(t.pi_number);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,ea.getLeadsPerformaInvoiceByIDData(t.pi_number);case 10:e.t0=e.sent;case 11:r=e.t0,y(r.data),w(r.data.products),j(r.data.hsn_table),P(!1),e.next=21;break;case 18:e.prev=18,e.t1=e.catch(0),P(!1);case 21:case"end":return e.stop()}},e,null,[[0,18]])}));return function(){return e.apply(this,arguments)}}(),H=(v.amount_in_words?v.amount_in_words:"").split(" "),K=0;K<H.length;K++)H[K]=H[K].charAt(0).toUpperCase()+H[K].slice(1);var J=H.join(" "),Z=function(){var e=Object(c.a)(js().mark(function e(n){var a;return js().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,P(!0),a={proformainvoice:t.pi_number,status:"Raised",address:v.address,buyer_order_no:v.buyer_order_no,city:v.city,contact:v.contact,delivery_terms:v.delivery_terms,company:v.company,lead:v.lead,payment_terms:v.payment_terms,pincode:v.pincode,place_of_supply:v.place_of_supply,raised_by:v.raised_by,seller_account:v.seller_account,state:v.state,type:v.type},"Customer"!==v.type){e.next=9;break}return e.next=7,ea.updateCustomerProformaInvoiceData(t.pi_number,a);case 7:e.next=11;break;case 9:return e.next=11,ea.updateLeadsProformaInvoiceData(t.pi_number,a);case 11:r(!1),o(),P(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),P(!1),T(e.t0.response.data.errors.non_field_errors?e.t0.response.data.errors.non_field_errors:e.t0.response.data.errors);case 20:case"end":return e.stop()}},e,null,[[1,16]])}));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(js().mark(function e(n){var a;return js().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,P(!0),a={proformainvoice:t.pi_number,status:"Pending Approval",address:v.address,buyer_order_no:v.buyer_order_no,city:v.city,contact:v.contact,delivery_terms:v.delivery_terms,company:v.company,lead:v.lead,payment_terms:v.payment_terms,pincode:v.pincode,place_of_supply:v.place_of_supply,raised_by:v.raised_by,seller_account:v.seller_account,state:v.state,type:v.type},"Customer"!==v.type){e.next=9;break}return e.next=7,ea.updateCustomerProformaInvoiceData(t.pi_number,a);case 7:e.next=11;break;case 9:return e.next=11,ea.updateLeadsProformaInvoiceData(t.pi_number,a);case 11:r(!1),o(),P(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),P(!1),T(e.t0.response.data.errors.non_field_errors?e.t0.response.data.errors.non_field_errors:e.t0.response.data.errors);case 20:case"end":return e.stop()}},e,null,[[1,16]])}));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(c.a)(js().mark(function e(t){var n;return js().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,P(!0),n={proformainvoice:v.pi_number,approved_by:M.email,status:"Approved"},e.next=6,ea.sendForApprovalData(n);case 6:r(!1),o(),P(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),P(!1),T(e.t0.response.data.errors.non_field_errors?e.t0.response.data.errors.non_field_errors:e.t0.response.data.errors);case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(c.a)(js().mark(function e(t){var n;return js().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,P(!0),n={proformainvoice:v.pi_number,approved_by:M.email,status:"Reject"},e.next=6,ea.sendForApprovalData(n);case 6:r(!1),o(),P(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),P(!1),T(e.t0.response.data.errors.non_field_errors?e.t0.response.data.errors.non_field_errors:e.t0.response.data.errors);case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),te=(v.total-v.amount).toFixed(2);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:k}),a.a.createElement(Sa,{errMsg:N}),a.a.createElement("div",{className:"container-fluid mb-4",style:{border:"1px Solid #000000"}},a.a.createElement("div",{className:"row p-4"},a.a.createElement("div",{className:"col-xs-6 "},v&&v.status&&"Pending Approval"!==v.status&&"Price Approval"!==v.status&&"Raised"!==v.status&&a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(e){return V(e)},startIcon:a.a.createElement(gu.a,null)},"Download"),v&&v.status&&"Pending Approval"!==v.status&&"Price Approval"!==v.status&&"Raised"!==v.status&&a.a.createElement(yt.a,{variant:"contained",color:"secondary",onClick:Y,startIcon:a.a.createElement(Eu.a,null)},"Print")),a.a.createElement("div",{className:"col-xs-6 "},(M.groups.includes("Sales")||M.groups.includes("Director")||M.groups.includes("Customer Service")||M.groups.includes("Accounts"))&&"Raised"===v.status&&a.a.createElement(yt.a,{variant:"contained",color:"success",onClick:function(e){return X(e)}},"Send For Approval")),a.a.createElement("div",{className:"col-xs-6 "},"Pending Approval"===v.status&&!0===M.is_staff&&a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(e){return Z(e)}},"Back To Raised")),a.a.createElement("div",{className:"col-xs-6 "},"Approved"===v.status&&M.groups.includes("Accounts")&&a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(e){return Z(e)}},"Back To Raised")),a.a.createElement("div",{className:"col-xs-6"},!0===M.is_staff&&"Pending Approval"===v.status&&a.a.createElement(yt.a,{variant:"contained",color:"success",onClick:function(e){$(e)}},"Approve")),a.a.createElement("div",{className:"col-xs-6"},(M.groups.includes("Accounts")||M.groups.includes("Director")||M.groups.includes("Accounts Billing Department"))&&"Price Approval"===v.status&&a.a.createElement(yt.a,{variant:"contained",color:"success",onClick:function(e){$(e)}},"Approve"),(M.groups.includes("Accounts")||M.groups.includes("Director")||M.groups.includes("Accounts Billing Department"))&&"Price Approval"===v.status&&a.a.createElement(yt.a,{variant:"contained",color:"error",onClick:function(e){ee(e)}},"Reject"),(M.groups.includes("Accounts")||M.groups.includes("Director"))&&"Price Approval"===v.status&&a.a.createElement(yt.a,{variant:"contained",color:"success",onClick:q},"Check Price")),a.a.createElement("div",{className:"col-xs-6"},"Approved"===v.status&&(M.groups.includes("Accounts")||M.groups.includes("Director")||M.groups.includes("Accounts Billing Department"))&&a.a.createElement(yt.a,{variant:"contained",color:"success",onClick:function(){return h(!0)}},"Confirmation Payment")))),a.a.createElement("div",{id:"invoice",style:{border:"1px Solid #000000"},className:"container-fluid m-0 p-2",ref:U},a.a.createElement("div",{className:"m-2 p-0",style:{border:"1px Solid #000000"}},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-xs-12"},a.a.createElement("div",{className:"grid invoice",style:{padding:"10px"}},a.a.createElement("div",{className:"grid-body"},a.a.createElement("div",{className:"invoice-title"},a.a.createElement("div",{className:"row",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("div",{className:"col-md-2 align-self-center logos"},a.a.createElement("img",{src:$a.a,alt:"",Height:"60",width:"150"})),a.a.createElement("div",{className:"col-md-7",style:{marginRight:"1rem"}},a.a.createElement("div",{className:"text-center address"},a.a.createElement("strong",{style:Object(u.a)({},ks)},"Glutape India Private Limited"),a.a.createElement("br",null),a.a.createElement("p",{style:{fontSize:"0.50rem"}},v.seller_address,",",v.seller_city,",",v.seller_state,"-",v.seller_state_code,",",a.a.createElement("br",null),v.seller_pincode,", CIN No ;-",v.seller_cin,", P.No :- ",a.a.createElement("br",null),v.seller_contact," E:",v.seller_email,",W:www.glutape.com"))),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-end msme"},a.a.createElement("img",{src:oo.a,alt:"",height:"50",width:"90"})),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-start iso"},a.a.createElement("img",{src:Su.a,alt:"",height:"35",width:"90"}))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("p",{className:"text-center fs-6 fw-bold p-0 m-0"},"Proforma Tax Invoice"))),a.a.createElement("div",{className:"row",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("div",{className:"col-md-6",style:Object(u.a)({},ks)},a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Proforma Invoice No & Date :"," ")," ",v.pi_number," &"," ",v.generation_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Sales Person :"," ")," ",v.raised_by_first_name,"\xa0\xa0",v.raised_by_last_name),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Valid Until :"," ")," ",v.validity)),a.a.createElement("div",{className:"col-md-6",style:Object(u.a)({},ks,{borderLeft:"1px Solid #000000"})},a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Place of Supply :"," "),v.place_of_supply),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Transporter Name :"," "),v.transporter_name),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Buyer Order No & Date :"," "),v.buyer_order_no," &"," ",v.buyer_order_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Amount Receive :"," "),v.amount_recieved),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Payment Terms :"," ")," ",v.payment_terms),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Delivery Terms :"," ")," ",v.delivery_terms)))),a.a.createElement("div",{className:"row",style:Object(u.a)({},ks,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-6"},a.a.createElement("address",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Billed To:"),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Company :"," "),v.company_name,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Address :"," "),v.billing_address,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"City & State:"," "),v.billing_city," &"," ",v.billing_state,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Pin Code :"," "),v.billing_pincode),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Gst Number :"," "),v.gst_number),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Pan Number :"," "),v.pan_number),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Contact :"," "),v.contact),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Contact Person Name:"," "),v.contact_person_name))),a.a.createElement("div",{className:"col-md-6 justify-content-end",style:{borderLeft:"1px Solid #000000"}},a.a.createElement("address",{className:"justify-content-end"},a.a.createElement("strong",{style:Object(u.a)({},ks)},"Shipped To:"),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Company :"," "),v.company_name,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Address :"," "),v.address),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"City & State:"," "),v.city," & ",v.state,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Pin Code :"," "),v.pincode),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Gst Number :"," "),v.gst_number),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Pan Number :"," "),v.pan_number),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Contact :"," "),v.contact),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Contact Person Name:"," "),v.contact_person_name)))),a.a.createElement("div",{className:"row",style:Object(u.a)({},ks,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-12"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",{className:"line"},a.a.createElement("td",{className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},ks)},"SR.NO")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},ks)},"DESCRIPTION OF GOODS")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},ks)},"BRAND")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},ks)},"HSN CODE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},ks)},"REQUESTED DATE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},ks)},"QTY")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},ks)},"UNIT")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},ks)},"RATE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},ks)},"AMOUNT")))),a.a.createElement("tbody",null,E.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",{className:"text-start"},t+1),a.a.createElement("td",{className:"text-center"},e.description,a.a.createElement("br",null),e.product),a.a.createElement("td",{className:"text-center"},e.brand),a.a.createElement("td",{className:"text-center"},e.hsn_code),a.a.createElement("td",{className:"text-center"},e.requested_date),a.a.createElement("td",{className:"text-center"},e.quantity),a.a.createElement("td",{className:"text-center"},e.unit),a.a.createElement("td",{className:"text-center"},e.rate),a.a.createElement("td",{className:"text-center"},e.amount))}),a.a.createElement("tr",null,a.a.createElement("td",{colspan:"4.5",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},ks)},"Company Bank Details :"," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Company Name :"," "),"Glutape India Pvt Ltd"),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Bank :"," "),v.seller_bank_name," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Account No :"," "),v.seller_account_no," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Branch & IFSC Code :"," "),v.seller_branch," &"," ",v.seller_ifsc_code," "),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Gst Number :"," "),v.seller_gst),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},ks)},"Pan Number :"," "),v.seller_pan)),a.a.createElement("td",{colspan:"3"},a.a.createElement("strong",{style:Object(u.a)({},ks)},"Taxable Amount"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ks)},"CGST Amount")," ",a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ks)},"SGST Amount")," ",a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ks)},"IGST Amount"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ks)},"Round Off"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ks)},"Total Amount")),a.a.createElement("td",{colspan:"0.5",className:"text-right"},a.a.createElement("span",null,v.amount),a.a.createElement("br",null),a.a.createElement("span",null,v.cgst?v.cgst:"-"),a.a.createElement("br",null),a.a.createElement("span",null,v.sgst?v.sgst:"-"),a.a.createElement("br",null),a.a.createElement("span",null,v.igst?v.igst:"-"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ks)},v.round_off),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ks)},v.round_off_total))))))),a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},ks,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-8 text-right"},a.a.createElement("strong",null,"Amount in Words :-"),"\xa0\xa0",J)),a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},ks,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-8 text-right table-responsive"},a.a.createElement("table",{className:"table table-bordered"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"HSN"),a.a.createElement("th",null,"TAXABLE AMOUNT"),a.a.createElement("th",null,"CGST"),a.a.createElement("th",null,"SGST"),a.a.createElement("th",null,"IGST"),a.a.createElement("th",null,"GST %"),a.a.createElement("th",null,"TOTAL GST"))),a.a.createElement("tbody",null,_.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,e.hsn_code),a.a.createElement("td",null,e.amount),a.a.createElement("td",null,e.cgst),a.a.createElement("td",null,e.sgst),a.a.createElement("td",null,e.igst),a.a.createElement("td",null,e.gst_percentage),a.a.createElement("td",null,e.total_gst))}),a.a.createElement("tr",null,a.a.createElement("td",{colspan:"1",className:"text-end"},a.a.createElement("strong",{style:Object(u.a)({},ks)},"Total :")),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},ks)},v.amount)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},ks)},v.cgst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},ks)},v.sgst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},ks)},v.igst)),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},ks)})),a.a.createElement("td",{colspan:"1",className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},ks)},te))))))),a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},ks,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-8 text-right"},a.a.createElement("strong",{style:Object(u.a)({},ks)},"Terms and Condition :-"),Ss.map(function(e,t){return a.a.createElement("p",{key:t,style:{margin:0,padding:0,fontSize:"0.50rem"}},e.id,e.text,a.a.createElement("br",null))})),a.a.createElement("div",{className:"col-md-4 d-flex align-items-end justify-content-center"},a.a.createElement("div",{className:"text-center"},v.approval?v.approval.approve_name:"",a.a.createElement("br",null),v.approval?v.approval.approval_date:"",a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ks)},"Authorising Signatory"),a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},ks)},"[Digitally Signed]")))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12 "},a.a.createElement("img",{src:no.a,alt:"",height:"60",width:"100%"})))))))),a.a.createElement("div",{style:{display:"flex",justifyContent:"center",textAlign:"center"}},"This is computer generated Proforma Invoice")),a.a.createElement(ut,{maxWidth:"md",title:"Customer Confirmation of payment detail",openPopup:p,setOpenPopup:h},a.a.createElement(_u,{users:M,invoiceData:v,setOpenPopup:h,setOpenPopup2:r,getProformaInvoiceData:o})),a.a.createElement(ut,{maxWidth:"lg",openPopup:F,setOpenPopup:G,title:"Price Information"},a.a.createElement(_s,{priceData:R})))},Ss=[{id:"1)",text:"Material once sold will not be taken back."},{id:"2)",text:"Material is delivered at owner's risk and with no liability of transportation damage to Glutape India Pvt Ltd. "},{id:"3)",text:"Our risk and Responsibility ceases as soon as the goods leave our premises."},{id:"4)",text:"In case the cargo is insured, a claim against insurance will be settled once the insurance claim gets sanctioned from the respective insurance company"},{id:"5)",text:"Please test Material before using."},{id:"6)",text:"No allowance for storage of difference in quality will be allowed unless the same is given to us within 24 hour of receipt insurance company."},{id:"7)",text:"Subjects to mumbai, Maharashtra jurisdiction only."},{id:"8)",text:"Validity of this Proforma Invoice is 3 Days from Date of Proforma Invoice."}],ks={fontSize:"0.80rem"};function Ps(){Ps=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Cs=function(e){var t=e.idForEdit,r=e.getProformaInvoiceData,o=e.setOpenPopup,i=Object(n.useState)(!1),f=Object(l.a)(i,2),p=f[0],h=f[1],d=Object(n.useState)(""),m=Object(l.a)(d,2),y=m[0],g=m[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],O=E[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)([]),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)([]),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Object(n.useState)([]),G=Object(l.a)(F,2),W=G[0],B=G[1],R=Object(n.useState)(""),z=Object(l.a)(R,2),M=z[0],U=z[1],Y=Object(n.useState)([]),q=Object(l.a)(Y,2),V=q[0],Q=q[1],H=Object(n.useState)(""===w.buyer_order_no),K=Object(l.a)(H,2),J=K[0],Z=K[1],X=Object(n.useState)(!1),$=Object(l.a)(X,2),ee=$[0],te=$[1],re=Object(n.useState)([]),ne=Object(l.a)(re,2),ae=ne[0],oe=ne[1],ie=Object(n.useState)([]),ce=Object(l.a)(ie,2),le=ce[0],ue=ce[1],se=Object(n.useState)([]),fe=Object(l.a)(se,2),pe=fe[0],he=fe[1],de=Object(n.useState)([]),me=Object(l.a)(de,2),ve=me[0],ye=me[1],ge=Object(n.useState)([{product:"",quantity:"",rate:"",requested_date:Is.someDate,special_instructions:""}]),be=Object(l.a)(ge,2),Ee=be[0],we=be[1],xe=Object(s.c)(function(e){return e.auth}),Oe=xe.profile,_e=xe.sellerAccount,je=function(e,t){var r=Object(ln.a)(Ee);r[e][t.target.name?t.target.name:"product"]=t.target.value?t.target.value:t.target.textContent,we(r),te(!0)},Le=function(){var e={product:"",quantity:"",rate:"",requested_date:Is.someDate,special_instructions:""};we([].concat(Object(ln.a)(Ee),[e]))};Object(n.useEffect)(function(){Se(),ke()},[]);var Se=function(){var e=Object(c.a)(Ps().mark(function e(){var t;return Ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,un.getAllValidPriceList("all");case 4:t=e.sent,S(t.data),h(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error potential",e.t0),h(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(c.a)(Ps().mark(function e(r){var n,a;return Ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,ea.getCustomerProformaInvoiceDataByID(t.pi_number);case 4:n=e.sent,O(n.data),I(n.data.payment_terms),B(n.data.delivery_terms),[],a=n.data.products.map(function(e){return{product:e.product,pending_quantity:e.pending_quantity,requested_date:e.requested_date,special_instructions:e.special_instructions,quantity:e.quantity,rate:e.rate,amount:e.amount,unit:e.unit}}),we(a),Pe(n.data.company),h(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),h(!1),console.log("err",e.t0);case 19:case"end":return e.stop()}},e,null,[[0,15]])}));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(c.a)(Ps().mark(function e(t){var r,n,a,o,i,c;return Ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),r=t,e.t0=Promise,e.next=6,Vt.getCompanyDataById(r);case 6:return e.t1=e.sent,e.t2=Vt.getCompanyDataByIdWithType(r,"contacts"),e.t3=Vt.getCompanyDataByIdWithType(r,"warehouse"),e.t4=[e.t1,e.t2,e.t3],e.next=12,e.t0.all.call(e.t0,e.t4);case 12:n=e.sent,a=Object(l.a)(n,3),o=a[0],i=a[1],c=a[2],Q(o.data),he(i.data.contacts),oe(c.data.warehouse),h(!1),e.next=27;break;case 23:e.prev=23,e.t5=e.catch(0),h(!1),console.log("company data by id error",e.t5);case 27:case"end":return e.stop()}},e,null,[[0,23]])}));return function(t){return e.apply(this,arguments)}}(),Ce=function(e){var t=e.target,r=t.name,n=t.value;D(Object(u.a)({},C,Object(Wt.a)({},r,n)))},De=function(){var e=Object(c.a)(Ps().mark(function e(t){var n,a,i;return Ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),h(!0),a=!0===ee?Ee:[],n={type:"Customer",raised_by:Oe.email,raised_by_first_name:Oe.first_name,raised_by_last_name:Oe.last_name,seller_account:M.unit?M.unit:w.seller_account,seller_address:M.address?M.address:w.seller_address,seller_pincode:M.pincode?M.pincode:w.seller_pincode,seller_state:M.state?M.state:w.seller_state,seller_city:M.city?M.city:w.seller_city,seller_gst:M.gst_number?M.gst_number:w.seller_gst,seller_pan:M.pan_number?M.pan_number:w.seller_pan,seller_state_code:M.state_code?M.state_code:w.seller_state_code,seller_cin:M.cin_number?M.cin_number:w.seller_cin,seller_email:M.email?M.email:w.seller_email,seller_contact:M.contact?M.contact:w.seller_contact,seller_bank_name:M.bank_name?M.bank_name:w.seller_bank_name,seller_account_no:M.current_account_no?M.current_account_no:w.seller_account_no,seller_ifsc_code:M.ifsc_code?M.ifsc_code:w.seller_ifsc_code,seller_branch:M.branch?M.branch:w.seller_branch,company:V.id,company_name:w.company_name?w.company_name:V.name,contact:ve.contact,contact_person_name:ve.name,alternate_contact:ve.alternate_contact},Object(Wt.a)(n,"company_name",V.name),Object(Wt.a)(n,"gst_number",V.gst_number||null),Object(Wt.a)(n,"pan_number",V.pan_number),Object(Wt.a)(n,"billing_address",V.address),Object(Wt.a)(n,"billing_state",V.state),Object(Wt.a)(n,"billing_city",V.city),Object(Wt.a)(n,"billing_pincode",V.pincode),Object(Wt.a)(n,"address",le.address),Object(Wt.a)(n,"pincode",le.pincode),Object(Wt.a)(n,"state",le.state),Object(Wt.a)(n,"city",le.city),Object(Wt.a)(n,"place_of_supply",C.place_of_supply||w.place_of_supply),Object(Wt.a)(n,"transporter_name",C.transporter_name||w.transporter_name),Object(Wt.a)(n,"buyer_order_no",J?"Verbal":void 0!==C.buyer_order_no?C.buyer_order_no:void 0!==w.buyer_order_no?w.buyer_order_no:""),Object(Wt.a)(n,"buyer_order_date",C.buyer_order_date||w.buyer_order_date||Is.someDate),Object(Wt.a)(n,"payment_terms",A),Object(Wt.a)(n,"delivery_terms",W),Object(Wt.a)(n,"status","Raised"),Object(Wt.a)(n,"products",a),i=n,e.next=7,ea.updateCustomerProformaInvoiceData(w.pi_number,i);case 7:o(!1),r(),h(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),400===e.t0.response.status&&g({address:e.t0.response.data.errors.address||"",buyer_order_no:e.t0.response.data.errors.buyer_order_no||"",city:e.t0.response.data.errors.city||"",contact:e.t0.response.data.errors.contact||"",pincode:e.t0.response.data.errors.pincode||"",state:e.t0.response.data.errors.state||"",validationPrice:e.t0.response.data.errors.non_field_errors||e.t0.response.data.errors});case 15:return e.prev=15,h(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:p}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return De(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Seller Account",variant:"outlined",value:w.seller_account?w.seller_account:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yr,{name:"seller_account",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return U(t)},options:_e,getOptionLabel:function(e){return e.unit},sx:{minWidth:200},label:"Update Seller Account",value:M,style:As})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"payment_terms",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return I(t)},options:Ds.map(function(e){return e.label}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Payment Terms",value:A,style:As})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"delivery_terms",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return B(t)},options:Ns.map(function(e){return e.label}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Delivery Terms",value:W,style:As})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Ts,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"COMPANY"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,size:"small",label:"Company",variant:"outlined",value:V.name?V.name:"",error:Boolean(y.company),helperText:y.company?y.company[0]:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(tr.a,{required:!0,fullWidth:!0,size:"small",sx:{padding:"0",margin:"0"},error:Boolean(y.contact)&&!le.contact},a.a.createElement(rr.a,{id:"demo-simple-select-required-label"},"Contact Name"),a.a.createElement(nr.a,{labelId:"demo-simple-select-required-label",id:"demo-simple-select-required",label:"Contact Name",onChange:function(e,t){return ye(e.target.value)}},pe&&pe.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e},e?e.name:"Please First Select Company")})),Boolean(y.contact)&&!le.contact&&a.a.createElement($n.a,null,y.contact),!Boolean(y.contact)&&!le.contact&&a.a.createElement(Fs,null,"first select Company Name"))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,name:"alternate_contact",size:"small",label:"Alt. Contact",variant:"outlined",value:ve&&ve.alternate_contact?ve.alternate_contact:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,required:!0,name:"address",size:"small",label:"Billing Address",variant:"outlined",value:V.address?V.address:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"city",size:"small",label:"Billing City",variant:"outlined",value:V.city?V.city:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"state",size:"small",label:"Billing State",variant:"outlined",value:V.state?V.state:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"pincode",size:"small",type:"number",label:"Billing Pin Code",variant:"outlined",value:V.pincode?V.pincode:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(tr.a,{fullWidth:!0,size:"small",error:Boolean(y.address)&&!le.address},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Shipping Address"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Shipping Address",onChange:function(e,t){return ue(e.target.value)}},ae&&ae.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e},e?e.address:"Please First Select Contact")})),Boolean(y.address)&&!le.address&&a.a.createElement($n.a,null,y.address))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,disabled:!0,name:"city",size:"small",label:"Shipping City",variant:"outlined",value:le&&le.city?le.city:"",error:Boolean(y.city)&&!le.city,helperText:Boolean(y.city)&&!le.city?y.city[0]:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,disabled:!0,name:"state",size:"small",label:"Shipping State",variant:"outlined",value:le&&le.state?le.state:"",error:Boolean(y.state)&&!le.state,helperText:Boolean(y.state)&&!le.state?y.state[0]:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,disabled:!0,name:"pincode",size:"small",type:"number",label:"Shipping Pin Code",variant:"outlined",value:le&&le.pincode?le.pincode:"",error:Boolean(y.pincode)&&!le.pincode,helperText:Boolean(y.pincode)&&!le.pincode?y.pincode[0]:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Cr.a,{label:"Verbal",control:a.a.createElement(Xn.a,{checked:J,onChange:function(e){return Z(e.target.checked)}})}),a.a.createElement(Lt,{required:!0,name:"buyer_order_no",size:"small",label:"Buyer Order No",variant:"outlined",disabled:J,value:J?"Verbal":void 0!==C.buyer_order_no?C.buyer_order_no:void 0!==w.buyer_order_no?w.buyer_order_no:"",error:Boolean(y.buyer_order_no),helperText:y.buyer_order_no?y.buyer_order_no[0]:"",onChange:Ce,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"buyer_order_date",size:"small",label:"Buyer Order Date",variant:"outlined",value:C.buyer_order_date||w.buyer_order_date||Is.someDate,onChange:Ce,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"place_of_supply",size:"small",label:"Place of Supply",variant:"outlined",value:C.place_of_supply||w.place_of_supply,InputLabelProps:{shrink:!0},onChange:Ce})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"transporter_name",size:"small",label:"Transporter Name",variant:"outlined",value:C.transporter_name||w.transporter_name,InputLabelProps:{shrink:!0},onChange:Ce})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Ts,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),a.a.createElement(Sa,{errMsg:y.validationPrice}),Ee.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,r){return function(e,t,r){var n=Object(ln.a)(Ee),a=L.find(function(e){return e.product===r});n[e].product=r,n[e].unit=a?a.unit:"",we(n),te(!0)}(t,0,r)},options:L.map(function(e){return e.product}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name",value:e.product,style:As})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity?e.quantity:"",onChange:function(e){return je(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit?e.unit:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{type:"number",fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate?e.rate:"",onChange:function(e){return je(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,type:"number",name:"amount",size:"small",label:"Amount",variant:"outlined",value:e.quantity?(e.quantity*e.rate).toFixed(2):""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"requested_date",size:"small",label:"Request Date",variant:"outlined",value:e.requested_date?e.requested_date:Is.someDate,onChange:function(e){return je(t,e)},InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"special_instructions",size:"small",label:"Special Instructions",variant:"outlined",value:e.special_instructions?e.special_instructions:"",onChange:function(e){return je(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(yt.a,{onClick:Le,variant:"contained",sx:{marginRight:"1em"}},"Add More..."),0!==t&&a.a.createElement(yt.a,{disabled:0===t,onClick:function(){return function(e){var t=Object(ln.a)(Ee);t.splice(e,1),we(t),te(!0)}(t)},variant:"contained"},"Remove")))})),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},Ds=[{label:"100% Advance",value:"100%_advance"},{label:"50% Advance, Balance Before Dispatch",value:"50%_advance_balance_before_dispatch"},{label:"30% Advance, Balance Before Dispatch",value:"30%_advance_balance_before_dispatch"},{label:"15 days along with PDC",value:"15_days_with_pdc"},{label:"30 days along with PDC",value:"30_days_with_pdc"},{label:"45 days along with PDC",value:"45_days_with_pdc"},{label:"60 days along with PDC",value:"60_days_with_pdc"},{label:"7 days",value:"7_days"},{label:"15 days",value:"15_days"},{label:"30 days",value:"30_days"},{label:"10% Advance, balance against shipping document (export)",value:"10%_advance_balance_against_shipping_document_(export)"},{label:"20% Advance, balance against shipping document (export)",value:"20%_advance_balance_against_shipping_document_(export)"},{label:"30% Advance, balance against shipping document (export)",value:"30%_advance_balance_against_shipping_document_(export)"},{label:"40% Advance, balance against shipping document (export)",value:"40%_advance_balance_against_shipping_document_(export)"},{label:"50% Advance, balance against shipping document (export)",value:"50%_advance_balance_against_shipping_document_(export)"},{label:"LC at Sight (Export)",value:"lc_at_sight_(export)"},{label:"LC 45 days (Export)",value:"lc_45_days_(export)"},{label:"TT in advance (Export)",value:"tt_in_advance_(export)"},{label:"45 days",value:"45_days"},{label:"60 days",value:"60_days"},{label:"Against Delivery",value:"against_delivery"}],Ns=[{label:"Ex-Work (Freight to pay)",value:"ex_work_(freight_to_pay)"},{label:"Transporter Warehouse (Freight to Pay)",value:"transporter_warehouse_(freight_to_pay)"},{label:"Customer Door Delivery (Freight to Pay)",value:"customer_door_delivery_(freight_to_pay)"},{label:"Customer Door Delivery (Prepaid)",value:"customer_door_delivery_(prepaid)"},{label:"Transporter Warehouse (Prepaid)",value:"transporter_warehouse_(prepaid)"},{label:"Add actual freight in invoice",value:"add_actual_freight_in_invoice"},{label:"Courier (Freight to Pay)",value:"courier_(freight_to_pay)"},{label:"Courier (Freight Add in Invoice)",value:"courier_(freight_add_in_invoice"}],Ts=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),As={"& .MuiButtonBase-root.MuiAutocomplete-clearIndicator":{color:"blue",visibility:"visible"}},Is={someDate:(new Date).toISOString().substring(0,10)},Fs=Object(L.a)($n.a)(function(){return{padding:"0px"}});function Gs(){Gs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ws=function(e){var t=e.idForEdit,r=e.getAllLeadsPIDetails,o=e.setOpenPopup,i=Object(n.useState)(!1),f=Object(l.a)(i,2),p=f[0],h=f[1],d=Object(n.useState)(""),m=Object(l.a)(d,2),y=m[0],g=m[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)([]),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Object(n.useState)([]),F=Object(l.a)(I,2),G=F[0],W=F[1],B=Object(n.useState)(""),R=Object(l.a)(B,2),z=R[0],M=R[1],U=Object(n.useState)([]),Y=Object(l.a)(U,2),q=Y[0],V=Y[1],Q=Object(n.useState)(""===w.buyer_order_no),H=Object(l.a)(Q,2),K=H[0],J=H[1],Z=Object(n.useState)(!1),X=Object(l.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)([{product:"",unit:"",quantity:"",rate:"",requested_date:Us.someDate,special_instructions:""}]),re=Object(l.a)(te,2),ne=re[0],ae=re[1],oe=Object(s.c)(function(e){return e.auth}),ie=oe.profile,ce=oe.sellerAccount,le=function(e,t){var r=Object(ln.a)(ne);r[e][t.target.name?t.target.name:"product"]=t.target.value?t.target.value:t.target.textContent,ae(r),ee(!0)},ue=function(){var e={product:"",unit:"",quantity:"",rate:"",requested_date:Us.someDate,special_instructions:""};ae([].concat(Object(ln.a)(ne),[e]))};Object(n.useEffect)(function(){se()},[]);var se=function(){var e=Object(c.a)(Gs().mark(function e(){var t;return Gs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,un.getAllValidPriceList("all");case 4:t=e.sent,L(t.data),h(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error potential",e.t0),h(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){fe()},[]);var fe=function(){var e=Object(c.a)(Gs().mark(function e(r){var n,a;return Gs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,ea.getLeadsProformaInvoiceDataByID(t.pi_number);case 4:n=e.sent,x(n.data),A(n.data.payment_terms),W(n.data.delivery_terms),pe(n.data.lead),[],a=n.data.products.map(function(e){return{product:e.product,pending_quantity:e.pending_quantity,requested_date:e.requested_date,special_instructions:e.special_instructions,quantity:e.quantity,rate:e.rate,amount:e.amount,unit:e.unit}}),ae(a),h(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),h(!1),console.log("err",e.t0);case 19:case"end":return e.stop()}},e,null,[[0,15]])}));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(c.a)(Gs().mark(function e(t){var r,n;return Gs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),r=t,e.next=5,Nr.getLeadsById(r);case 5:n=e.sent,V(n.data),h(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error",e.t0),h(!1);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),he=function(e){var t=e.target,r=t.name,n=t.value;C(Object(u.a)({},P,Object(Wt.a)({},r,n)))},de=function(){var e=Object(c.a)(Gs().mark(function e(t){var n,a;return Gs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),h(!0),n=!0===$?ne:[],a={type:"Lead",raised_by:ie.email,raised_by_first_name:w.raised_by_first_name,raised_by_last_name:w.raised_by_last_name,seller_account:z.unit?z.unit:w.seller_account,seller_address:z.address?z.address:w.seller_address,seller_pincode:z.pincode?z.pincode:w.seller_pincode,seller_state:z.state?z.state:w.seller_state,seller_city:z.city?z.city:w.seller_city,seller_gst:z.gst_number?z.gst_number:w.seller_gst,seller_pan:z.pan_number?z.pan_number:w.seller_pan,seller_state_code:z.state_code?z.state_code:w.seller_state_code,seller_cin:z.cin_number?z.cin_number:w.seller_cin,seller_email:z.email?z.email:w.seller_email,seller_contact:z.contact?z.contact:w.seller_contact,seller_bank_name:z.bank_name?z.bank_name:w.seller_bank_name,seller_account_no:z.current_account_no?z.current_account_no:w.seller_account_no,seller_ifsc_code:z.ifsc_code?z.ifsc_code:w.seller_ifsc_code,seller_branch:z.branch?z.branch:w.seller_branch,lead:q.lead_id,contact_person_name:q.name,contact:q.contact,alternate_contact:q.alternate_contact,company_name:w.company_name?w.company_name:q.company,gst_number:q.gst_number||null,pan_number:q.pan_number,billing_address:q.address,billing_state:q.state,billing_city:q.city,billing_pincode:q.pincode,address:q.shipping_address,pincode:q.shipping_pincode,state:q.shipping_state,city:q.shipping_city,place_of_supply:P.place_of_supply||w.place_of_supply,transporter_name:P.transporter_name||w.transporter_name,buyer_order_no:K?"Verbal":void 0!==P.buyer_order_no?P.buyer_order_no:void 0!==w.buyer_order_no?w.buyer_order_no:"",buyer_order_date:P.buyer_order_date||w.buyer_order_date||Us.someDate,payment_terms:T,delivery_terms:G,status:"Raised",products:n},e.next=7,ea.updateLeadsProformaInvoiceData(w.pi_number,a);case 7:o(!1),r(),h(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),400===e.t0.response.status&&g({place_of_supply:e.t0.response.data.errors.place_of_supply||"",buyer_order_no:e.t0.response.data.errors.buyer_order_no||"",transporter_name:e.t0.response.data.errors.transporter_name||"",validationPrice:e.t0.response.data.errors.non_field_errors||e.t0.response.data.errors});case 15:return e.prev=15,h(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:p}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return de(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Seller Account",variant:"outlined",value:w.seller_account?w.seller_account:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yr,{name:"seller_account",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return M(t)},options:ce,getOptionLabel:function(e){return e.unit},sx:{minWidth:200},label:"Update Seller Account",style:Ms})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"payment_terms",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return A(t)},value:T||"",options:Bs.map(function(e){return e.label}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Payment Terms",style:Ms})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"delivery_terms",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return W(t)},value:G||"",options:Rs.map(function(e){return e.label}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Delivery Terms",style:Ms})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(zs,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"LEAD"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"Lead ID",size:"small",label:"Lead ID",variant:"outlined",value:q.lead_id?q.lead_id:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"contact",size:"small",label:"Contact",variant:"outlined",value:q.contact?q.contact:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"alternate_contact",size:"small",label:"Alt. Contact",variant:"outlined",value:q.alternate_contact?q.alternate_contact:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,required:!0,name:"address",size:"small",label:"Billing Address",variant:"outlined",value:q.address?q.address:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"city",size:"small",label:"Billing City",variant:"outlined",value:q.city?q.city:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"state",size:"small",label:"Billing State",variant:"outlined",value:q.state?q.state:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"pincode",size:"small",type:"number",label:"Billing Pin Code",variant:"outlined",value:q.pincode?q.pincode:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"shipping_address",size:"small",label:"Shipping Address",variant:"outlined",value:q.shipping_address?q.shipping_address:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{required:!0,fullWidth:!0,name:"shipping_pincode",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:q.shipping_pincode?q.shipping_pincode:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"shipping_city",size:"small",label:"Shipping City",variant:"outlined",value:q.shipping_city?q.shipping_city:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"shipping_state",size:"small",label:"Shipping State",variant:"outlined",value:q.shipping_state?q.shipping_state:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Cr.a,{label:"Verbal",control:a.a.createElement(Xn.a,{checked:K,onChange:function(e){return J(e.target.checked)}})}),a.a.createElement(Lt,{required:!0,name:"buyer_order_no",size:"small",label:"Buyer Order No",variant:"outlined",disabled:K,value:K?"Verbal":void 0!==P.buyer_order_no?P.buyer_order_no:void 0!==w.buyer_order_no?w.buyer_order_no:"",onChange:he,error:Boolean(y.buyer_order_no),helperText:y.buyer_order_no?y.buyer_order_no[0]:"",InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"buyer_order_date",size:"small",label:"Buyer Order Date",variant:"outlined",value:P.buyer_order_date||w.buyer_order_date||Us.someDate,onChange:he,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"place_of_supply",size:"small",label:"Place of Supply",variant:"outlined",value:P.place_of_supply||w.place_of_supply,error:Boolean(y.place_of_supply),helperText:y.place_of_supply?y.place_of_supply.join(", "):"",InputLabelProps:{shrink:!0},onChange:he})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"transporter_name",size:"small",label:"Transporter Name",variant:"outlined",value:P.transporter_name||w.transporter_name,InputLabelProps:{shrink:!0},error:Boolean(y.transporter_name),helperText:y.transporter_name?y.transporter_name[0]:"",onChange:he})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(zs,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),a.a.createElement(Sa,{errMsg:y.validationPrice}),ne.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,r){return function(e,t,r){var n=Object(ln.a)(ne),a=j.find(function(e){return e.product===r});n[e].product=r,n[e].unit=a?a.unit:"",ae(n),ee(!0)}(t,0,r)},value:e.product?e.product:"",options:j.map(function(e){return e.product}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name",style:Ms})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity?e.quantity:"",onChange:function(e){return le(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit?e.unit:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{type:"number",fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate?e.rate:"",onChange:function(e){return le(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,type:"number",name:"amount",size:"small",label:"Amount",variant:"outlined",value:e.quantity?(e.quantity*e.rate).toFixed(2):""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"requested_date",size:"small",label:"Request Date",variant:"outlined",value:e.requested_date?e.requested_date:Us.someDate,onChange:function(e){return le(t,e)},InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"special_instructions",size:"small",label:"Special Instructions",variant:"outlined",value:e.special_instructions?e.special_instructions:"",onChange:function(e){return le(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(yt.a,{onClick:ue,variant:"contained",sx:{marginRight:"1em"}},"Add More..."),0!==t&&a.a.createElement(yt.a,{disabled:0===t,onClick:function(){return function(e){var t=Object(ln.a)(ne);t.splice(e,1),ae(t),ee(!0)}(t)},variant:"contained"},"Remove")))})),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))},Bs=[{label:"100% Advance",value:"100%_advance"},{label:"50% Advance, Balance Before Dispatch",value:"50%_advance_balance_before_dispatch"},{label:"30% Advance, Balance Before Dispatch",value:"30%_advance_balance_before_dispatch"},{label:"15 days along with PDC",value:"15_days_with_pdc"},{label:"30 days along with PDC",value:"30_days_with_pdc"},{label:"45 days along with PDC",value:"45_days_with_pdc"},{label:"60 days along with PDC",value:"60_days_with_pdc"},{label:"7 days",value:"7_days"},{label:"15 days",value:"15_days"},{label:"30 days",value:"30_days"},{label:"10% Advance, balance against shipping document (export)",value:"10%_advance_balance_against_shipping_document_(export)"},{label:"20% Advance, balance against shipping document (export)",value:"20%_advance_balance_against_shipping_document_(export)"},{label:"30% Advance, balance against shipping document (export)",value:"30%_advance_balance_against_shipping_document_(export)"},{label:"40% Advance, balance against shipping document (export)",value:"40%_advance_balance_against_shipping_document_(export)"},{label:"50% Advance, balance against shipping document (export)",value:"50%_advance_balance_against_shipping_document_(export)"},{label:"LC at Sight (Export)",value:"lc_at_sight_(export)"},{label:"LC 45 days (Export)",value:"lc_45_days_(export)"},{label:"TT in advance (Export)",value:"tt_in_advance_(export)"},{label:"45 days",value:"45_days"},{label:"60 days",value:"60_days"},{label:"Against Delivery",value:"against_delivery"}],Rs=[{label:"Ex-Work (Freight to pay)",value:"ex_work_(freight_to_pay)"},{label:"Transporter Warehouse (Freight to Pay)",value:"transporter_warehouse_(freight_to_pay)"},{label:"Customer Door Delivery (Freight to Pay)",value:"customer_door_delivery_(freight_to_pay)"},{label:"Customer Door Delivery (Prepaid)",value:"customer_door_delivery_(prepaid)"},{label:"Transporter Warehouse (Prepaid)",value:"transporter_warehouse_(prepaid)"},{label:"Add actual freight in invoice",value:"add_actual_freight_in_invoice"},{label:"Courier (Freight to Pay)",value:"courier_(freight_to_pay)"},{label:"Courier (Freight Add in Invoice)",value:"courier_(freight_add_in_invoice"}],zs=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),Ms={"& .MuiButtonBase-root.MuiAutocomplete-clearIndicator":{color:"blue",visibility:"visible"}},Us={someDate:(new Date).toISOString().substring(0,10)},Ys=function(e){var t=e.label,r=e.value,n=e.options,o=e.onChange,i=e.onClear;return a.a.createElement(tr.a,{fullWidth:!0,size:"small",sx:{position:"relative",minWidth:"300px",display:"flex",alignItems:"center"}},a.a.createElement(rr.a,{id:"".concat(t,"-select-label")},t),a.a.createElement(vt.a,{sx:{display:"flex",alignItems:"center",width:"100%"}},a.a.createElement(nr.a,{labelId:"".concat(t,"-select-label"),id:"".concat(t,"-select"),name:t,label:t,value:r,onChange:o,sx:{flexGrow:1}},n.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})),a.a.createElement(m.a,{"aria-label":"clear ".concat(t),onClick:i,sx:{position:"absolute",right:"0px",top:"50%",transform:"translateY(-50%)"}},a.a.createElement(ya.a,null))))};function qs(){qs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Vs=function(){var e=Object(s.b)(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(!1),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)([]),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(""),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)(""),I=Object(l.a)(A,2),F=I[0],W=I[1],B=Object(n.useState)(""),R=Object(l.a)(B,2),z=R[0],M=R[1],U=Object(n.useState)(1),Y=Object(l.a)(U,2),q=Y[0],V=Y[1],Q=Object(n.useState)(0),H=Object(l.a)(Q,2),K=H[0],J=H[1],Z=Object(s.c)(function(e){return e.auth}).profile,X=Z.sales_users||[],$=Object(n.useState)(!1),ee=Object(l.a)($,2),te=ee[0],re=ee[1],ne=Ln(),ae=ne.handleError,oe=ne.handleCloseSnackbar,ie=ne.alertInfo,ce=function(){return W("")},le=[{label:"Status",value:"status"},{label:"Type",value:"type"}].concat(Object(ln.a)(Z.groups.includes("Sales Executive")?[]:[{label:"Sales Person",value:"raised_by__email"}])),ue=X.map(function(e){return{label:e.email,value:e.email}});Object(n.useEffect)(function(){var e=function(){re(!0),P([])},t=function(){re(!1),fe()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var se=function(){var t=Object(c.a)(qs().mark(function t(){var r;return qs().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),t.next=4,ea.getAllPaginateSellerAccountData("all");case 4:r=t.sent,e(G(r.data)),j(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),j(!1);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)(function(){se()},[]);var fe=Object(n.useCallback)(function(){var e=Object(c.a)(qs().mark(function e(t){var r;return qs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,ea.getAllPIData("active",q,N,F,z);case 4:r=e.sent,P(r.data.results),J(Math.ceil(r.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ae(e.t0);case 12:return e.prev=12,j(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t){return e.apply(this,arguments)}}(),[q,N,F,z]);Object(n.useEffect)(function(){fe(q)},[q,N,F,z]);var pe=function(e){W(e.target.value)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:ie.open,onClose:oe,severity:ie.severity,message:ie.message}),a.a.createElement(pa.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(te?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Pt,{open:_}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{marginBottom:"10px"},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ys,{label:"Filter By",options:le,value:N,onChange:function(e){T(e.target.value),W("")},onClear:function(){return T("")}})),"status"===N&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ys,{label:"Status",options:Qs,value:F,onChange:pe,onClear:ce})),"type"===N&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ys,{label:"Type",options:Hs,value:F,onChange:pe,onClear:ce})),"raised_by__email"===N&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ys,{label:"Sales Person",options:ue,value:F,onChange:pe,onClear:ce})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(ga,{onSearch:function(e){M(e),V(1)},onReset:function(){M(""),V(1)}})))),a.a.createElement(vt.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Active PI")),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ks,{align:"center"},"TYPE"),a.a.createElement(Ks,{align:"center"},"PI NUMBER"),a.a.createElement(Ks,{align:"center"},"PI DATE"),a.a.createElement(Ks,{align:"center"},"RAISED BY"),a.a.createElement(Ks,{align:"center"},"COMPANY"),a.a.createElement(Ks,{align:"center"},"BILLING CITY"),a.a.createElement(Ks,{align:"center"},"CONTACT"),a.a.createElement(Ks,{align:"center"},"STATUS"),a.a.createElement(Ks,{align:"center"},"PI AMOUNT"),a.a.createElement(Ks,{align:"center"},"BALANCE"),a.a.createElement(Ks,{align:"center"},"PAYMENT TERMS"),a.a.createElement(Ks,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,k.map(function(e,t){return a.a.createElement(Js,{key:t},a.a.createElement(Ks,{align:"center"},e.type),a.a.createElement(Ks,{align:"center"},e.pi_number),a.a.createElement(Ks,{align:"center"},e.generation_date),a.a.createElement(Ks,{align:"center"},e.raised_by),a.a.createElement(Ks,{align:"center"},e.company_name),a.a.createElement(Ks,{align:"center"},e.billing_city),a.a.createElement(Ks,{align:"center"},e.contact),a.a.createElement(Ks,{align:"center"},e.status),a.a.createElement(Ks,{align:"center"},e.total),a.a.createElement(Ks,{align:"center"},e.balance_amount),a.a.createElement(Ks,{align:"center"},e.payment_terms),a.a.createElement(Ks,{align:"center"},a.a.createElement(yt.a,{variant:"text",onClick:function(){return w(e),void y(!0)}},"View"),("Sales Manager"===Z.groups.toString()||"Sales Deputy Manager"===Z.groups.toString()||"Sales Assistant Deputy Manager"===Z.groups.toString()||"Sales Executive"===Z.groups.toString()||"Sales Manager without Leads"===Z.groups.toString()||"Customer Service"===Z.groups.toString())&&"Raised"===e.status&&a.a.createElement(yt.a,{variant:"text",color:"success",onClick:function(){return w(t=e),void("Customer"===t.type?i(!0):h(!0));var t}},"PI Edit")))})))),a.a.createElement(Zn,{currentPage:q,totalPages:K,handlePageChange:function(e,t){V(t)}}))),a.a.createElement(ut,{maxWidth:"xl",title:"Update Customer Proforma Invoice",openPopup:o,setOpenPopup:i},a.a.createElement(Cs,{getProformaInvoiceData:fe,setOpenPopup:i,idForEdit:E})),a.a.createElement(ut,{maxWidth:"xl",title:"Update Lead Proforma Invoice",openPopup:p,setOpenPopup:h},a.a.createElement(Ws,{getAllLeadsPIDetails:fe,setOpenPopup:h,idForEdit:E})),a.a.createElement(ut,{fullScreen:!0,title:"View Proforma Invoice",openPopup:v,setOpenPopup:y},a.a.createElement(Ls,{idForEdit:E,getProformaInvoiceData:fe,setOpenPopup:y})))},Qs=[{label:"Raised",value:"raised"},{label:"Pending Approval",value:"pending_approval"},{label:"Approved",value:"approved"},{label:"Partially Paid",value:"partially_paid"},{label:"Fully Paid",value:"fully_paid"},{label:"Credit",value:"credit"}],Hs=[{label:"Customer",value:"customer"},{label:"Lead",value:"lead"}],Ks=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:"1px",marginLeft:"10px",marginRight:"10px"}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:"1px",marginLeft:"10px",marginRight:"10px"}),t}),Js=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0},"& td":{padding:"1px",marginLeft:"10px",marginRight:"10px"}}});function Zs(){Zs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Xs=function(){var e=Object(s.b)(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(!1),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)([]),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(""),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)(""),I=Object(l.a)(A,2),F=I[0],W=I[1],B=Object(n.useState)(""),R=Object(l.a)(B,2),z=R[0],M=R[1],U=Object(n.useState)(1),Y=Object(l.a)(U,2),q=Y[0],V=Y[1],Q=Object(n.useState)(0),H=Object(l.a)(Q,2),K=H[0],J=H[1],Z=Object(s.c)(function(e){return e.auth}).profile,X=Z.sales_users||[],$=Ln(),ee=$.handleError,te=$.handleCloseSnackbar,re=$.alertInfo,ne=function(){return W("")},ae=[{label:"Status",value:"status"},{label:"Type",value:"type"}].concat(Object(ln.a)(Z.groups.includes("Sales Executive")?[]:[{label:"Sales Person",value:"raised_by__email"}])),oe=X.map(function(e){return{label:e.email,value:e.email}}),ie=function(){var t=Object(c.a)(Zs().mark(function t(){var r;return Zs().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),t.next=4,ea.getAllPaginateSellerAccountData("all");case 4:r=t.sent,e(G(r.data)),j(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),j(!1);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)(function(){ie()},[]);var ce=Object(n.useCallback)(function(){var e=Object(c.a)(Zs().mark(function e(t){var r;return Zs().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,ea.getAllPIData("unapproved",q,N,F,z);case 4:r=e.sent,P(r.data.results),J(Math.ceil(r.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ee(e.t0);case 12:return e.prev=12,j(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t){return e.apply(this,arguments)}}(),[q,N,F,z]);Object(n.useEffect)(function(){ce(q)},[q,N,F,z]);var le=function(e){W(e.target.value)},ue=k.map(function(e,t){return{type:e.type,pi_number:e.pi_number,generation_date:e.generation_date,customer:e.company_name,billing_city:e.billing_city,contact:e.contact,status:e.status,total:e.total,balance_amount:e.balance_amount,payment_terms:e.payment_terms}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:re.open,onClose:te,severity:re.severity,message:re.message}),a.a.createElement(Pt,{open:_}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{marginBottom:"10px"},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ys,{label:"Filter By",options:ae,value:N,onChange:function(e){T(e.target.value),W("")},onClear:function(){return T("")}})),"status"===N&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ys,{label:"Status",options:$s,value:F,onChange:le,onClear:ne})),"type"===N&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ys,{label:"Type",options:ef,value:F,onChange:le,onClear:ne})),"raised_by__email"===N&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ys,{label:"Sales Person",options:oe,value:F,onChange:le,onClear:ne})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(ga,{onSearch:function(e){M(e),V(1)},onReset:function(){M(""),V(1)}})))),a.a.createElement(vt.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Approve Pi")),a.a.createElement(Cn,{headers:["Type","PI Numer","PI Date","Customer","Billing City","Contact","Status","PI Amount","Balance","Payment Terms","ACTION"],data:ue,openInPopup:function(e){w(e),y(!0)},openInPopup2:null,openInPopup3:null,openInPopup4:null,Styles:{paddingLeft:"10px",paddingRight:"10px"}}),a.a.createElement(Zn,{currentPage:q,totalPages:K,handlePageChange:function(e,t){V(t)}}))),a.a.createElement(ut,{maxWidth:"xl",title:"Update Customer Proforma Invoice",openPopup:o,setOpenPopup:i},a.a.createElement(Cs,{getProformaInvoiceData:ce,setOpenPopup:i,idForEdit:E})),a.a.createElement(ut,{maxWidth:"xl",title:"Update Lead Proforma Invoice",openPopup:p,setOpenPopup:h},a.a.createElement(Ws,{getAllLeadsPIDetails:ce,setOpenPopup:h,idForEdit:E})),a.a.createElement(ut,{fullScreen:!0,title:"View Proforma Invoice",openPopup:v,setOpenPopup:y},a.a.createElement(Ls,{idForEdit:E,getProformaInvoiceData:ce,setOpenPopup:y})))},$s=[{label:"Raised",value:"raised"},{label:"Pending Approval",value:"pending_approval"},{label:"Approved",value:"approved"},{label:"Partially Paid",value:"partially_paid"},{label:"Fully Paid",value:"fully_paid"},{label:"Credit",value:"credit"}],ef=[{label:"Customer",value:"customer"},{label:"Lead",value:"lead"}];function tf(){tf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var rf=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)([]),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)([]),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)([]),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(!1),A=Object(l.a)(T,2),I=A[0],F=A[1],G=function(e,t){E(Object(u.a)({},b,Object(Wt.a)({},e,t)));var r=["Sales Executive","Sales Assistant Deputy Manager","Sales Deputy Manager","Sales"];"groups"===e&&t.some(function(e){return r.includes(e)})&&F(!0)};console.log("activeUsersByIDData.ref_user",b),Object(n.useEffect)(function(){W()},[]);var W=function(){var e=Object(c.a)(tf().mark(function e(){var t,r,n;return tf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Xe.getAllUsers("True");case 4:t=e.sent,v(t.data.groups),p(t.data.users),r=t.data.users.filter(function(e){return e.groups.includes("Sales Deputy Manager")||e.groups.includes("Sales Assistant Deputy Manager")||e.groups.includes("Sales Manager")}),N(r),n=["Sales Executive","Sales Assistant Deputy Manager","Sales Deputy Manager","Sales"],t.data.users.some(function(e){return e.groups.some(function(e){return n.includes(e)})})&&F(!0),o(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("error active users",e.t0);case 18:return e.prev=18,o(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[0,15,18,21]])}));return function(){return e.apply(this,arguments)}}();console.log("refUserList",D);var B=function(e,t){if(!t)return[];var r=[];return t.includes("Sales Executive")?r=e.filter(function(e){return e.groups.includes("Sales Deputy Manager")||e.groups.includes("Sales Assistant Deputy Manager")}):t.includes("Sales Assistant Deputy Manager")?r=e.filter(function(e){return e.groups.includes("Sales Deputy Manager")}):t.includes("Sales Deputy Manager")&&(r=e.filter(function(e){return e.groups.includes("Sales Manager")})),r.reduce(function(e,t){return t.groups.includes("Sales Deputy Manager")&&!e.some(function(e){return e.email===t.email})?e.push(Object(u.a)({},t,{primaryGroup:"Sales Deputy Manager"})):t.groups.includes("Sales Assistant Deputy Manager")&&!e.some(function(e){return e.email===t.email})?e.push(Object(u.a)({},t,{primaryGroup:"Sales Assistant Deputy Manager"})):t.groups.includes("Sales Manager")&&!e.some(function(e){return e.email===t.email})&&e.push(Object(u.a)({},t,{primaryGroup:"Sales Manager"})),e},[])}(D,b.groups),R=B.find(function(e){return e.email===b.ref_user});console.log("selectedRefUser",R),console.log("processedRefUserList",B);var z=function(){var e=Object(c.a)(tf().mark(function e(t){var r;return tf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),o(!0),r={first_name:b.first_name,last_name:b.last_name,contact:b.contact,email:b.email,is_active:b.is_active,group_names:b.groups,ref_user:b.ref_user?b.ref_user.email:null},e.next=6,Xe.createUsers(b.emp_id,r);case 6:k(!1),W(),o(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error while updating users",e.t0),o(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),M=f.filter(function(e){return Object.values(e||{}).some(function(e){return String(e).toLowerCase().includes(O.toLowerCase())})}).map(function(e){return{emp_id:e.emp_id,first_name:e.first_name,last_name:e.last_name,email:e.email,contact:e.contact,groups:e.groups.map(function(e){return e}).join(","),name:e.name}});return a.a.createElement("div",null,a.a.createElement(Pt,{open:r}),a.a.createElement("div",{style:{padding:"16px",margin:"16px",boxShadow:"0px 3px 6px #00000029",borderRadius:"4px",display:"flex",flexDirection:"column",backgroundColor:"rgb(255, 255, 255)"}},a.a.createElement("div",{style:{display:"flex"}},a.a.createElement("div",{style:{flexGrow:.9}},a.a.createElement(Lc,{filterSelectedQuery:O,handleInputChange:function(e){_(e.target.value)},getResetData:function(){_("")}})),a.a.createElement("div",{style:{flexGrow:2}},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Active Users"))),a.a.createElement(Cn,{headers:["EMP ID","FirstName","LastName","Email","Contact","Designation","Reporting To","Action"],data:M,openInPopup:function(e){var t=f.find(function(t){return t.emp_id===e.emp_id});E(t),k(!0)},openInPopup2:null,Styles:{paddingLeft:"10px",paddingRight:"10px"}})),a.a.createElement(ut,{title:"Update Active Users",openPopup:S,setOpenPopup:k},a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return z(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"First Name",variant:"outlined",value:b.first_name,onChange:function(e){return G("first_name",e.target.value)}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Last Name",variant:"outlined",value:b.last_name,onChange:function(e){return G("last_name",e.target.value)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Contact",variant:"outlined",value:b.contact,onChange:function(e){return G("contact",e.target.value)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Email",variant:"outlined",value:b.email})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{size:"small",value:b.groups,onChange:function(e,t){G("groups",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:m.map(function(e){return e}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(vr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Groups",placeholder:"Groups"}))}})),R&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Reporting Groups",variant:"outlined",value:R.primaryGroup||""})),I&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{id:"grouped-demo",size:"small",value:R,onChange:function(e,t){G("ref_user",t)},options:B,groupBy:function(e){return e.primaryGroup||null},getOptionLabel:function(e){return e.email},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Reports"}))}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Cr.a,{control:a.a.createElement(Xn.a,{checked:b.is_active,onChange:function(e){return G("is_active",e.target.checked)}}),label:"Is Active"}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit"))))};function nf(){nf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var af=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)([]),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)([]),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)([]),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(!1),A=Object(l.a)(T,2),I=A[0],F=A[1],G=function(e,t){E(Object(u.a)({},b,Object(Wt.a)({},e,t)));var r=["Sales Executive","Sales Assistant Deputy Manager","Sales"];"groups"===e&&t.some(function(e){return r.includes(e)})&&F(!0)};Object(n.useEffect)(function(){W()},[]);var W=function(){var e=Object(c.a)(nf().mark(function e(){var t,r,n;return nf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Xe.getAllUsers("False");case 4:t=e.sent,v(t.data.groups),p(t.data.users),r=t.data.users.filter(function(e){return e.groups.includes("Sales Deputy Manager")||e.groups.includes("Sales Assistant Deputy Manager")}),N(r),n=["Sales Executive","Sales Assistant Deputy Manager","Sales"],t.data.users.some(function(e){return e.groups.some(function(e){return n.includes(e)})})&&F(!0),o(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("error active users",e.t0);case 18:return e.prev=18,o(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[0,15,18,21]])}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(nf().mark(function e(t){var r;return nf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),o(!0),r={first_name:b.first_name,last_name:b.last_name,contact:b.contact,email:b.email,is_active:b.is_active,group_names:b.groups,ref_user:b.ref_user?b.ref_user.email:null},e.next=6,Xe.createUsers(b.emp_id,r);case 6:k(!1),W(),o(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error while updating users",e.t0),o(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),R=f.filter(function(e){return e.first_name.toLowerCase().includes(O.toLowerCase())||e.last_name.toLowerCase().includes(O.toLowerCase())||e.email.toLowerCase().includes(O.toLowerCase())||"string"===typeof e.contact&&e.contact.toLowerCase().includes(O.toLowerCase())||e.groups.some(function(e){return e.toLowerCase().includes(O.toLowerCase())})}).map(function(e){return{emp_id:e.emp_id,first_name:e.first_name,last_name:e.last_name,email:e.email,contact:e.contact,groups:e.groups.map(function(e){return e}).join(","),name:e.name}});return a.a.createElement("div",null,a.a.createElement(Pt,{open:r}),a.a.createElement("div",{style:{padding:"16px",margin:"16px",boxShadow:"0px 3px 6px #00000029",borderRadius:"4px",display:"flex",flexDirection:"column",backgroundColor:"rgb(255, 255, 255)"}},a.a.createElement("div",{style:{display:"flex"}},a.a.createElement("div",{style:{flexGrow:.9}},a.a.createElement(Lc,{filterSelectedQuery:O,handleInputChange:function(e){_(e.target.value)},getResetData:function(){_("")}})),a.a.createElement("div",{style:{flexGrow:2}},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"InActive Users"))),a.a.createElement(Cn,{headers:["EMP ID","FirstName","LastName","Email","Contact","Designation","Reporting To","Action"],data:R,openInPopup:function(e){var t=f.find(function(t){return t.emp_id===e.emp_id});E(t),k(!0)},openInPopup2:null,Styles:{paddingLeft:"10px",paddingRight:"10px"}})),a.a.createElement(ut,{title:"Update InActive Users",openPopup:S,setOpenPopup:k},a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return B(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"First Name",variant:"outlined",value:b.first_name,onChange:function(e){return G("first_name",e.target.value)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Last Name",variant:"outlined",value:b.last_name,onChange:function(e){return G("last_name",e.target.value)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Contact",variant:"outlined",value:b.contact,onChange:function(e){return G("contact",e.target.value)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Email",variant:"outlined",value:b.email})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{size:"small",value:b.groups,onChange:function(e,t){G("groups",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:m.map(function(e){return e}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(vr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Groups",placeholder:"Groups"}))}})),I&&a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{id:"grouped-demo",size:"small",value:b.ref_user,onChange:function(e,t){G("ref_user",t)},options:D,groupBy:function(e){return e.groups.includes("Sales Deputy Manager")?"Sales Deputy Manager":e.groups.includes("Sales Assistant Deputy Manager")?"Sales Assistant Deputy Manager":"Other"},getOptionLabel:function(e){return e.email},sx:{width:300},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Team Reference"}))}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Cr.a,{control:a.a.createElement(Xn.a,{checked:b.is_active,onChange:function(e){return G("is_active",e.target.checked)}}),label:"Is Active"}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit"))))};function of(){of=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var cf=function(){var e=Object(s.b)(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useRef)(),O=Object(n.useState)(""),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)(),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Object(n.useState)(1),F=Object(l.a)(I,2),W=F[0],B=F[1],R=Object(n.useState)(0),z=Object(l.a)(R,2),M=z[0],U=z[1],Y=Object(n.useState)(""),q=Object(l.a)(Y,2),V=q[0],Q=q[1],H=Object(n.useState)(""),K=Object(l.a)(H,2),J=K[0],Z=K[1],X=Object(n.useState)([]),$=Object(l.a)(X,2),ee=$[0],te=$[1],re=Object(n.useRef)(null),ne=Object(s.c)(function(e){return e.auth}).profile,ae=ne.sales_users||[],oe=Object(n.useState)(!1),ie=Object(l.a)(oe,2),ce=ie[0],le=ie[1];Object(n.useEffect)(function(){var e=function(){le(!0),C([])},t=function(){le(!1),he()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var ue=function(){var e=Object(c.a)(of().mark(function e(){var t;return of().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se();case 3:t=e.sent,te(t),setTimeout(function(){re.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(c.a)(of().mark(function e(){var t,r;return of().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,Vt.getIncompleteKycCustomerData({page:"all",assignToFilter:J,searchValue:V});case 4:return t=e.sent,r=t.data.map(function(e){return{id:e.id,name:e.name,assigned_to:e.assigned_to,pan_number:e.pan_number,gst_number:e.gst_number,address:e.address,city:e.city,state:e.state,pincode:e.pincode,business_type:e.business_type,category:e.category,est_date:e.est_date,total_sales_turnover:e.total_sales_turnover,type:e.type,contact_name:e.contacts.map(function(e){return e.name}).join(", "),contact:e.contacts.map(function(e){return e.contact}).join(", "),alternate_contact:e.contacts.map(function(e){return e.alternate_contact}).join(", "),email:e.contacts.map(function(e){return e.email}).join(", "),alternate_email:e.contacts.map(function(e){return e.alternate_email}).join(", ")}}),console.log("data",r),w(!1),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return e.prev=14,w(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}));return function(){return e.apply(this,arguments)}}(),fe=function(){de("",""),Q(""),Z("")};Object(n.useEffect)(function(){pe(),he()},[]);var pe=function(){var t=Object(c.a)(of().mark(function t(){var r;return of().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,w(!0),t.next=4,ea.getAllPaginateSellerAccountData("all");case 4:r=t.sent,e(G(r.data)),w(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),w(!1);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(){return t.apply(this,arguments)}}(),he=function(){var e=Object(c.a)(of().mark(function e(){var t,r,n;return of().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,w(!0),r=V||null,!(t=J||null)&&!r){e.next=10;break}return e.next=7,Vt.getIncompleteKycCustomerData({page:W,assignToFilter:t,searchValue:r});case 7:n=e.sent,e.next=13;break;case 10:return e.next=12,Vt.getIncompleteKycCustomerData({page:W});case 12:n=e.sent;case 13:C(n.data.results),U(Math.ceil(n.data.count/25)),w(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(0),w(!1),e.t0.response?400===e.t0.response.status?L(e.t0.response.data.errors.name?e.t0.response.data.errors.name:e.t0.response.data.errors.non_field_errors):401===e.t0.response.status?L(e.t0.response.data.errors.code):L("Server Error"):L("\u201cSorry, You Are Not Allowed to Access This Page\u201d Please contact to admin"),x.current.focus();case 23:case"end":return e.stop()}},e,null,[[0,18]])}));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(c.a)(of().mark(function e(t,r){var n;return of().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,w(!0),console.log("filterValue",t),console.log("searchValue",r),console.log("currentPage",W),!t&&!r){e.next=11;break}return e.next=8,Vt.getIncompleteKycCustomerData({assignToFilter:t,searchValue:r,page:W});case 8:n=e.sent,e.next=14;break;case 11:return e.next=13,Vt.getIncompleteKycCustomerData({page:W});case 13:n=e.sent;case 14:C(n.data.results),U(Math.ceil(n.data.count/25)),w(!1),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),console.log("error Search leads",e.t0),w(!1);case 23:case"end":return e.stop()}},e,null,[[0,19]])}));return function(t,r){return e.apply(this,arguments)}}(),me=function(){var e=Object(c.a)(of().mark(function e(t,r){var n,a;return of().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,B(n=r),w(!0),!J&&!V){e.next=10;break}return e.next=7,Vt.getIncompleteKycCustomerData({page:n,assignToFilter:J,searchValue:V});case 7:a=e.sent,e.next=14;break;case 10:return e.next=12,Vt.getIncompleteKycCustomerData({page:n});case 12:a=e.sent,C(a.data.results);case 14:C(a.data.results),U(Math.ceil(a.data.count/25)),w(!1),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),console.log("error",e.t0),w(!1);case 23:case"end":return e.stop()}},e,null,[[0,19]])}));return function(t,r){return e.apply(this,arguments)}}(),ve=P.map(function(e){return{id:e.id,name:e.name,assigned_to:e.assigned_to,pan_number:e.pan_number,gst_number:e.gst_number,city:e.city,state:e.state}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(pa.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(ce?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Pt,{open:E}),a.a.createElement(Sa,{errRef:x,errMsg:j}),a.a.createElement("div",{style:{padding:"16px",margin:"16px",boxShadow:"0px 3px 6px #00000029",borderRadius:"4px",display:"flex",flexDirection:"column",backgroundColor:"rgb(255, 255, 255)"}},a.a.createElement(vt.a,{display:"flex",alignItems:"center"},!ne.groups.includes("Sales Executive")&&a.a.createElement(yr,{size:"small",sx:{width:300},onChange:function(e,t){return Z(r=t),void de(r,V);var r},value:J,options:ae.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"}),a.a.createElement(Ta,{filterSelectedQuery:V,setFilterSelectedQuery:Q,handleInputChange:function(){Q(V),de(J,V)},getResetData:fe}),a.a.createElement(yt.a,{variant:"contained",onClick:function(){return fe()},sx:{marginLeft:"10px",marginRight:"10px"},size:"small"},"Reset"),!0===ne.is_staff&&a.a.createElement(yt.a,{variant:"contained",onClick:function(){return h(!0)},sx:{marginLeft:"10px",marginRight:"10px"},size:"small"},"Assign Bulk Customer"),a.a.createElement(yt.a,{variant:"contained",onClick:ue},"Download CSV")),ee.length>0&&a.a.createElement(fa.CSVLink,{data:ee,headers:[{label:"ID",key:"id"},{label:"NAME",key:"name"},{label:"Assigned To",key:"assigned_to"},{label:"PAN NUMBER",key:"pan_number"},{label:"GST NUMBER",key:"gst_number"},{label:"ADDRESS",key:"address"},{label:"CITY",key:"city"},{label:"STATE",key:"state"},{label:"PINCODE",key:"pincode"},{label:"BUSINESS TYPE",key:"business_type"},{label:"CATEGORY",key:"category"},{label:"EST. DATE",key:"est_date"},{label:"TOTAL SALES TURNOVER",key:"total_sales_turnover"},{label:"TYPE",key:"type"},{label:"CONTACT NAME",key:"contact_name"},{label:"CONTACT",key:"contact"},{label:"ALTERNATE CONTACT",key:"alternate_contact"},{label:"EMAIL",key:"email"},{label:"ALTERNATE EMAIL",key:"alternate_email"}],ref:re,filename:"Customer.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}}),a.a.createElement("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"green",color:"white",padding:"10px",borderRadius:"4px",display:v?"block":"none",zIndex:9999}},a.a.createElement("span",{style:{marginRight:"10px"}},"Bulk Customer Assigned Successfully!"),a.a.createElement("button",{style:{backgroundColor:"transparent",border:"none",color:"white",cursor:"pointer",padding:"0"},onClick:function(){y(!1)}},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},a.a.createElement("path",{fillRule:"evenodd",d:"M8 7.293l2.146-2.147a.5.5 0 11.708.708L8.707 8l2.147 2.146a.5.5 0 01-.708.708L8 8.707l-2.146 2.147a.5.5 0 01-.708-.708L7.293 8 5.146 5.854a.5.5 0 01.708-.708L8 7.293z"})))),a.a.createElement(vt.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Incomplete KYC Details")),a.a.createElement(Cn,{headers:["ID","NAME","Assigned To","PAN NO.","GST NO.","CITY","STATE","ACTION"],data:ve,openInPopup:function(e){A(e.id),i(!0)},openInPopup2:null,openInPopup3:null,openInPopup4:null,ButtonText:"PI",ButtonText1:"Activity",ButtonText2:"Potential"}),a.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},a.a.createElement(Zn,{currentPage:W,totalPages:M,handlePageChange:me}))),a.a.createElement(ut,{fullScreen:!0,title:"Update Customer",openPopup:o,setOpenPopup:i},a.a.createElement(Pn,{setOpenPopup:i,getIncompleteKycCustomerData:he,recordForEdit:T})),a.a.createElement(ut,{maxWidth:"lg",title:"Assign Bulk Lead to another Employee",openPopup:p,setOpenPopup:h},a.a.createElement(Kn,{setOpenPopup:h,setOpenSnackbar:y})),");")};function lf(){lf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var uf=function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getCompetitors,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)(t),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useRef)(),g=Object(n.useState)(""),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Ln(),O=x.handleSuccess,_=x.handleError,j=x.handleCloseSnackbar,L=x.alertInfo,S=function(){var e=Object(c.a)(lf().mark(function e(n){var a;return lf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),p(!0),a={name:m.name},!t){e.next=11;break}return e.next=7,Vt.updateCompetitors(m.id,a);case 7:O("Competitor Updated Successfully"),setTimeout(function(){r(!1)},300),p(!1),o();case 11:e.next=20;break;case 13:e.prev=13,e.t0=e.catch(0),_(e.t0),console.log("error update color :>> ",e.t0),p(!1),e.t0.response?400===e.t0.response.status?w(e.t0.response.data.errors.name?e.t0.response.data.errors.name:e.t0.response.data.errors.non_field_errors):401===e.t0.response.status?w(e.t0.response.data.errors.code):w("Server Error"):w("No Server Response"),y.current.focus();case 20:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:L.open,onClose:j,severity:L.severity,message:L.message}),a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return S(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement("p",{style:{width:"100%",padding:10,marginBottom:10,borderRadius:4,backgroundColor:E?"red":"offscreen",textAlign:"center",color:"white",textTransform:"capitalize"},ref:y,className:E?"errmsg":"offscreen","aria-live":"assertive"},E),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Id",variant:"outlined",value:m.id||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Competitor",variant:"outlined",value:m.name||"",onChange:function(e){var t=e.target,r=t.name,n=t.value;v(Object(u.a)({},m,Object(Wt.a)({},r,n)))}}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))};function sf(){sf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ff=function(e){var t=e.setOpenPopup,r=e.getCompetitors,o=Object(n.useState)(""),i=Object(l.a)(o,2),u=i[0],s=i[1],f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useRef)(),v=Object(n.useState)(""),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Ln(),w=E.handleSuccess,x=E.handleError,O=E.handleCloseSnackbar,_=E.alertInfo,j=function(){var e=Object(c.a)(sf().mark(function e(n){var a;return sf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),a={name:u},d(!0),e.next=6,Vt.createCompetitorAPI(a);case 6:w("Competitor created successfully"),setTimeout(function(){t(!1)},300),d(!1),r(),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(0),x(e.t0),d(!1),e.t0.response?400===e.t0.response.status?b(e.t0.response.data.errors.name?e.t0.response.data.errors.name:e.t0.response.data.errors.non_field_errors):401===e.t0.response.status?b(e.t0.response.data.errors.code):b("Server Error"):b("No Server Response"),m.current.focus();case 18:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:_.open,onClose:O,severity:_.severity,message:_.message}),a.a.createElement(Pt,{open:h}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return j(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement("p",{style:{width:"100%",padding:10,marginBottom:10,borderRadius:4,backgroundColor:g?"red":"offscreen",textAlign:"center",color:"white",textTransform:"capitalize"},ref:m,className:g?"errmsg":"offscreen","aria-live":"assertive"},g),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"Competitors",size:"small",label:"Competitors",variant:"outlined",value:u,onChange:function(e){return s(e.target.value)}}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))},pf=r(613);function hf(){hf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var df=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useRef)(),h=Object(n.useState)(""),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(""),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(null),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(1),A=Object(l.a)(T,2),I=A[0],F=A[1],G=Object(n.useState)(0),W=Object(l.a)(G,2),B=W[0],R=W[1],z=Ln(),M=z.handleError,U=z.handleCloseSnackbar,Y=z.alertInfo;Object(n.useEffect)(function(){q()},[]);var q=function(){var e=Object(c.a)(hf().mark(function e(){var t,r,n,a;return hf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f(!0),!I){e.next=11;break}return e.next=5,Vt.getAllPaginateCompetitors(I);case 5:t=e.sent,o(t.data.results),r=t.data.count,R(Math.ceil(r/25)),e.next=17;break;case 11:return e.next=13,Vt.getAllCompetitors();case 13:n=e.sent,o(n.data.results),a=n.data.count,R(Math.ceil(a/25));case 17:f(!1),e.next=26;break;case 20:e.prev=20,e.t0=e.catch(0),M(e.t0),f(!1),e.t0.response?400===e.t0.response.status?v(e.t0.response.data.errors.name?e.t0.response.data.errors.name:e.t0.response.data.errors.non_field_errors):401===e.t0.response.status?v(e.t0.response.data.errors.code):v("Server Error"):v("\u201cSorry, You Are Not Allowed to Access This Page\u201d Please contact to admin"),p.current.focus();case 26:case"end":return e.stop()}},e,null,[[0,20]])}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(hf().mark(function e(t){var r,n,a;return hf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),r=t,e.next=5,Vt.getAllSearchCompetitors(r);case 5:(n=e.sent)?(o(n.data.results),a=n.data.count,R(Math.ceil(a/25))):(q(),E("")),f(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),M(pf.a),console.log("error Search leads",e.t0),f(!1);case 15:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(hf().mark(function e(t,r){var n,a,i,c,l;return hf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,F(n=r),f(!0),!b){e.next=11;break}return e.next=7,Vt.getCompetitorsPaginatewithSearch(n,b);case 7:(a=e.sent)?(o(a.data.results),i=a.data.count,R(Math.ceil(i/25))):(q(),E("")),e.next=17;break;case 11:return e.next=13,Vt.getAllPaginateCompetitors(n);case 13:c=e.sent,o(c.data.results),l=c.data.count,R(Math.ceil(l/25));case 17:f(!1),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(0),M(e.t0),console.log("error",e.t0),f(!1);case 25:case"end":return e.stop()}},e,null,[[0,20]])}));return function(t,r){return e.apply(this,arguments)}}(),H=r&&r.map(function(e){return e});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:Y.open,onClose:U,severity:Y.severity,message:Y.message}),a.a.createElement(Pt,{open:s}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Sa,{errRef:p,errMsg:m}),a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:.9},a.a.createElement(Lc,{filterSelectedQuery:b,handleInputChange:function(e){E(e.target.value),V(e.target.value)},getResetData:function(){E(""),q()}})),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Competitor")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"},a.a.createElement(yt.a,{onClick:function(){return k(!0)},variant:"contained",color:"success",startIcon:a.a.createElement(Wc.a,null)},"Add"))),a.a.createElement(Cn,{headers:["ID","Competitor","ACTION"],data:H,openInPopup:function(e){N(e),_(!0)}}),a.a.createElement(Zn,{currentPage:I,totalPages:B,handlePageChange:Q}))),a.a.createElement(ut,{title:"Create Competitor",openPopup:S,setOpenPopup:k},a.a.createElement(ff,{getCompetitors:q,setOpenPopup:k})),a.a.createElement(ut,{title:"Update Competitor",openPopup:O,setOpenPopup:_},a.a.createElement(uf,{recordForEdit:D,setOpenPopup:_,getCompetitors:q})))};function mf(){mf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var vf=function(){var e=Object(s.b)(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(!1),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)([]),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(""),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)(""),I=Object(l.a)(A,2),F=I[0],W=I[1],B=Object(n.useState)(""),R=Object(l.a)(B,2),z=R[0],M=R[1],U=Object(n.useState)(1),Y=Object(l.a)(U,2),q=Y[0],V=Y[1],Q=Object(n.useState)(0),H=Object(l.a)(Q,2),K=H[0],J=H[1],Z=Object(s.c)(function(e){return e.auth}).profile,X=Z.sales_users||[],$=Ln(),ee=$.handleError,te=$.handleCloseSnackbar,re=$.alertInfo,ne=[{label:"Status",value:"status"},{label:"Type",value:"type"}].concat(Object(ln.a)(Z.groups.includes("Sales Executive")?[]:[{label:"Sales Person",value:"raised_by__email"}])),ae=X.map(function(e){return{label:e.email,value:e.email}}),oe=function(){return W("")},ie=function(){var t=Object(c.a)(mf().mark(function t(){var r;return mf().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),t.next=4,ea.getAllPaginateSellerAccountData("all");case 4:r=t.sent,e(G(r.data)),j(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),j(!1);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)(function(){ie()},[]);var ce=Object(n.useCallback)(function(){var e=Object(c.a)(mf().mark(function e(t){var r;return mf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,ea.getAllPIData("price_approval",q,N,F,z);case 4:r=e.sent,P(r.data.results),J(Math.ceil(r.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ee(e.t0);case 12:return e.prev=12,j(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t){return e.apply(this,arguments)}}(),[q,N,F,z]);Object(n.useEffect)(function(){ce(q)},[q,N,F,z]);var le=function(e){W(e.target.value)},ue=k.map(function(e,t){return{type:e.type,pi_number:e.pi_number,generation_date:e.generation_date,raised_by:e.raised_by,customer:e.company_name,billing_city:e.billing_city,contact:e.contact,status:e.status,total:e.total,balance_amount:e.balance_amount,payment_terms:e.payment_terms}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:re.open,onClose:te,severity:re.severity,message:re.message}),a.a.createElement(Pt,{open:_}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{marginBottom:"10px"},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ys,{label:"Filter By",options:ne,value:N,onChange:function(e){T(e.target.value),W("")},onClear:function(){return T("")}})),"status"===N&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ys,{label:"Status",options:yf,value:F,onChange:le,onClear:oe})),"type"===N&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ys,{label:"Type",options:gf,value:F,onChange:le,onClear:oe})),"raised_by__email"===N&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Ys,{label:"Sales Person",options:ae,value:F,onChange:le,onClear:oe})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(ga,{onSearch:function(e){M(e),V(1)},onReset:function(){M(""),V(1)}})))),a.a.createElement(vt.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Price Approval Pi")),a.a.createElement(Cn,{headers:["Type","PI Numer","PI Date","Raised By","Customer","Billing City","Contact","Status","PI Amount","Balance","Payment Terms","ACTION"],data:ue,openInPopup:function(e){w(e),y(!0)},openInPopup2:null,openInPopup3:null,openInPopup4:null,Styles:{paddingLeft:"10px",paddingRight:"10px"}}),a.a.createElement(Zn,{currentPage:q,totalPages:K,handlePageChange:function(e,t){V(t)}}))),a.a.createElement(ut,{maxWidth:"xl",title:"Update Customer Proforma Invoice",openPopup:o,setOpenPopup:i},a.a.createElement(Cs,{getProformaInvoiceData:ce,setOpenPopup:i,idForEdit:E})),a.a.createElement(ut,{maxWidth:"xl",title:"Update Lead Proforma Invoice",openPopup:p,setOpenPopup:h},a.a.createElement(Ws,{getAllLeadsPIDetails:ce,setOpenPopup:h,idForEdit:E})),a.a.createElement(ut,{fullScreen:!0,title:"View Proforma Invoice",openPopup:v,setOpenPopup:y},a.a.createElement(Ls,{idForEdit:E,getProformaInvoiceData:ce,setOpenPopup:y})))},yf=[{label:"Raised",value:"raised"},{label:"Pending Approval",value:"pending_approval"},{label:"Approved",value:"approved"},{label:"Partially Paid",value:"partially_paid"},{label:"Fully Paid",value:"fully_paid"},{label:"Credit",value:"credit"}],gf=[{label:"Customer",value:"customer"},{label:"Lead",value:"lead"}];function bf(){bf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ef=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),wf=function(e){var t=e.IDForEdit,r=e.setOpenPopup,o=e.getAllUserProfileData,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)(null),d=Object(l.a)(h,2),m=d[0],y=d[1],g=Object(n.useState)({personal:{first_name:null,middle_name:null,last_name:null,email:null,contact:null,date_of_birth:null,place_of_birth:null,nationality:null,marital_status:null,marriage_date:null,date_of_joining:null,blood_group:null},address:{current:{address:null,city:null,state:null,pin:null,is_permanent_same_as_current:!1},permanent:{address:null,city:null,state:null,pin:null}},kyc:{name:null,account_number:null,ifsc_code:null,branch:null,city:null,state:null,address:null,pan_card_number:null,aadhar_card_number:null,passport_number:null,dl_number:null},emergency_contacts:[{name:null,relationship:null,number:null}],pf_esi_details:{has_pf_esi_account:null,uan_number:null,pf_number:null,esi_number:null},employment_history:[{company_name:null,post_held:null,workedFrom:null,workedTill:null}],education:{school:{name:null,board:null,passout:null},college:{name:null,board:null,passout:null},diploma:{type:null,uni_name:null,passout:null},graduation:{type:null,university:null,passout:null},pg:{masters:null,passout:null},additional_qualifiction:null},medical:{surgery_type:null,pregnancy:null,previous_surgeries:null,known_allergies:null,diabetic:null,hyper_tension:null,heart_issues:null,cancer:null,high_blood_pressure:null,low_blood_pressure:null,asthama_respiratory:null,vision:null,hearing:null},addiction:{tobacco:null,cigarettes:null,alcohol:null},doctor:{name:null,phone_number:null},family_details:[{name:null,relationship:null,blood_group:null,contact_number:null}]}),b=Object(l.a)(g,2),E=b[0],w=b[1];Object(n.useEffect)(function(){t&&x(t)},[t]);var x=function(){var e=Object(c.a)(bf().mark(function e(t){var r;return bf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ct.getUserProfileDataById(t);case 3:r=e.sent,console.log("response",r),w(function(e){return Object(u.a)({},e,r.data)}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error profile",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(bf().mark(function e(t){var n;return bf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),p(!0),delete(n=Object(u.a)({},E)).user,e.next=7,Ct.updateUserProfileData(n.id,n);case 7:console.log("Form Data Submitted (excluding user):",n),r(!1),o(),p(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error user Profile",e.t0),p(!1);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(gt.a,null,a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:O},a.a.createElement(Et.a,{item:!0,xs:12,sx:{marginTop:"20px",marginBottom:"20px"}},a.a.createElement(Ef,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Upload Profile Picture"})),a.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];t&&t.size<=102400?y(t):alert("Please select an image of size less than 100KB")}}),m&&a.a.createElement("img",{src:URL.createObjectURL(m),alt:"Profile",width:"100"})," ")),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sx:{marginTop:"20px",marginBottom:"20px"}},a.a.createElement(Ef,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Personal Details"})))),a.a.createElement(Gi,{formData:E,setFormData:w}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Ef,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Current Address Details"})))),a.a.createElement(Bi,{type:"current",formData:E,setFormData:w}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Ef,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Permanent Address Details"})))),a.a.createElement(Bi,{type:"permanent",formData:E,setFormData:w}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Ef,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"KYC Details"})))),a.a.createElement(ec,{formData:E,setFormData:w}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Ef,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Emergency Contact Details"})))),a.a.createElement(Ri,{formData:E,setFormData:w}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Ef,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PF & ESI Details"})))),a.a.createElement(zi,{formData:E,setFormData:w}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Ef,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Educational Details"})))),a.a.createElement(Ji,{formData:E,setFormData:w}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Ef,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Employment Details"})))),a.a.createElement(Zi,{formData:E,setFormData:w}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Ef,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Family Details"})))),a.a.createElement(Xi,{formData:E,setFormData:w}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Ef,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Known Health Issues"})))),a.a.createElement(qi,{formData:E,setFormData:w}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Ef,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Addiction Details"})))),a.a.createElement(Hi,{formData:E,setFormData:w}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Ef,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Family Doctor Details"})))),a.a.createElement(Vi,{formData:E,setFormData:w}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yt.a,{fullWidth:!0,type:"submit",variant:"contained",sx:{marginBottom:"20px"}},"Submit")))))};function xf(){xf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Of=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)([]),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1];Object(n.useEffect)(function(){_()},[]);var _=function(){var e=Object(c.a)(xf().mark(function e(){var t;return xf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,Ct.getAllUserProfileData();case 4:(t=e.sent).data&&b(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("error profile",e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[1,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),j=g.filter(function(e){return Object.values(e.personal||{}).some(function(e){return String(e).toLowerCase().includes(x.toLowerCase())})}),L=function(e){return e?new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(e)):"-"},S=[{label:"ID",key:"ID"},{label:"First Name",key:"First Name"},{label:"Middle Name",key:"Middle Name"},{label:"Last Name",key:"Last Name"},{label:"Email",key:"Email"},{label:"Contact",key:"Contact"},{label:"Date of Birth",key:"Date of Birth"},{label:"Place of Birth",key:"Place of Birth"},{label:"Nationality",key:"Nationality"},{label:"Marital Status",key:"Marital Status"},{label:"Marriage Date",key:"Marriage Date"},{label:"Date of Joining",key:"Date of Joining"},{label:"Blood Group",key:"Blood Group"},{label:"Bank Name",key:"Bank Name"},{label:"Account Number",key:"Account Number"},{label:"IFSC Code",key:"IFSC Code"},{label:"Branch",key:"Branch"},{label:"Bank City",key:"Bank City"},{label:"Bank State",key:"Bank State"},{label:"Bank Address",key:"Bank Address"},{label:"PAN Card Number",key:"PAN Card Number"},{label:"Aadhar Card Number",key:"Aadhar Card Number"},{label:"Passport Number",key:"Passport Number"},{label:"DL Number",key:"DL Number"},{label:"Emergency Contact Name",key:"Emergency Contact Name"},{label:"Emergency Contact Relationship",key:"Emergency Contact Relationship"},{label:"Emergency Contact Number",key:"Emergency Contact Number"},{label:"Has PF ESI Account",key:"Has PF ESI Account"},{label:"UAN Number",key:"UAN Number"},{label:"PF Number",key:"PF Number"},{label:"ESI Number",key:"ESI Number"},{label:"Employment Company Name",key:"Employment Company Name"},{label:"Employment Post Held",key:"Employment Post Held"},{label:"Employment Worked From",key:"Employment Worked From"},{label:"Employment Worked Till",key:"Employment Worked Till"},{label:"School Name",key:"School Name"},{label:"School Board",key:"School Board"},{label:"School Passout",key:"School Passout"},{label:"College Name",key:"College Name"},{label:"College Board",key:"College Board"},{label:"College Passout",key:"College Passout"},{label:"Diploma Type",key:"Diploma Type"},{label:"Diploma Uni Name",key:"Diploma Uni Name"},{label:"Diploma Passout",key:"Diploma Passout"},{label:"Graduation Type",key:"Graduation Type"},{label:"Graduation University",key:"Graduation University"},{label:"Graduation Passout",key:"Graduation Passout"},{label:"PG Masters",key:"PG Masters"},{label:"PG Passout",key:"PG Passout"},{label:"Additional Qualification",key:"Additional Qualification"}],k=j.map(function(e){console.log("user",e);var t=e.id||"-",r=e.personal||{},n=e.kyc||{},a=e.pf_esi_details||{},o=e.employment_history||[{}],i=e.education||{},c=e.emergency_contacts||[{}],l=i.school||{},u=i.college||{},s=i.diploma||{},f=i.graduation||{},p=i.pg||{},h=i.additional_qualifiction||"-";return{ID:t||"-","First Name":r.first_name||"-","Middle Name":r.middle_name||"-","Last Name":r.last_name||"-",Email:r.email||"-",Contact:r.contact||"-","Date of Birth":r.date_of_birth||"-","Place of Birth":r.place_of_birth||"-",Nationality:r.nationality||"-","Marital Status":r.marital_status||"-","Marriage Date":r.marriage_date||"-","Date of Joining":r.date_of_joining||"-","Blood Group":r.blood_group||"-","Bank Name":n.name||"-","Account Number":n.account_number||"-","IFSC Code":n.ifsc_code||"-",Branch:n.branch||"-","Bank City":n.city||"-","Bank State":n.state||"-","Bank Address":n.address||"-","PAN Card Number":n.pan_card_number||"-","Aadhar Card Number":n.aadhar_card_number||"-","Passport Number":n.passport_number||"-","DL Number":n.dl_number||"-","Emergency Contact Name":c[0].name||"-","Emergency Contact Relationship":c[0].relationship||"-","Emergency Contact Number":c[0].number||"-","Has PF ESI Account":a.has_pf_esi_account||"-","UAN Number":a.uan_number||"-","PF Number":a.pf_number||"-","ESI Number":a.esi_number||"-","Employment Company Name":o[0].company_name||"-","Employment Post Held":o[0].post_held||"-","Employment Worked From":o[0].workedFrom||"-","Employment Worked Till":o[0].workedTill||"-","School Name":l.name||"-","School Board":l.board||"-","School Passout":l.passout||"-","College Name":u.name||"-","College Board":u.board||"-","College Passout":u.passout||"-","Diploma Type":s.type||"-","Diploma Uni Name":s.uni_name||"-","Diploma Passout":s.passout||"-","Graduation Type":f.type||"-","Graduation University":f.university||"-","Graduation Passout":f.passout||"-","PG Masters":p.masters||"-","PG Passout":p.passout||"-","Additional Qualification":h||"-"}}),P=j.map(function(e){return{id:e.id,first_name:e.personal.first_name||"-",last_name:e.personal.last_name||"-",phone_number:e.personal.contact||"-",personal_email:e.personal.email||"-",date_of_birth:e.personal.date_of_birth?L(e.personal.date_of_birth):"-",date_of_joining:e.personal.date_of_joining?L(e.personal.date_of_joining):"-"}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:d}),a.a.createElement("div",{style:_f.container},a.a.createElement("div",{style:{display:"flex"}},a.a.createElement("div",{style:{flexGrow:.9}},a.a.createElement(Lc,{filterSelectedQuery:x,handleInputChange:function(e){O(e.target.value)},getResetData:function(){return O("")}})),a.a.createElement("div",{style:{flexGrow:2}},a.a.createElement("h3",{style:_f.header},"Personal Profile")),a.a.createElement("div",{style:{flexGrow:1}},a.a.createElement(yt.a,{variant:"contained",color:"primary"},a.a.createElement(fa.CSVLink,{data:k,headers:S,filename:"user_profiles.csv",style:{textDecoration:"none",color:"inherit"}},"Download CSV")))),j.length>0?a.a.createElement(Cn,{headers:["ID","FIRST NAME","LAST NAME","PERSONAL CONTACT","PERSONAL EMAIL","DATE OF BIRTH","DATE OF JOINING","ACTION"],data:P,openInPopup:function(e){console.log("item",e),f(e.id),o(!0)}}):a.a.createElement("p",null,"No results found for the search query.")),a.a.createElement(ut,{fullScreen:!0,title:"Update User Profile",openPopup:r,setOpenPopup:o},a.a.createElement(wf,{setOpenPopup:o,IDForEdit:s,getAllUserProfileData:_})))},_f={container:{padding:"16px",margin:"16px",boxShadow:"0px 3px 6px #00000029",borderRadius:"4px",display:"flex",flexDirection:"column",backgroundColor:"rgb(255, 255, 255)"},header:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}};function jf(){jf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Lf=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)([]),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(0),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(""),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Object(n.useState)([]),G=Object(l.a)(F,2),W=G[0],B=G[1],R=Object(n.useState)([]),z=Object(l.a)(R,2),M=z[0],U=z[1];Object(n.useEffect)(function(){q(),Y()},[]);var Y=function(){var e=Object(c.a)(jf().mark(function e(t){var r,n,a;return jf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),r=["Director","Customer Service","Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Sales Manager without Leads"],e.next=5,Nr.getAllAssignedUser();case 5:n=e.sent,a=n.data.filter(function(e){return e.groups.some(function(e){return r.includes(e)})}),B(a),m(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),m(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(c.a)(jf().mark(function e(){var t;return jf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),console.log("api calling started"),e.next=5,Vt.getInActiveCustomerData({page:L});case 5:t=e.sent,console.log("response inactive",t),console.log("api calling ended after response"),b(t.data.results),D(Math.ceil(t.data.count/25)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),m(!1),console.log("error InActive Customer Api",e.t0);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,12,16,19]])}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(jf().mark(function e(t){var r;return jf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,m(!0),""===t){e.next=10;break}return e.next=5,Vt.getInActiveCustomerData({searchValue:t});case 5:r=e.sent,b(r.data.results),D(Math.ceil(r.data.count/25)),e.next=11;break;case 10:q();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error Search leads",e.t0);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(jf().mark(function e(t,r){var n;return jf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),S(r),e.next=5,Vt.getInActiveCustomerData({page:r,searchValue:A});case 5:n=e.sent,b(n.data.results),D(Math.ceil(n.data.count/25)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error",e.t0);case 13:return e.prev=13,m(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(t,r){return e.apply(this,arguments)}}();console.log("recordForEdit",x);var H=function(){var e=Object(c.a)(jf().mark(function e(t){var r;return jf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),m(!0),r={type_of_customer:x.type_of_customer,name:x.name,address:x.address,pincode:x.pincode,state:x.state,city:x.city,website:x.website,estd_date:x.estd_date,gst_number:x.gst_number||null,pan_number:x.pan_number||null,business_type:x.business_type,assigned_to:M||""},e.next=6,Vt.updateCompanyData(x.id,r);case 6:o(!1),q(),U([]),m(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("createing Unassigned company detail error",e.t0),m(!1);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),K=g.map(function(e){return{id:e.id,name:e.name,pan_number:e.pan_number,gst_number:e.gst_number,city:e.city,state:e.state,assigned_to:e.assigned_to}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:d}),a.a.createElement("div",{style:{padding:"16px",margin:"16px",boxShadow:"0px 3px 6px #00000029",borderRadius:"4px",display:"flex",flexDirection:"column",backgroundColor:"rgb(255, 255, 255)"}},a.a.createElement("div",{style:{display:"flex"}},a.a.createElement("div",{style:{flexGrow:.9}},a.a.createElement(Ta,{filterSelectedQuery:A,setFilterSelectedQuery:I,handleInputChange:function(){I(A),V(A)},getResetData:function(){I(""),q()}})),a.a.createElement("div",{style:{flexGrow:2}},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Customers Assigned to InActive Employees")),a.a.createElement("div",{style:{flexGrow:.5},align:"right"})),a.a.createElement("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"green",color:"white",padding:"10px",borderRadius:"4px",display:s?"block":"none",zIndex:9999}},a.a.createElement("span",{style:{marginRight:"10px"}},"Bulk Customer Assigned Successfully!"),a.a.createElement("button",{style:{backgroundColor:"transparent",border:"none",color:"white",cursor:"pointer",padding:"0"},onClick:function(){f(!1)}},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},a.a.createElement("path",{fillRule:"evenodd",d:"M8 7.293l2.146-2.147a.5.5 0 11.708.708L8.707 8l2.147 2.146a.5.5 0 01-.708.708L8 8.707l-2.146 2.147a.5.5 0 01-.708-.708L7.293 8 5.146 5.854a.5.5 0 01.708-.708L8 7.293z"})))),a.a.createElement(Cn,{headers:["ID","NAME","PAN NO.","GST NO.","CITY","STATE","Assigned To","ACTION"],data:K,openInPopup:function(e){var t=g.find(function(t){return t.id===e.id});O(t),o(!0)}}),a.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},a.a.createElement(Zn,{currentPage:L,totalPages:C,handlePageChange:Q}))),a.a.createElement(ut,{maxWidth:"lg",title:"Assign To Customer",openPopup:r,setOpenPopup:o},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{size:"small",value:M,onChange:function(e,t){U(t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:W.map(function(e){return e.email}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(vr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},label:"Assign To",placeholder:"Assign To"})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yt.a,{variant:"contained",color:"success",onClick:function(e){return H(e)}},"Submit")))))},Sf=r(662),kf=r(663),Pf=r(664);function Cf(){Cf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Df=function(e){var t=e.getScriptDetails,r=e.setOpenPopup,o=Object(n.useState)([]),i=Object(l.a)(o,2),s=i[0],f=i[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=function(e){var t=e.target,r=t.name,n=t.value;f(Object(u.a)({},s,Object(Wt.a)({},r,n)))},y=function(){var e=Object(c.a)(Cf().mark(function e(n){var a;return Cf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),a={subject:s.subject,script:s.script},m(!0),e.next=6,Ct.createScriptData(a);case 6:r(!1),m(!1),t(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),m(!1),console.log("error create scripts",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:d}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return y(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"subject",size:"small",label:"Subject",variant:"outlined",value:s.subject||"",onChange:v})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"script",size:"small",label:"Script",variant:"outlined",value:s.script||"",onChange:v}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Nf(){Nf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Tf=function(e){var t=e.getScriptDetails,r=e.setOpenPopup,o=e.recordForEdit,i=Object(n.useState)(o||{subject:"",script:""}),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=function(e){var t=e.target,r=t.name,n=t.value;p(Object(u.a)({},f,Object(Wt.a)({},r,n)))},g=function(){var e=Object(c.a)(Nf().mark(function e(n){return Nf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),v(!0),e.prev=2,e.next=5,Ct.updateScriptData(f.id,{subject:f.subject,script:f.script});case 5:t(),r(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error updating scripts",e.t0);case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:m}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:g,sx:{mt:2}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"subject",size:"small",label:"Subject",variant:"outlined",value:f.subject,onChange:y,sx:{mb:2}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,minRows:4,name:"script",label:"Script",variant:"outlined",value:f.script,onChange:y,sx:{mb:2}}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"large",variant:"contained",sx:{mt:2}},"Update Script")))};function Af(){Af=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var If=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(!1),g=Object(l.a)(y,2),b=g[0],w=g[1],x=Object(n.useState)(null),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(""),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(1),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)(0),F=Object(l.a)(A,2),G=F[0],W=F[1],B=Object(s.c)(function(e){return e.auth}).profile,R=Object(n.useCallback)(function(e){return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})},[]),z=Object(n.useCallback)(function(){var e=Object(c.a)(Af().mark(function e(t){var r,n,a,i=arguments;return Af().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:k,e.prev=1,p(!0),e.next=5,Ct.getAllScriptData(t,r);case 5:n=e.sent,o(n.data.results),a=n.data.count,W(Math.ceil(a/25)),p(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error fetching scripts",e.t0),p(!1);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}(),[k]);Object(n.useEffect)(function(){z(N)},[N,k,z]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(ga,{onSearch:function(e){P(e),T(1)},onReset:function(){P(""),T(1)}})),(B.groups.includes("Sales Manager")||B.groups.includes("Sales Deputy Manager")||B.groups.includes("Sales Assistant Deputy Manager")||B.groups.includes("Director"))&&a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{onClick:function(){return v(!0)},variant:"contained",color:"success",fullWidth:!0},"Add")))),a.a.createElement(vt.a,{sx:{maxHeight:"500px",overflow:"auto"}},r.map(function(e,t){var r=e.script?e.script.split("\n").filter(function(e){return""!==e.trim()}):[];return a.a.createElement(Sf.a,{key:e.id,sx:{margin:1}},a.a.createElement(kf.a,{expandIcon:a.a.createElement(I.a,null),"aria-controls":"panel".concat(t,"a-content"),id:"panel".concat(t,"a-header")},a.a.createElement(E.a,null,t+1,") Subject: ",e.subject)),a.a.createElement(Pf.a,null,a.a.createElement(vt.a,{sx:{marginBottom:4}},a.a.createElement(E.a,{sx:{my:2}},"Script:",r.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:t},e,a.a.createElement("br",null),a.a.createElement("br",null))})),a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Author: ",e.author||"N/A")),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Updated Author: ",e.updated_author||"N/A")),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Creation Date: ",R(e.creation_date))),a.a.createElement(Et.a,{item:!0,xs:12,sm:5},a.a.createElement(E.a,null,"Updation Date: ",R(e.updation_date))),(B.groups.includes("Sales Manager")||B.groups.includes("Sales Deputy Manager")||B.groups.includes("Sales Assistant Deputy Manager")||B.groups.includes("Director"))&&a.a.createElement(Et.a,{item:!0,xs:12,sm:1},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){return function(e){j(e),w(!0)}(e)}},"Edit"))))))})),a.a.createElement(vt.a,{sx:{marginBottom:4}},a.a.createElement(Zn,{currentPage:N,totalPages:G,handlePageChange:function(e,t){T(t)}})),a.a.createElement(ut,{title:"Create Scripts",openPopup:m,setOpenPopup:v},a.a.createElement(Df,{getScriptDetails:z,setOpenPopup:v})),a.a.createElement(ut,{title:"Update Script",openPopup:b,setOpenPopup:w},a.a.createElement(Tf,{setOpenPopup:w,getScriptDetails:z,recordForEdit:_})))};function Ff(){Ff=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Gf=function(e){var t=e.getObjectionDetails,r=e.setOpenPopup,o=Object(n.useState)([]),i=Object(l.a)(o,2),s=i[0],f=i[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=function(e){var t=e.target,r=t.name,n=t.value;f(Object(u.a)({},s,Object(Wt.a)({},r,n)))},y=function(){var e=Object(c.a)(Ff().mark(function e(n){var a;return Ff().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),a={question:s.question,answer:s.answer},m(!0),e.next=6,Ct.createObjectionData(a);case 6:r(!1),m(!1),t(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),m(!1),console.log("error create Objection",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:d}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return y(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"question",size:"small",label:"Question",variant:"outlined",value:s.question||"",onChange:v})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"answer",size:"small",label:"Answer",variant:"outlined",value:s.answer||"",onChange:v}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Wf(){Wf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Bf=function(e){var t=e.getObjectionDetails,r=e.setOpenPopup,o=e.recordForEdit,i=Object(n.useState)(o||{question:"",answer:""}),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=function(e){var t=e.target,r=t.name,n=t.value;p(Object(u.a)({},f,Object(Wt.a)({},r,n)))},g=function(){var e=Object(c.a)(Wf().mark(function e(n){return Wf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),v(!0),e.prev=2,e.next=5,Ct.updateObjectionData(f.id,{question:f.question,answer:f.answer});case 5:t(),r(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error updating Objection",e.t0);case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:m}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:g,sx:{mt:2}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(jt.a,{fullWidth:!0,multiline:!0,name:"question",size:"small",label:"Question",variant:"outlined",value:f.question,onChange:y,sx:{mb:2}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(jt.a,{fullWidth:!0,multiline:!0,minRows:4,name:"answer",label:"Answer",variant:"outlined",value:f.answer,onChange:y,sx:{mb:2}}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"large",variant:"contained",sx:{mt:2}},"Update Objection")))};function Rf(){Rf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var zf=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(!1),g=Object(l.a)(y,2),b=g[0],w=g[1],x=Object(n.useState)(null),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(""),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(1),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)(0),F=Object(l.a)(A,2),G=F[0],W=F[1],B=Object(s.c)(function(e){return e.auth}).profile,R=Object(n.useCallback)(function(e){return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})},[]),z=Object(n.useCallback)(function(){var e=Object(c.a)(Rf().mark(function e(t){var r,n,a,i=arguments;return Rf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:k,e.prev=1,p(!0),e.next=5,Ct.getAllObjectionData(t,r);case 5:n=e.sent,o(n.data.results),a=n.data.count,W(Math.ceil(a/25)),p(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error fetching scripts",e.t0),p(!1);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}(),[k]);Object(n.useEffect)(function(){z(N)},[N,k,z]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(ga,{onSearch:function(e){P(e),T(1)},onReset:function(){P(""),T(1)}})),(B.groups.includes("Sales Manager")||B.groups.includes("Sales Deputy Manager")||B.groups.includes("Sales Assistant Deputy Manager")||B.groups.includes("Director"))&&a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{onClick:function(){return v(!0)},variant:"contained",color:"success",fullWidth:!0},"Add")))),a.a.createElement(vt.a,{sx:{maxHeight:"500px",overflow:"auto"}},r.map(function(e,t){return a.a.createElement(Sf.a,{key:e.id,sx:{margin:1}},a.a.createElement(kf.a,{expandIcon:a.a.createElement(I.a,null),"aria-controls":"panel".concat(t,"a-content"),id:"panel".concat(t,"a-header")},a.a.createElement(E.a,null,t+1,") Question: ",e.question)),a.a.createElement(Pf.a,null,a.a.createElement(vt.a,{sx:{marginBottom:4}},a.a.createElement(E.a,{sx:{my:2}},"Answer: ",e.answer),a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Author: ",e.created_by||"N/A")),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Updated Author: ",e.updated_by||"N/A")),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Creation Date: ",R(e.creation_date))),a.a.createElement(Et.a,{item:!0,xs:12,sm:5},a.a.createElement(E.a,null,"Updation Date: ",R(e.updation_date))),(B.groups.includes("Sales Manager")||B.groups.includes("Sales Deputy Manager")||B.groups.includes("Sales Assistant Deputy Manager")||B.groups.includes("Director"))&&a.a.createElement(Et.a,{item:!0,xs:12,sm:1},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){return function(e){j(e),w(!0)}(e)}},"Edit"))))))})),a.a.createElement(vt.a,{sx:{marginBottom:4}},a.a.createElement(Zn,{currentPage:N,totalPages:G,handlePageChange:function(e,t){T(t)}})),a.a.createElement(ut,{title:"Create Objection",openPopup:m,setOpenPopup:v},a.a.createElement(Gf,{getObjectionDetails:z,setOpenPopup:v})),a.a.createElement(ut,{title:"Update Objection",openPopup:b,setOpenPopup:w},a.a.createElement(Bf,{setOpenPopup:w,getObjectionDetails:z,recordForEdit:_})))};function Mf(){Mf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Uf=function(e){var t=e.getProductObjectionDetails,r=e.setOpenPopup,o=Object(n.useState)([]),i=Object(l.a)(o,2),s=i[0],f=i[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)([]),y=Object(l.a)(v,2),g=y[0],b=y[1];Object(n.useEffect)(function(){E()},[]);var E=function(){var e=Object(c.a)(Mf().mark(function e(){var t;return Mf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,un.getNoDescription();case 3:t=e.sent,b(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),w=function(e){var t=e.target,r=t.name,n=t.value;f(Object(u.a)({},s,Object(Wt.a)({},r,n)))},x=function(){var e=Object(c.a)(Mf().mark(function e(n){var a;return Mf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),a={description:s.description,question:s.question,answer:s.answer},m(!0),e.next=6,Ct.createProductObjectionData(a);case 6:r(!1),m(!1),t(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),m(!1),console.log("error create Objection",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:d}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return x(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{size:"small",sx:{minWidth:180},onChange:function(e,t){w({target:{name:"description",value:t||""}})},value:s.description,options:g.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e||"No Options")},label:"Description"})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"question",size:"small",label:"Question",variant:"outlined",value:s.question||"",onChange:w})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"answer",size:"small",label:"Answer",variant:"outlined",value:s.answer||"",onChange:w}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Yf(){Yf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var qf=function(e){var t=e.getProductObjectionDetails,r=e.setOpenPopup,o=e.recordForEdit,i=Object(n.useState)(o||{description:"",question:"",answer:""}),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)([]),g=Object(l.a)(y,2),b=g[0],E=g[1];Object(n.useEffect)(function(){w()},[]);var w=function(){var e=Object(c.a)(Yf().mark(function e(){var t;return Yf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,un.getNoDescription();case 3:t=e.sent,E(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),x=function(e){var t=e.target,r=t.name,n=t.value;p(Object(u.a)({},f,Object(Wt.a)({},r,n)))},O=function(){var e=Object(c.a)(Yf().mark(function e(n){return Yf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),v(!0),e.prev=2,e.next=5,Ct.updateProductObjectionData(f.id,{description:f.description,question:f.question,answer:f.answer});case 5:t(),r(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error updating Objection",e.t0);case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:m}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:O,sx:{mt:2}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{sx:{minWidth:180},size:"small",onChange:function(e,t){x({target:{name:"description",value:t||""}})},value:f.description,options:b.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e||"No Options")},label:"Description"})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"question",size:"small",label:"Question",variant:"outlined",value:f.question,onChange:x,sx:{mb:2}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,minRows:4,name:"answer",label:"Answer",variant:"outlined",value:f.answer,onChange:x,sx:{mb:2}}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"large",variant:"contained",sx:{mt:2}},"Update Product Objection")))};function Vf(){Vf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Qf=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(!1),g=Object(l.a)(y,2),b=g[0],w=g[1],x=Object(n.useState)(null),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(""),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(1),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)(0),F=Object(l.a)(A,2),G=F[0],W=F[1],B=Object(s.c)(function(e){return e.auth}).profile,R=Object(n.useCallback)(function(e){return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})},[]),z=Object(n.useCallback)(function(){var e=Object(c.a)(Vf().mark(function e(t){var r,n,a,i=arguments;return Vf().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:k,e.prev=1,p(!0),e.next=5,Ct.getAllProductObjectionData(t,r);case 5:n=e.sent,o(n.data.results),a=n.data.count,W(Math.ceil(a/25)),p(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error fetching scripts",e.t0),p(!1);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}(),[k]);Object(n.useEffect)(function(){z(N)},[N,k,z]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(ga,{onSearch:function(e){P(e),T(1)},onReset:function(){P(""),T(1)}})),(B.groups.includes("Sales Manager")||B.groups.includes("Sales Deputy Manager")||B.groups.includes("Sales Assistant Deputy Manager")||B.groups.includes("Director"))&&a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{onClick:function(){return v(!0)},variant:"contained",color:"success",fullWidth:!0},"Add")))),a.a.createElement(vt.a,{sx:{maxHeight:"500px",overflow:"auto"}},r.map(function(e,t){return a.a.createElement(Sf.a,{key:e.id,sx:{margin:1}},a.a.createElement(kf.a,{expandIcon:a.a.createElement(I.a,null),"aria-controls":"panel".concat(t,"a-content"),id:"panel".concat(t,"a-header")},a.a.createElement(vt.a,{sx:{display:"flex",flexDirection:"column"}},a.a.createElement(E.a,null,t+1,") Description: ",e.description||"N/A"),a.a.createElement(E.a,null,"Question: ",e.question))),a.a.createElement(Pf.a,null,a.a.createElement(vt.a,{sx:{marginBottom:4}},a.a.createElement(E.a,{sx:{my:2}},"Answer: ",e.answer),a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Author: ",e.created_by||"N/A")),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Updated Author: ",e.updated_by||"N/A")),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(E.a,null,"Creation Date: ",R(e.creation_date))),a.a.createElement(Et.a,{item:!0,xs:12,sm:5},a.a.createElement(E.a,null,"Updation Date: ",R(e.updation_date))),(B.groups.includes("Sales Manager")||B.groups.includes("Sales Deputy Manager")||B.groups.includes("Sales Assistant Deputy Manager")||B.groups.includes("Director"))&&a.a.createElement(Et.a,{item:!0,xs:12,sm:1},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){return function(e){j(e),w(!0)}(e)}},"Edit"))))))})),a.a.createElement(vt.a,{sx:{marginBottom:4}},a.a.createElement(Zn,{currentPage:N,totalPages:G,handlePageChange:function(e,t){T(t)}})),a.a.createElement(ut,{title:"Create Objection",openPopup:m,setOpenPopup:v},a.a.createElement(Uf,{getProductObjectionDetails:z,setOpenPopup:v})),a.a.createElement(ut,{title:"Update Objection",openPopup:b,setOpenPopup:w},a.a.createElement(qf,{setOpenPopup:w,getProductObjectionDetails:z,recordForEdit:_})))},Hf=function(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),r=t[0],o=t[1];return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(_n,{tabs:[{label:"Scripts"},{label:"Objection"},{label:"Product Objection"}],activeTab:r,onTabChange:function(e){o(e)}}),a.a.createElement("div",{style:{marginTop:"10px"}},0===r&&a.a.createElement("div",null,a.a.createElement(If,null)),1===r&&a.a.createElement("div",null,a.a.createElement(zf,null)),2===r&&a.a.createElement("div",null,a.a.createElement(Qf,null)))))},Kf=r(665),Jf=r(634),Zf=r(666),Xf=r(667),$f=xu.d.create({page:{flexDirection:"column",padding:20},card:{margin:10,padding:10,borderWidth:1,borderColor:"#000",borderRadius:5},section:{marginBottom:10,borderBottomWidth:1,borderBottomColor:"black"},heading:{fontSize:20,fontWeight:"bold",marginBottom:10,textAlign:"center"},subheading:{fontSize:16,fontWeight:"bold",marginBottom:5},underline:{textDecoration:"underline"},keyValueContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",alignItems:"flex-start",marginBottom:5},keyValue:{width:"33%",marginBottom:5,paddingRight:5},text:{fontSize:10,marginBottom:2},dataEntryContainer:{flexDirection:"row",flexWrap:"wrap",alignItems:"flex-start",marginBottom:5},dataEntryText:{fontFamily:"Courier",fontSize:12,marginBottom:3,marginRight:5},entryContainer:{flexDirection:"row",marginBottom:3},textKey:{color:"#666666",fontWeight:"bold",fontSize:10},textValue:{color:"#000000",fontSize:10},colonStyle:{fontSize:12,marginRight:2},signatureSection:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:20},signatureBlock:{borderBottomWidth:1,borderBottomColor:"#000",marginRight:10,alignItems:"center",justifyContent:"center"},signatureText:{fontSize:12,marginTop:5,marginBottom:5,alignSelf:"center"},emailText:{alignSelf:"center"},tableRow:{flexDirection:"row",alignItems:"center",borderBottomWidth:1,borderBottomColor:"#ccc",paddingVertical:2},tableCell:{flex:1,textAlign:"center",fontSize:10,borderRightWidth:1,borderRightColor:"#ccc",paddingHorizontal:2},lastTableCell:{borderRightWidth:0},tableHeader:{fontWeight:"bold",paddingBottom:4},tableCellKey:{fontSize:12,fontWeight:"bold"},tableCellValue:{fontSize:12,flexWrap:"wrap",marginRight:2}}),ep=function(e){var t=e.recordForEdit,r=e.reviewData,n=r.call_performance,o=r.existing_customer,i=r.followup_summary,c=r.pi_summary,u=r.sales_summary,s=r.new_customer_summary,f=r.no_order_customer,p=r.conversion_ratio,h=r.pending_payments,d=r.top_customer,m=r.top_forecast_customer,v=r.today_missed_lead_order,y=r.customer_estimated_order,g=r.today_lead_estimate_order,b=r.today_missed_customer_order,E=r.month_on_month_sales,w=r.whatsapp_summary,x=r.customer_billed_today,O=r.pipeline_summary,_=(n.new_leads.month||0)+(n.existing_leads.month||0)+(n.existing_customer.month||0),j=(n.new_leads.today||0)+(n.existing_leads.today||0)+(n.existing_customer.today||0),L=(n.new_leads.last_7_days||0)+(n.existing_leads.last_7_days||0)+(n.existing_customer.last_7_days||0);return a.a.createElement(xu.a,null,a.a.createElement(xu.c,{style:$f.page},a.a.createElement(xu.e,{style:$f.heading},"Sales Review"),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"Existing Customer"),a.a.createElement(xu.f,{style:$f.keyValueContainer},a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"1) Pending Kyc:"," ",o?o.pending_kyc:0)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"2) Dead Customer:"," ",o?o.dead_customer:0)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"3) Billed Customer:"," ",o?o.billed_customer:0)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"4) Assigned Customer:"," ",o?o.assigned_customer:0)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"5) Pending Potential:"," ",o?o.pending_potential:0)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"6) Connected Customer:"," ",o?o.connected_customer:0)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"7) Not Billed Customer:"," ",o?o.not_billed_customer:0)))),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"Follow-up Summary"),a.a.createElement(xu.f,{style:$f.keyValueContainer},a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"New Follow-up Created Today: ",i.today)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"Hot Lead Created Today: ",i.today_hot_lead)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"Follow-up Missed Today: ",i.today_missed_followup)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"Today's Missed Follow-up:"," ",i.today_missed_forecast)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"Today's Closed Hot Lead:",o?o.today_closed_hot_lead:0)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"Overdue Follow-up: ",i.overdue_followup)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"Overdue Task:",o?o.overdue_task:0)))),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"Call Summary"),a.a.createElement(xu.f,{style:$f.tableRow},a.a.createElement(xu.f,{style:$f.tableCell},a.a.createElement(xu.e,{style:$f.text},"Category")),a.a.createElement(xu.f,{style:$f.tableCell},a.a.createElement(xu.e,{style:$f.text},"Today")),a.a.createElement(xu.f,{style:$f.tableCell},a.a.createElement(xu.e,{style:$f.text},"Last 7 Days Avg")),a.a.createElement(xu.f,{style:[$f.tableCell,$f.lastTableCell]},a.a.createElement(xu.e,{style:$f.text},"This Month"))),a.a.createElement(xu.f,{style:$f.tableRow},a.a.createElement(xu.f,{style:$f.tableCell},a.a.createElement(xu.e,{style:$f.text},"New Leads:")),a.a.createElement(xu.f,{style:$f.tableCell},a.a.createElement(xu.e,{style:$f.text},n?n.new_leads.today:"0")),a.a.createElement(xu.f,{style:$f.tableCell},a.a.createElement(xu.e,{style:$f.text},n?n.new_leads.last_7_days:"0")),a.a.createElement(xu.f,{style:[$f.tableCell,$f.lastTableCell]},a.a.createElement(xu.e,{style:$f.text},n?n.new_leads.month:"0"))),a.a.createElement(xu.f,{style:$f.tableRow},a.a.createElement(xu.f,{style:$f.tableCell},a.a.createElement(xu.e,{style:$f.text},"Existing Leads:")),a.a.createElement(xu.f,{style:$f.tableCell},a.a.createElement(xu.e,{style:$f.text},n?n.existing_leads.today:"0")),a.a.createElement(xu.f,{style:$f.tableCell},a.a.createElement(xu.e,{style:$f.text},n?n.existing_leads.last_7_days:"0")),a.a.createElement(xu.f,{style:[$f.tableCell,$f.lastTableCell]},a.a.createElement(xu.e,{style:$f.text},n?n.existing_leads.month:"0"))),a.a.createElement(xu.f,{style:$f.tableRow},a.a.createElement(xu.f,{style:$f.tableCell},a.a.createElement(xu.e,{style:$f.text},"Existing Customer:")),a.a.createElement(xu.f,{style:$f.tableCell},a.a.createElement(xu.e,{style:$f.text},n?n.existing_customer.today:"0")),a.a.createElement(xu.f,{style:$f.tableCell},a.a.createElement(xu.e,{style:$f.text},n?n.existing_customer.last_7_days:"0")),a.a.createElement(xu.f,{style:[$f.tableCell,$f.lastTableCell]},a.a.createElement(xu.e,{style:$f.text},n?n.existing_customer.month:"0"))),a.a.createElement(xu.f,{style:$f.tableRow},a.a.createElement(xu.f,{style:$f.tableCell},a.a.createElement(xu.e,{style:$f.text},"Total:")),a.a.createElement(xu.f,{style:$f.tableCell},a.a.createElement(xu.e,{style:$f.text},j)),a.a.createElement(xu.f,{style:$f.tableCell},a.a.createElement(xu.e,{style:$f.text},L)),a.a.createElement(xu.f,{style:[$f.tableCell,$f.lastTableCell]},a.a.createElement(xu.e,{style:$f.text},_)))),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"No Order Customer"),a.a.createElement(xu.f,{style:$f.keyValueContainer},a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"0-30 days: ",f["0-30_days"])),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"30-59 days: ",f["30-59_days"])),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"60-89 days: ",f["60-89_days"])),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"90-119 days: ",f["90-119_days"])),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"Over 120 days: ",f.over_120_days)))),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"Pi Summary"),a.a.createElement(xu.f,{style:$f.keyValueContainer},a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"1) Drop: ",c?c.drop:0)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"2) Raised: ",c?c.raised:0)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"3) Month Drop: ",c?c.month_drop:0)))),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"New Customer Summary"),a.a.createElement(xu.f,{style:$f.keyValueContainer},a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"1) Month:"," ",s?s.month:0)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"2) Last Month:"," ",s?s.last_month:0)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"3) Sales Invoice:"," ",s?s.sales_invoice:0)))),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"Pending Payment"),a.a.createElement(xu.f,{style:$f.tableRow},a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"PI Number"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Customer"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Date"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Amount"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell,$f.tableHeader]},"Status")),h.map(function(e,t){return a.a.createElement(xu.f,{key:t,style:$f.tableRow},a.a.createElement(xu.e,{style:$f.tableCell},e.pi_number),a.a.createElement(xu.e,{style:$f.tableCell},e.customer?e.customer:"NA"),a.a.createElement(xu.e,{style:$f.tableCell},e.date),a.a.createElement(xu.e,{style:$f.tableCell},e.amount.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2})),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell]},e.status))})),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"Lead to Customer Ratio"),a.a.createElement(xu.f,{style:$f.keyValueContainer},a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"Lead Count: ",p?p.lead_count:0)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"New Customer:"," ",p?p.new_customer:0)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"Conversion Ratio:"," ",p?p.conversion_ratio:0)))),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"Top Customer"),a.a.createElement(xu.f,{style:$f.tableRow},a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Customer"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Amount"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell,$f.tableHeader]},"Billed This Month")),d.map(function(e,t){return a.a.createElement(xu.f,{key:t,style:$f.tableRow},a.a.createElement(xu.e,{style:$f.tableCell},e.customer),a.a.createElement(xu.e,{style:$f.tableCell},e.amount.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2})),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell]},e.billedThisMonth?"Yes":"No"))})),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"Top Forecast Customer"),a.a.createElement(xu.f,{style:$f.tableRow},a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Customer"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Amount"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell,$f.tableHeader]},"Billed This Month")),m.map(function(e,t){return a.a.createElement(xu.f,{key:t,style:$f.tableRow},a.a.createElement(xu.e,{style:$f.tableCell},e.customer),a.a.createElement(xu.e,{style:$f.tableCell},e.amount.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2})),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell]},e.billedThisMonth?"Yes":"No"))})),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"Today Missed Customer Order"),a.a.createElement(xu.f,{style:$f.tableRow},a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Product"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Customer"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Forecast"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Description"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell,$f.tableHeader]},"Estimated Date")),b.map(function(e,t){return a.a.createElement(xu.f,{key:t,style:$f.tableRow},a.a.createElement(xu.e,{style:$f.tableCell},e.product),a.a.createElement(xu.e,{style:$f.tableCell},e.customer?e.customer:"NA"),a.a.createElement(xu.e,{style:$f.tableCell},e.forecast),a.a.createElement(xu.e,{style:$f.tableCell},e.description),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell]},e.estimated_date))})),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"Today Customer Estimated Order"),a.a.createElement(xu.f,{style:$f.tableRow},a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Customer"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Quantity"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Description"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell,$f.tableHeader]},"Estimated Date")),y.map(function(e,t){return a.a.createElement(xu.f,{key:t,style:$f.tableRow},a.a.createElement(xu.e,{style:$f.tableCell},e.customer?e.customer:"NA"),a.a.createElement(xu.e,{style:$f.tableCell},e.quantity),a.a.createElement(xu.e,{style:$f.tableCell},e.description),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell]},e.estimated_date))})),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"Today Missed Lead Order"),a.a.createElement(xu.f,{style:$f.tableRow},a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Product"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Customer"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Forecast"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Description"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell,$f.tableHeader]},"Estimated Date")),v.map(function(e,t){return a.a.createElement(xu.f,{key:t,style:$f.tableRow},a.a.createElement(xu.e,{style:$f.tableCell},e.product),a.a.createElement(xu.e,{style:$f.tableCell},e.customer?e.customer:"NA"),a.a.createElement(xu.e,{style:$f.tableCell},e.forecast),a.a.createElement(xu.e,{style:$f.tableCell},e.description),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell]},e.estimated_date))})),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"Today Lead Estimate Order"),a.a.createElement(xu.f,{style:$f.tableRow},a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Product"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Customer"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Forecast"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Description"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell,$f.tableHeader]},"Estimated Date")),g.map(function(e,t){return a.a.createElement(xu.f,{key:t,style:$f.tableRow},a.a.createElement(xu.e,{style:$f.tableCell},e.product),a.a.createElement(xu.e,{style:$f.tableCell},e.customer?e.customer:"NA"),a.a.createElement(xu.e,{style:$f.tableCell},e.forecast),a.a.createElement(xu.e,{style:$f.tableCell},e.description),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell]},e.estimated_date))})),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"Sales Summary"),a.a.createElement(xu.f,{style:$f.tableRow},a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Description"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Forecast Quantity"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Unit"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Sales Quantity"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Daily Target"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell,$f.tableHeader]},"Today PI")),u.map(function(e,t){return a.a.createElement(xu.f,{key:t,style:$f.tableRow},a.a.createElement(xu.e,{style:$f.tableCell},e.description),a.a.createElement(xu.e,{style:$f.tableCell},e.forecast_quantity.toString()),a.a.createElement(xu.e,{style:$f.tableCell},e.unit),a.a.createElement(xu.e,{style:$f.tableCell},e.sales_quantity.toString()),a.a.createElement(xu.e,{style:$f.tableCell},e.daily_target.toString()),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell]},Array.isArray(e.today_pi)&&e.today_pi.length>0?e.today_pi.join(", "):"N/A"))})),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"Monthly Sales"),a.a.createElement(xu.f,{style:$f.tableRow},a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Month"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.tableHeader]},"Year"),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell,$f.tableHeader]},"Total Sales")),E.map(function(e,t){return a.a.createElement(xu.f,{key:t,style:$f.tableRow},a.a.createElement(xu.e,{style:$f.tableCell},e.month),a.a.createElement(xu.e,{style:$f.tableCell},e.year),a.a.createElement(xu.e,{style:[$f.tableCell,$f.lastTableCell]},e.total_sales.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2})))})),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"Whatsapp Summary"),a.a.createElement(xu.f,{style:$f.keyValueContainer},a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"1) Customer Not in Group:",w?w.not_customer:0)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"2) Customer Not Having Group:",w?w.not_group:0)),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"3) Sales Person Not in Group:",w?w.not_sale_person:0)))),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"Customer Billing Today"),a.a.createElement(xu.f,{style:$f.keyValueContainer},a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"1) Customer :"," ",x&&x.order_book__company__name?x.order_book__company__name:"N/A")),a.a.createElement(xu.f,{style:$f.keyValue},a.a.createElement(xu.e,{style:$f.text},"2) Amount :"," ",x&&x.amount?x.amount.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2}):"N/A")))),a.a.createElement(xu.f,{style:$f.card},a.a.createElement(xu.e,{style:$f.subheading},"Pipeline Summary"),a.a.createElement(xu.f,{style:$f.section},a.a.createElement(xu.e,{style:$f.subheading},"Hot Lead Performance"),O&&O.hot_lead_performance&&Object.entries(O.hot_lead_performance).map(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return a.a.createElement(xu.f,{key:r,style:$f.entryContainer},a.a.createElement(xu.e,{style:$f.textKey},r.replace(/_/g," ").replace(/^\w/,function(e){return e.toUpperCase()}),":"),a.a.createElement(xu.e,{style:$f.textValue}," ",n))})),a.a.createElement(xu.f,{style:$f.section},a.a.createElement(xu.e,{style:$f.subheading},"Lead Pipeline"),O&&O.lead_pipeline&&Object.entries(O.lead_pipeline).map(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return a.a.createElement(xu.f,{key:r,style:$f.entryContainer},a.a.createElement(xu.e,{style:$f.textKey},r.replace(/_/g," ").replace(/^\w/,function(e){return e.toUpperCase()}),":"),a.a.createElement(xu.e,{style:$f.textValue}," ",n))}))),a.a.createElement(xu.f,{style:$f.signatureSection},a.a.createElement(xu.f,{style:$f.signatureBlock},a.a.createElement(xu.e,{style:$f.signatureText},"Sales Person"),a.a.createElement(xu.e,{style:[$f.signatureText,$f.emailText]},t.sales_person)),a.a.createElement(xu.f,{style:$f.signatureBlock},a.a.createElement(xu.e,{style:$f.signatureText},"Reviewer"),a.a.createElement(xu.e,{style:[$f.signatureText,$f.emailText]},t.reviewer)))))};function tp(){tp=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var rp=function(e){return e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")},np=function(e){var t=e.title,r=e.children,n=e.xs,o=e.sm,i=e.lg;return a.a.createElement(Et.a,{item:!0,xs:n,sm:o,lg:i},a.a.createElement(Zf.a,{raised:!0},a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},t),a.a.createElement(v.a,{light:!0}),r)))},ap=function(e){var t=e.callPerformanceData,r=Object.values(t).reduce(function(e,t){return e.today+=t.today,e.last_7_days+=t.last_7_days,e.month+=t.month,e},{today:0,last_7_days:0,month:0});return a.a.createElement(Bt.a,null,a.a.createElement(Rt.a,null,a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,null,"Category"),a.a.createElement(Ut.a,{align:"right"},"Today"),a.a.createElement(Ut.a,{align:"right"},"Last 7 Days Avg"),a.a.createElement(Ut.a,{align:"right"},"This Month"))),a.a.createElement(Mt.a,null,Object.entries(t).map(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return a.a.createElement(Yt.a,{key:r},a.a.createElement(Ut.a,{component:"th",scope:"row"},rp(r.replace(/_/g," "))),a.a.createElement(Ut.a,{align:"right"},n.today),a.a.createElement(Ut.a,{align:"right"},n.last_7_days),a.a.createElement(Ut.a,{align:"right"},n.month))}),a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{component:"th",scope:"row"},"Total"),a.a.createElement(Ut.a,{align:"right"},r.today),a.a.createElement(Ut.a,{align:"right"},r.last_7_days),a.a.createElement(Ut.a,{align:"right"},r.month)))))},op=function(e){var t=e.label,r=e.count;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Xf.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",py:1}},a.a.createElement(E.a,{variant:"subtitle1"},t),a.a.createElement(E.a,{variant:"subtitle1",sx:{fontWeight:"bold"}},r)),a.a.createElement(v.a,{variant:"middle"}))},ip=function(e){var t=e.recordForEdit,r=Object(S.a)();console.log("recordForEdit",JSON.stringify(t,null,2));var n=(t||{}).daily_sales_review,o=void 0===n?{}:n;console.log("reviewData",JSON.stringify(o,null,2));var i=o.call_performance,u=o.existing_customer,s=o.followup_summary,f=o.pi_summary,p=o.sales_summary,h=o.new_customer_summary,d=o.no_order_customer,m=o.conversion_ratio,g=o.pending_payments,b=o.top_customer,w=o.top_forecast_customer,x=o.today_missed_lead_order,O=o.customer_estimated_order,_=o.today_lead_estimate_order,j=o.today_missed_customer_order,L=o.month_on_month_sales,k=o.whatsapp_summary,P=o.customer_billed_today,C=o.pipeline_summary,D=u.assigned_customer,N=Object.entries(d),T=N.reduce(function(e,t){return e+Object(l.a)(t,2)[1]},0),A=function(){var e=Object(c.a)(tp().mark(function e(){var r,n,i;return tp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new wu.a,e.next=4,Object(xu.g)(a.a.createElement(ep,{recordForEdit:t,reviewData:o}),r).toBlob();case 4:n=e.sent,(i=document.createElement("a")).href=URL.createObjectURL(n),i.download="sales_review.pdf",i.click(),document.body.removeChild(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Error exporting PDF:",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:A},"Download as PDF"),a.a.createElement("div",{style:{padding:r.spacing(3)},id:"divToPrint"},a.a.createElement(Et.a,{container:!0,spacing:3},a.a.createElement(np,{title:"Customer Overview",xs:12,sm:6,lg:4},a.a.createElement(y.a,null,u?Object.entries(u).map(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return function(e,t,r){var n=rp(e),o=t/r*100;return a.a.createElement(q.a,{key:e},a.a.createElement(Q.a,{primary:n,secondary:a.a.createElement(Kf.a,{variant:"determinate",value:o})}),a.a.createElement(Jf.a,null,a.a.createElement(E.a,{variant:"caption"},"".concat(t," (").concat(o.toFixed(2),"%)"))))}(r.replace(/_/g," "),n,D)}):a.a.createElement(E.a,null,"No Customer Data Available"))),a.a.createElement(np,{title:"Follow-up Summary",xs:12,sm:6,lg:4},a.a.createElement(op,{label:"New Follow-up Created Today",count:s.today}),a.a.createElement(op,{label:"Hot Lead Created Today",count:s.today_hot_lead}),a.a.createElement(op,{label:"Follow-up Missed Today",count:s.today_missed_followup}),a.a.createElement(op,{label:"Today's Missed Follow-up",count:s.today_missed_forecast}),a.a.createElement(op,{label:"Today's Closed Hot Lead",count:s.today_closed_hot_lead}),a.a.createElement(op,{label:"Overdue Follow-up",count:s.overdue_followup}),a.a.createElement(op,{label:"Overdue Task",count:s.overdue_task})),a.a.createElement(np,{title:"Call Summary Overview",xs:12,sm:6,lg:4},a.a.createElement(ap,{callPerformanceData:i})),a.a.createElement(np,{title:"No Order Customer Overview",xs:12,sm:6,lg:4},N.length>0?N.map(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return a.a.createElement(op,{key:r,label:rp(r.replace(/_/g," ")),count:n})}):a.a.createElement(E.a,{variant:"subtitle1"},"No Customer Data Available"),a.a.createElement(vt.a,{mt:2,sx:{textAlign:"center"}},a.a.createElement(E.a,{variant:"subtitle1",color:"textPrimary"},"Total Count: ",T))),a.a.createElement(np,{title:"PI Summary",xs:12,sm:6,lg:4},a.a.createElement(op,{label:"Raised Today",count:f.raised}),a.a.createElement(op,{label:"PI Dropped Today",count:f.drop}),a.a.createElement(op,{label:"PI Drop This Month",count:f.month_drop})),a.a.createElement(np,{title:"New Customer Summary",xs:12,sm:6,lg:4},a.a.createElement(op,{label:" New Customer Last Month",count:h.last_month}),a.a.createElement(op,{label:"New Customer This Month",count:h.month}),a.a.createElement(op,{label:"New Customer Billed Today",count:h.sales_invoice})),a.a.createElement(np,{title:"Pending Payments",xs:12},a.a.createElement(Bt.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Rt.a,{stickyHeader:!0,"aria-label":"Pending Payment Overview"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,null,"Date"),a.a.createElement(Ut.a,null,"Amount"),a.a.createElement(Ut.a,null,"Status"),a.a.createElement(Ut.a,null,"Customer"),a.a.createElement(Ut.a,null,"PI Number"))),a.a.createElement(Mt.a,null,o&&g&&g.map(function(e,t){return a.a.createElement(Yt.a,{key:t},a.a.createElement(Ut.a,null,e.date),a.a.createElement(Ut.a,null,e.amount.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2})),a.a.createElement(Ut.a,null,e.status),a.a.createElement(Ut.a,null,e.customer),a.a.createElement(Ut.a,null,e.pi_number))}))))),a.a.createElement(np,{title:"Top Customer",xs:6},a.a.createElement(Bt.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Rt.a,{stickyHeader:!0,"aria-label":"Top Customer Overview"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,null,"Customer"),a.a.createElement(Ut.a,null,"Amount"),a.a.createElement(Ut.a,null,"Billed This Month"))),a.a.createElement(Mt.a,null,o&&b&&b.map(function(e,t){return a.a.createElement(Yt.a,{key:t},a.a.createElement(Ut.a,null,e.customer),a.a.createElement(Ut.a,null,e.amount.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2})),a.a.createElement(Ut.a,null,e.is_billed_this_month))}))))),a.a.createElement(np,{title:"Top Forecast Customer",xs:6},a.a.createElement(Bt.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Rt.a,{stickyHeader:!0,"aria-label":"Top Forecast Customer Overview"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,null,"Customer"),a.a.createElement(Ut.a,null,"Amount"),a.a.createElement(Ut.a,null,"Billed This Month"))),a.a.createElement(Mt.a,null,o&&w&&w.map(function(e,t){return a.a.createElement(Yt.a,{key:t},a.a.createElement(Ut.a,null,e.customer),a.a.createElement(Ut.a,null,e.amount.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2})),a.a.createElement(Ut.a,null,e.is_billed_this_month))}))))),a.a.createElement(np,{title:"Today Missed Customer Order",xs:6},a.a.createElement(Bt.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Rt.a,{stickyHeader:!0,"aria-label":"Missed Customer Orders"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,null,"Forecast"),a.a.createElement(Ut.a,null,"Estimated Date"),a.a.createElement(Ut.a,null,"Customer"),a.a.createElement(Ut.a,null,"Description"),a.a.createElement(Ut.a,null,"Product"))),a.a.createElement(Mt.a,null,o&&j&&j.map(function(e,t){return a.a.createElement(Yt.a,{key:t},a.a.createElement(Ut.a,null,e.forecast),a.a.createElement(Ut.a,null,e.estimated_date),a.a.createElement(Ut.a,null,e.customer),a.a.createElement(Ut.a,null,e.description),a.a.createElement(Ut.a,null,e.product))}))))),a.a.createElement(np,{title:"Today Estimate Customer Order",xs:6},a.a.createElement(Bt.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Rt.a,{stickyHeader:!0,"aria-label":"Estimate Customer Order"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,null,"Customer"),a.a.createElement(Ut.a,null,"Estimated Date"),a.a.createElement(Ut.a,null,"Description"),a.a.createElement(Ut.a,null,"Product"),a.a.createElement(Ut.a,null,"Quantity"))),a.a.createElement(Mt.a,null,o&&O&&O.map(function(e,t){return a.a.createElement(Yt.a,{key:t},a.a.createElement(Ut.a,null,e.customer),a.a.createElement(Ut.a,null,e.estimated_date),a.a.createElement(Ut.a,null,e.description),a.a.createElement(Ut.a,null,e.product),a.a.createElement(Ut.a,null,e.quantity))}))))),a.a.createElement(np,{title:"Today Missed Lead Order",xs:6},a.a.createElement(Bt.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Rt.a,{stickyHeader:!0,"aria-label":"Missed Customer Orders"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,null,"Quantity"),a.a.createElement(Ut.a,null,"Anticipated Date"),a.a.createElement(Ut.a,null,"Customer"),a.a.createElement(Ut.a,null,"Description"),a.a.createElement(Ut.a,null,"Product"))),a.a.createElement(Mt.a,null,o&&x&&x.map(function(e,t){return a.a.createElement(Yt.a,{key:t},a.a.createElement(Ut.a,null,e.quantity),a.a.createElement(Ut.a,null,e.anticipated_date),a.a.createElement(Ut.a,null,e.customer),a.a.createElement(Ut.a,null,e.description),a.a.createElement(Ut.a,null,e.product))}))))),a.a.createElement(np,{title:"Today Lead Estimate Order",xs:6},a.a.createElement(Bt.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Rt.a,{stickyHeader:!0,"aria-label":"Lead Estimate Order"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,null,"Stage"),a.a.createElement(Ut.a,null,"Customer"),a.a.createElement(Ut.a,null,"Anticipated Date"),a.a.createElement(Ut.a,null,"Description"),a.a.createElement(Ut.a,null,"Product"),a.a.createElement(Ut.a,null,"Quantity"))),a.a.createElement(Mt.a,null,o&&_&&_.map(function(e,t){return a.a.createElement(Yt.a,{key:t},a.a.createElement(Ut.a,null,e.stage),a.a.createElement(Ut.a,null,e.customer),a.a.createElement(Ut.a,null,e.anticipated_date),a.a.createElement(Ut.a,null,e.description),a.a.createElement(Ut.a,null,e.product),a.a.createElement(Ut.a,null,e.quantity))}))))),a.a.createElement(np,{title:"Sales Summary",xs:12},a.a.createElement(Bt.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Rt.a,{stickyHeader:!0,"aria-label":"Sales Summary Table"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,null,"Description"),a.a.createElement(Ut.a,null,"Forecast Quantity"),a.a.createElement(Ut.a,null,"Unit"),a.a.createElement(Ut.a,null,"Sales Quantity"),a.a.createElement(Ut.a,null,"Daily Target"),a.a.createElement(Ut.a,null,"Today PI"))),a.a.createElement(Mt.a,null,p?p.map(function(e,t){return a.a.createElement(Yt.a,{key:t},a.a.createElement(Ut.a,null,e.description),a.a.createElement(Ut.a,null,e.forecast_quantity),a.a.createElement(Ut.a,null,e.unit),a.a.createElement(Ut.a,null,e.sales_quantity),a.a.createElement(Ut.a,null,e.daily_target),a.a.createElement(Ut.a,null,Array.isArray(e.today_pi)&&e.today_pi.length>0?e.today_pi.join(", "):"N/A"))}):a.a.createElement(E.a,null,"No Sales Summary Data Available"))))),a.a.createElement(np,{title:"Monthly Sales Chart",xs:12},a.a.createElement(Bt.a,{style:{maxHeight:"400px",overflow:"auto"}},a.a.createElement(Rt.a,{stickyHeader:!0,"aria-label":"Monthly Sales Overview"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,null,"Month"),a.a.createElement(Ut.a,null,"Year"),a.a.createElement(Ut.a,null,"Total Sales"))),a.a.createElement(Mt.a,null,o&&L&&L.map(function(e,t){return a.a.createElement(Yt.a,{key:t},a.a.createElement(Ut.a,null,e.month),a.a.createElement(Ut.a,null,e.year),a.a.createElement(Ut.a,null,e.total_sales?e.total_sales.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2}):"N/A"))}))))),a.a.createElement(np,{title:"Lead to Customer Ratio",xs:4},a.a.createElement(op,{label:"Lead Count",count:m.lead_count}),a.a.createElement(op,{label:"New Customer",count:m.new_customer}),a.a.createElement(op,{label:"Conversion Ratio",count:m.conversion_ratio})),a.a.createElement(np,{title:"Whatsapp Summary",xs:4},a.a.createElement(op,{label:"Customer Not in WhatsApp Group",count:k.not_customer}),a.a.createElement(op,{label:"Customer Not Having WhatsApp Group",count:k.not_group}),a.a.createElement(op,{label:"Sales Person Not in Group",count:k.not_sale_person})),a.a.createElement(np,{title:"Customer Billing Today",xs:4},a.a.createElement(op,{label:"Customer",count:P&&P.order_book__company?P.order_book__company__name:"N/A"}),a.a.createElement(op,{label:"Amount",count:P&&P.amount?P.amount.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2}):"N/A"})),a.a.createElement(np,{title:"Pipeline Summary",xs:12},a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary",gutterBottom:!0},"Hot Lead Performance"),C&&C.hot_lead_performance&&Object.entries(C.hot_lead_performance).map(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return a.a.createElement(E.a,{variant:"body2",key:r,sx:{mb:1}},"".concat(r.replace(/_/g," ").replace(/^\w/,function(e){return e.toUpperCase()}),": ").concat(n))}),a.a.createElement(v.a,{sx:{my:2}}),a.a.createElement(E.a,{variant:"h6",color:"primary",gutterBottom:!0},"Lead Pipeline"),C&&C.lead_pipeline&&Object.entries(C.lead_pipeline).map(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return a.a.createElement(E.a,{variant:"body2",key:r,sx:{mb:1}},"".concat(r.replace(/_/g," ").replace(/^\w/,function(e){return e.toUpperCase()}),": ").concat(n))})))),a.a.createElement(vt.a,{display:"flex",justifyContent:"space-between",mt:4,alignItems:"center"},a.a.createElement(vt.a,{width:"50%",textAlign:"center"},a.a.createElement(E.a,{variant:"h6"},"Sales Person"),a.a.createElement(vt.a,{mt:2},a.a.createElement(E.a,{variant:"body1"},t.sales_person)),a.a.createElement(vt.a,{borderBottom:1,width:"50%",mx:"auto",mt:2})),a.a.createElement(vt.a,{width:"50%",textAlign:"center"},a.a.createElement(E.a,{variant:"h6"},"Reviewed By"),a.a.createElement(vt.a,{mt:2},a.a.createElement(E.a,{variant:"body1"},t.reviewer)),a.a.createElement(vt.a,{borderBottom:1,width:"50%",mx:"auto",mt:2})))))};function cp(){cp=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var lp=function(e){var t=e.setOpenPopup,r=e.getDailySaleReviewData,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],f=i[1],p=Object(n.useState)(null),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(""),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(s.c)(function(e){return e.auth.profile}).sales_users||[],w=function(){var e=Object(c.a)(cp().mark(function e(n){var a;return cp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,f(!0),a={sales_person:d},e.next=6,Ct.createDailySaleReviewData(a);case 6:t(!1),r(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error while creating sales review",e.t0),b("Error creating sales review.");case 14:return e.prev=14,f(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,10,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:u}),g&&a.a.createElement("div",{className:"error-message"},g)," ",a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:w},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{sx:{width:"100%"},size:"small",onChange:function(e,t){m(t)},value:d,options:E.map(function(e){return e.email}),getOptionLabel:function(e){return e||""},label:"Filter By Sales Person"}))),a.a.createElement(Qn,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2},text:"Submit"})))};function up(){up=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var sp=function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getDailySaleReviewData,i=Object(n.useState)(t.performance),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(""),y=Object(l.a)(v,2),g=y[0],b=y[1];Object(n.useEffect)(function(){f(t.performance)},[t]);var E=function(){var e=Object(c.a)(up().mark(function e(n){var a;return up().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,m(!0),a={performance:s},e.next=6,Ct.updateDailySaleReviewData(t.id,a);case 6:o(),r(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),b("Error updating performance data"),console.error("Error while creating sales review",e.t0);case 14:return e.prev=14,m(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,10,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:d}),g&&a.a.createElement("div",null,g),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:E},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{size:"small",sx:{width:300,marginRight:"10px"},onChange:function(e,t){return f(t)},value:s,options:["On Track","Under Performing","Over Performing"].map(function(e){return e}),getOptionLabel:function(e){return e},label:"Performance"}))),a.a.createElement(Qn,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2},text:"Submit"})))};function fp(){fp=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var pp=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=e.sales_users||[],r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],f=Object(n.useState)([]),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(!1),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(""),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(!1),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)(null),N=Object(l.a)(D,2),T=N[0],A=N[1],I="".concat((new Date).getFullYear(),"-").concat(((new Date).getMonth()+1).toString().padStart(2,"0")),F=Object(n.useState)(I),G=Object(l.a)(F,2),W=G[0],B=G[1],R=Object(n.useState)(null),z=Object(l.a)(R,2),M=z[0],U=z[1],Y=Object(n.useCallback)(function(){var e=Object(c.a)(fp().mark(function e(t){var r,n,a,o=arguments;return fp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:M,n=o.length>2&&void 0!==o[2]?o[2]:j,u(!0),e.prev=3,console.log("selectedYearMonth in api",W),e.next=7,Ct.getDailySaleReviewData(t,r,n);case 7:a=e.sent,console.log("response",a),a&&a.data&&d(a.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("Error fetching daily sales review data",e.t0);case 15:return e.prev=15,u(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[3,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[M,j]);Object(n.useEffect)(function(){Y(W)},[W,Y]);var q=function(){var e=Object(c.a)(fp().mark(function e(t){var r;return fp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Ct.getDailySaleReviewById(t.id);case 4:r=e.sent,console.log("response",r),r&&r.data&&A(r.data),C(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error",e.t0);case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:i}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},!e.groups.includes("Sales Executive")&&a.a.createElement(Lt,{size:"small",type:"month",label:"Filter By Month and Year",value:W,onChange:function(e){return B(e.target.value)},sx:{width:300,marginRight:"10px"}}),!e.groups.includes("Sales Executive")&&a.a.createElement(yr,{size:"small",sx:{width:300,marginRight:"10px"},onChange:function(e,t){return function(e){U(e),Y(W,e,j)}(t)},value:M,options:t.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Filter By Sales Person"}),a.a.createElement(Lt,{size:"small",label:"Search",variant:"outlined",value:j,onChange:function(e){return L(e.target.value)},sx:{marginRight:"10px"}}),a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){return Y(W,M,j)},sx:{marginRight:"10px"}},"Search"),a.a.createElement(yt.a,{variant:"contained",color:"secondary",onClick:function(){L(""),Y(W,M,"")}},"Reset"),!e.groups.includes("Sales Executive")&&a.a.createElement(yt.a,{variant:"contained",color:"success",onClick:function(){return g(!0)},sx:{marginLeft:"10px"}},"Add")),a.a.createElement(vt.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Sales Review")),a.a.createElement(Bt.a,{component:Tr.a},a.a.createElement(Rt.a,{sx:{minWidth:700},"aria-label":"customized table"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,["Id","Sales Person","Reviewd By","Reporting Manager","Date","Performance","Action"].map(function(e){return a.a.createElement(hp,{align:"center",key:e},e)}))),a.a.createElement(Mt.a,null,h.map(function(t,r){return a.a.createElement(dp,{key:t.id||r},a.a.createElement(hp,{align:"center"},t.id),a.a.createElement(hp,{align:"center"},t.sales_person),a.a.createElement(hp,{align:"center"},t.reviewer),a.a.createElement(hp,{align:"center"},t.reporting_manager),a.a.createElement(hp,{align:"center"},t.review_date),a.a.createElement(hp,{align:"center"},t.performance),a.a.createElement(hp,{align:"center"},a.a.createElement(yt.a,{onClick:function(){return q(t)}},"View"),!e.groups.includes("Sales Executive")&&a.a.createElement(yt.a,{color:"secondary",onClick:function(){return e=t,console.log("item",e.id),A(e),void x(!0);var e}},"Edit")))})))),a.a.createElement(ut,{maxwidth:"xl",title:"Create Sale Review",openPopup:y,setOpenPopup:g},a.a.createElement(lp,{setOpenPopup:g,getDailySaleReviewData:Y})),a.a.createElement(ut,{fullScreen:!0,title:"View Sale Review",openPopup:P,setOpenPopup:C},a.a.createElement(ip,{setOpenPopup:C,recordForEdit:T})),a.a.createElement(ut,{maxwidth:"xl",title:"Update Performace",openPopup:w,setOpenPopup:x},a.a.createElement(sp,{setOpenPopup:x,recordForEdit:T,getDailySaleReviewData:Y})))))},hp=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),dp=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function mp(){mp=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var vp=function(e){var t=e.addNewJobOpening,r=Object(n.useState)({closing_date:null,designation:"",department:"",location:"",position:"",salary_ranges:"",notes:""}),o=Object(l.a)(r,2),i=o[0],s=o[1],f=Object(n.useState)([]),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)([]),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1];Object(n.useEffect)(function(){var e=function(){var e=Object(c.a)(mp().mark(function e(){var t;return mp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ze.get("/api/hr/designation/?type=list");case 3:t=e.sent,console.log("API Response:",t.data),d(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching designations:",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(c.a)(mp().mark(function e(){var t,r;return mp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ze.get("/api/hr/department/");case 3:t=e.sent,r=t.data.filter(function(e){return null!=e.department}),g(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching departments:",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(c.a)(mp().mark(function e(){var t;return mp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ze.get("/api/user/users/?is_active=True");case 3:t=e.sent,Array.isArray(t.data.users)&&x(t.data.users.map(function(e){return e.email})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching Emails:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();e(),t(),r()},[]);var O=function(e,t){var r=t||e.target.value,n=e.target.name||e.target.id.split("-")[0];s(Object(u.a)({},i,Object(Wt.a)({},n,r)))};return a.a.createElement(vt.a,null,a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{style:{minWidth:220},size:"small",onChange:function(e,t){s(Object(u.a)({},i,{designation:t}))},name:"designation",options:h.map(function(e){return e.designation}),getOptionLabel:function(e){return e||""},label:"Designation",value:i.designation})),a.a.createElement(Et.a,{item:!0,xs:12},Array.isArray(y)&&a.a.createElement(yr,{style:{minWidth:220},size:"small",onChange:function(e,t){s(Object(u.a)({},i,{department:t}))},name:"department",options:y.map(function(e){return e.department}),getOptionLabel:function(e){return e||""},label:"Department",value:i.department})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{id:"location",size:"small",options:["Andheri Head Office","Andheri Sales Office","Bhiwandi Factory","Delhi Factory"],fullWidth:!0,label:"Location",value:i.location,onChange:function(e,t){O(e,t)}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{size:"small",value:i.position,onChange:function(e,t){O({target:{name:"position",value:t}})},options:["New","Replacement","Backup"],label:"Position"})),"Replacement"===i.position&&a.a.createElement(yr,{size:"small",id:"replacement_user",options:w,fullWidth:!0,label:"Replacement Email",value:i.replacement_user,onChange:function(e,t){s(Object(u.a)({},i,{replacement_user:t}))}}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(jt.a,{size:"small",name:"no_of_openings",label:"No Of Vacancies",value:i.no_of_openings||"",onChange:O,fullWidth:!0})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{size:"small",id:"salary_ranges",options:["0.6 LPA - 1.2 LPA","1.2 LPA - 1.8 LPA","1.8 LPA - 2.4 LPA","2.4 LPA - 3.0 LPA","3.0 LPA - 3.6 LPA","3.6 LPA - 4.2 LPA","4.8 LPA - 6.0 LPA","7.2 LPA - 9.6 LPA","9.6 LPA - 12 LPA","12 LPA - 15 LPA","15 LPA - 18 LPA","18 LPA - 21 LPA","21 LPA - 24 LPA","24 LPA - Above"],fullWidth:!0,label:"Salary Range",value:i.salary_ranges,onChange:function(e,t){O(e,t)}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(jt.a,{size:"small",label:"Notes",name:"notes",fullWidth:!0,multiline:!0,rows:4,value:i.notes,onChange:O})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){t(i)}},"Add Job Opening"))))};function yp(){yp=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var gp=function(e){var t=e.recordForEdit,r=e.updateJobOpening,o=e.setOpenUpdatePopup,i=Object(n.useState)(t||{}),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)([]),d=Object(l.a)(h,2),m=d[0],v=d[1];Object(n.useEffect)(function(){var e=function(){var e=Object(c.a)(yp().mark(function e(){var t;return yp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ze.get("/api/user/users/?is_active=True");case 3:t=e.sent,Array.isArray(t.data.users)&&v(t.data.users.map(function(e){return e.email})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching Emails:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();null!=t&&p(t),e()},[t]);var y=function(e){var t=e.target,r=t.name,n=t.value;p(Object(u.a)({},f,Object(Wt.a)({},r,n)))},g=function(){var e=Object(c.a)(yp().mark(function e(t){return yp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!f||!f.id){e.next=7;break}return""===f.closing_date&&(f.closing_date=null),e.next=6,r(f.id,f);case 6:o(!1);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error updating job opening:",e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("form",{onSubmit:g},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(jt.a,{size:"small",label:"Date Of Closing",name:"closing_date",fullWidth:!0,type:"date",value:f.closing_date||null,onChange:y,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(jt.a,{size:"small",name:"no_of_openings",label:"No Of Vacancies",value:f.no_of_openings||"",onChange:y,fullWidth:!0})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{size:"small",id:"salary_ranges",options:["0.6 LPA - 1.2 LPA","1.2 LPA - 1.8 LPA","1.8 LPA - 2.4 LPA","2.4 LPA - 3.0 LPA","3.0 LPA - 3.6 LPA","3.6 LPA - 4.2 LPA","4.8 LPA - 6.0 LPA","7.2 LPA - 9.6 LPA","9.6 LPA - 12 LPA","12 LPA - 15 LPA","15 LPA - 18 LPA","18 LPA - 21 LPA","21 LPA - 24 LPA","24 LPA - Above"],fullWidth:!0,label:"Salary Range",value:f.salary_ranges||"",onChange:function(e,t){p(Object(u.a)({},f,{salary_ranges:t}))}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{size:"small",value:f.position,onChange:function(e,t){y({target:{name:"position",value:t}})},options:["New","Replacement","Backup"],label:"Position"})),"Replacement"===f.position&&a.a.createElement(yr,{size:"small",id:"replacement_user",options:m,fullWidth:!0,label:"Replacement Email",value:f.replacement_user,onChange:function(e,t){p(Object(u.a)({},f,{replacement_user:t}))}}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(vt.a,{display:"flex",justifyContent:"flex-end",mt:2},a.a.createElement(yt.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary"},"Update Job Opening")))))},bp={getDesignationsData:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/hr/designation/?".concat(r.toString()))},addDesignation:function(e){return Ze.post("/api/hr/designation/",{designation:e})},updateDesignations:function(e,t){return console.log("data",t),Ze.patch("/api/hr/designation/".concat(e,"/"),t)},getDepartment:function(){return Ze.get("/api/hr/department/")},addDepartment:function(e){return Ze.post("/api/hr/department/",{department:e})},updateDepartment:function(e,t){return Ze.patch("/api/hr/department/".concat(e,"/"),t)},getSource:function(){return Ze.get("/api/hr/source/")},addSource:function(e){return Ze.post("/api/hr/source/",{name:e.name})},updateSource:function(e,t){return console.log("data",t),Ze.patch("/api/hr/source/".concat(e,"/"),{name:t.name})},getJobOpening:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("/api/hr/job-opening/?".concat(r.toString()))},getJobOpeningById:function(e){return Ze.get("/api/hr/job-opening/".concat(e,"/"))},addJobOpening:function(e){return Ze.post("/api/hr/job-opening/",e)},updateJobOpening:function(e,t){return Ze.patch("/api/hr/job-opening/".concat(e,"/"),t)},getApplicants:function(e,t){var r=new URLSearchParams;return e&&r.append("page",e),t&&r.append("search",t),Ze.get("api/hr/applicant/?".concat(r.toString()))},addApplicant:function(e){return Ze.post("/api/hr/applicant/",e)},updateApplicant:function(e,t){return Ze.patch("/api/hr/applicant/".concat(e,"/"),t)},getInterviewStatus:function(){return Ze.get("/api/hr/applicant/?is_shortlisted=True")},addInterviewDate:function(e){return Ze.post("/api/hr/interview-details/",e)},getInterviewDate:function(){return Ze.get("/api/hr/interview-details/")},updateInterviewDate:function(e,t){return Ze.patch("/api/hr/interview-details/".concat(e,"/"),t)},getOfferStatus:function(){return Ze.get("/api/hr/interview-details/?stage=Selected")},updateOfferStatus:function(e,t){return Ze.patch("/api/hr/interview-details/".concat(e,"/?stage=Selected"),t)},getMisReport:function(){return Ze.get("/api/hr/mis-report/")},getRejectedCandidates:function(){return Ze.get("/api/hr/interview-details/?stage=Rejected")},updateRejectedCandidates:function(e,t){return Ze.patch("/api/hr/interview-details/".concat(e,"/?stage=Rejected"),t)}};function Ep(){Ep=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var wp=function(e){var t=e.jobOpeningId;console.log("jobOpeningId:",t);var r=Object(n.useState)({job:t,name:"",contact:"",email:"",qualification:"",current_location:"",current_salary:"",expected_salary:"",spoken_english:"",source:"",interested:"",shortlisted:!1}),o=Object(l.a)(r,2),i=o[0],s=o[1],f=Ln(),p=f.handleSuccess,h=f.handleError,d=f.handleCloseSnackbar,m=f.alertInfo,v=Object(n.useState)([]),y=Object(l.a)(v,2),g=y[0],b=y[1];Object(n.useEffect)(function(){(function(){var e=Object(c.a)(Ep().mark(function e(){var t;return Ep().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ze.get("/api/hr/source/");case 3:t=e.sent,Array.isArray(t.data)&&b(t.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),h("error"),console.error("Error fetching designations:",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}})()()},[]);var E=function(e,t,r){if(r)s(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,t))});else{var n=e.target,a=n.name,o=n.value;"contact"!==a||o.startsWith("+91")||(o="+91".concat(o)),s(function(e){return Object(u.a)({},e,Object(Wt.a)({},a,o))})}},w=function(){var e=Object(c.a)(Ep().mark(function e(t){var r;return Ep().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,bp.addApplicant(i);case 4:r=e.sent,console.log("Applicant created:",r.data),p("Applicant created successfully"),setTimeout(function(){},300),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),h(e.t0),console.error("Error creating applicant:",e.t0);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:m.open,onClose:d,severity:m.severity,message:m.message}),a.a.createElement(gt.a,{component:"form",onSubmit:w,noValidate:!0,sx:{mt:1,height:"70vh",overflowY:"auto"}},a.a.createElement(vt.a,null,a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(jt.a,{size:"small",label:"Name of Candidate",name:"name",fullWidth:!0,value:i.name,onChange:E})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(jt.a,{size:"small",label:"Phone Number",name:"contact",fullWidth:!0,value:i.contact,onChange:E})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(jt.a,{size:"small",label:"Email Address",name:"email",fullWidth:!0,value:i.email,onChange:E})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(jt.a,{size:"small",label:"Highest Education Qualification",name:"qualification",fullWidth:!0,value:i.qualification,onChange:E})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{size:"small",style:{minWidth:220},onChange:function(e,t){return E({target:{name:"source",value:t}},t)},options:g.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Candidate Source",value:i.source})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(jt.a,{size:"small",fullWidth:!0,label:"Current Location",name:"current_location",value:i.current_location,onChange:E})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(jt.a,{size:"small",label:"Current Salary",name:"current_salary",fullWidth:!0,value:i.current_salary,onChange:E})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{size:"small",id:"expected_salary",options:["0.6 LPA - 1.2 LPA","1.2 LPA - 1.8 LPA","1.8 LPA - 2.4 LPA","2.4 LPA - 3.0 LPA","3.0 LPA - 3.6 LPA","3.6 LPA - 4.8 LPA","4.8 LPA - 6.0 LPA","7.2 LPA - 9.6 LPA","9.6 LPA - 12 LPA","12 LPA - 15 LPA","15 LPA - 18 LPA","18 LPA - 21 LPA","21 LPA - 24 LPA","24 LPA - Above"],renderInput:function(e){return a.a.createElement(jt.a,Object.assign({},e,{label:"Expected Salary"}))},value:i.expected_salary,onChange:function(e,t){E(e,t,"expected_salary")},label:"Expected Salary"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{size:"small",id:"interested",options:["Yes","No","CallBackLater"],renderInput:function(e){return a.a.createElement(jt.a,Object.assign({},e,{label:"Interested"}))},value:i.is_interested,onChange:function(e,t){E(e,t),"No"===t&&s(Object(u.a)({},i,{noReason:""}))},label:"Interested"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{size:"small",id:"spoken_english",options:["Bad","Average","Good"],renderInput:function(e){return a.a.createElement(jt.a,Object.assign({},e,{label:"Spoken English"}))},value:i.spoken_english,onChange:function(e,t){s(function(e){return Object(u.a)({},e,{spoken_english:t})})},label:"Spoken English"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Cr.a,{control:a.a.createElement(Xu.a,{checked:i.shortlisted,onChange:function(e){s(Object(u.a)({},i,{shortlisted:e.target.checked}))},name:"shortlisted"}),label:"Shortlisted"}))),a.a.createElement(vt.a,{display:"flex",justifyContent:"flex-end",mt:2},a.a.createElement(yt.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary"},"Add Applicant")))))};function xp(){xp=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Op=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(!1),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(s.c)(function(e){return e.auth}).profile.groups.includes("Sales Manager"),C=Object(n.useState)(1),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)(""),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useState)(0),B=Object(l.a)(W,2),R=B[0],z=B[1],M=Ln(),U=M.handleSuccess,Y=M.handleError,q=M.handleCloseSnackbar,V=M.alertInfo,Q=Object(n.useCallback)(function(){var e=Object(c.a)(xp().mark(function e(t){var r,n,a,i=arguments;return xp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:F,e.prev=1,o(!0),e.next=5,bp.getJobOpening(t,r);case 5:n=e.sent,console.log(n.data),p(n.data.results),a=n.data.count,z(Math.ceil(a/25)),o(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),Y(e.t0),console.error("Error fetching job openings:",e.t0);case 17:return e.prev=17,o(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[1,13,17,20]])}));return function(t){return e.apply(this,arguments)}}(),[F]);Object(n.useEffect)(function(){Q(N,F)},[N,F,Q]);var H=function(){var e=Object(c.a)(xp().mark(function e(t){return xp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,bp.addJobOpening(t);case 4:Q(),U("Job Opening added successfully"),setTimeout(function(){v(!1)},300),o(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),Y(e.t0),console.error("Error adding job opening:",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(xp().mark(function e(t,r){return xp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,bp.updateJobOpening(t,r);case 4:Q(),U("Job Opening Updated successfully"),setTimeout(function(){v(!1)},300),o(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),Y(e.t0),console.error("Error updating job opening:",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}));return function(t,r){return e.apply(this,arguments)}}(),J=function(e){_(e),k(!0)},Z=Array.isArray(f)?f.map(function(e){return{id:e.id,job:e.job_id,opening_date:e.opening_date,designation:e.designation,location:e.location,salary_ranges:e.salary_ranges,closing_date:e.closing_date,days_open:e.days_open,no_of_openings:e.no_of_openings}}):[];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:V.open,onClose:q,severity:V.severity,message:V.message}),a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(ga,{onSearch:function(e){G(e),T(1)},onReset:function(){G(""),T(1)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){return v(!0)}},"Add")))),a.a.createElement(vt.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Job Openings")),a.a.createElement(Cn,{headers:["Sr.No","Job Id","Date of Opening","Designation","Location","Salary Range","Date of Closing","Open Duration","No Of Vacancies","Action"],data:Z,openInPopup:function(e){_(e),E(!0)},openInPopup7:P?null:function(e){J(e)}}),a.a.createElement(Zn,{currentPage:N,totalPages:R,handlePageChange:function(e,t){T(t)}}),!P&&a.a.createElement(ut,{title:"Add New Applicant",openPopup:S,setOpenPopup:k},a.a.createElement(wp,{jobOpeningId:O.job})),a.a.createElement(ut,{title:"Add New Job Opening",openPopup:m,setOpenPopup:v},a.a.createElement(vp,{addNewJobOpening:H})),a.a.createElement(ut,{title:"Edit Job Opening",openPopup:b,setOpenPopup:E},a.a.createElement(gp,{recordForEdit:O,updateJobOpening:K,setOpenUpdatePopup:E,fetchJobOpenings:Q})))))};function _p(){_p=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var jp=function(e){var t=e.row,r=e.closeDialog,o=Object(n.useState)(""),i=Object(l.a)(o,2),u=i[0],s=i[1],f=Object(n.useState)(""),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(""),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1];console.log("row",t);var O=function(){var e=Object(c.a)(_p().mark(function e(n){var a;return _p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={applicant:t.email,date:u,time:h,interviewer:y},e.prev=2,e.next=5,bp.addInterviewDate(a);case 5:r(),alert("Interview Scheduled Successfully"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),alert("Error scheduling interview"),console.error("Error scheduling interview:",e.t0);case 13:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){(function(){var e=Object(c.a)(_p().mark(function e(){var t;return _p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ze.get("/api/user/users/?is_active=True");case 3:t=e.sent,Array.isArray(t.data.users)&&x(t.data.users),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching Email:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}})()()},[]),a.a.createElement("form",{onSubmit:O,style:{width:"100%",marginTop:"20px"}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(jt.a,{size:"small",label:"Interview Date",type:"date",fullWidth:!0,value:u,onChange:function(e){return s(e.target.value)},InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:h,onChange:function(e,t){d(t)},options:["11 AM to 1 PM","1 PM to 3 PM","3 PM TO 5 PM"],label:"Interview Time"})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return function(e,t){g(t)}(0,t)},name:"email",options:w.map(function(e){return e.email}),getOptionLabel:function(e){return"".concat(e)},label:"Interviewer Email"}))),a.a.createElement(vt.a,{display:"flex",justifyContent:"flex-end",mt:2},a.a.createElement(yt.a,{fullwidth:!0,type:"submit",variant:"contained",color:"primary"},"Schedule Interview")))};function Lp(){Lp=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Sp=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(null),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(0),j=Object(l.a)(_,2),L=j[0],S=j[1],k=function(){var e=Object(c.a)(Lp().mark(function e(){var t,r,n,a=arguments;return Lp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:0,e.prev=1,O(!0),e.next=5,bp.getInterviewStatus({page:t});case 5:r=e.sent,f(r.data.results),n=r.data.count,S(Math.ceil(n/25)),O(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error fetching interviews:",e.t0);case 15:return e.prev=15,O(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,12,15,18]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){k(g)},[g]);var P=function(){o(!1)},C=Array.isArray(s)?s.map(function(e){return{id:e.id,name:e.name,email:e.email,designation:e.designation,contact:e.contact,location:e.location}}):[];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:x}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{flexGrow:1,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Shortlisted Candidate")),a.a.createElement(Cn,{headers:["Id","Candidate Name","Email","Designation","Contact","Location","Interview Schedule"],data:C,openInPopup:function(e){m(e),o(!0)}}),a.a.createElement(Zn,{currentPage:g,totalPages:L,handlePageChange:function(e,t){b(t)}}),a.a.createElement(at.a,{open:r,onClose:P,"aria-labelledby":"form-dialog-title"},a.a.createElement(ot.a,{id:"form-dialog-title"},"Interview Status Update"),a.a.createElement(it.a,null,a.a.createElement(jp,{row:d,closeDialog:P}))))))};function kp(){kp=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Pp=function(e){var t=e.row,r=e.closeDialog,o=e.onUpdateComplete,i=Object(n.useState)(t?t.status:""),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(t&&t.joining_date?t.joining_date:null),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(""),y=Object(l.a)(v,2),g=y[0],b=y[1];Object(n.useEffect)(function(){"Rejected"===s&&m("")},[s]);var E=function(){var e=Object(c.a)(kp().mark(function e(){var n;return kp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={offer_status:s,joining_date:d||null,rejection_reason:"Rejected"===s?g:null},e.prev=1,e.next=4,bp.updateOfferStatus(t.id,n);case 4:o(),r(),alert("Offer status updated successfully!"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error updating offer status:",e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{value:s,onChange:function(e,t){f(t)},options:["Accepted","Rejected","Sent"],label:"Offer Status",fullWidth:!0})),"Rejected"===s&&a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{value:g,onChange:function(e,t){b(t)},options:["Candidate is not interested in the offer want higher offer.","Candidate had a negative reference.","Candidate didn\u2019t give correct last salary."],label:"Rejection Reason",fullWidth:!0})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(jt.a,{label:"Joining Date",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:d,onChange:function(e){m(e.target.value)},disabled:"Rejected"===s})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(sc.a,null,a.a.createElement(yt.a,{onClick:r,color:"primary"},"Cancel"),a.a.createElement(yt.a,{onClick:E,color:"primary"},"Update"))))};function Cp(){Cp=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Dp=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(null),h=Object(l.a)(p,2),d=h[0],m=h[1],v=function(){var e=Object(c.a)(Cp().mark(function e(){var t;return Cp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bp.getOfferStatus();case 3:t=e.sent,f(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching offers:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){v()},[]);var y=function(){o(!1)},g=s.map(function(e){return{id:e.id,name:e.name,designation:e.designation,status:e.offer_status,joining_date:e.joining_date||null}});return a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{flexGrow:1,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Offer Status")),a.a.createElement(Cn,{headers:["Id","Candidate Name","Designation","Offer Status","Joining Date","Action"],data:g,openInPopup:function(e){m(e),o(!0)}}),a.a.createElement(at.a,{open:r,onClose:y,"aria-labelledby":"form-dialog-title"},a.a.createElement(ot.a,{id:"form-dialog-title"},"Offer Status Update"),a.a.createElement(it.a,null,a.a.createElement(Pp,{row:d,closeDialog:y,onUpdateComplete:function(){v()}})))))},Np=r(149),Tp=function(e){var t=e.chartType,r=e.data,n=e.options,o=e.widthStyle,i=e.heightStyle;return a.a.createElement("div",null,r.length>0?a.a.createElement(Np.b,{chartType:t,data:r,options:n,width:o,height:i}):a.a.createElement("p",null,"Loading chart..."))};function Ap(){Ap=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ip=function(e){var t=e.title,r=e.children,n=e.xs,o=e.sm,i=e.lg;return a.a.createElement(Et.a,{item:!0,xs:n,sm:o,lg:i},a.a.createElement(Zf.a,{raised:!0},a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},t),a.a.createElement(v.a,{light:!0}),r)))},Fp=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)([]),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)([]),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)([]),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)([]),T=Object(l.a)(N,2),A=T[0],I=T[1],F="".concat((new Date).getFullYear(),"-").concat(((new Date).getMonth()+1).toString().padStart(2,"0")),G=Object(n.useState)(F),W=Object(l.a)(G,2),B=W[0],R=W[1];Object(n.useEffect)(function(){z(B).then(function(e){var t=e.data;M(t),U(t.rejection_reasons)}).catch(function(e){console.error("Error fetching MIS report data:",e)})},[B]);var z=function(){var e=Object(c.a)(Ap().mark(function e(t){return Ap().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ze.get("/api/hr/mis-report/?year_month=".concat(t)));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),M=function(e){var t=[["Category","Count"],["Total Job Openings",e.jobopening],["Open Job Count",e.open_job],["Closed Job Count",e.close_job],["New Job Openings",e.new_jobopening]];o(t);var r=[["Stage","Value",{role:"style"},{role:"annotation"}],["Applicants Joined",e.applicant_joined,"stroke-color: #4374E0; stroke-opacity: 0.6; stroke-width: 2; fill-color: #4374E0; fill-opacity: 0.2",""],["Offered Candidates",e.offered_candidates,"stroke-color: #4374E0; stroke-opacity: 0.6; stroke-width: 4; fill-color: #4374E0; fill-opacity: 0.4",""],["Interviewed Candidates",e.interviewed_candidates,"stroke-color: #4374E0; stroke-opacity: 0.6; stroke-width: 6; fill-color: #4374E0; fill-opacity: 0.6",""],["Active Candidates",e.active_candidates,"stroke-color: #4374E0; stroke-opacity: 0.6; stroke-width: 8; fill-color: #4374E0; fill-opacity: 0.8",""],["Shortlisted Applicants",e.shortlisted_applicants,"stroke-color: #4374E0; stroke-opacity: 0.6; stroke-width: 10; fill-color: #4374E0; fill-opacity: 1","Total Applicants"],["Total Applicants",e.total_applicants,"stroke-color: #4374E0; stroke-opacity: 0.6; stroke-width: 12; fill-color: #4374E0; fill-opacity: 1","Shortlisted Applicants"]];f(r);var n=[["Label","Value"],["Average Days to Hire",e.average_days_to_hire.avg_days_to_hire/84600]];b(n);var a=[["Category","Count"],["Candidates Hired Below CTC",parseInt(e.candidates_hired_below_ctc)],["Candidates Hired Above CTC",parseInt(e.candidates_hired_above_ctc)]];S(a);var i=[["Type","Amount"],["Total Saved",parseInt(e.total_saved)],["Total Extra Offered",parseInt(e.total_extra_offered)]];D(i);var c=[["Label","Value"],["Placement Rate",e.placement_rate]];O(c);var l=[["Source","Total"]];e.application_sources.forEach(function(e){l.push([e.source__name,e.total])}),m(l)},U=function(e){var t=[["Rejection Reason","Number of Candidates"]];0!==e.length?(e.forEach(function(e){t.push([e.rejection_reason,e.num_candidates])}),I(t)):I([])};return a.a.createElement(gt.a,null,a.a.createElement(vt.a,{marginBottom:2},a.a.createElement(jt.a,{size:"small",type:"month",label:"Filter By Month and Year",value:B,onChange:function(e){return R(e.target.value)},sx:{width:200,marginRight:"15rem"}})),a.a.createElement(Et.a,{container:!0,spacing:3,sx:{marginBottom:"20px"}},a.a.createElement(Ip,{title:"Job Opening Overview",xs:12,sm:8,lg:6},a.a.createElement(Tp,{chartType:"ColumnChart",data:r,options:{hAxis:{title:"Category"},vAxis:{title:"Count"},legend:"none"},widthStyle:"100%",heightStyle:"300px"})),a.a.createElement(Ip,{title:"Recruitment Pipeline Overview",xs:12,sm:8,lg:6},a.a.createElement(Tp,{chartType:"BarChart",data:function(){var e=s.slice(1).sort(function(e,t){return t[1]-e[1]});return[["Stage","Value",{role:"style"}]].concat(Object(ln.a)(e.map(function(e,t){return[e[0],e[1],"opacity: ".concat(1-.1*t,"; color: ").concat(e[2],";")]})))}(),options:{legend:{position:"none"},hAxis:{minValue:0},chartArea:{width:"50%",height:"80%"},bar:{groupWidth:"95%"},isStacked:!0,annotations:{textStyle:{fontSize:14,bold:!0,auraColor:"none"},alwaysOutside:!0}},widthStyle:"100%",heightStyle:"300px"})),a.a.createElement(Ip,{title:"Application Sources Overview",xs:12,sm:8,lg:6},a.a.createElement(Tp,{chartType:"PieChart",data:d,options:{hAxis:{title:"Total Applications"},vAxis:{title:"Source"},chartArea:{width:"50%",height:"80%"},legend:{position:"none"}},widthStyle:"100%",heightStyle:"300px"})),a.a.createElement(Ip,{title:"Placement Rate Overview",xs:12,sm:8,lg:6},a.a.createElement(Tp,{chartType:"Gauge",data:x,options:{redFrom:0,redTo:25,yellowFrom:25,yellowTo:50,greenFrom:50,greenTo:100,minorTicks:5},widthStyle:"100%",heightStyle:"300px"})),a.a.createElement(Ip,{title:"CTC Comparison Overview",xs:12,sm:8,lg:6},a.a.createElement(Tp,{chartType:"ColumnChart",data:L,options:{vAxis:{title:"Count"},legend:"none"},widthStyle:"100%",heightStyle:"300px"})),a.a.createElement(Ip,{title:"Cost Analysis Overview",xs:12,sm:8,lg:6},a.a.createElement(Tp,{chartType:"ColumnChart",data:C,options:{vAxis:{title:"Amount"},legend:"none"},widthStyle:"100%",heightStyle:"300px"})),a.a.createElement(Ip,{title:"Rejection Reasons Overview",xs:12,sm:8,lg:6},A.length>1&&a.a.createElement(Tp,{chartType:"ColumnChart",data:A,options:{is3D:!0},widthStyle:"100%",heightStyle:"300px"})),a.a.createElement(Ip,{title:"Average Days to Hire Overview",xs:12,sm:8,lg:6},a.a.createElement(Tp,{chartType:"LineChart",data:g,options:{redFrom:0,redTo:5,yellowFrom:5,yellowTo:10,greenFrom:10,greenTo:20,minorTicks:1},widthStyle:"100%",heightStyle:"300px"}))))};function Gp(){Gp=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Wp=function(e){var t=e.recordForEdit,r=e.onApplicantUpdated;console.log("recordForEdit",t);var o=Object(n.useState)({name:"",contact:"",email:"",source:t.source,shortlisted:!1}),i=Object(l.a)(o,2),s=i[0],f=i[1];Object(n.useEffect)(function(){t&&f(Object(u.a)({},t))},[t]);var p=function(e,t){var r=e.target||{},n=r.name,a=r.value;"contact"!==n||a.startsWith("+91")||(a="+91".concat(a)),f(function(e){return Object(u.a)({},e,Object(Wt.a)({},n,void 0!==t?t:a))})},h=function(){var e=Object(c.a)(Gp().mark(function e(n){return Gp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,bp.updateApplicant(t.id,s);case 4:console.log("Applicant updated successfully"),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error updating applicant:",e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(gt.a,{component:"form",onSubmit:h,noValidate:!0,sx:{mt:1,padding:"20px",backgroundColor:"#f5f5f5",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"8px",height:"70vh",overflowY:"auto"}},a.a.createElement(vt.a,null,a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(jt.a,{label:"Name of Candidate",name:"name",fullWidth:!0,value:s.name||"",onChange:p})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(jt.a,{label:"Phone Number",name:"contact",fullWidth:!0,value:s.contact||"",onChange:p})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(jt.a,{label:"Email Address",name:"email",fullWidth:!0,value:s.email||"",onChange:p})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Cr.a,{control:a.a.createElement(Xu.a,{checked:s.shortlisted||"",onChange:function(e){f(Object(u.a)({},s,{shortlisted:e.target.checked}))},name:"shortlisted"}),label:"Shortlisted"}))),a.a.createElement(vt.a,{display:"flex",justifyContent:"flex-end",mt:2},a.a.createElement(yt.a,{fullwidth:!0,variant:"contained",color:"primary",onClick:h},"Update Applicant"))))};function Bp(){Bp=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Rp=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(null),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(""),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(0),T=Object(l.a)(N,2),A=T[0],I=T[1],F=function(){var e=Object(c.a)(Bp().mark(function e(){var t,r,n,a,o=arguments;return Bp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,r=o.length>1&&void 0!==o[1]?o[1]:"",e.prev=2,e.next=5,bp.getApplicants(t,r);case 5:n=e.sent,f(n.data.results),a=n.data.count,I(Math.ceil(a/25)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Error fetching applicants:",e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){F(C,L)},[C,L]);var G=s.filter(function(e){var t=e.name?e.name.toLowerCase():"",r=e.job?e.job.toLowerCase():"",n=e.email?e.email.toLowerCase():"",a=L.toLowerCase();return r.includes(a)||n.includes(a)||t.includes(a)}),W=function(){var e=Object(c.a)(Bp().mark(function e(t){return Bp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,bp.addApplicant(t);case 4:F(),m(!1),o(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error adding applicant:",e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(Bp().mark(function e(t,r){return Bp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,bp.updateApplicant(t,r);case 4:F(),b(!1),o(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error updating applicant:",e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,r){return e.apply(this,arguments)}}(),R=G.map(function(e){return{id:e.id,job:e.job,name:e.name,contact:e.contact,email:e.email,designation:e.designation,source:e.source,shortlisted:e.shortlisted}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(ga,{onSearch:function(e){S(e),D(1)},onReset:function(){S(""),D(1)}})))),a.a.createElement(vt.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Applicant List")),a.a.createElement(Cn,{headers:["ID","Job ID","Candidate Name","Phone Number","Email","Designation","Source","Shortlisted","Action"],data:R,openInPopup:function(e){O(e),b(!0)}}),a.a.createElement(Zn,{currentPage:C,totalPages:A,handlePageChange:function(e,t){D(t)}}),a.a.createElement(ut,{title:"Add New Applicant",openPopup:d,setOpenPopup:m},a.a.createElement(wp,{addNewApplicant:W,onApplicantAdded:function(){F(),m(!1)}})),a.a.createElement(ut,{title:"Edit Applicant",openPopup:g,setOpenPopup:b},a.a.createElement(Wp,{recordForEdit:x,updateApplicant:B,onApplicantUpdated:function(){F(),b(!1)}})))))};function zp(){zp=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Mp=function(e){var t=e.row,r=e.closeDialog,o=e.fetchCandidates,i=Object(n.useState)(t.interview_date||""),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)(t.interview_time||""),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(t.rejection_reason||""),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(t.interviewer_name||""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(t.stage||""),L=Object(l.a)(j,2),S=L[0],k=L[1];Object(n.useEffect)(function(){p(t.interview_date||""),v(t.interview_time||""),E(t.rejection_reason||""),_(t.interviewer_name||""),k(t.stage||"")},[t]),console.log("row",t);var P=function(){var e=Object(c.a)(zp().mark(function e(){var n;return zp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(u.a)({date:f,time:m,interviewer_name:O,stage:S},"Rejected"===S&&{rejection_reason:b}),e.prev=1,e.next=4,bp.updateInterviewDate(t.id,n);case 4:r(),o(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error updating interview details:",e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}(),C="Rejected"===S||"On Hold"===S||"Not Interested"===S||"Selected"===S;return a.a.createElement(a.a.Fragment,null,a.a.createElement(yr,{value:S,onChange:function(e,t){k(t)},options:["Selected","Scheduled","On Hold","Rejected","Postponed"],label:"Stage",fullWidth:!0}),"Rejected"===S&&a.a.createElement(yr,{value:b,onChange:function(e,t){E(t)},options:["Salary","Technical","Experience","Language","Not Interested","Travelling Issue","Got other Opportunity","Others"],label:"Rejected Reason",fullWidth:!0}),a.a.createElement(jt.a,{margin:"dense",label:"Interview Date",type:"date",fullWidth:!0,value:f,onChange:function(e){return p(e.target.value)},disabled:C}),a.a.createElement(yr,{style:{minWidth:220},size:"small",value:m,onChange:function(e,t){v(t)},options:["11 AM to 1 PM","1 PM to 3 PM","3 PM TO 5 PM"],disabled:C,label:"Interview Time"}),a.a.createElement(jt.a,{margin:"dense",label:"Interviewer Name",type:"text",fullWidth:!0,value:O,onChange:function(e){return _(e.target.value)},disabled:C}),a.a.createElement(sc.a,null,a.a.createElement(yt.a,{onClick:r,color:"primary"},"Cancel"),a.a.createElement(yt.a,{onClick:P,color:"primary"},"Update")))};function Up(){Up=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Yp=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)([]),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(null),y=Object(l.a)(v,2),g=y[0],b=y[1],E=function(){var e=Object(c.a)(Up().mark(function e(){var t;return Up().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,bp.getInterviewDate();case 4:t=e.sent,m(t.data),f(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),f(!1),console.error("Error fetching candidates:",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){E()},[]);var w=function(){o(!1)},x=d.map(function(e){return{id:e.id,name:e.name,contact:e.contact,interview_date:e.date,interview_time:e.time,designation:e.designation,interviewer_name:e.interviewer_name,stage:e.stage}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:s}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{flexGrow:1,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Interview Status")),a.a.createElement(Cn,{headers:["Id","Candidate Name","Contact","Interiew Date","Interview Time","Designation","Interviewer Name","Status","Action"],data:x,openInPopup:function(e){b(e),o(!0)}}),a.a.createElement(at.a,{open:r,onClose:w,"aria-labelledby":"form-dialog-title"},a.a.createElement(ot.a,{id:"form-dialog-title"},"Candidate Status Update"),a.a.createElement(it.a,null,a.a.createElement(Mp,{row:g,closeDialog:w,fetchCandidates:E}))))))},qp=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)({}),c=Object(l.a)(i,2),u=c[0],s=c[1],f=Object(n.useState)([]),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(0),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)(0),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1];Object(n.useEffect)(function(){Ze.get("/api/hr/dashboard/").then(function(e){var t=e.data;S(t)}).catch(function(e){console.error("Error fetching HR dashboard data:",e)})},[]);var S=function(e){o({TotalJobOpenings:e.jobopening,OpenJobOpenings:e.open_job,ClosedJobOpenings:e.close_job,NewJobOpenings:e.new_jobopening}),s({TotalApplicants:e.total_applicants,Shortlisted:e.shortlisted_applicants,Interviewed:e.interviewed_candidates,Offered:e.offered_candidates,ActiveCandidates:e.active_candidates,Joined:e.applicant_joined}),g(e.average_days_to_hire.avg_days_to_hire),x(e.placement_rate),L(e.rejection_reasons);var t=[["Source","Total"]];e.application_sources.forEach(function(e){t.push([e.source__name,e.total])}),d(t)};return a.a.createElement(gt.a,null,a.a.createElement(vt.a,null,a.a.createElement(Et.a,{container:!0,spacing:3},Object.entries(r).map(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3,key:r},a.a.createElement(Vp,{title:r.replace(/([A-Z])/g," $1").trim(),value:n}))}),Object.entries(u).map(function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3,key:r},a.a.createElement(Vp,{title:r.replace(/([A-Z])/g," $1").trim(),value:n}))}),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(Vp,{title:"Average Days to Hire",value:y.toFixed(2)})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(Vp,{title:"Placement Rate",value:"".concat(w.toFixed(2),"%")})))),a.a.createElement(vt.a,{mt:5},a.a.createElement(Et.a,{container:!0,spacing:5},a.a.createElement(Et.a,{item:!0,xs:12,md:6},a.a.createElement(vt.a,{boxShadow:3,p:2,component:Tr.a},a.a.createElement(Np.a,{chartType:"PieChart",data:h,options:{title:"Application Sources"},width:"100%",height:"400px"}))),a.a.createElement(Et.a,{item:!0,xs:12,md:6},a.a.createElement(vt.a,{boxShadow:3,p:2,component:Tr.a},a.a.createElement(Np.a,{chartType:"BarChart",data:function(e){for(var t=[["Metric","Count"]],r=0,n=Object.entries(e);r<n.length;r++){var a=n[r],o=Object(l.a)(a,2),i=o[0],c=o[1];t.push([i.replace(/([A-Z])/g," $1").trim(),c])}return t}(u),options:{title:"Recruitment Pipeline"},width:"100%",height:"400px"}))),a.a.createElement(Et.a,{item:!0,xs:12,md:6},a.a.createElement(vt.a,{boxShadow:3,p:2,component:Tr.a},a.a.createElement(Np.a,{chartType:"ColumnChart",data:function(){var e=[["Rejection Reason","Number of Candidates"]];return j.forEach(function(t){e.push([t.rejection_reason,t.num_candidates])}),e}(),options:{title:"Rejection Reasons"},width:"100%",height:"400px"}))))))},Vp=function(e){var t=e.title,r=e.value;return a.a.createElement(vt.a,{boxShadow:3,p:2,component:Tr.a,style:{textAlign:"center"}},a.a.createElement(E.a,{variant:"h6"},t),a.a.createElement(E.a,{variant:"h4"},r||"-"))};function Qp(){Qp=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Hp=function(e){var t=e.row,r=e.closeDialog,o=e.fetchRejectedCandidates,i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(t.id||""),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(t.interview_date||""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(t.interview_time||""),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(t.interviewer_name||""),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(t.stage||""),T=Object(l.a)(N,2),A=T[0],I=T[1];Object(n.useEffect)(function(){m(t.id||""),O(t.interview_date||""),S(t.interview_time||""),D(t.interviewer_name||""),I(t.stage||"")},[t]),console.log("row",t);var F=function(){var e=Object(c.a)(Qp().mark(function e(){var n;return Qp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:d,date:x,time:L,interviewer_name:C,stage:A,offer_status:t.status||null},e.prev=1,b(!0),e.next=5,bp.updateRejectedCandidates(t.id,n);case 5:r(),o(),b(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),b(!0),console.error("Error updating interview details:",e.t0);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){(function(){var e=Object(c.a)(Qp().mark(function e(){var t;return Qp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ze.get("/api/user/users/?is_active=True");case 3:t=e.sent,Array.isArray(t.data.users)&&f(t.data.users),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching Email:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}})()()},[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:g}),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{value:A,onChange:function(e,t){I(t)},options:["Scheduled"],label:"Stage",margin:"dense",fullWidth:!0})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(jt.a,{margin:"dense",label:"Interview Date",type:"date",fullWidth:!0,value:x,onChange:function(e){return O(e.target.value)}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{style:{minWidth:220},size:"small",value:L,onChange:function(e,t){S(t)},options:["11 AM to 1 PM","1 PM to 3 PM","3 PM TO 5 PM"],label:"Interview Time"})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{style:{minWidth:220},size:"small",onChange:function(e,t){return function(e,t){D(t)}(0,t)},name:"email",options:s.map(function(e){return e.email}),getOptionLabel:function(e){return"".concat(e)},label:"Interviewer Email"})),a.a.createElement(sc.a,null,a.a.createElement(yt.a,{onClick:r,color:"primary"},"Cancel"),a.a.createElement(yt.a,{onClick:F,color:"primary"},"Update"))))};function Kp(){Kp=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Jp=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(null),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=function(){var e=Object(c.a)(Kp().mark(function e(){var t;return Kp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bp.getRejectedCandidates();case 3:t=e.sent,o(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching rejected candidates:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){v()},[]);var y=function(){m(!1)},g=r.map(function(e){return{id:e.id,name:e.name,contact:e.contact,email:e.applicant,designation:e.designation,rejection_reason:e.rejection_reason}});return a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{p:4}},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Rejected Candidate List"),a.a.createElement(Cn,{headers:["Id","Candidate Name","Contact","Email","Designation","Rejection Reason","Action"],data:g,openInPopup:function(e){f(e),m(!0)}}),a.a.createElement(at.a,{open:d,onClose:y,"aria-labelledby":"form-dialog-title"},a.a.createElement(ot.a,{id:"form-dialog-title"},"Reschedule Interview"),a.a.createElement(it.a,null,a.a.createElement(Hp,{row:s,closeDialog:y,fetchRejectedCandidates:v}))))))},Zp=function(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(s.c)(function(e){return e.auth}).profile,c=(i.sales_users,i.groups.includes("Sales Manager")),u=c?[{label:"Job Opening"}]:[{label:"Job Opening"},{label:"Applicant List"},{label:"Shortlisted Candidate"},{label:"Interview Status"},{label:"Offer Status"},{label:"MIS Report"},{label:"Dashboard"},{label:"Rejected Candidate"}];return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(_n,{tabs:u,activeTab:r,onTabChange:function(e){o(e)}}),a.a.createElement("div",{style:{marginTop:"10px"}},0===r&&a.a.createElement("div",null,a.a.createElement(Op,null)),!c&&a.a.createElement(a.a.Fragment,null,1===r&&a.a.createElement("div",null,a.a.createElement(Rp,null)),2===r&&a.a.createElement("div",null,a.a.createElement(Sp,null)),3===r&&a.a.createElement("div",null,a.a.createElement(Yp,null)),4===r&&a.a.createElement("div",null,a.a.createElement(Dp,null)),5===r&&a.a.createElement("div",null,a.a.createElement(Fp,null)),6===r&&a.a.createElement("div",null,a.a.createElement(qp,null)),7===r&&a.a.createElement("div",null,a.a.createElement(Jp,null))))))};function Xp(){Xp=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var $p=function(e){var t=e.setOpenCreatePopup,r=e.getDesignationsDetails,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],s=i[1],f=Object(n.useState)(""),p=Object(l.a)(f,2),h=p[0],d=p[1],m=function(){var e=Object(c.a)(Xp().mark(function e(n){return Xp().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,s(!0),e.next=5,bp.addDesignation(h);case 5:r(),t(!1),s(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Failed to add designation",e.t0),s(!1);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:u}),a.a.createElement("form",{onSubmit:m},a.a.createElement(vt.a,{sx:{display:"flex",flexDirection:"column",gap:2}},a.a.createElement(jt.a,{label:"Designation",variant:"outlined",name:"designation",value:h,onChange:function(e){return d(e.target.value)},required:!0}),a.a.createElement(yt.a,{type:"submit",variant:"contained",color:"primary"},"Add Designation"))))};function eh(){eh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var th=function(e){var t=e.designationId,r=e.setOpenUpdatePopup,o=e.getDesignationsDetails,i=Object(n.useState)(t.name),u=Object(l.a)(i,2),s=u[0],f=u[1],p=function(){var e=Object(c.a)(eh().mark(function e(n){return eh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,bp.updateDesignations(t.id,{designation:s});case 4:o(),r(!1),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("form",{onSubmit:p},a.a.createElement(vt.a,{sx:{display:"flex",flexDirection:"column",gap:2}},a.a.createElement(jt.a,{label:"Designation",variant:"outlined",value:s,onChange:function(e){return f(e.target.value)},required:!0}),a.a.createElement(yt.a,{type:"submit",variant:"contained",color:"primary"},"Update Designation")))};function rh(){rh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var nh=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)([]),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(0),T=Object(l.a)(N,2),A=T[0],I=T[1];Object(n.useEffect)(function(){F(C)},[C,F]);var F=Object(n.useCallback)(function(){var e=Object(c.a)(rh().mark(function e(t){var r,n,a,i=arguments;return rh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:s,e.prev=1,o(!0),e.next=5,bp.getDesignationsData(t,r);case 5:n=e.sent,m(n.data.results),a=n.data.count,I(Math.ceil(a/25)),o(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error fetching scripts",e.t0),o(!1);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}(),[s]),G=[];return Array.isArray(d)&&(G=d.map(function(e){return{id:e.id,name:e.designation}})),a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{size:"small",label:"Search",variant:"outlined",value:s,onChange:function(e){f(e.target.value)},fullWidth:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){return F(C,s)},fullWidth:!0},"Search")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"secondary",onClick:function(){f(""),D(1),F(1,"")},fullWidth:!0},"Reset")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{onClick:function(){return b(!0)},variant:"contained",color:"success",fullWidth:!0},"Add")))),a.a.createElement(vt.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Designations")),a.a.createElement(Cn,{headers:["ID","Designation","Action"],data:G,openInPopup:function(e){S(e),O(!0)}}),a.a.createElement(Zn,{currentPage:C,totalPages:A,handlePageChange:function(e,t){D(t)}}),a.a.createElement(ut,{title:"Add New Designation",openPopup:g,setOpenPopup:b},a.a.createElement($p,{setOpenCreatePopup:b,getDesignationsDetails:F})),a.a.createElement(ut,{title:"Edit Designation",openPopup:x,setOpenPopup:O},a.a.createElement(th,{designationId:L,setOpenUpdatePopup:O,getDesignationsDetails:F})))))};function ah(){ah=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var oh=function(e){var t=e.addNewDepartment,r=e.setOpenCreatePopup,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],s=i[1],f=Object(n.useState)(""),p=Object(l.a)(f,2),h=p[0],d=p[1],m=function(){var e=Object(c.a)(ah().mark(function e(n){return ah().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,s(!0),e.next=5,bp.addDepartment(h);case 5:t(),r(!1),s(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Failed to add department",e.t0),s(!1);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:u}),a.a.createElement("form",{onSubmit:m},a.a.createElement(vt.a,{sx:{display:"flex",flexDirection:"column",gap:2}},a.a.createElement(jt.a,{label:"Department Name",variant:"outlined",value:h,onChange:function(e){return d(e.target.value)},required:!0}),a.a.createElement(yt.a,{type:"submit",variant:"contained",color:"primary"},"Add Department"))))};function ih(){ih=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ch=function(e){var t=e.departmentId,r=e.setOpenUpdatePopup,o=e.fetchDepartments,i=Object(n.useState)(t.name),u=Object(l.a)(i,2),s=u[0],f=u[1],p=function(){var e=Object(c.a)(ih().mark(function e(n){return ih().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,bp.updateDepartment(t.id,{department:s});case 4:o(),r(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Failed to update department",e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("form",{onSubmit:p},a.a.createElement(vt.a,{sx:{display:"flex",flexDirection:"column",gap:2}},a.a.createElement(jt.a,{label:"Department Name",variant:"outlined",value:s,onChange:function(e){return f(e.target.value)},required:!0}),a.a.createElement(yt.a,{type:"submit",variant:"contained",color:"primary"},"Update Department")))};function lh(){lh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var uh=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)([]),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=function(){var e=Object(c.a)(lh().mark(function e(){var t,r,n=arguments;return lh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:s,e.prev=1,o(!0),e.next=5,bp.getDepartment(t);case 5:r=e.sent,m(r.data),o(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Failed to fetch departments",e.t0),o(!1);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){k()},[]);var P=d.map(function(e){return{id:e.id,name:e.department}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{size:"small",label:"Search",variant:"outlined",value:s,onChange:function(e){f(e.target.value)},fullWidth:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){return k(s)},fullWidth:!0},"Search")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"secondary",onClick:function(){f(""),k("")},fullWidth:!0},"Reset")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{onClick:function(){return b(!0)},variant:"contained",color:"success",fullWidth:!0},"Add")))),a.a.createElement(vt.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Departments")),a.a.createElement(Tr.a,{sx:{p:2,m:3}},a.a.createElement(Cn,{headers:["ID","Department","Action"],data:P,openInPopup:function(e){S(e),O(!0)}})),a.a.createElement(ut,{title:"Add New Department",openPopup:g,setOpenPopup:b},a.a.createElement(oh,{addNewDepartment:k,setOpenCreatePopup:b})),a.a.createElement(ut,{title:"Edit Department",openPopup:x,setOpenPopup:O},a.a.createElement(ch,{departmentId:L,setOpenUpdatePopup:O,fetchDepartments:k})))))};function sh(){sh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var fh=function(e){var t=e.setOpenCreatePopup,r=e.getSourcesDetails,o=Object(n.useState)(""),i=Object(l.a)(o,2),s=i[0],f=i[1],p=function(){var e=Object(c.a)(sh().mark(function e(n){return sh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,bp.addSource(s);case 4:r(),t(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error creating new source",e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("form",{onSubmit:p},a.a.createElement(vt.a,{mb:2},a.a.createElement(jt.a,{label:"Source Name",variant:"outlined",name:"name",value:s.name,onChange:function(e){var t=e.target,r=t.name,n=t.value;f(Object(u.a)({},s,Object(Wt.a)({},r,n)))},fullWidth:!0})),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:6},a.a.createElement(yt.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0},"Create")),a.a.createElement(Et.a,{item:!0,xs:6},a.a.createElement(yt.a,{variant:"contained",color:"secondary",onClick:function(){return t(!1)},fullWidth:!0},"Cancel"))))};function ph(){ph=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var hh=function(e){var t=e.sourceId,r=e.setOpenUpdatePopup,o=e.getSourcesDetails,i=Object(n.useState)(t.name),u=Object(l.a)(i,2),s=u[0],f=u[1],p=function(){var e=Object(c.a)(ph().mark(function e(n){return ph().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,bp.updateSource(t.id,{name:s});case 4:o(),r(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error updating source",e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("form",null,a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(jt.a,{label:"Source Name",variant:"outlined",name:"name",value:s,onChange:function(e){var t=e.target.value;f(t)},fullWidth:!0})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:p},"Update"))))};function dh(){dh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var mh=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)([]),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useCallback)(Object(c.a)(dh().mark(function e(){var t,r,n=arguments;return dh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:s,e.prev=1,o(!0),e.next=5,bp.getSource(t);case 5:r=e.sent,m(r.data),o(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error fetching sources",e.t0),o(!1);case 14:case"end":return e.stop()}},e,null,[[1,10]])})),[s]);Object(n.useEffect)(function(){k()},[k]);var P=d.map(function(e){return{id:e.id,name:e.name}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",sx:{marginRight:5,marginLeft:5}},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{size:"small",label:"Search",variant:"outlined",value:s,onChange:function(e){f(e.target.value)},fullWidth:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){k()}},"Search")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"secondary",onClick:function(){f(""),k("")},fullWidth:!0},"Reset")),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{onClick:function(){S(null),b(!0)},variant:"contained",color:"success"},"Add")))),a.a.createElement(vt.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Source")),a.a.createElement(Cn,{headers:["ID","Source","Action"],data:P,openInPopup:function(e){S(e),O(!0)}}),a.a.createElement(ut,{title:"Add New Source",openPopup:g,setOpenPopup:b},a.a.createElement(fh,{setOpenCreatePopup:b,getSourcesDetails:k})),a.a.createElement(ut,{title:"Edit Source",openPopup:x,setOpenPopup:O},a.a.createElement(hh,{sourceId:L,setOpenUpdatePopup:O,getSourcesDetails:k})))))};function vh(){vh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var yh=function(e){var t=e.setOpenPopup,r=e.getCurrencyDetails,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],f=i[1],p=Object(n.useState)([]),h=Object(l.a)(p,2),d=h[0],m=h[1],v=function(e){var t=e.target,r=t.name,n=t.value;m(Object(u.a)({},d,Object(Wt.a)({},r,n)))},y=function(){var e=Object(c.a)(vh().mark(function e(n){var a;return vh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),f(!0),e.prev=2,e.next=5,yo.createCurrencyData(d);case 5:(a=e.sent)&&a.data&&(r(),t(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error creating currency data",e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:s}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:y,sx:{mt:1}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Currency",variant:"outlined",value:d.name||"",onChange:v})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"symbol",size:"small",label:"Symbol",variant:"outlined",value:d.symbol||"",onChange:v}))),a.a.createElement(Qn,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},text:"Sign In"})))};function gh(){gh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var bh=function(e){var t=e.setOpenPopup,r=e.selectedRow,o=e.getCurrencyDetails,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)(r),d=Object(l.a)(h,2),m=d[0],v=d[1],y=function(e){var t=e.target,r=t.name,n=t.value;v(Object(u.a)({},m,Object(Wt.a)({},r,n)))},g=function(){var e=Object(c.a)(gh().mark(function e(n){var a;return gh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),p(!0),e.prev=2,e.next=5,yo.updateCurrencyData(r.id,m);case 5:(a=e.sent)&&a.data&&(o(),t(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error updating currency data",e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return g(e)},sx:{mt:1}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Currency",variant:"outlined",value:m.name||"",onChange:y})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"symbol",size:"small",label:"Symbol",variant:"outlined",value:m.symbol||"",onChange:y}))),a.a.createElement(Qn,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},text:"Sign In"})))};function Eh(){Eh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var wh=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)({}),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(""),j=Object(l.a)(_,2),L=j[0],S=j[1];Object(n.useEffect)(function(){k()},[]);var k=function(){var e=Object(c.a)(Eh().mark(function e(){var t;return Eh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,yo.getCurrencyData();case 4:(t=e.sent)&&t.data&&f(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching daily sales review data",e.t0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[1,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),P=s.filter(function(e){return e.name.toLowerCase().includes(L.toLowerCase())});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{marginBottom:"10px"},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,md:6,lg:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Search",variant:"outlined",value:L,onChange:function(e){S(e.target.value)},sx:{marginRight:"10px"}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:2},a.a.createElement(yt.a,{fullWidth:!0,variant:"contained",color:"success",onClick:function(){return m(!0)},sx:{marginLeft:"10px"}},"Add")),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:2},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Currency")))),a.a.createElement(Bt.a,{sx:{maxHeight:400,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Oh,null,a.a.createElement(xh,{align:"center"},"Currency"),a.a.createElement(xh,{align:"center"},"Symbol"),a.a.createElement(xh,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,P.map(function(e,t){return a.a.createElement(Oh,{key:t},a.a.createElement(xh,{align:"center"},e.name),a.a.createElement(xh,{align:"center"},e.symbol),a.a.createElement(xh,{align:"center"},a.a.createElement(yt.a,{sx:{color:"#1976d2"},onClick:function(){return function(e){b(!0),O(e)}(e)}},"View")))})))))),a.a.createElement(ut,{maxwidth:"xl",title:"Currency Create",openPopup:d,setOpenPopup:m},a.a.createElement(yh,{setOpenPopup:m,getCurrencyDetails:k})),a.a.createElement(ut,{maxwidth:"xl",title:"Currency Update",openPopup:g,setOpenPopup:b},a.a.createElement(bh,{setOpenPopup:b,selectedRow:x,getCurrencyDetails:k})))},xh=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),Oh=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function _h(){_h=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})});var jh=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.onCreateSuccess,o=e.currentPage,i=Object(s.c)(function(e){return{sellerData:e.auth.sellerAccount}}).sellerData;console.log(i);var f=Object(n.useState)({seller_account:"",product:"",quantity:""}),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(!1),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Ln(),_=O.handleSuccess,j=O.handleError,L=O.handleCloseSnackbar,S=O.alertInfo,k=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;d(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))})},[]),P=Object(n.useCallback)(function(e,t){d(function(r){return Object(u.a)({},r,Object(Wt.a)({},e,t))})},[]);Object(n.useEffect)(function(){(function(){var e=Object(c.a)(_h().mark(function e(){var t;return _h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,un.getAllProduct();case 4:t=e.sent,x(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching products",e.t0);case 11:return e.prev=11,g(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[1,8,11,14]])}));return function(){return e.apply(this,arguments)}})()()},[]);var C=function(){var e=Object(c.a)(_h().mark(function e(n){return _h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),g(!0),e.prev=2,e.next=5,yo.createSafetyStockData(h);case 5:r(o),"Safety Stock Created Successfully",_("Safety Stock Created Successfully"),setTimeout(function(){t(!1)},300),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),j(e.t0);case 14:return e.prev=14,g(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,11,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:S.open,onClose:L,severity:S.severity,message:S.message}),a.a.createElement(Pt,{open:y}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:C},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{size:"small",disablePortal:!0,options:i.map(function(e){return e.unit}),getOptionLabel:function(e){return e},onChange:function(e,t){return P("seller_account",t)},label:"Seller Account"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{size:"small",disablePortal:!0,options:w.map(function(e){return e.name}),getOptionLabel:function(e){return e},onChange:function(e,t){return P("product",t)},label:"Product"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:h.quantity,onChange:k}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function Lh(){Lh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Sh=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.selectedRow,o=e.onUpdateSuccess,i=e.currentPage,s=Object(n.useState)(r.quantity),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Ln(),b=g.handleSuccess,E=g.handleError,w=g.handleCloseSnackbar,x=g.alertInfo;Object(n.useEffect)(function(){r&&h(r.quantity)},[r]);var O=function(){var e=Object(c.a)(Lh().mark(function e(){return Lh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,yo.updateSafetyStockData(r.id,Object(u.a)({},r,{quantity:p}));case 4:o(i),"Safety Stock Updated Successfully",b("Safety Stock Updated Successfully"),setTimeout(function(){t(!1)},300),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),E(e.t0),console.error("Error updating safety stock data:",e.t0);case 14:return e.prev=14,y(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,10,14,17]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:x.open,onClose:w,severity:x.severity,message:x.message}),a.a.createElement(vt.a,{p:3},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:r.product})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Quantity",variant:"outlined",value:p,onChange:function(e){return h(e.target.value)},type:"number",disabled:v})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:O,disabled:v},"Update")))))});function kh(){kh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ph=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],w=Object(n.useState)(null),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(1),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(0),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Ln(),A=T.handleError,I=T.handleCloseSnackbar,F=T.alertInfo,G=function(){var e=Object(c.a)(kh().mark(function e(t){return kh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{b(!0),_(t),m(!0)}catch(r){console.log(r)}finally{b(!1)}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),W=Object(n.useCallback)(function(){var e=Object(c.a)(kh().mark(function e(t){var r;return kh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,yo.getAllSafetyStockData(t);case 4:r=e.sent,f(r.data.results),N(Math.ceil(r.data.count/25)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),A(e.t0),console.error("error",e.t0);case 13:return e.prev=13,b(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])}));return function(t){return e.apply(this,arguments)}}(),[]);Object(n.useEffect)(function(){W(S)},[S,W]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:F.open,onClose:I,severity:F.severity,message:F.message}),a.a.createElement(Pt,{open:g}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},a.a.createElement(Et.a,{container:!0,alignItems:"center",spacing:2,sx:{mb:2,mx:3}},a.a.createElement(Et.a,{item:!0,xs:12,sm:4,md:4}),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,md:4},a.a.createElement(E.a,{variant:"h5",sx:{fontWeight:800,color:"rgb(34, 34, 34)",textAlign:"center"}},"Safety Stock Level")),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,md:4,sx:{display:"flex",justifyContent:"flex-end"}},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){return o(!0)}},"Add New")))),a.a.createElement(Bt.a,{component:Tr.a},a.a.createElement(Rt.a,{sx:{minWidth:650},"aria-label":"simple table"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ch,{align:"center"},"Id"),a.a.createElement(Ch,{align:"center"},"Unit"),a.a.createElement(Ch,{align:"center"},"Description"),a.a.createElement(Ch,{align:"center"},"Product"),a.a.createElement(Ch,{align:"center"},"Quantity"),a.a.createElement(Ch,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,s.map(function(e,t){return a.a.createElement(Nh,{key:t,"data-quantity":Dh(e.quantity)},a.a.createElement(Ch,{align:"center"},e.id),a.a.createElement(Ch,{align:"center"},e.seller_account),a.a.createElement(Ch,{align:"center"},e.description),a.a.createElement(Ch,{align:"center"},e.product),a.a.createElement(Ch,{align:"center"},e.quantity),a.a.createElement(Ch,{align:"center"},a.a.createElement(yt.a,{onClick:function(){return G(e)}},"Edit")))})))),a.a.createElement(Zn,{currentPage:S,totalPages:D,handlePageChange:function(e,t){k(t)}}))),a.a.createElement(ut,{title:"Create Safety Stock",openPopup:r,setOpenPopup:o},a.a.createElement(jh,{currentPage:S,setOpenPopup:o,onCreateSuccess:W})),a.a.createElement(ut,{title:"Safety Stock Update",openPopup:d,setOpenPopup:m},a.a.createElement(Sh,{currentPage:S,setOpenPopup:m,selectedRow:O,onUpdateSuccess:W})))},Ch=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),Dh=function(e){return e<10?"low":e>=10&&e<=50?"medium":e>50&&e<=100?"high":"default"},Nh=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0},'&[data-quantity="low"]':{backgroundColor:"#FFCDD2"},'&[data-quantity="medium"]':{backgroundColor:"#FFF59D"},'&[data-quantity="high"]':{backgroundColor:"#BBDEFB"},'&[data-quantity="default"]':{}}});function Th(){Th=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ah=function(e){var t=e.selectedData,r=e.onClose,o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],s=i[1],f=Ln(),p=f.handleSuccess,h=f.handleError,d=f.handleCloseSnackbar,m=f.alertInfo,v=function(){var e=Object(c.a)(Th().mark(function e(){return Th().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=16;break}return e.prev=1,e.next=4,Vt.deleteWhatsappData(t.id);case 4:p("Group deleted successfully"),setTimeout(function(){},300),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),h(e.t0),console.error("Error deleting group:",e.t0),alert("Error deleting group");case 13:return e.prev=13,r(),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,8,13,16]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:m.open,onClose:d,severity:m.severity,message:m.message}),a.a.createElement(vt.a,{sx:{display:"flex",alignItems:"center",gap:1,marginBottom:2}},a.a.createElement(Xn.a,{checked:u,onChange:function(e){s(e.target.checked)},color:"primary"}),a.a.createElement("span",null,'Are you sure you want to delete the WhatsApp group "',t.whatsapp_group,'" of "',t.name,'"?')),a.a.createElement(yt.a,{variant:"contained",color:"error",onClick:v,fullWidth:!0,disabled:!u},"Delete Group"))};function Ih(){Ih=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Fh=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(0),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(null),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Ln(),T=N.handleError,A=N.handleCloseSnackbar,I=N.alertInfo;Object(n.useEffect)(function(){F()},[d,x]);var F=function(){var e=Object(c.a)(Ih().mark(function e(){var t,r,n,a=arguments;return Ih().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:d,r=a.length>1&&void 0!==a[1]?a[1]:x,e.prev=2,o(!0),e.next=6,Vt.getAllWhatsappGroupData(t,r);case 6:n=e.sent,f(n.data.results),b(Math.ceil(n.data.count/25)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),T(e.t0),console.error(e.t0);case 15:o(!1);case 16:case"end":return e.stop()}},e,null,[[2,11]])}));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(c.a)(Ih().mark(function e(t){return Ih().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:D(t),S(!0);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),W=Array.isArray(s)?s.map(function(e){return{id:e.id,name:e.name,ref_customer:e.ref_customer,whatsapp_group:e.whatsapp_group,whatsapp_group_id:e.whatsapp_group_id}}):[];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:I.open,onClose:A,severity:I.severity,message:I.message}),a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(ga,{onSearch:function(e){O(e),m(1)},onReset:function(){O(""),m(1)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,alignItems:"center"},a.a.createElement("h3",{style:{textAlign:"center",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Whatsapp Group Information")))),a.a.createElement(Cn,{headers:["Id","Company ","Group Company","Group Name","Group ID","Action"],data:W,openDeletePopup:G}),a.a.createElement(Zn,{currentPage:d,totalPages:g,handlePageChange:function(e,t){m(t)}}),a.a.createElement(ut,{title:"Whatsapp Group Delete",openPopup:L,setOpenPopup:S},a.a.createElement(Ah,{selectedData:C,onClose:function(){S(!1),F()}})))))};function Gh(){Gh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Wh=function(e){var t=e.setOpenPopup,r=e.refreshData,o=Object(n.useState)([]),i=Object(l.a)(o,2),s=i[0],f=i[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)([]),y=Object(l.a)(v,2),g=y[0],b=y[1],w=Object(n.useState)(null),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(null),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(!1),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)("message"),A=Object(l.a)(T,2),I=A[0],F=A[1],G=Object(n.useState)(""),W=Object(l.a)(G,2),B=W[0],R=W[1];Object(n.useEffect)(function(){z()},[]);var z=function(){var e=Object(c.a)(Gh().mark(function e(){var t;return Gh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vt.getAllWhatsappGroupData();case 3:t=e.sent,b(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();console.log("allWhatsappGroupMenu",g);var M=function(){var e=Object(c.a)(Gh().mark(function e(t){var r,n;return Gh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target.files[0],R(""),!(r.type.startsWith("video/")&&r.size>15728640)){e.next=7;break}return R("Error: Video size must be less than or equal to 15MB."),_(null),k(null),e.abrupt("return");case 7:if(_(r),N("application/pdf"===r.type||r.type.startsWith("video/")),r&&(r.type.startsWith("image/")||"application/pdf"===r.type||r.type.startsWith("video/")))try{n=URL.createObjectURL(r),k(n)}catch(a){console.error("Error converting file to base64",a)}else k(null);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){return function(){S&&URL.revokeObjectURL(S)}},[S]);var U=function(){var e=Object(c.a)(Gh().mark(function e(n){var a,o,i;return Gh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),m(!0),e.prev=2,a=new FormData,O?("file",o=O.name,a.append("file",O),a.append("filename",o),a.append("caption",s.caption||"")):a.append("message",s.message||""),i=Vt.createWhatsappImageData,e.next=8,i(a);case 8:return t(!1),e.next=11,r();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Error creating WhatsApp group",e.t0);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[2,13,16,19]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:d}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return U(e)}},a.a.createElement(tr.a,{component:"fieldset"},a.a.createElement(kr.a,{component:"legend"},"Type"),a.a.createElement(Pr.a,{row:!0,"aria-label":"type",name:"type",value:I,onChange:function(e){return F(e.target.value)}},a.a.createElement(Cr.a,{value:"message",control:a.a.createElement(Dr.a,null),label:"Message"}),a.a.createElement(Cr.a,{value:"image",control:a.a.createElement(Dr.a,null),label:"Image"}),a.a.createElement(Cr.a,{value:"pdf",control:a.a.createElement(Dr.a,null),label:"PDF"}),a.a.createElement(Cr.a,{value:"video",control:a.a.createElement(Dr.a,null),label:"Video"}))),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},function(){switch(I){case"message":return a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"message",size:"small",label:"Message",variant:"outlined",value:s.message||"",onChange:function(e){return f(Object(u.a)({},s,Object(Wt.a)({},e.target.name,e.target.value)))}});case"image":case"pdf":case"video":return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt.a,{variant:"contained",component:"label",size:"small",sx:{mt:1,mb:2}},"Upload File",a.a.createElement("input",{type:"file",hidden:!0,onChange:M})),B&&a.a.createElement(E.a,{color:"error",sx:{mt:2}},B),O&&a.a.createElement(vt.a,{sx:{mt:2,mb:2}},D||"pdf"===I?a.a.createElement(E.a,{variant:"subtitle1"},O.name):S&&a.a.createElement("img",{src:S,alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px"}})),a.a.createElement(Lt,{fullWidth:!0,multiline:!0,name:"caption",size:"small",label:"Caption",variant:"outlined",value:s.caption||"",onChange:function(e){return f(Object(u.a)({},s,Object(Wt.a)({},e.target.name,e.target.value)))}}));default:return null}}())),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Bh(){Bh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Rh=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(""),h=Object(l.a)(p,2),d=h[0],m=(h[1],Object(n.useState)(1)),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)(0),w=Object(l.a)(b,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(!1),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(!1),T=Object(l.a)(N,2),A=T[0],F=T[1];Object(n.useEffect)(function(){G()},[y]);var G=function(){var e=Object(c.a)(Bh().mark(function e(){var t;return Bh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Vt.getWhatsappImageData(y);case 4:t=e.sent,o(t.data.results),O(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}(),W=Object(n.useCallback)(function(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())},[]);Object(n.useEffect)(function(){C&&(F(!0),setTimeout(function(){F(!1),D(null)},1500))},[C]);var B=function(){var e=Object(c.a)(Bh().mark(function e(t){var r;return Bh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),r={reference_id:t},e.next=5,Vt.resendWhatsappMessage(r);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message),e.t0.response&&D(e.t0.response.data.message);case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,7,11,14]])}));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(c.a)(Bh().mark(function e(){return Bh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Vt.bulkResendMessage();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message),e.t0.response&&D(e.t0.response.data.message);case 10:return e.prev=10,f(!1),e.finish(10);case 13:case"end":return e.stop()}},e,null,[[0,6,10,13]])}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(Bh().mark(function e(){return Bh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:s}),a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Lr.a,{open:A,autoHideDuration:1500,onClose:function(){return F(!1)},message:C}),a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yt.a,{color:"success",variant:"contained",onClick:function(){return S(!0)},startIcon:a.a.createElement(Ue.a,null)},"Whatsapp"))),a.a.createElement(Et.a,{item:!0,xs:10,sm:4},a.a.createElement(yt.a,{color:"success",variant:"contained",onClick:function(){return R()}},"Bulk Resend"))),Array.isArray(r)&&r.filter(function(e){return e.message&&e.message.toLowerCase().includes(d.toLowerCase())}).map(function(e,t){return a.a.createElement(Sf.a,{key:e.id,sx:{margin:1}},a.a.createElement(kf.a,{expandIcon:a.a.createElement(I.a,null)},a.a.createElement(E.a,null,t+1,") Date: ",W(e.creation_date)," | All:"," ",e.messages_statistics.all," | Sent:"," ",e.messages_statistics.sent," | Failed:"," ",e.messages_statistics.unsent," | Queue:"," ",e.messages_statistics.queue," | Refrence ID:"," ",e.reference_id)),a.a.createElement(Pf.a,null,a.a.createElement(E.a,null,e.message)),a.a.createElement(Pf.a,null,a.a.createElement(Et.a,{item:!0,xs:12,sm:1,justifyContent:"flex-end"},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){return B(e.reference_id)}},"Send Again"))))}),a.a.createElement(vt.a,{sx:{marginBottom:4}},a.a.createElement(Zn,{currentPage:y,totalPages:x,handlePageChange:function(e,t){g(t)}}),a.a.createElement(ut,{title:"Whatsapp Message Create",openPopup:L,setOpenPopup:S},a.a.createElement(Wh,{setOpenPopup:S,refreshData:z})))))};function zh(){zh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Mh=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(0),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)({}),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(""),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Ln(),T=N.handleError,A=N.handleCloseSnackbar,I=N.alertInfo,F=Object(n.useCallback)(Object(c.a)(zh().mark(function e(){var t,r,n,a=arguments;return zh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:d,r=a.length>1&&void 0!==a[1]?a[1]:C,e.prev=2,o(!0),e.next=6,Vt.getCustomerNotHavingWhatsappGroup(t,r);case 6:n=e.sent,f(n.data.results),b(Math.ceil(n.data.count/25)),d>Math.ceil(n.data.count/25)&&m(1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),T(e.t0),console.error(e.t0);case 16:return e.prev=16,o(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[2,12,16,19]])})),[C]);Object(n.useEffect)(function(){F(d)},[d,C,F]);var G=function(){var e=Object(c.a)(zh().mark(function e(){return zh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(d,C);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),W=Array.isArray(s)?s.map(function(e){return{id:e.id,name:e.name}}):[],B=function(){var e=Object(c.a)(zh().mark(function e(t){return zh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:S(t.id),O(!0);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:I.open,onClose:A,severity:I.severity,message:I.message}),a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(ga,{onSearch:function(e){D(e),m(1)},onReset:function(){D(""),m(1)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,alignItems:"center"},a.a.createElement("h3",{style:{textAlign:"center",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Customer Not Having Whatsapp Group")))),a.a.createElement(Cn,{headers:["ID","Company","Action"],data:W,openInPopup:B}),a.a.createElement(Zn,{currentPage:d,totalPages:g,handlePageChange:function(e,t){m(t)}}),a.a.createElement(ut,{title:"Kyc Update",openPopup:x,setOpenPopup:O},a.a.createElement(Pn,{setOpenPopup:O,getIncompleteKycCustomerData:G,recordForEdit:L,onDataUpdated:G})))))};function Uh(){Uh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Yh=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(0),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1];Object(n.useEffect)(function(){_()},[d,x]);var _=function(){var e=Object(c.a)(Uh().mark(function e(){var t;return Uh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Vt.getCustomerNotInGroupData(d,x);case 4:t=e.sent,f(t.data.results),b(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}(),j=Array.isArray(s)?s.map(function(e){var t=e.name,r=e.whatsapp_group,n=e.assigned_to;e.member_details;return{company:t,whatsapp_group:r,assigned_to:Array.isArray(n)?n.map(function(e,t){return a.a.createElement("div",{key:t,style:{border:"1px solid #4caf50",borderRadius:"20px",color:"#4caf50"}},e)}):a.a.createElement("div",{style:{border:"1px solid #4caf50",borderRadius:"20px",color:"#4caf50"}},"assigned_to")}}):[];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(ga,{onSearch:function(e){O(e),m(1)},onReset:function(){O(""),m(1)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,alignItems:"center"},a.a.createElement("h3",{style:{textAlign:"center",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Customer Not In Group")))),a.a.createElement(Cn,{headers:["Company ","Group","Assigned Sales Person"],data:j}),a.a.createElement(Zn,{currentPage:d,totalPages:g,handlePageChange:function(e,t){m(t)}}))))};function qh(){qh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Vh=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(0),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1];Object(n.useEffect)(function(){_(d)},[d,x]);var _=function(){var e=Object(c.a)(qh().mark(function e(){var t;return qh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Vt.getSalesPersonNotInGroupData(d,x);case 4:t=e.sent,f(t.data.results),b(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}(),j=Array.isArray(s)?s.map(function(e){return{company:e.name,whatsapp_group:e.whatsapp_group,sales_person_not_in_group:Array.isArray(e.member_details)?e.member_details.map(function(e,t){return a.a.createElement("div",{key:t,style:{border:"1px solid #4caf50",borderRadius:"20px",color:"#4caf50"}},e)}):a.a.createElement("div",{style:{border:"1px solid #4caf50",borderRadius:"20px",color:"#4caf50"}},"row.member_details")}}):[];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(ga,{onSearch:function(e){O(e),m(1)},onReset:function(){O(""),m(1)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,alignItems:"center"},a.a.createElement("h3",{style:{textAlign:"center",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Sales Person Not In Group")))),a.a.createElement(Cn,{headers:["Company ","Group ","Sales Person Not In Group"],data:j}),a.a.createElement(Zn,{currentPage:d,totalPages:g,handlePageChange:function(e,t){m(t)}}))))};function Qh(){Qh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Hh=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(0),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1];Object(n.useEffect)(function(){_()},[g,x]);var _=function(){var e=Object(c.a)(Qh().mark(function e(){var t,r,n=arguments;return Qh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:g,e.prev=1,o(!0),e.next=5,Vt.getAutomatioData(t,x);case 5:r=e.sent,f(r.data.results),m(Math.ceil(r.data.count/25)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),j=[{label:"All",value:""},{label:"Scheduled",value:"True"},{label:"Not Scheduled",value:"False"}],L=Array.isArray(s)?s.map(function(e){return{id:e.id,ref_id:e.ref_id,next_schedule_date:e.next_schedule_date,schedular_type:e.schedular_type,generation_date:e.generation_date}}):[];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{fullWidth:!0,options:j,getOptionLabel:function(e){return e.label},renderInput:function(e){return a.a.createElement(jt.a,Object.assign({},e,{label:"Is Scheduled"}))},value:j.find(function(e){return e.value===x}),onChange:function(e,t){var r=t?t.value:"";O(r)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,alignItems:"center"},a.a.createElement("h3",{style:{textAlign:"center",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Scheduler Log")))),a.a.createElement(Cn,{headers:["Id","Reference Id ","Next Scheduled Date","Schedular Type","Generation Date"],data:L}),a.a.createElement(Zn,{pageCount:d,handlePageClick:function(e,t){b(t)}}))))};function Kh(){Kh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Jh=Object(n.memo)(function(e){var t=e.currentPage,r=e.searchQuery,o=e.setOpenPopup,i=e.getPhysicalInventoryData,s=Object(n.useState)(!1),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)({}),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Ln(),S=L.handleSuccess,k=L.handleError,P=L.handleCloseSnackbar,C=L.alertInfo,D=Object(n.useCallback)(function(e,t){y(function(r){if("product"===e){var n,a=(E.find(function(e){return e.name===t})||{}).unit||"";return Object(u.a)({},r,(n={},Object(Wt.a)(n,e,t),Object(Wt.a)(n,"unit",a),n))}return Object(u.a)({},r,Object(Wt.a)({},e,t))})},[E]);Object(n.useEffect)(function(){N(),T()},[]);var N=function(){var e=Object(c.a)(Kh().mark(function e(){var t;return Kh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,un.getAllProduct();case 4:t=e.sent,w(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("error Product",e.t0);case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(c.a)(Kh().mark(function e(){var t;return Kh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,ea.getAllPaginateSellerAccountData("all");case 4:t=e.sent,j(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("error Seller Account",e.t0);case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),A=Object(n.useCallback)(function(){var e=Object(c.a)(Kh().mark(function e(n){var a,c,l;return Kh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),h(!0),a={type:v.type,seller_unit:v.seller_unit,product:v.product,pending_quantity:v.pending_quantity,physical_quantity:v.physical_quantity},e.next=6,yo.createPhysical(a);case 6:c=e.sent,l=c.data.message||"Physical Inventory Created successfully",S(l),setTimeout(function(){o(!1),i(t,r)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),k(e.t0);case 15:return e.prev=15,h(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[v,t,r]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:C.open,onClose:P,severity:C.severity,message:C.message}),a.a.createElement(Pt,{open:p}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:A},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{size:"small",disablePortal:!0,id:"combo-box-demo",value:v.type||"",options:Zh,getOptionLabel:function(e){return e},onChange:function(e,t){return D("type",t)},label:"Type"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{size:"small",disablePortal:!0,id:"combo-box-demo",value:v.seller_unit||"",options:_.map(function(e){return e.unit}),getOptionLabel:function(e){return e},onChange:function(e,t){return D("seller_unit",t)},label:"Seller Unit"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{size:"small",disablePortal:!0,id:"combo-box-demo",value:v.product||"",options:E.map(function(e){return e.name}),getOptionLabel:function(e){return e},onChange:function(e,t){return D("product",t)},label:"Product"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Pending Quantity",variant:"outlined",value:v.pending_quantity||"",onChange:function(e){return D("pending_quantity",e.target.value)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Physical Quantity",variant:"outlined",value:v.physical_quantity||"",onChange:function(e){return D("physical_quantity",e.target.value)}}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Create")))}),Zh=["Store","Production"];function Xh(){Xh=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var $h=Object(n.memo)(function(e){var t=e.selectedRowData,r=e.currentPage,o=e.searchQuery,i=e.setOpenPopup,s=e.getPhysicalInventoryData,f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(t),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Ln(),E=b.handleSuccess,w=b.handleError,x=b.handleCloseSnackbar,O=b.alertInfo,_=function(e,t){g(function(r){return Object(u.a)({},r,Object(Wt.a)({},e,t))})},j=Object(n.useCallback)(function(){var e=Object(c.a)(Xh().mark(function e(n){var a,c,l;return Xh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),d(!0),a={type:y.type,gnl:y.gnl,add_or_remove_qty:y.add_or_remove_qty,reason:y.reason},!t){e.next=11;break}return e.next=7,yo.updatePhysical(y.id,a);case 7:c=e.sent,l=c.data.message||"Physical Inventory updated successfully",E(l),setTimeout(function(){i(!1),s(r,o)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),w(e.t0);case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[y,r,o]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:O.open,onClose:x,severity:O.severity,message:O.message}),a.a.createElement(Pt,{open:h}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:j},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:y.product||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Add/Remove Quantity",variant:"outlined",value:y.add_or_remove_qty||"",onChange:function(e){return _("add_or_remove_qty",e.target.value)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{size:"small",disablePortal:!0,id:"combo-box-demo",value:y.gnl||"",options:ed,getOptionLabel:function(e){return e},onChange:function(e,t){return _("gnl",t)},label:"Gain/Loss"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,size:"small",label:"Reason",variant:"outlined",value:y.reason||"",onChange:function(e){return _("reason",e.target.value)}}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))}),ed=["Gain","Loss"];function td(){td=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var rd=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)([]),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(null),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(0),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(""),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Ln(),G=F.handleError,W=F.handleCloseSnackbar,B=F.alertInfo,R=Object(n.useCallback)(Object(c.a)(td().mark(function e(){var t;return td().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,yo.getPhysical(L,A);case 4:t=e.sent,b(t.data.results),D(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),G(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,9,12,15]])})),[L,A]);Object(n.useEffect)(function(){R()},[L,A,R]);var z=g.map(function(e,t){return{id:e.id,type:e.type,product:e.product,unit:e.unit,seller_unit:e.seller_unit,pending_quantity:e.pending_quantity,physical_quantity:e.physical_quantity,gnl:e.gnl,add_or_remove_qty:e.add_or_remove_qty,reason:e.reason}});return console.log("current page",L),console.log("total page",C),a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:B.open,onClose:W,severity:B.severity,message:B.message}),a.a.createElement(Pt,{open:r}),a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(Et.a,{container:!0,alignItems:"center",spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4,md:5,lg:5},a.a.createElement(ga,{onSearch:function(e){I(e),S(1)},onReset:function(){I(""),S(1)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,md:5,lg:5,sx:{textAlign:{xs:"center",sm:"left"}}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Physical Inventory")),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,md:2,lg:2,sx:{display:"flex",justifyContent:{xs:"center",sm:"flex-end"}}},a.a.createElement(yt.a,{onClick:function(){return f(!0)},variant:"contained",color:"success"},"Add")))),a.a.createElement(Cn,{headers:["ID","TYPE","PRODUCT","UNIT","SELLER UNIT","PENDING QUANTITY","PHYSICAL QUANTITY","GNL","ADD/REMOVE QUANTITY","REASON","ACTIONS"],data:z,openInPopup:function(e){O(e),m(!0)},openInPopup2:null}),a.a.createElement(Zn,{totalPages:C,currentPage:L,handlePageChange:function(e,t){S(t)}})),a.a.createElement(ut,{maxWidth:"xl",title:"Create Physical Inventory",openPopup:s,setOpenPopup:f},a.a.createElement(Jh,{currentPage:L,searchQuery:A,setOpenPopup:f,getPhysicalInventoryData:R})),a.a.createElement(ut,{maxWidth:"xl",title:"Update Physical Inventory",openPopup:d,setOpenPopup:m},a.a.createElement($h,{selectedRowData:x,currentPage:L,searchQuery:A,setOpenPopup:m,getPhysicalInventoryData:R})))},nd=r(141),ad=r.n(nd),od=r(142),id=r.n(od);function cd(){cd=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ld=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getleads,o=e.currentPage,i=e.filterQuery,s=e.filterSelectedQuery,f=e.searchQuery,p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],y=Object(n.useState)(!1),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)({estd_year:(new Date).getFullYear().toString()}),O=Object(l.a)(w,2),_=O[0],j=O[1],L=Object(n.useState)([]),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)([]),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)([]),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Ln(),B=W.handleSuccess,R=W.handleError,z=W.handleCloseSnackbar,M=W.alertInfo,U=function(e){var t,r=e.target,n=r.name,a=r.value,o=a;("gst_number"!==n&&"pan_number"!==n||(o=a.toUpperCase()),"name"===n)?j(Object(u.a)({},_,(t={},Object(Wt.a)(t,n,o),Object(Wt.a)(t,"purchase_decision_maker",o),t))):j(Object(u.a)({},_,Object(Wt.a)({},n,o)))},Y=function(e,t){j(Object(u.a)({},_,Object(Wt.a)({},e,t)))};Object(n.useEffect)(function(){q(),Q(),V()},[]);var q=function(){var e=Object(c.a)(cd().mark(function e(){var t;return cd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,un.getNoDescription();case 3:t=e.sent,G(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(cd().mark(function e(){var t,r;return cd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Nr.getAllAssignedUser();case 4:t=e.sent,r=t.data.filter(function(e){return e.groups.some(function(e){return Kr.ALLOWED_ROLES.includes(e)})}),T(r),m(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error",e.t0),m(!1);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(cd().mark(function e(){var t;return cd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nr.getAllRefernces();case 3:t=e.sent,P(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),H=Object(n.useCallback)(function(){var e=Object(c.a)(cd().mark(function e(n){var a,c,l;return cd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),m(!0),a={name:_.name,alternate_contact_name:_.alternate_contact_name,email:_.email,alternate_email:_.alternate_email,contact:_.contact||null,alternate_contact:_.alternate_contact||null,business_type:_.business_type,description:_.description||[],assigned_to:_.assigned_to,references:_.references,company:_.company,gst_number:_.gst_number||null,pan_number:_.pan_number||null,address:_.address,city:_.city,state:_.state,country:_.country,pincode:_.pincode||null,shipping_address:!0===b?_.address:_.shipping_address,shipping_city:!0===b?_.city:_.shipping_city,shipping_state:!0===b?_.state:_.shipping_state,shipping_pincode:!0===b?_.pincode||null:_.shipping_pincode||null,type_of_customer:_.type_of_customer,website:_.website,approx_annual_turnover:_.approx_annual_turnover,industrial_list:"Industrial Customer"===_.type_of_customer?_.industrial_list:null,category:"Distribution Customer"===_.type_of_customer?_.category:null,distribution_type:"Distribution Customer"===_.type_of_customer?_.distribution_type:null,main_distribution:"Distribution Customer"===_.type_of_customer?_.main_distribution:null,estd_year:_.estd_year,purchase_decision_maker:_.purchase_decision_maker},e.next=6,Nr.createLeads(a);case 6:c=e.sent,l=c.data.message||"Leads Created successfully",B(l),setTimeout(function(){t(!1),r(o,i,s,f)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),R(e.t0);case 15:return e.prev=15,m(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[_,o,i,s,f]),K=function(e){return/^[0-9]{2}[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}[1-9A-Za-z]{1}Z[0-9A-Za-z]{1}$/.test(e)},J=function(e){return/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/.test(e)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:M.open,onClose:z,severity:M.severity,message:M.message}),a.a.createElement(Pt,{open:d}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return H(e)},sx:{mt:1}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(ud,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Basic Details"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Name",variant:"outlined",value:_.name?_.name:"",onChange:U})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"alternate_contact_name",size:"small",label:"Alternate Contact Name",variant:"outlined",value:_.alternate_contact_name,onChange:U})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"email",size:"small",label:"Email",variant:"outlined",value:_.email,onChange:U})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"alternate_email",size:"small",label:"Alternate Email",variant:"outlined",value:_.alternate_email,onChange:U})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(or.a,{specialLabel:"Contact",inputStyle:{height:"15px",minWidth:"300px"},country:"in",onChange:function(e){var t=e.startsWith("+")?e:"+"+e;Y("contact",t)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(or.a,{specialLabel:"Alternate Contact",inputStyle:{height:"15px",minWidth:"300px"},country:"in",onChange:function(e){var t=e.startsWith("+")?e:"+"+e;Y("alternate_contact",t)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Busniess Type"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Busniess Type",onChange:function(e,t){return Y("business_type",e.target.value)}},Kr.LeadBusinessTypeData.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.label},e.label)})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{style:{minWidth:220},size:"small",onChange:function(e,t){return Y("references",t)},options:k.map(function(e){return e.source}),getOptionLabel:function(e){return"".concat(e)},label:"Reference"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{fullWidth:!0,size:"small",id:"grouped-demo",onChange:function(e,t){return Y("assigned_to",t)},options:N.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Assignied To"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{size:"small",value:_.description,onChange:function(e,t){Y("description",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:F.map(function(e){return e.name}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(vr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Description",placeholder:"Description"}))}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(ud,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Company Details"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"company",size:"small",label:"Company",variant:"outlined",value:_.company,onChange:U})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"gst_number",size:"small",label:"Gst Number",variant:"outlined",value:_.gst_number,onChange:U,error:_.gst_number&&!K(_.gst_number),helperText:_.gst_number&&!K(_.gst_number)&&"Invalid GST Number"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"pan_number",size:"small",label:"Pan Number",variant:"outlined",value:_.pan_number,onChange:U,error:_.pan_number&&!J(_.pan_number),helperText:_.pan_number&&!J(_.pan_number)&&"Invalid PAN Number"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:_.address,onChange:U})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"city",size:"small",label:"City",variant:"outlined",value:_.city,onChange:U})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return Y("state",t)},name:"state",value:_.state,options:Kr.StateOption.map(function(e){return e.label}),getOptionLabel:function(e){return e},label:"State"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"country",size:"small",label:"Country",variant:"outlined",value:_.country,onChange:U})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"pincode",size:"small",label:"Pin Code",variant:"outlined",value:_.pincode,onChange:U})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(ud,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Shipping Details"})))),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Cr.a,{control:a.a.createElement(Xn.a,{checked:b,onChange:function(e){E(e.target.checked)},inputProps:{"aria-label":"controlled"}}),label:"Same as Billing Address"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"shipping_address",size:"small",label:"Shipping Address",variant:"outlined",value:!0===b?_.address:_.shipping_address||"",onChange:U})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"shipping_pincode",size:"small",label:"Pin Code",variant:"outlined",value:!0===b?_.pincode:_.shipping_pincode||"",onChange:U})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"shipping_city",size:"small",label:"Shipping City",variant:"outlined",value:!0===b?_.city:_.shipping_city||"",onChange:U})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return Y("shipping_state",t)},name:"shipping_state",value:b?_.state:_.shipping_state||"",options:Kr.StateOption.map(function(e){return e.value}),getOptionLabel:function(e){return e},label:"Shipping State"})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(ud,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"KYC Details"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(a.a.Fragment,null,a.a.createElement(tr.a,null,a.a.createElement(kr.a,{id:"demo-row-radio-buttons-group-label"},"Type of Customer"),a.a.createElement(Pr.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:_.type_of_customer,onChange:function(e){return Y("type_of_customer",e.target.value)}},a.a.createElement(Cr.a,{value:"Industrial Customer",control:a.a.createElement(Dr.a,null),label:"Industrial Customer"}),a.a.createElement(Cr.a,{value:"Distribution Customer",control:a.a.createElement(Dr.a,null),label:"Distribution Customer"}))))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"website",size:"small",label:"Website",variant:"outlined",value:_.website,onChange:U})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"estd_year",size:"small",label:"Established Year",placeholder:"YYYY",value:_.estd_year||"",onChange:U})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"approx_annual_turnover",size:"small",label:"Approx Annual Turnover",variant:"outlined",value:_.approx_annual_turnover,onChange:U})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"purchase_decision_maker",size:"small",label:"Purchase Decision Maker",variant:"outlined",value:_.name||""})),"Industrial Customer"===_.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return Y("industrial_list",t)},value:_.industrial_list||"",options:Kr.IndustriesList.map(function(e){return e.label}),getOptionLabel:function(e){return e},label:"Industrial List"})),"Distribution Customer"===_.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return Y("distribution_type",t)},value:_?_.distribution_type:"",options:Kr.DistributionTypeOption.map(function(e){return e.label}),getOptionLabel:function(e){return e},label:"Distribution Type"})),"Distribution Customer"===_.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",value:_.category||[],onChange:function(e,t){Y("category",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:Kr.CategoryOption.map(function(e){return e.label}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(vr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Category",placeholder:"Category"}))}})),"Distribution Customer"===_.type_of_customer&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{size:"small",value:_.main_distribution||[],onChange:function(e,t){Y("main_distribution",t)},multiple:!0,limitTags:3,id:"multiple-limit-tags",options:Kr.MainDistribution.map(function(e){return e.label}),freeSolo:!0,renderTags:function(e,t){return e.map(function(e,r){return a.a.createElement(vr.a,Object.assign({variant:"outlined",label:e},t({index:r})))})},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Main Distribution",placeholder:"Main Distribution"}))}}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:3,mb:2,textAlign:"right"}},"Submit")))}),ud=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})});function sd(){sd=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var fd=function(e){var t=e.setOpenPopup,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)(""),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)(""),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(!1),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(!1),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)([]),D=Object(l.a)(C,2),N=D[0],T=D[1];Object(n.useEffect)(function(){A()},[]);var A=function(){var e=Object(c.a)(sd().mark(function e(){var t,r,n;return sd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),t=["Director","Customer Service","Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Sales Manager without Leads"],e.next=5,Nr.getAllAssignedUser();case 5:r=e.sent,n=r.data.filter(function(e){return e.groups.some(function(e){return t.includes(e)})}),w(n),u(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),u(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(c.a)(sd().mark(function e(r){var n;return sd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),r.preventDefault(),n={assign_from:p,assign_to:v,states:N.map(function(e){return e.value})},e.next=6,Nr.BulkLeadAssign(n);case 6:t(!1),u(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),u(!1);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),F=function(e,t,r){return!e&&r?"Field cannot be empty":e===t?"Assign From will not be the same as Assign To":""};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:i}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:I},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(mr.a,{multiple:!0,fullWidth:!0,size:"small",value:N,onChange:function(e,t){T(t)},options:[{value:"Andhra Pradesh"},{value:"Arunachal Pradesh"},{value:"Assam"},{value:"Bihar"},{value:"Chhattisgarh"},{value:"Goa"},{value:"Gujarat"},{value:"Haryana"},{value:"Himachal Pradesh"},{value:"Jharkhand"},{value:"Karnataka"},{value:"Kerala"},{value:"Madhya Pradesh"},{value:"Maharashtra"},{value:"Manipur"},{value:"Meghalaya"},{value:"Mizoram"},{value:"Nagaland"},{value:"Odisha"},{value:"Punjab"},{value:"Rajasthan"},{value:"Sikkim"},{value:"Tamil Nadu"},{value:"Telangana"},{value:"Tripura"},{value:"Uttar Pradesh"},{value:"Uttarakhand"},{value:"West Bengal"},{value:"Delhi"},{value:"Jammu & Kashmir"},{value:"Ladakh"}],getOptionLabel:function(e){return e.value},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Select States"}))}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{fullWidth:!0,size:"small",id:"grouped-demo",value:p,onChange:function(e,t){h(t),_||j(!0)},options:E.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Assign From",renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Assign From",error:_&&(p===v||!p),helperText:F(p,v,_),onBlur:function(){return j(!0)}}))}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{fullWidth:!0,size:"small",id:"grouped-demo",value:v,onChange:function(e,t){y(t),k||P(!0)},options:E.map(function(e){return e.email}),getOptionLabel:function(e){return e},label:"Assign To",renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Assign To",error:k&&(p===v||!v),helperText:F(v,p,k),onBlur:function(){return P(!0)}}))}}))),a.a.createElement(Qn,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},text:"Assign"})))};function pd(){pd=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var hd=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),dd={"& .MuiButtonBase-root.MuiAutocomplete-clearIndicator":{color:"blue",visibility:"visible"}},md={someDate:(new Date).toISOString().substring(0,10)},vd=function(e){var t=e.setOpenPopup,r=e.leadsByID,o=Object(n.useState)([]),i=Object(l.a)(o,2),p=i[0],h=i[1],d=Ln(),m=d.handleSuccess,y=d.handleError,g=d.handleCloseSnackbar,b=d.alertInfo,w=ra([{product:"",unit:"",quantity:"",rate:"",requested_date:md.someDate,special_instructions:""}],p,!0),x=w.handleAutocompleteChange,O=w.handleFormChange,_=w.addFields,j=w.removeFields,L=w.products,S=Object(f.n)(),k=Object(n.useState)(!1),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(!1),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Object(n.useState)(!1),G=Object(l.a)(F,2),W=G[0],B=G[1],R=Object(n.useState)([]),z=Object(l.a)(R,2),M=z[0],U=z[1],Y=Object(n.useState)(""),q=Object(l.a)(Y,2),V=q[0],Q=q[1],H=Object(n.useState)([]),K=Object(l.a)(H,2),J=K[0],Z=K[1],X=Object(n.useState)([]),$=Object(l.a)(X,2),ee=$[0],te=$[1],re=Object(n.useState)(),ne=Object(l.a)(re,2),ae=ne[0],oe=ne[1],ie=Object(n.useState)(!0),ce=Object(l.a)(ie,2),le=ce[0],ue=ce[1],se=Object(n.useState)(!1),fe=Object(l.a)(se,2),pe=fe[0],he=fe[1],de=Object(n.useState)([]),me=Object(l.a)(de,2),ve=me[0],ye=me[1],ge=Object(n.useState)([]),be=Object(l.a)(ge,2),Ee=be[0],we=be[1],xe=Object(s.c)(function(e){return e.auth}).profile,Oe=function(e){var t=e.target,r=t.name,n=t.value;U(Object(u.a)({},M,Object(Wt.a)({},r,n)))};Object(n.useEffect)(function(){je(),_e()},[]);var _e=Object(n.useCallback)(Object(c.a)(pd().mark(function e(){var t;return pd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,un.getAllValidPriceList("all");case 3:t=e.sent,h(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("error potential",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),[]),je=function(){var e=Object(c.a)(pd().mark(function e(){var t;return pd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ea.getAllPaginateSellerAccountData("all");case 3:t=e.sent,we(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error fetching seller account data:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){r&&Le(r)},[]);var Le=function(){var e=Object(c.a)(pd().mark(function e(t){var r;return pd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nr.getLeadsById(t);case 3:r=e.sent,ye(r.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(c.a)(pd().mark(function e(t){var r,n,a;return pd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r={type:"Lead",raised_by:xe.email,raised_by_first_name:xe.first_name,raised_by_last_name:xe.last_name,seller_account:V.unit,seller_address:V.address,seller_pincode:V.pincode,seller_state:V.state,seller_city:V.city,seller_gst:V.gst_number||null,seller_pan:V.pan_number,seller_state_code:V.state_code,seller_cin:V.cin_number,seller_email:V.email,seller_contact:V.contact,seller_bank_name:V.bank_name,seller_account_no:V.current_account_no,seller_ifsc_code:V.ifsc_code,seller_branch:V.branch,lead:ve.lead_id,contact_person_name:ve.name,contact:ve.contact,alternate_contact:ve.alternate_contact,company_name:ve.company,gst_number:ve.gst_number||null,pan_number:ve.pan_number,billing_address:ve.address,billing_state:ve.state,billing_city:ve.city,billing_pincode:ve.pincode,address:ve.shipping_address,pincode:ve.shipping_pincode,state:ve.shipping_state,city:ve.shipping_city,place_of_supply:M.place_of_supply,transporter_name:M.transporter_name,buyer_order_no:!0===le?"verbal":M.buyer_order_no,buyer_order_date:M.buyer_order_date?M.buyer_order_date:md.someDate,payment_terms:J,delivery_terms:ee,status:pe?"Price Approval":"Approved",price_approval:pe,products:L},e.prev=2,B(!0),null!==(o=ve).contact&&null!==o.address&&null!==o.state&&null!==o.city&&null!==o.pincode&&null!==o.shipping_address&&null!==o.shipping_state&&null!==o.shipping_city&&null!==o.shipping_pincode&&(null!==o.pan_number||null!==o.gst_number)&&null!=o.company){e.next=9;break}return oe(ve.lead_id),D(!0),e.abrupt("return");case 9:return e.next=11,ea.createLeadsProformaInvoiceData(r);case 11:n=e.sent,a=n.data.message||"Proforma Invoice created successfully!",m(a),setTimeout(function(){S("/invoice/active-pi")},300),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),y(e.t0),console.error("Creating Lead PI error",e.t0);case 21:return e.prev=21,B(!1),e.finish(21);case 24:case"end":return e.stop()}var o},e,null,[[2,17,21,24]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Sn,{open:b.open,onClose:g,severity:b.severity,message:b.message}),a.a.createElement(Pt,{open:W}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return Se(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"seller_account",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return Q(t)},options:Ee,getOptionLabel:function(e){return e.unit},sx:{minWidth:300},label:"Seller Account",style:dd})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"payment_terms",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return Z(t)},options:yd.map(function(e){return e.label}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Payment Terms",style:dd})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"delivery_terms",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return te(t)},options:gd.map(function(e){return e.label}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Delivery Terms",style:dd})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(hd,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"LEAD"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"Lead ID",size:"small",label:"Lead ID",variant:"outlined",value:ve.lead_id?ve.lead_id:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"contact",size:"small",label:"Contact",variant:"outlined",value:ve.contact?ve.contact:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"alternate_contact",size:"small",label:"Alt. Contact",variant:"outlined",value:ve.alternate_contact?ve.alternate_contact:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,multiline:!0,required:!0,name:"address",size:"small",label:"Address",variant:"outlined",value:ve.address?ve.address:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"city",size:"small",label:"City",variant:"outlined",value:ve.city?ve.city:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"state",size:"small",label:"State",variant:"outlined",value:ve.state?ve.state:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"pincode",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:ve.pincode?ve.pincode:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"shipping_address",size:"small",label:"Shipping Address",variant:"outlined",value:ve.shipping_address?ve.shipping_address:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{required:!0,fullWidth:!0,name:"shipping_pincode",size:"small",type:"number",label:"Pin Code",variant:"outlined",value:ve.shipping_pincode?ve.shipping_pincode:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"shipping_city",size:"small",label:"Shipping City",variant:"outlined",value:ve.shipping_city?ve.shipping_city:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,required:!0,name:"shipping_state",size:"small",label:"Shipping State",variant:"outlined",value:ve.shipping_state?ve.shipping_state:""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Cr.a,{label:"Verbal",control:a.a.createElement(Xn.a,{checked:le,onChange:function(e){return ue(e.target.checked)}})}),a.a.createElement(Lt,{required:!0,name:"buyer_order_no",size:"small",label:"Buyer Order No",variant:"outlined",disabled:!0===le,value:!0===le?"Verbal":M.buyer_order_no?M.buyer_order_no:"",onChange:Oe,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"buyer_order_date",size:"small",label:"Buyer Order Date",variant:"outlined",value:M.buyer_order_date?M.buyer_order_date:md.someDate,onChange:Oe,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"place_of_supply",size:"small",label:"Place of Supply",variant:"outlined",value:M.place_of_supply,onChange:Oe})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"transporter_name",size:"small",label:"Transporter Name",variant:"outlined",value:M.transporter_name,onChange:Oe})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(hd,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Cr.a,{label:"Price Approval",control:a.a.createElement(Xn.a,{checked:pe,onChange:function(e){return he(e.target.checked)}})})),L.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,r){return x(t,e,r)},options:p.map(function(e){return e.product}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name",style:dd})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity,onChange:function(e){return O(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{type:"number",fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",onChange:function(e){return O(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,type:"number",name:"amount",size:"small",label:"Amount",variant:"outlined",value:(e.quantity*e.rate).toFixed(2)})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"requested_date",size:"small",label:"Request Date",variant:"outlined",value:e.requested_date||md.someDate,onChange:function(e){return O(t,e)},InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"special_instructions",size:"small",label:"Special Instructions",variant:"outlined",value:e.special_instructions||"",onChange:function(e){return O(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,alignContent:"right"},0!==t&&a.a.createElement(yt.a,{disabled:0===t,onClick:function(){return j(t)},variant:"contained"},"Remove")))}),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(yt.a,{onClick:_,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")),a.a.createElement(ut,{maxWidth:"xl",title:"Update Lead Details",openPopup:C,setOpenPopup:D},a.a.createElement(E.a,null,'"Kindly update all Shipping Details & Laeds Details in required field"'),a.a.createElement(yt.a,{variant:"contained",onClick:function(){return t(!1)}},"Update Leads")),a.a.createElement(ut,{maxWidth:"xl",title:"Update Leads",openPopup:A,setOpenPopup:I},a.a.createElement(cs,{recordForEdit:ae,setOpenPopup:I})))},yd=[{label:"100% Advance",value:"100%_advance"},{label:"50% Advance, Balance Before Dispatch",value:"50%_advance_balance_before_dispatch"},{label:"30% Advance, Balance Before Dispatch",value:"30%_advance_balance_before_dispatch"},{label:"7 days along with PDC",value:"7_days_with_pdc"},{label:"10 days along with PDC",value:"10_days_with_pdc"},{label:"15 days along with PDC",value:"15_days_with_pdc"},{label:"30 days along with PDC",value:"30_days_with_pdc"},{label:"45 days along with PDC",value:"45_days_with_pdc"},{label:"60 days along with PDC",value:"60_days_with_pdc"},{label:"7 days",value:"7_days"},{label:"15 days",value:"15_days"},{label:"30 days",value:"30_days"},{label:"10% Advance, balance against shipping document (export)",value:"10%_advance_balance_against_shipping_document_(export)"},{label:"20% Advance, balance against shipping document (export)",value:"20%_advance_balance_against_shipping_document_(export)"},{label:"30% Advance, balance against shipping document (export)",value:"30%_advance_balance_against_shipping_document_(export)"},{label:"40% Advance, balance against shipping document (export)",value:"40%_advance_balance_against_shipping_document_(export)"},{label:"50% Advance, balance against shipping document (export)",value:"50%_advance_balance_against_shipping_document_(export)"},{label:"LC at Sight (Export)",value:"lc_at_sight_(export)"},{label:"LC 45 days (Export)",value:"lc_45_days_(export)"},{label:"TT in advance (Export)",value:"tt_in_advance_(export)"},{label:"45 days",value:"45_days"},{label:"60 days",value:"60_days"},{label:"Against Delivery",value:"against_delivery"}],gd=[{label:"Ex-Work (Freight to pay)",value:"ex_work_(freight_to_pay)"},{label:"Transporter Warehouse (Freight to Pay)",value:"transporter_warehouse_(freight_to_pay)"},{label:"Customer Door Delivery (Freight to Pay)",value:"customer_door_delivery_(freight_to_pay)"},{label:"Customer Door Delivery (Prepaid)",value:"customer_door_delivery_(prepaid)"},{label:"Transporter Warehouse (Prepaid)",value:"transporter_warehouse_(prepaid)"},{label:"Add actual freight in invoice",value:"add_actual_freight_in_invoice"},{label:"Courier (Freight to Pay)",value:"courier_(freight_to_pay)"},{label:"Courier (Freight Add in Invoice)",value:"courier_(freight_add_in_invoice"}];function bd(){bd=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ed=Object(n.memo)(function(e){var t=e.getleads,r=e.leadsByID,o=e.setOpenPopup,i=e.currentPage,s=e.filterQuery,f=e.filterSelectedQuery,p=e.searchQuery,h=Object(n.useState)({lead:r,product:"",month:"",quantity:""}),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(!1),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)([]),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Ln(),C=P.handleSuccess,D=P.handleError,N=P.handleCloseSnackbar,T=P.alertInfo;Object(n.useEffect)(function(){k(A()),I()},[]);var A=function(){for(var e=["January","February","March","April","May","June","July","August","September","October","November","December"],t=[],r=new Date,n=1;n<=2;n++){var a=new Date(r.getFullYear(),r.getMonth()+n,1);t.push(e[a.getMonth()])}return t},I=function(){var e=Object(c.a)(bd().mark(function e(){var t;return bd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,un.getAllValidPriceList("all");case 3:t=e.sent,_(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("error product",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),F=Object(n.useCallback)(function(){var e=Object(c.a)(bd().mark(function e(r){var n,a;return bd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.preventDefault(),E(!0),e.next=5,Nr.createLeadForecast(m);case 5:n=e.sent,a=n.data.message||"Leads Created successfully",C(a),setTimeout(function(){o(!1),t(i,s,f,p)},300),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),D(e.t0);case 14:return e.prev=14,E(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}));return function(t){return e.apply(this,arguments)}}(),[m,i,s,f,p]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:T.open,onClose:N,severity:T.severity,message:T.message}),a.a.createElement(Pt,{open:b}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return F(e)},sx:{mt:1}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){v(Object(u.a)({},m,{product:t}))},options:O.map(function(e){return e.product}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{name:"month",size:"small",disablePortal:!0,id:"month-autocomplete",value:m.month,onChange:function(e,t){return v(Object(u.a)({},m,{month:t}))},options:S,sx:{minWidth:300},label:"Month"})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Quantity",name:"quantity",type:"number",value:m.quantity,onChange:function(e){var t=e.target,r=t.name,n=t.value;v(Object(u.a)({},m,Object(Wt.a)({},r,n)))}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(vt.a,{display:"flex",justifyContent:"flex-end"},a.a.createElement(yt.a,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:3,mb:2,textAlign:"right"}},"Submit"))))))});function wd(){wd=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var xd=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(""),d=Object(l.a)(h,2),v=d[0],y=d[1],g=Object(n.useState)(null),b=Object(l.a)(g,2),w=b[0],O=b[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(0),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Object(n.useState)(!1),G=Object(l.a)(F,2),W=G[0],B=G[1],R=Object(n.useState)(!1),z=Object(l.a)(R,2),M=z[0],U=z[1],Y=Object(n.useState)(!1),q=Object(l.a)(Y,2),V=q[0],Q=q[1],H=Object(n.useState)(!1),K=Object(l.a)(H,2),J=K[0],Z=K[1],X=Object(n.useState)([]),$=Object(l.a)(X,2),ee=$[0],te=$[1],re=Object(n.useState)(!1),ne=Object(l.a)(re,2),ae=ne[0],oe=ne[1],ie=Object(n.useState)(!1),ce=Object(l.a)(ie,2),le=ce[0],ue=ce[1],se=Object(n.useState)(null),fe=Object(l.a)(se,2),pe=fe[0],he=fe[1],de=Object(n.useState)([]),me=Object(l.a)(de,2),ve=me[0],ye=me[1],ge=Object(n.useState)([]),be=Object(l.a)(ge,2),Ee=be[0],we=be[1],xe=Object(n.useState)(!1),Oe=Object(l.a)(xe,2),_e=Oe[0],je=Oe[1],Le=Object(s.c)(function(e){return e.auth}).profile,Se=Object(n.useState)(!1),ke=Object(l.a)(Se,2),Pe=ke[0],Ce=ke[1],De=Le.sales_users||[],Ne=Object(s.c)(function(e){return e.auth}).profile,Te=Ln(),Ae=Te.handleError,Ie=Te.handleCloseSnackbar,Fe=Te.alertInfo,Ge=[{label:"References",value:"references__source"},{label:"Description",value:"description__name"}].concat(Object(ln.a)(Le.groups.includes("Sales Executive")?[]:[{label:"Assigned To",value:"assigned_to__email"}]));Object(n.useEffect)(function(){var e=function(){Ce(!0),o([])},t=function(){Ce(!1),Ue()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var We=function(){var e=Object(c.a)(wd().mark(function e(t){var r,n;return wd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,y(t),!t.includes("references__source")){e.next=7;break}return e.next=5,Nr.getAllRefernces();case 5:r=e.sent,ye(r.data);case 7:if(!t.includes("description__name")){e.next=12;break}return e.next=10,un.getNoDescription();case 10:n=e.sent,we(n.data);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),Ae(e.t0);case 17:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(c.a)(wd().mark(function e(t,r){var n,a;return wd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=ee.includes(r.lead_id),te(n?function(e){return e.filter(function(e){return e!==r.lead_id})}:function(e){return[].concat(Object(ln.a)(e),[r.lead_id])}),e.prev=3,p(!0),a={pinned:!n,description:r.description||[]},e.next=8,Nr.updateLeads(r.lead_id,a);case 8:Ue(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),Ae(e.t0);case 14:return e.prev=14,p(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[3,11,14,17]])}));return function(t,r){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){Ue()},[C,w,L]);var Re,ze,Me,Ue=Object(n.useCallback)(Object(c.a)(wd().mark(function e(){var t;return wd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Nr.getAllLeads(C,"new","-lead_id",v,w,L);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Ae(e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,w,L]),Ye=r.map(function(e){var t="";switch(e.priority){case"High":t="#ffcccc";break;case"Medium":t="#ccccff";break;case"Low":t="#ffffcc";break;default:t="#ffffff"}return{priority:t}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:Fe.open,onClose:Ie,severity:Fe.severity,message:Fe.message}),a.a.createElement(pa.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(Pe?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Pt,{open:f}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{mb:2}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Fliter By"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"values",label:"Fliter By",value:v,onChange:function(e){return We(e.target.value)}},Ge.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),v&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},v&&(Re="assigned_to__email"===v?"Assigned To":"references__source"===v?"Reference":"stage"===v?"Stage":"description__name"===v?"Description":"",ze="assigned_to__email"===v?De.map(function(e){return e.email}):"references__source"===v?ve.map(function(e){return e.source}):"stage"===v?Od.map(function(e){return e.value}):"description__name"===v?Ee.map(function(e){return e.name}):[],Me=function(e){O(e),D(1)},a.a.createElement(yr,{fullWidth:!0,size:"small",onChange:function(e,t){return Me(t)},options:ze,getOptionLabel:function(e){return e},label:Re}))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(ga,{onSearch:function(e){S(e),D(1)},onReset:function(){S(""),D(1)}})),a.a.createElement(Et.a,{item:!0,xs:6,sm:3,md:1.5},(Ne.groups.includes("Director")||Ne.groups.includes("Sales Manager"))&&a.a.createElement(yt.a,{variant:"contained",onClick:function(){return je(!0)}},"Assign Bulk")),a.a.createElement(Et.a,{item:!0,xs:6,sm:3,md:1.5},a.a.createElement(yt.a,{variant:"contained",color:"success",onClick:function(){return U(!0)}},"Add")))),a.a.createElement(vt.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2}},a.a.createElement(Et.a,{container:!0,justifyContent:"center"},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"h3",component:"h3",sx:{textAlign:"center",fontSize:"24px",fontWeight:800,color:"rgb(34, 34, 34)"}},"New Leads")))),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(jd,null,["COMPANY","NAME","CONTACT","ALTERNATE CONTACT","CITY","STATE","PRIORITY","STAGE","ASSIGNED TO","PIN","ACTION"].map(function(e){return a.a.createElement(_d,{key:e,align:"center"},e)}))),a.a.createElement(Mt.a,null,r.map(function(e,t){return a.a.createElement(jd,{key:e.i,style:{backgroundColor:Ye[t]&&Ye[t].priority||"",cursor:"pointer","&:hover":{backgroundColor:"#f5f5f5"},"&.pinned-row":{backgroundColor:"#e0e0e0"}},className:ee.includes(e.lead_id)?"pinned-row":""},a.a.createElement(_d,{align:"center"},e.company),a.a.createElement(_d,{align:"center"},e.name),a.a.createElement(_d,{align:"center"},e.contact),a.a.createElement(_d,{align:"center"},e.alternate_contact),a.a.createElement(_d,{align:"center"},e.city),a.a.createElement(_d,{align:"center"},e.state),a.a.createElement(_d,{align:"center"},e.priority),a.a.createElement(_d,{align:"center"},e.stage),a.a.createElement(_d,{align:"center"},e.assigned_to),a.a.createElement(_d,{align:"center"},a.a.createElement(m.a,{onClick:function(t){return Be(t,e)},style:{transform:"rotate(45deg)"}},e.pinned?a.a.createElement(ad.a,null):a.a.createElement(id.a,null))),a.a.createElement(_d,{align:"center"},a.a.createElement(yt.a,{onClick:function(){return he(e.lead_id),void B(!0)}},"View"),",",a.a.createElement(yt.a,{onClick:function(){return he(e.lead_id),void Q(!0)}},"Activity"),",",a.a.createElement(yt.a,{onClick:function(){return he(e.lead_id),void Z(!0)}},"Potential"),",",a.a.createElement(yt.a,{onClick:function(){return he(e.lead_id),void oe(!0)}},"PI"),",",a.a.createElement(yt.a,{onClick:function(){return he(e.lead_id),void ue(!0)}},"Forecast")))})))),a.a.createElement(Zn,{totalPages:A,currentPage:C,handlePageChange:function(e,t){D(t)}}))),a.a.createElement(ut,{fullScreen:!0,title:"Create Leads",openPopup:M,setOpenPopup:U},a.a.createElement(ld,{getleads:Ue,setOpenPopup:U,currentPage:C,filterQuery:v,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(ut,{fullScreen:!0,title:"Update Leads",openPopup:W,setOpenPopup:B},a.a.createElement(cs,{leadsByID:pe,setOpenPopup:B,getAllleadsData:Ue,currentPage:C,filterQuery:v,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(ut,{maxWidth:"xl",title:"Create Activity",openPopup:V,setOpenPopup:Q},a.a.createElement(es,{getleads:Ue,leadsByID:pe,setOpenPopup:Q,getLeadByID:null,currentPage:C,filterQuery:v,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(ut,{maxWidth:"lg",title:"Create Potential",openPopup:J,setOpenPopup:Z},a.a.createElement(as,{getleads:Ue,getLeadByID:null,leadsByID:pe,setOpenPopup:Z,currentPage:C,filterQuery:v,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(ut,{fullScreen:!0,title:"Create Leads Proforma Invoice",openPopup:ae,setOpenPopup:oe},a.a.createElement(vd,{leadsByID:pe,setOpenPopup:oe})),a.a.createElement(ut,{title:"Create Lead Forecast",openPopup:le,setOpenPopup:ue},a.a.createElement(Ed,{getleads:Ue,leadsByID:pe,setOpenPopup:ue,currentPage:C,filterQuery:v,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(ut,{maxWidth:"lg",title:"Assign Bulk Lead to another Employee",openPopup:_e,setOpenPopup:je},a.a.createElement(fd,{setOpenPopup:je})))},Od=[{label:"New",value:"new"},{label:"Open",value:"open"},{label:"Opportunity",value:"opportunity"},{label:"Potential",value:"potential"},{label:"Interested",value:"interested"},{label:"Converted",value:"converted"},{label:"Not Interested",value:"not_interested"},{label:"Close",value:"close"}],_d=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14}),Object(Wt.a)(t,"& > td, & > th",{padding:4}),t}),jd=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0},"& > td, & > th":{padding:4},"& > td:first-child, & > th:first-child":{paddingLeft:4},"& > td:last-child, & > th:last-child":{paddingRight:4},"&:hover":{backgroundColor:"lightgray !important"}}});function Ld(){Ld=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Sd=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(""),d=Object(l.a)(h,2),v=d[0],y=d[1],g=Object(n.useState)(null),b=Object(l.a)(g,2),w=b[0],O=b[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(0),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Object(n.useState)(!1),G=Object(l.a)(F,2),W=G[0],B=G[1],R=Object(n.useState)(!1),z=Object(l.a)(R,2),M=z[0],U=z[1],Y=Object(n.useState)(!1),q=Object(l.a)(Y,2),V=q[0],Q=q[1],H=Object(n.useState)(!1),K=Object(l.a)(H,2),J=K[0],Z=K[1],X=Object(n.useState)([]),$=Object(l.a)(X,2),ee=$[0],te=$[1],re=Object(n.useState)(!1),ne=Object(l.a)(re,2),ae=ne[0],oe=ne[1],ie=Object(n.useState)(!1),ce=Object(l.a)(ie,2),le=ce[0],ue=ce[1],se=Object(n.useState)(null),fe=Object(l.a)(se,2),pe=fe[0],he=fe[1],de=Object(n.useState)([]),me=Object(l.a)(de,2),ve=me[0],ye=me[1],ge=Object(n.useState)([]),be=Object(l.a)(ge,2),Ee=be[0],we=be[1],xe=Object(n.useState)(!1),Oe=Object(l.a)(xe,2),_e=Oe[0],je=Oe[1],Le=Object(s.c)(function(e){return e.auth}).profile,Se=Object(n.useState)(!1),ke=Object(l.a)(Se,2),Pe=ke[0],Ce=ke[1],De=Le.sales_users||[],Ne=Object(s.c)(function(e){return e.auth}).profile,Te=Ln(),Ae=Te.handleError,Ie=Te.handleCloseSnackbar,Fe=Te.alertInfo,Ge=[{label:"References",value:"references__source"},{label:"Description",value:"description__name"},{label:"Stage",value:"stage"}].concat(Object(ln.a)(Le.groups.includes("Sales Executive")?[]:[{label:"Assigned To",value:"assigned_to__email"}]));Object(n.useEffect)(function(){var e=function(){Ce(!0),o([])},t=function(){Ce(!1),Ue()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var We=function(){var e=Object(c.a)(Ld().mark(function e(t){var r,n;return Ld().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p(!0),y(t),!t.includes("references__source")){e.next=8;break}return e.next=6,Nr.getAllRefernces();case 6:r=e.sent,ye(r.data);case 8:if(!t.includes("description__name")){e.next=13;break}return e.next=11,un.getNoDescription();case 11:n=e.sent,we(n.data);case 13:p(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("error",e.t0),p(!1);case 20:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(c.a)(Ld().mark(function e(t,r){var n,a;return Ld().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=ee.includes(r.lead_id),te(n?function(e){return e.filter(function(e){return e!==r.lead_id})}:function(e){return[].concat(Object(ln.a)(e),[r.lead_id])}),e.prev=3,p(!0),a={pinned:!n,description:r.description||[]},e.next=8,Nr.updateLeads(r.lead_id,a);case 8:Ue(),p(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("error :>> ",e.t0),p(!1);case 16:case"end":return e.stop()}},e,null,[[3,12]])}));return function(t,r){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){Ue()},[C,w,L]);var Re,ze,Me,Ue=Object(n.useCallback)(Object(c.a)(Ld().mark(function e(){var t;return Ld().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Nr.getAllLeads(C,"others","-lead_id",v,w,L);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Ae(e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,w,L]),Ye=r.map(function(e){var t="";switch(e.priority){case"High":t="#ffcccc";break;case"Medium":t="#ccccff";break;case"Low":t="#ffffcc";break;default:t="#ffffff"}return{priority:t}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:Fe.open,onClose:Ie,severity:Fe.severity,message:Fe.message}),a.a.createElement(pa.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(Pe?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Pt,{open:f}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{mb:2}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Fliter By"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"values",label:"Fliter By",value:v,onChange:function(e){return We(e.target.value)}},Ge.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),v&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},v&&(Re="assigned_to__email"===v?"Assigned To":"references__source"===v?"Reference":"stage"===v?"Stage":"description__name"===v?"Description":"",ze="assigned_to__email"===v?De.map(function(e){return e.email}):"references__source"===v?ve.map(function(e){return e.source}):"stage"===v?kd.map(function(e){return e.value}):"description__name"===v?Ee.map(function(e){return e.name}):[],Me=function(e){O(e),D(1)},a.a.createElement(yr,{fullWidth:!0,size:"small",onChange:function(e,t){return Me(t)},options:ze,getOptionLabel:function(e){return e},label:Re}))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(ga,{onSearch:function(e){S(e),D(1)},onReset:function(){S(""),D(1)}})),a.a.createElement(Et.a,{item:!0,xs:6,sm:3,md:1.5},(Ne.groups.includes("Director")||Ne.groups.includes("Sales Manager"))&&a.a.createElement(yt.a,{variant:"contained",onClick:function(){return je(!0)}},"Assign Bulk")),a.a.createElement(Et.a,{item:!0,xs:6,sm:3,md:1.5},a.a.createElement(yt.a,{variant:"contained",color:"success",onClick:function(){return U(!0)}},"Add")))),a.a.createElement(vt.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2}},a.a.createElement(Et.a,{container:!0,justifyContent:"center"},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"h3",component:"h3",sx:{textAlign:"center",fontSize:"24px",fontWeight:800,color:"rgb(34, 34, 34)"}},"Opened Leads")))),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Cd,null,["COMPANY","NAME","CONTACT","ALTERNATE CONTACT","CITY","STATE","PRIORITY","STAGE","ASSIGNED TO","PIN","ACTION"].map(function(e){return a.a.createElement(Pd,{key:e,align:"center"},e)}))),a.a.createElement(Mt.a,null,r.map(function(e,t){return a.a.createElement(Cd,{key:e.i,style:{backgroundColor:Ye[t]&&Ye[t].priority||"",cursor:"pointer","&:hover":{backgroundColor:"#f5f5f5"},"&.pinned-row":{backgroundColor:"#e0e0e0"}},className:ee.includes(e.lead_id)?"pinned-row":""},a.a.createElement(Pd,{align:"center"},e.company),a.a.createElement(Pd,{align:"center"},e.name),a.a.createElement(Pd,{align:"center"},e.contact),a.a.createElement(Pd,{align:"center"},e.alternate_contact),a.a.createElement(Pd,{align:"center"},e.city),a.a.createElement(Pd,{align:"center"},e.state),a.a.createElement(Pd,{align:"center"},e.priority),a.a.createElement(Pd,{align:"center"},e.stage),a.a.createElement(Pd,{align:"center"},e.assigned_to),a.a.createElement(Pd,{align:"center"},a.a.createElement(m.a,{onClick:function(t){return Be(t,e)},style:{transform:"rotate(45deg)"}},e.pinned?a.a.createElement(ad.a,null):a.a.createElement(id.a,null))),a.a.createElement(Pd,{align:"center"},a.a.createElement(yt.a,{onClick:function(){return he(e.lead_id),void B(!0)}},"View"),",",a.a.createElement(yt.a,{onClick:function(){return he(e.lead_id),void Q(!0)}},"Activity"),",",a.a.createElement(yt.a,{onClick:function(){return he(e.lead_id),void Z(!0)}},"Potential"),",",a.a.createElement(yt.a,{onClick:function(){return he(e.lead_id),void oe(!0)}},"PI"),","," ",a.a.createElement(yt.a,{onClick:function(){return he(e.lead_id),void ue(!0)}},"Forecast")))})))),a.a.createElement(Zn,{totalPages:A,currentPage:C,handlePageChange:function(e,t){D(t)}}))),a.a.createElement(ut,{fullScreen:!0,title:"Create Leads",openPopup:M,setOpenPopup:U},a.a.createElement(ld,{getleads:Ue,setOpenPopup:U,currentPage:C,filterQuery:v,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(ut,{fullScreen:!0,title:"Update Leads",openPopup:W,setOpenPopup:B},a.a.createElement(cs,{leadsByID:pe,setOpenPopup:B,getAllleadsData:Ue,currentPage:C,filterQuery:v,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(ut,{maxWidth:"xl",title:"Create Activity",openPopup:V,setOpenPopup:Q},a.a.createElement(es,{getleads:Ue,leadsByID:pe,setOpenPopup:Q,getLeadByID:null,currentPage:C,filterQuery:v,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(ut,{maxWidth:"lg",title:"Create Potential",openPopup:J,setOpenPopup:Z},a.a.createElement(as,{getleads:Ue,getLeadByID:null,leadsByID:pe,setOpenPopup:Z,currentPage:C,filterQuery:v,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(ut,{fullScreen:!0,title:"Create Leads Proforma Invoice",openPopup:ae,setOpenPopup:oe},a.a.createElement(vd,{leadsByID:pe,setOpenPopup:oe})),a.a.createElement(ut,{title:"Create Lead Forecast",openPopup:le,setOpenPopup:ue},a.a.createElement(Ed,{getleads:Ue,leadsByID:pe,setOpenPopup:ue,currentPage:C,filterQuery:v,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(ut,{maxWidth:"lg",title:"Assign Bulk Lead to another Employee",openPopup:_e,setOpenPopup:je},a.a.createElement(fd,{setOpenPopup:je})))},kd=[{label:"Open",value:"open"},{label:"Opportunity",value:"opportunity"},{label:"Potential",value:"potential"}],Pd=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14}),Object(Wt.a)(t,"& > td, & > th",{padding:4}),t}),Cd=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0},"& > td, & > th":{padding:4},"& > td:first-child, & > th:first-child":{paddingLeft:4},"& > td:last-child, & > th:last-child":{paddingRight:4},"&:hover":{backgroundColor:"lightgray !important"}}});function Dd(){Dd=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Nd=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(""),d=Object(l.a)(h,2),v=d[0],y=d[1],g=Object(n.useState)(null),b=Object(l.a)(g,2),w=b[0],O=b[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(0),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Object(n.useState)(!1),G=Object(l.a)(F,2),W=G[0],B=G[1],R=Object(n.useState)(!1),z=Object(l.a)(R,2),M=z[0],U=z[1],Y=Object(n.useState)(!1),q=Object(l.a)(Y,2),V=q[0],Q=q[1],H=Object(n.useState)(!1),K=Object(l.a)(H,2),J=K[0],Z=K[1],X=Object(n.useState)([]),$=Object(l.a)(X,2),ee=$[0],te=$[1],re=Object(n.useState)(!1),ne=Object(l.a)(re,2),ae=ne[0],oe=ne[1],ie=Object(n.useState)(!1),ce=Object(l.a)(ie,2),le=ce[0],ue=ce[1],se=Object(n.useState)(null),fe=Object(l.a)(se,2),pe=fe[0],he=fe[1],de=Object(n.useState)([]),me=Object(l.a)(de,2),ve=me[0],ye=me[1],ge=Object(n.useState)([]),be=Object(l.a)(ge,2),Ee=be[0],we=be[1],xe=Object(n.useState)(!1),Oe=Object(l.a)(xe,2),_e=Oe[0],je=Oe[1],Le=Object(s.c)(function(e){return e.auth}).profile,Se=Object(n.useState)(!1),ke=Object(l.a)(Se,2),Pe=ke[0],Ce=ke[1],De=Le.sales_users||[],Ne=Ln(),Te=Ne.handleError,Ae=Ne.handleCloseSnackbar,Ie=Ne.alertInfo,Fe=[{label:"References",value:"references__source"},{label:"Description",value:"description__name"}].concat(Object(ln.a)(Le.groups.includes("Sales Executive")?[]:[{label:"Assigned To",value:"assigned_to__email"}]));Object(n.useEffect)(function(){var e=function(){Ce(!0),o([])},t=function(){Ce(!1),Me()};return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",t),function(){window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",t)}},[]);var Ge=function(){var e=Object(c.a)(Dd().mark(function e(t){var r,n;return Dd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p(!0),y(t),!t.includes("references__source")){e.next=8;break}return e.next=6,Nr.getAllRefernces();case 6:r=e.sent,ye(r.data);case 8:if(!t.includes("description__name")){e.next=13;break}return e.next=11,un.getNoDescription();case 11:n=e.sent,we(n.data);case 13:p(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("error",e.t0),p(!1);case 20:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(c.a)(Dd().mark(function e(t,r){var n,a;return Dd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=ee.includes(r.lead_id),te(n?function(e){return e.filter(function(e){return e!==r.lead_id})}:function(e){return[].concat(Object(ln.a)(e),[r.lead_id])}),e.prev=3,p(!0),a={pinned:!n,description:r.description||[]},e.next=8,Nr.updateLeads(r.lead_id,a);case 8:Me(),p(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("error :>> ",e.t0),p(!1);case 16:case"end":return e.stop()}},e,null,[[3,12]])}));return function(t,r){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){Me()},[C,w,L]);var Be,Re,ze,Me=Object(n.useCallback)(Object(c.a)(Dd().mark(function e(){var t;return Dd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Nr.getAllLeads(C,"hot","-lead_id",v,w,L);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Te(e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,w,L]),Ue=r.map(function(e){var t="";switch(e.priority){case"High":t="#ffcccc";break;case"Medium":t="#ccccff";break;case"Low":t="#ffffcc";break;default:t="#ffffff"}return{priority:t}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:Ie.open,onClose:Ae,severity:Ie.severity,message:Ie.message}),a.a.createElement(pa.a,null,a.a.createElement("style",null,"\n            @media print {\n              html, body {\n                filter: ".concat(Pe?"blur(10px)":"none"," !important;\n              }\n            }\n          "))),a.a.createElement(Pt,{open:f}),"x",a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{mb:2}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Fliter By"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"values",label:"Fliter By",value:v,onChange:function(e){return Ge(e.target.value)}},Fe.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),v&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},v&&(Be="assigned_to__email"===v?"Assigned To":"references__source"===v?"Reference":"stage"===v?"Stage":"description__name"===v?"Description":"",Re="assigned_to__email"===v?De.map(function(e){return e.email}):"references__source"===v?ve.map(function(e){return e.source}):"stage"===v?Td.map(function(e){return e.value}):"description__name"===v?Ee.map(function(e){return e.name}):[],ze=function(e){O(e),D(1)},a.a.createElement(yr,{fullWidth:!0,size:"small",onChange:function(e,t){return ze(t)},options:Re,getOptionLabel:function(e){return e},label:Be}))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(ga,{onSearch:function(e){S(e),D(1)},onReset:function(){S(""),D(1)}})),a.a.createElement(Et.a,{item:!0,xs:6,sm:3,md:1.5},(Le.groups.includes("Director")||Le.groups.includes("Sales Manager")||Le.groups.includes("Sales Deputy Manager")||Le.groups.includes("Sales Assistant Deputy Manager"))&&a.a.createElement(yt.a,{variant:"contained",onClick:function(){return je(!0)}},"Assign Bulk")),a.a.createElement(Et.a,{item:!0,xs:6,sm:3,md:1.5},a.a.createElement(yt.a,{variant:"contained",color:"success",onClick:function(){return U(!0)}},"Add")))),a.a.createElement(vt.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2}},a.a.createElement(Et.a,{container:!0,justifyContent:"center"},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"h3",component:"h3",sx:{textAlign:"center",fontSize:"24px",fontWeight:800,color:"rgb(34, 34, 34)"}},"Hot Leads")))),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Id,null,["COMPANY","NAME","CONTACT","ALTERNATE CONTACT","CITY","STATE","PRIORITY","STAGE","ASSIGNED TO","PIN","ACTION"].map(function(e){return a.a.createElement(Ad,{key:e,align:"center"},e)}))),a.a.createElement(Mt.a,null,r.map(function(e,t){return a.a.createElement(Id,{key:e.i,style:{backgroundColor:Ue[t]&&Ue[t].priority||"",cursor:"pointer","&:hover":{backgroundColor:"#f5f5f5"},"&.pinned-row":{backgroundColor:"#e0e0e0"}},className:ee.includes(e.lead_id)?"pinned-row":""},a.a.createElement(Ad,{align:"center"},e.company),a.a.createElement(Ad,{align:"center"},e.name),a.a.createElement(Ad,{align:"center"},e.contact),a.a.createElement(Ad,{align:"center"},e.alternate_contact),a.a.createElement(Ad,{align:"center"},e.city),a.a.createElement(Ad,{align:"center"},e.state),a.a.createElement(Ad,{align:"center"},e.priority),a.a.createElement(Ad,{align:"center"},e.stage),a.a.createElement(Ad,{align:"center"},e.assigned_to),a.a.createElement(Ad,{align:"center"},a.a.createElement(m.a,{onClick:function(t){return We(t,e)},style:{transform:"rotate(45deg)"}},e.pinned?a.a.createElement(ad.a,null):a.a.createElement(id.a,null))),a.a.createElement(Ad,{align:"center"},a.a.createElement(yt.a,{onClick:function(){return he(e.lead_id),void B(!0)}},"View"),",",a.a.createElement(yt.a,{onClick:function(){return he(e.lead_id),void Q(!0)}},"Activity"),",",a.a.createElement(yt.a,{onClick:function(){return he(e.lead_id),void Z(!0)}},"Potential"),",",a.a.createElement(yt.a,{onClick:function(){return he(e.lead_id),void oe(!0)}},"PI"),","," ",a.a.createElement(yt.a,{onClick:function(){return he(e.lead_id),void ue(!0)}},"Forecast")))})))),a.a.createElement(Zn,{totalPages:A,currentPage:C,handlePageChange:function(e,t){D(t)}}))),a.a.createElement(ut,{fullScreen:!0,title:"Create Leads",openPopup:M,setOpenPopup:U},a.a.createElement(ld,{getleads:Me,setOpenPopup:U,currentPage:C,filterQuery:v,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(ut,{fullScreen:!0,title:"Update Leads",openPopup:W,setOpenPopup:B},a.a.createElement(cs,{leadsByID:pe,setOpenPopup:B,getAllleadsData:Me,currentPage:C,filterQuery:v,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(ut,{maxWidth:"xl",title:"Create Activity",openPopup:V,setOpenPopup:Q},a.a.createElement(es,{getleads:Me,leadsByID:pe,setOpenPopup:Q,getLeadByID:null,currentPage:C,filterQuery:v,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(ut,{maxWidth:"lg",title:"Create Potential",openPopup:J,setOpenPopup:Z},a.a.createElement(as,{getleads:Me,getLeadByID:null,leadsByID:pe,setOpenPopup:Z,currentPage:C,filterQuery:v,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(ut,{fullScreen:!0,title:"Create Leads Proforma Invoice",openPopup:ae,setOpenPopup:oe},a.a.createElement(vd,{leadsByID:pe,setOpenPopup:oe})),a.a.createElement(ut,{title:"Create Lead Forecast",openPopup:le,setOpenPopup:ue},a.a.createElement(Ed,{getleads:Me,leadsByID:pe,setOpenPopup:ue,currentPage:C,filterQuery:v,filterSelectedQuery:w,searchQuery:L})),a.a.createElement(ut,{maxWidth:"lg",title:"Assign Bulk Lead to another Employee",openPopup:_e,setOpenPopup:je},a.a.createElement(fd,{setOpenPopup:je})))},Td=[{label:"New",value:"new"},{label:"Open",value:"open"},{label:"Opportunity",value:"opportunity"},{label:"Potential",value:"potential"},{label:"Interested",value:"interested"},{label:"Converted",value:"converted"},{label:"Not Interested",value:"not_interested"},{label:"Close",value:"close"}],Ad=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14}),Object(Wt.a)(t,"& > td, & > th",{padding:4}),t}),Id=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0},"& > td, & > th":{padding:4},"& > td:first-child, & > th:first-child":{paddingLeft:4},"& > td:last-child, & > th:last-child":{paddingRight:4},"&:hover":{backgroundColor:"lightgray !important"}}});function Fd(){Fd=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Gd=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(""),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(null),g=Object(l.a)(y,2),b=g[0],w=g[1],O=Object(n.useState)(null),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(1),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)(0),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Object(n.useState)(!1),F=Object(l.a)(I,2),G=F[0],W=F[1],B=Object(n.useState)(!1),R=Object(l.a)(B,2),z=R[0],M=R[1],U=Object(n.useState)(!1),Y=Object(l.a)(U,2),q=Y[0],V=Y[1],Q=Object(n.useState)(!1),H=Object(l.a)(Q,2),K=H[0],J=H[1],Z=Object(n.useState)(null),X=Object(l.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)([]),re=Object(l.a)(te,2),ne=re[0],ae=re[1],oe=Object(n.useState)([]),ie=Object(l.a)(oe,2),ce=ie[0],le=ie[1],ue=Object(n.useState)(!1),se=Object(l.a)(ue,2),fe=se[0],pe=se[1],he=Object(s.c)(function(e){return e.auth}).profile,de=he.sales_users||[],me=Ln(),ve=me.handleError,ye=me.handleCloseSnackbar,ge=me.alertInfo,be=function(){var e=Object(c.a)(Fd().mark(function e(t){var r,n;return Fd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p(!0),v(t),!t.includes("references__source")){e.next=8;break}return e.next=6,Nr.getAllRefernces();case 6:r=e.sent,ae(r.data);case 8:if(!t.includes("description__name")){e.next=13;break}return e.next=11,un.getNoDescription();case 11:n=e.sent,le(n.data);case 13:p(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("error",e.t0),p(!1);case 20:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){Oe()},[P,b,j]);var Ee,we,xe,Oe=Object(n.useCallback)(Object(c.a)(Fd().mark(function e(){var t;return Fd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Nr.getAllLeads(P,"hot","-lead_id",m,b,j);case 4:t=e.sent,o(t.data.results),A(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ve(e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[P,b,j]),_e=r.map(function(e){var t="";switch(e.priority){case"High":t="#ffcccc";break;case"Medium":t="#ccccff";break;case"Low":t="#ffffcc";break;default:t="#ffffff"}return{priority:t}}),je=r.map(function(e,t){return{id:e.lead_id,company:e.company,name:e.name,contact:e.contact,alternate_contact:e.alternate_contact,city:e.city,state:e.state,priority:e.priority,stage:e.stage,assigned_to:e.assigned_to}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:ge.open,onClose:ye,severity:ge.severity,message:ge.message}),a.a.createElement(Pt,{open:f}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{mb:2}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Fliter By"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"values",label:"Fliter By",value:m,onChange:function(e){return be(e.target.value)}},Wd.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),m&&a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},m&&(Ee="assigned_to__email"===m?"Assigned To":"references__source"===m?"Reference":"stage"===m?"Stage":"description__name"===m?"Description":"",we="assigned_to__email"===m?de.map(function(e){return e.email}):"references__source"===m?ne.map(function(e){return e.source}):"stage"===m?Bd.map(function(e){return e.value}):"description__name"===m?ce.map(function(e){return e.name}):[],xe=function(e){w(e),C(1)},a.a.createElement(yr,{fullWidth:!0,size:"small",onChange:function(e,t){return xe(t)},options:we,getOptionLabel:function(e){return e},label:Ee}))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(ga,{onSearch:function(e){L(e),C(1)},onReset:function(){L(""),C(1)}})),a.a.createElement(Et.a,{item:!0,xs:6,sm:3,md:1.5},(he.groups.includes("Director")||he.groups.includes("Sales Manager")||he.groups.includes("Sales Deputy Manager")||he.groups.includes("Sales Assistant Deputy Manager"))&&a.a.createElement(yt.a,{variant:"contained",onClick:function(){return pe(!0)}},"Assign Bulk")),a.a.createElement(Et.a,{item:!0,xs:6,sm:3,md:1.5},a.a.createElement(yt.a,{variant:"contained",color:"success",onClick:function(){return M(!0)}},"Add")))),a.a.createElement(vt.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2}},a.a.createElement(Et.a,{container:!0,justifyContent:"center"},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"h3",component:"h3",sx:{textAlign:"center",fontSize:"24px",fontWeight:800,color:"rgb(34, 34, 34)"}},"Dropped Leads")))),a.a.createElement(Cn,{headers:["ID","COMPANY","NAME","CONTACT","ALTERNATE CONTACT","CITY","STATE","PRIORITY","STAGE","ASSIGNED TO","ACTION"],data:je,openInPopup:function(e){ee(e.id),W(!0)},openInPopup2:function(e){ee(e.id),V(!0)},openInPopup3:function(e){ee(e.id),J(!0)},openInPopup4:null,ButtonText:"Activity",ButtonText1:"Potential",PriorityColor:_e,Styles:{paddingLeft:"10px",paddingRight:"10px"}}),a.a.createElement(Zn,{totalPages:T,currentPage:P,handlePageChange:function(e,t){C(t)}}))),a.a.createElement(ut,{fullScreen:!0,title:"Create Leads",openPopup:z,setOpenPopup:M},a.a.createElement(ld,{getleads:Oe,setOpenPopup:M,currentPage:P,filterQuery:m,filterSelectedQuery:b,searchQuery:j})),a.a.createElement(ut,{fullScreen:!0,title:"Update Leads",openPopup:G,setOpenPopup:W},a.a.createElement(cs,{leadsByID:$,setOpenPopup:W,getAllleadsData:Oe,currentPage:P,filterQuery:m,filterSelectedQuery:b,searchQuery:j})),a.a.createElement(ut,{maxWidth:"xl",title:"Create Activity",openPopup:q,setOpenPopup:V},a.a.createElement(es,{getleads:Oe,leadsByID:$,setOpenPopup:V,getLeadByID:null,currentPage:P,filterQuery:m,filterSelectedQuery:b,searchQuery:j})),a.a.createElement(ut,{maxWidth:"lg",title:"Create Potential",openPopup:K,setOpenPopup:J},a.a.createElement(as,{getleads:Oe,getLeadByID:null,leadsByID:$,setOpenPopup:J,currentPage:P,filterQuery:m,filterSelectedQuery:b,searchQuery:j})),a.a.createElement(ut,{maxWidth:"lg",title:"Assign Bulk Lead to another Employee",openPopup:fe,setOpenPopup:pe},a.a.createElement(fd,{setOpenPopup:pe})))},Wd=[{label:"References",value:"references__source"},{label:"Description",value:"description__name"},{label:"Assigned To",value:"assigned_to__email"}],Bd=[{label:"New",value:"new"},{label:"Open",value:"open"},{label:"Opportunity",value:"opportunity"},{label:"Potential",value:"potential"},{label:"Interested",value:"interested"},{label:"Converted",value:"converted"},{label:"Not Interested",value:"not_interested"},{label:"Close",value:"close"}];function Rd(){Rd=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var zd=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)("gst_number"),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(""),g=Object(l.a)(y,2),b=g[0],w=g[1],O=Object(n.useState)(1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(0),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)(!1),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Object(n.useState)(!1),F=Object(l.a)(I,2),G=F[0],W=F[1],B=Object(n.useState)(!1),R=Object(l.a)(B,2),z=R[0],M=R[1],U=Object(n.useState)(!1),Y=Object(l.a)(U,2),q=Y[0],V=Y[1],Q=Object(n.useState)(null),H=Object(l.a)(Q,2),K=H[0],J=H[1],Z=Object(n.useState)(!1),X=Object(l.a)(Z,2),$=X[0],ee=X[1],te=Object(s.c)(function(e){return e.auth}).profile,re=Ln(),ne=re.handleError,ae=re.handleCloseSnackbar,oe=re.alertInfo;Object(n.useEffect)(function(){ie()},[j,m,b]);var ie=Object(n.useCallback)(Object(c.a)(Rd().mark(function e(){var t;return Rd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Nr.getAllDuplicateLeads(j,m,b);case 4:t=e.sent,o(t.data.results),C(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ne(e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[j,m,b]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:oe.open,onClose:ae,severity:oe.severity,message:oe.message}),a.a.createElement(Pt,{open:f}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{mb:2}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(tr.a,{fullWidth:!0,sx:{maxWidth:"300px"},size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Fliter By"),a.a.createElement(nr.a,{labelId:"demso-simple-select-label",id:"demo-simple-select",name:"values",label:"Fliter By",value:m,onChange:function(e){return function(e){v(e.target.value),L(1)}(e)}},Md.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(ga,{onSearch:function(e){w(e),L(1)},onReset:function(){w(""),L(1)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:2},(te.groups.includes("Director")||te.groups.includes("Sales Manager")||te.groups.includes("Sales Deputy Manager"))&&a.a.createElement("button",{onClick:function(){return ee(!0)},className:"btn btn-primary me-2",size:"small"},"Assign Bulk Lead")),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:1},a.a.createElement(yt.a,{onClick:function(){return W(!0)},variant:"contained",color:"success"},"Add")))),a.a.createElement(vt.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2}},a.a.createElement(Et.a,{container:!0,justifyContent:"center"},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"h3",component:"h3",sx:{textAlign:"center",fontSize:"24px",fontWeight:800,color:"rgb(34, 34, 34)"}},"Duplicates Leads")))),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ud,{align:"center"},"COMPANY"),a.a.createElement(Ud,{align:"center"},"NAME"),a.a.createElement(Ud,{align:"center"},"CONTACT"),a.a.createElement(Ud,{align:"center"},"ALT. CONTACT"),a.a.createElement(Ud,{align:"center"},"CITY"),a.a.createElement(Ud,{align:"center"},"STATE"),a.a.createElement(Ud,{align:"center"},"GST NO."),a.a.createElement(Ud,{align:"center"},"PAN NO."),a.a.createElement(Ud,{align:"center"},"ASSIGNED TO"),a.a.createElement(Ud,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,r.map(function(e,t){return a.a.createElement(Yd,{key:t},a.a.createElement(Ud,{align:"center"},e.company),a.a.createElement(Ud,{align:"center"},e.name),a.a.createElement(Ud,{align:"center"},e.contact),a.a.createElement(Ud,{align:"center"},e.alternate_contact),a.a.createElement(Ud,{align:"center"},e.city),a.a.createElement(Ud,{align:"center"},e.state),a.a.createElement(Ud,{align:"center"},e.gst_number),a.a.createElement(Ud,{align:"center"},e.pan_number),a.a.createElement(Ud,{align:"center"},e.assigned_to),a.a.createElement(Ud,{align:"center",style:{width:"200px"}},a.a.createElement("div",{style:{color:"blue"},onClick:function(){return J(e.lead_id),void A(!0)}},"View"),a.a.createElement("div",{style:{color:"green"},onClick:function(){return J(e.lead_id),void M(!0)}},"Activity"),a.a.createElement("div",{style:{color:"red"},onClick:function(){return J(e.lead_id),void V(!0)}},"Potential")))})))),a.a.createElement(Zn,{totalPages:P,currentPage:j,handlePageChange:function(e,t){L(t)}}))),a.a.createElement(ut,{fullScreen:!0,title:"Create Leads",openPopup:G,setOpenPopup:W},a.a.createElement(ld,{getleads:ie,setOpenPopup:W,currentPage:j,filterQuery:m,filterSelectedQuery:b,searchQuery:null})),a.a.createElement(ut,{fullScreen:!0,title:"Update Leads",openPopup:T,setOpenPopup:A},a.a.createElement(cs,{leadsByID:K,setOpenPopup:A,getAllleadsData:ie,currentPage:j,filterQuery:m,filterSelectedQuery:b,searchQuery:null})),a.a.createElement(ut,{maxWidth:"xl",title:"Create Activity",openPopup:z,setOpenPopup:M},a.a.createElement(es,{getleads:ie,leadsByID:K,setOpenPopup:M,getLeadByID:null,currentPage:j,filterQuery:m,filterSelectedQuery:b,searchQuery:null})),a.a.createElement(ut,{maxWidth:"lg",title:"Create Potential",openPopup:q,setOpenPopup:V},a.a.createElement(as,{getleads:ie,getLeadByID:null,leadsByID:K,setOpenPopup:V,currentPage:j,filterQuery:m,filterSelectedQuery:b,searchQuery:null})),a.a.createElement(ut,{maxWidth:"lg",title:"Assign Bulk Lead to another Employee",openPopup:$,setOpenPopup:ee},a.a.createElement(fd,{setOpenPopup:ee})))},Md=[{label:"Gst Number",value:"gst_number"},{label:"Contact",value:"contact"},{label:"Alt Contact",value:"alternate_contact"},{label:"Email",value:"email"},{label:"Company",value:"company"},{label:"Pan No",value:"pan_number"}],Ud=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14}),t}),Yd=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function qd(){qd=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Vd=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(""),y=Object(l.a)(v,2),g=y[0],b=y[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(""),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)([]),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(1),A=Object(l.a)(T,2),I=A[0],F=A[1],G=Object(n.useState)(0),W=Object(l.a)(G,2),B=W[0],R=W[1],z=Object(n.useState)(!1),M=Object(l.a)(z,2),U=M[0],Y=M[1],q=Object(n.useState)(null),V=Object(l.a)(q,2),Q=V[0],H=V[1],K=Object(n.useState)([]),J=Object(l.a)(K,2),Z=J[0],X=J[1],$=Object(n.useState)(null),ee=Object(l.a)($,2),te=ee[0],re=ee[1],ne=Object(n.useState)([]),ae=Object(l.a)(ne,2),oe=ae[0],ie=ae[1],ce=Ln(),le=ce.handleSuccess,ue=ce.handleError,se=ce.handleCloseSnackbar,fe=ce.alertInfo,pe=function(e){H(e),m(!0)};Object(n.useEffect)(function(){he(),de()},[]);var he=function(){var e=Object(c.a)(qd().mark(function e(t){var r;return qd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Nr.getAllRefernces();case 4:r=e.sent,X(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(c.a)(qd().mark(function e(){var t,r;return qd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Nr.getAllAssignedUser();case 4:t=e.sent,r=t.data.filter(function(e){return e.groups.some(function(e){return Kr.ALLOWED_ROLES.includes(e)})}),N(r),f(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error",e.t0),f(!1);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){me()},[I,g,O]);var me=Object(n.useCallback)(Object(c.a)(qd().mark(function e(){var t;return qd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Nr.getAllUnassignedData(I,g,O);case 4:t=e.sent,o(t.data.results),R(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ue(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[I,g,O]),ve=Object(n.useCallback)(function(){var e=Object(c.a)(qd().mark(function e(t){var r,n,a,o;return qd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),f(!0),r={contact:Q.contact?Q.contact:null,business_mismatch:Q.business_mismatch?Q.business_mismatch:"No",description:Q.description||[],interested:Q.interested?Q.interested:"Yes",assigned_to:S||Q.assigned_to,references:Q.references?Q.references:"Indiamart"},n={lead_id:oe,assign_to:S},!(oe.length>0)){e.next=11;break}return e.next=8,Nr.AssignMultipleLeads(n);case 8:a=e.sent,e.next=14;break;case 11:return e.next=13,Nr.updateLeads(Q.lead_id,r);case 13:a=e.sent;case 14:o=a.data.message||"UnAssigned Leads Created successfully",le(o),setTimeout(function(){m(!1),me(I,g,O)},300),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),ue(e.t0);case 22:return e.prev=22,f(!1),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[0,19,22,25]])}));return function(t){return e.apply(this,arguments)}}(),[Q,S,I,g,O]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:fe.open,onClose:se,severity:fe.severity,message:fe.message}),a.a.createElement(Pt,{open:s}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{mb:2}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(yr,{size:"small",value:g,onChange:function(e,t){return function(e){b(e.target.value),F(1)}(t)},options:Z.map(function(e){return e.source}),getOptionLabel:function(e){return e},label:"Filter By References"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(ga,{onSearch:function(e){_(e),F(1)},onReset:function(){_(""),F(1)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},oe.length>0&&a.a.createElement(yt.a,{variant:"contained",onClick:function(){return pe(oe)}},"Assign")))),a.a.createElement(vt.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2}},a.a.createElement(Et.a,{container:!0,justifyContent:"center"},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(E.a,{variant:"h3",component:"h3",sx:{textAlign:"center",fontSize:"24px",fontWeight:800,color:"rgb(34, 34, 34)"}},"UnAssigned Leads")))),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Qd,{align:"center"},"Checkbox"),a.a.createElement(Qd,{align:"center"},"NAME"),a.a.createElement(Qd,{align:"center"},"CONTACT"),a.a.createElement(Qd,{align:"center"},"PRODUCT"),a.a.createElement(Qd,{align:"center"},"ASSIGNED TO"),a.a.createElement(Qd,{align:"center"},"COMPANY"),a.a.createElement(Qd,{align:"center"},"REFERENCE"),a.a.createElement(Qd,{align:"center"},"CITY"),a.a.createElement(Qd,{align:"center"},"STATE"),a.a.createElement(Qd,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,r.map(function(e,t){return a.a.createElement(Hd,{key:t},a.a.createElement(Qd,{align:"center"},a.a.createElement(Xn.a,{checked:oe.includes(e.lead_id),onChange:function(){return t=e.lead_id,void ie(function(e){return e.some(function(e){return e===t})?e.filter(function(e){return e!==t}):[].concat(Object(ln.a)(e),[t])});var t},inputProps:{"aria-label":"controlled"}})),a.a.createElement(Qd,{align:"center"},e.name),a.a.createElement(Qd,{align:"center"},e.contact),a.a.createElement(Qd,{align:"center"},e.query_product_name),a.a.createElement(Qd,{align:"center"},e.assigned_to),a.a.createElement(Qd,{align:"center"},e.company),a.a.createElement(Qd,{align:"center"},e.references),a.a.createElement(Qd,{align:"center"},e.city),a.a.createElement(Qd,{align:"center"},e.state),a.a.createElement(Qd,{align:"center"},a.a.createElement(yt.a,{variant:"text",onClick:function(){return re(e.lead_id),void Y(!0)}},"View"),a.a.createElement(yt.a,{color:"success",variant:"text",onClick:function(){return pe(e)}},"Assign")))})))),a.a.createElement(Zn,{totalPages:B,currentPage:I,handlePageChange:function(e,t){F(t)}}))),a.a.createElement(ut,{maxWidth:"xl",title:"Update Leads",openPopup:U,setOpenPopup:Y},a.a.createElement(cs,{leadsByID:te,setOpenPopup:Y,getAllleadsData:me,currentPage:I,filterQuery:g,filterSelectedQuery:O,searchQuery:null})),a.a.createElement(ut,{maxWidth:"xl",title:"Assigned To",openPopup:d,setOpenPopup:m},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:Q?Q.assigned_to:"-",onChange:function(e,t){return k(t)},options:D.map(function(e){return e.email}),getOptionLabel:function(e){return"".concat(e)},label:"Assign To"})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yt.a,{variant:"contained",color:"success",onClick:function(e){return ve(e)}},"Submit")))))},Qd=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),Hd=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Kd(){Kd=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Jd=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p="".concat((new Date).getFullYear(),"-").concat(((new Date).getMonth()+1).toString().padStart(2,"0")),h=Object(n.useState)(p),d=Object(l.a)(h,2),m=d[0],v=d[1],y=function(){var e=Object(c.a)(Kd().mark(function e(){var t;return Kd().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Nr.getIndiaMartLeads(m);case 4:t=e.sent,f(t.data),o(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),o(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){y()},[m]);var g=s.filter(function(e){var t=new Date(e.date_time__date);return"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"))===m});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},a.a.createElement(Lt,{size:"small",type:"month",label:"Filter By Month and Year",value:m,onChange:function(e){return v(e.target.value)},sx:{width:200,marginRight:"15rem"}}),a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"IndiaMart Leads")),a.a.createElement(Bt.a,{sx:{maxHeight:440}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Xd,null,["Date","Direct Lead","Buy Lead","Call Lead","Total Lead"].map(function(e){return a.a.createElement(Zd,{key:e,align:"center"},e)}))),a.a.createElement(Mt.a,null,g.map(function(e,t){return a.a.createElement(Xd,{key:t},a.a.createElement(Zd,{align:"center"},e.date_time__date),a.a.createElement(Zd,{align:"center"},e.direct_leads||0),a.a.createElement(Zd,{align:"center"},e.buy_leads||0),a.a.createElement(Zd,{align:"center"},e.call_leads||0),a.a.createElement(Zd,{align:"center"},e.total_leads||0))})))))))},Zd=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),Xd=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),$d=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})},r=t("Director","Sales Manager","Sales Deputy Manager"),o=t("Sales Assistant Deputy Manager"),i=t("Sales Executive"),c=t("Sales Manager without Leads"),u=t("Sales Manager with Leads"),f=t("Customer Service"),p=Object(n.useMemo)(function(){return[{label:"New Leads",visible:r||o||i||c||u||f,index:0,component:a.a.createElement(xd,null)},{label:"Opened Leads",visible:r||o||i||c||u||f,index:1,component:a.a.createElement(Sd,null)},{label:"Hot Leads",visible:r||o||i||c||u||f,index:2,component:a.a.createElement(Nd,null)},{label:"Dropped Leads",visible:r||o,index:3,component:a.a.createElement(Gd,null)},{label:"Duplicate Leads",visible:r||o,index:4,component:a.a.createElement(zd,null)},{label:"Unassigned Leads",visible:r||o||u,index:5,component:a.a.createElement(Vd,null)},{label:"Indiamart Leads",visible:r,index:6,component:a.a.createElement(Jd,null)}]},[r,o,i,c,u,f]),h=Object(n.useMemo)(function(){return p.filter(function(e){return e.visible})},[p]),d=Object(n.useMemo)(function(){return h.map(function(e){return e.index})},[h]),m=Object(n.useState)(d[0]||0),v=Object(l.a)(m,2),y=v[0],g=v[1];return Object(n.useEffect)(function(){d.includes(y)||g(d[0]||0)},[d,y]),a.a.createElement("div",null,a.a.createElement(_n,{tabs:h,activeTab:y,onTabChange:function(e){return g(d[e])}}),d.includes(y)&&a.a.createElement("div",null,h.find(function(e){return e.index===y}).component))};function em(){em=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var tm=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getColours,o=e.currentPage,i=e.searchQuery,u=Object(n.useState)(""),s=Object(l.a)(u,2),f=s[0],p=s[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Ln(),g=y.handleSuccess,b=y.handleError,E=y.handleCloseSnackbar,w=y.alertInfo,x=Object(n.useCallback)(function(){var e=Object(c.a)(em().mark(function e(n){var a,c,l;return em().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),a={name:f},v(!0),e.next=6,un.createColour(a);case 6:c=e.sent,l=c.data.message||"Colour Created successfully",g(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),b(e.t0);case 15:return e.prev=15,v(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[f,o,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:w.open,onClose:E,severity:w.severity,message:w.message}),a.a.createElement(Pt,{open:m}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return x(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"colour",size:"small",label:"Colour",variant:"outlined",value:f,onChange:function(e){return p(e.target.value)}}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function rm(){rm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var nm=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getColours,i=e.currentPage,s=e.searchQuery,f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(t),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Ln(),E=b.handleSuccess,w=b.handleError,x=b.handleCloseSnackbar,O=b.alertInfo,_=Object(n.useCallback)(function(){var e=Object(c.a)(rm().mark(function e(n){var a,c,l;return rm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),d(!0),a={name:y.name},!t){e.next=11;break}return e.next=7,un.updateColour(y.id,a);case 7:c=e.sent,l=c.data.message||"Colour updated successfully",E(l),setTimeout(function(){r(!1),o(i,s)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),w(e.t0);case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[y,i,s]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:O.open,onClose:x,severity:O.severity,message:O.message}),a.a.createElement(Pt,{open:h}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Id",variant:"outlined",value:t.id||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Colour",variant:"outlined",value:y.name||"",onChange:function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},y,Object(Wt.a)({},r,n)))}}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function am(){am=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var om=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(""),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(0),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Ln(),G=F.handleError,W=F.handleCloseSnackbar,B=F.alertInfo,R=Object(n.useCallback)(Object(c.a)(am().mark(function e(){var t;return am().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,un.getAllColour(C,d);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),G(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,d]);Object(n.useEffect)(function(){R()},[C,d]);var z=r.map(function(e){return e});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:B.open,onClose:W,severity:B.severity,message:B.message}),a.a.createElement(Pt,{open:s}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(ga,{onSearch:function(e){m(e),D(1)},onReset:function(){m(""),D(1)}})),a.a.createElement(vt.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Colour")),a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(yt.a,{onClick:function(){return O(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(Cn,{headers:["ID","COLOUR","ACTION"],data:z,openInPopup:function(e){S(e),b(!0)}}),a.a.createElement(Zn,{totalPages:A,currentPage:C,handlePageChange:function(e,t){D(t)}}))),a.a.createElement(ut,{title:"Create Colour",openPopup:x,setOpenPopup:O,currentPage:C,searchQuery:d},a.a.createElement(tm,{getColours:R,setOpenPopup:O})),a.a.createElement(ut,{title:"Update Colour",openPopup:g,setOpenPopup:b},a.a.createElement(nm,{recordForEdit:L,setOpenPopup:b,getColours:R,currentPage:C,searchQuery:d})))};function im(){im=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var cm=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getBrandList,o=e.currentPage,i=e.searchQuery,s=Object(n.useState)([]),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Ln(),b=g.handleSuccess,E=g.handleError,w=g.handleCloseSnackbar,x=g.alertInfo,O=function(e){var t=e.target,r=t.name,n=t.value;h(Object(u.a)({},p,Object(Wt.a)({},r,n)))},_=Object(n.useCallback)(function(){var e=Object(c.a)(im().mark(function e(n){var a,c,l;return im().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),y(!0),a={name:p.name,short_name:p.shortName},e.next=6,un.createBrand(a);case 6:c=e.sent,l=c.data.message||"Brand Created successfully",b(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),E(e.t0);case 15:return e.prev=15,y(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[p,o,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:x.open,onClose:w,severity:x.severity,message:x.message}),a.a.createElement(Pt,{open:v}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Brand",variant:"outlined",value:p.name,onChange:O})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"shortName",size:"small",label:"Short Name",variant:"outlined",value:p.shortName,onChange:O}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function lm(){lm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var um=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getBrandList,i=e.currentPage,s=e.searchQuery,f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(t),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Ln(),E=b.handleSuccess,w=b.handleError,x=b.handleCloseSnackbar,O=b.alertInfo,_=function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},y,Object(Wt.a)({},r,n)))},j=Object(n.useCallback)(function(){var e=Object(c.a)(lm().mark(function e(n){var a,c,l;return lm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),d(!0),a={name:y.name,short_name:y.short_name},!t){e.next=11;break}return e.next=7,un.updateBrand(y.id,a);case 7:c=e.sent,l=c.data.message||"Brand updated successfully",E(l),setTimeout(function(){r(!1),o(i,s)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),w(e.t0);case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[y,i,s]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:O.open,onClose:x,severity:O.severity,message:O.message}),a.a.createElement(Pt,{open:h}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return j(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"ID",variant:"outlined",value:y.id||""})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Brand",variant:"outlined",value:y.name||"",onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"short_name",size:"small",label:"Short Name",variant:"outlined",value:y.short_name||"",onChange:_}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function sm(){sm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var fm=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(""),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(0),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Ln(),G=F.handleError,W=F.handleCloseSnackbar,B=F.alertInfo,R=Object(n.useCallback)(Object(c.a)(sm().mark(function e(){var t;return sm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,un.getAllBrand(C,d);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),G(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,d]);Object(n.useEffect)(function(){R()},[C,d]);var z=r.map(function(e){return e});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:B.open,onClose:W,severity:B.severity,message:B.message}),a.a.createElement(Pt,{open:s}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(ga,{onSearch:function(e){m(e),D(1)},onReset:function(){m(""),D(1)}})),a.a.createElement(vt.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Brand")),a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(yt.a,{onClick:function(){return O(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(Cn,{headers:["ID","BRAND","SHORT NAME","ACTION"],data:z,openInPopup:function(e){S(e),b(!0)}}),a.a.createElement(Zn,{totalPages:A,currentPage:C,handlePageChange:function(e,t){D(t)}}))),a.a.createElement(ut,{title:"Create Brand",openPopup:x,setOpenPopup:O,currentPage:C,searchQuery:d},a.a.createElement(cm,{getBrandList:R,setOpenPopup:O})),a.a.createElement(ut,{title:"Update Brand",openPopup:g,setOpenPopup:b},a.a.createElement(um,{recordForEdit:L,setOpenPopup:b,getBrandList:R,currentPage:C,searchQuery:d})))};function pm(){pm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var hm=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getBasicUnit,o=e.currentPage,i=e.searchQuery,s=Object(n.useState)([]),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Ln(),b=g.handleSuccess,E=g.handleError,w=g.handleCloseSnackbar,x=g.alertInfo,O=function(e){var t=e.target,r=t.name,n=t.value;h(Object(u.a)({},p,Object(Wt.a)({},r,n)))},_=Object(n.useCallback)(function(){var e=Object(c.a)(pm().mark(function e(n){var a,c,l;return pm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),y(!0),a={name:p.name,short_name:p.shortName},e.next=6,un.createBasicUnit(a);case 6:c=e.sent,l=c.data.message||"Basic Unit Created successfully",b(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),E(e.t0);case 15:return e.prev=15,y(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[p,o,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:x.open,onClose:w,severity:x.severity,message:x.message}),a.a.createElement(Pt,{open:v}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Basic Unit",variant:"outlined",value:p.name,onChange:O})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"shortName",size:"small",label:"Short Name",variant:"outlined",value:p.shortName,onChange:O}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function dm(){dm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var mm=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getBasicUnit,i=e.currentPage,s=e.searchQuery,f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(t),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Ln(),E=b.handleSuccess,w=b.handleError,x=b.handleCloseSnackbar,O=b.alertInfo,_=function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},y,Object(Wt.a)({},r,n)))},j=Object(n.useCallback)(function(){var e=Object(c.a)(dm().mark(function e(n){var a,c,l;return dm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),d(!0),a={name:y.name,short_name:y.short_name},!t){e.next=11;break}return e.next=7,un.updateBasicUnit(y.id,a);case 7:c=e.sent,l=c.data.message||"Basic Unit updated successfully",E(l),setTimeout(function(){r(!1),o(i,s)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),w(e.t0);case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}());return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:O.open,onClose:x,severity:O.severity,message:O.message}),a.a.createElement(Pt,{open:h}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return j(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Id",variant:"outlined",value:t.id||""})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Basic Unit",variant:"outlined",value:y.name||"",onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"short_name",size:"small",label:"Short Name",variant:"outlined",value:y.short_name||"",onChange:_}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function vm(){vm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ym=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(""),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(0),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Ln(),G=F.handleError,W=F.handleCloseSnackbar,B=F.alertInfo,R=Object(n.useCallback)(Object(c.a)(vm().mark(function e(){var t;return vm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,un.getAllBasicUnit(C,d);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),G(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,d]);Object(n.useEffect)(function(){R()},[C,d]);var z=r.map(function(e){return e});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:B.open,onClose:W,severity:B.severity,message:B.message}),a.a.createElement(Pt,{open:s}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(ga,{onSearch:function(e){m(e),D(1)},onReset:function(){m(""),D(1)}})),a.a.createElement(vt.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Basic Unit")),a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(yt.a,{onClick:function(){return O(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(Cn,{headers:["ID","BASIC UNIT","SHORT NAME","ACTION"],data:z,openInPopup:function(e){S(e),b(!0)}}),a.a.createElement(Zn,{totalPages:A,currentPage:C,handlePageChange:function(e,t){D(t)}}))),a.a.createElement(ut,{title:"Create Basic Unit",openPopup:x,setOpenPopup:O},a.a.createElement(hm,{getBasicUnit:R,setOpenPopup:O,currentPage:C,searchQuery:d})),a.a.createElement(ut,{title:"Update Basic Unit",openPopup:g,setOpenPopup:b},a.a.createElement(mm,{recordForEdit:L,setOpenPopup:b,getBasicUnit:R,currentPage:C,searchQuery:d})))};function gm(){gm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var bm=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getUnits,o=e.currentPage,i=e.searchQuery,s=Object(n.useState)([]),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Ln(),b=g.handleSuccess,E=g.handleError,w=g.handleCloseSnackbar,x=g.alertInfo,O=function(e){var t=e.target,r=t.name,n=t.value;h(Object(u.a)({},p,Object(Wt.a)({},r,n)))},_=Object(n.useCallback)(function(){var e=Object(c.a)(gm().mark(function e(n){var a,c,l;return gm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),y(!0),a={name:p.name,short_name:p.shortName},e.next=6,un.createUnit(a);case 6:c=e.sent,l=c.data.message||"Unit Created successfully",b(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),E(e.t0);case 15:return e.prev=15,y(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[p,o,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:x.open,onClose:w,severity:x.severity,message:x.message}),a.a.createElement(Pt,{open:v}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Unit",variant:"outlined",value:p.name,onChange:O})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"shortName",size:"small",label:"Short Name",variant:"outlined",value:p.shortName,onChange:O}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function Em(){Em=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var wm=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getUnits,i=e.currentPage,s=e.searchQuery,f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(t),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Ln(),E=b.handleSuccess,w=b.handleError,x=b.handleCloseSnackbar,O=b.alertInfo,_=function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},y,Object(Wt.a)({},r,n)))},j=Object(n.useCallback)(function(){var e=Object(c.a)(Em().mark(function e(n){var a,c,l;return Em().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),d(!0),a={name:y.name,short_name:y.short_name},!t){e.next=11;break}return e.next=7,un.updateUnit(y.id,a);case 7:c=e.sent,l=c.data.message||"Unit updated successfully",E(l),setTimeout(function(){r(!1),o(i,s)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),w(e.t0);case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[y,i,s]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:O.open,onClose:x,severity:O.severity,message:O.message}),a.a.createElement(Pt,{open:h}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return j(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Id",variant:"outlined",value:t.id||""})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Unit",variant:"outlined",value:y.name||"",onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"short_name",size:"small",label:"Short Name",variant:"outlined",value:y.short_name||"",onChange:_}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function xm(){xm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Om=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(""),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(0),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Ln(),G=F.handleError,W=F.handleCloseSnackbar,B=F.alertInfo,R=Object(n.useCallback)(Object(c.a)(xm().mark(function e(){var t;return xm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,un.getAllUnit(C,d);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),G(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,d]);Object(n.useEffect)(function(){R()},[C,d]);var z=r.map(function(e){return e});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:B.open,onClose:W,severity:B.severity,message:B.message}),a.a.createElement(Pt,{open:s}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(ga,{onSearch:function(e){m(e),D(1)},onReset:function(){m(""),D(1)}})),a.a.createElement(vt.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Unit")),a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(yt.a,{onClick:function(){return O(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(Cn,{headers:["ID","UNIT","SHORT NAME","ACTION"],data:z,openInPopup:function(e){S(e),b(!0)}}),a.a.createElement(Zn,{totalPages:A,currentPage:C,handlePageChange:function(e,t){D(t)}}))),a.a.createElement(ut,{title:"Create Unit",openPopup:x,setOpenPopup:O,currentPage:C,searchQuery:d},a.a.createElement(bm,{getUnits:R,setOpenPopup:O})),a.a.createElement(ut,{title:"Update Unit",openPopup:g,setOpenPopup:b},a.a.createElement(wm,{recordForEdit:L,setOpenPopup:b,getUnits:R,currentPage:C,searchQuery:d})))};function _m(){_m=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var jm=function(e){var t=e.setOpenPopup,r=e.getPackingUnits,o=e.currentPage,i=e.searchQuery,s=Object(n.useState)([]),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Ln(),b=g.handleSuccess,E=g.handleError,w=g.handleCloseSnackbar,x=g.alertInfo,O=function(e){var t=e.target,r=t.name,n=t.value;h(Object(u.a)({},p,Object(Wt.a)({},r,n)))},_=function(){var e=Object(c.a)(_m().mark(function e(n){var a,c,l;return _m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),y(!0),a={name:p.name,short_name:p.shortName},e.next=6,un.createPackingUnit(a);case 6:c=e.sent,l=c.data.message||"Packing Unit Created successfully",b(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),E(e.t0);case 15:return e.prev=15,y(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:x.open,onClose:w,severity:x.severity,message:x.message}),a.a.createElement(Pt,{open:v}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Packing Unit",variant:"outlined",value:p.name,onChange:O})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"shortName",size:"small",label:"Short Name",variant:"outlined",value:p.shortName,onChange:O}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Lm(){Lm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Sm=function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getPackingUnits,i=e.currentPage,s=e.searchQuery,f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(t),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Ln(),E=b.handleSuccess,w=b.handleError,x=b.handleCloseSnackbar,O=b.alertInfo,_=function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},y,Object(Wt.a)({},r,n)))},j=function(){var e=Object(c.a)(Lm().mark(function e(n){var a,c,l;return Lm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),d(!0),a={name:y.name,short_name:y.short_name},!t){e.next=11;break}return e.next=7,un.updatePackingUnit(y.id,a);case 7:c=e.sent,l=c.data.message||"Packing Unit updated successfully",E(l),setTimeout(function(){r(!1),o(i,s)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),w(e.t0);case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:O.open,onClose:x,severity:O.severity,message:O.message}),a.a.createElement(Pt,{open:h}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return j(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Id",variant:"outlined",value:t.id||""})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Packing Unit",variant:"outlined",value:y.name||"",onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,name:"short_name",size:"small",label:"Short Name",variant:"outlined",value:y.short_name||"",onChange:_}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))};function km(){km=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Pm=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(""),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(0),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Ln(),G=F.handleError,W=F.handleCloseSnackbar,B=F.alertInfo;Object(n.useEffect)(function(){R(C,d)},[C,d]);var R=Object(n.useCallback)(function(){var e=Object(c.a)(km().mark(function e(t,r){var n;return km().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,un.getAllPackingUnit(t,r);case 4:n=e.sent,o(n.data.results),I(Math.ceil(n.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),G(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,r){return e.apply(this,arguments)}}(),[]),z=r.map(function(e){return e});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:B.open,onClose:W,severity:B.severity,message:B.message}),a.a.createElement(Pt,{open:s}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(ga,{onSearch:function(e){m(e),D(1)},onReset:function(){m(""),D(1)}})),a.a.createElement(vt.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Packing Unit")),a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(yt.a,{onClick:function(){return O(!0)},variant:"contained",color:"success"},"Add"))),a.a.createElement(Cn,{headers:["ID","PACKING UNIT","SHORT NAME","ACTION"],data:z,openInPopup:function(e){S(e),b(!0)}}),a.a.createElement(Zn,{totalPages:A,currentPage:C,handlePageChange:function(e,t){D(t)}}))),a.a.createElement(ut,{title:"Create Packing Unit",openPopup:x,setOpenPopup:O},a.a.createElement(jm,{getPackingUnits:R,setOpenPopup:O,currentPage:C,searchQuery:d})),a.a.createElement(ut,{title:"Update Packing Unit",openPopup:g,setOpenPopup:b},a.a.createElement(Sm,{recordForEdit:L,setOpenPopup:b,getPackingUnits:R,currentPage:C,searchQuery:d})))};function Cm(){Cm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Dm=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getDescriptions,o=e.currentPage,i=e.searchQuery,s=Object(n.useState)([]),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Ln(),b=g.handleSuccess,E=g.handleError,w=g.handleCloseSnackbar,O=g.alertInfo,_=function(e){var t=e.target,r=t.name,n=t.value;h(Object(u.a)({},p,Object(Wt.a)({},r,n)))},j=Object(n.useCallback)(function(){var e=Object(c.a)(Cm().mark(function e(n){var a,c,l;return Cm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),y(!0),a={name:p.name,consumable:p.consumable},e.next=6,un.createDescription(a);case 6:c=e.sent,l=c.data.message||"Description Created successfully",b(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),E(e.t0);case 15:return e.prev=15,y(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[p,o,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:O.open,onClose:w,severity:O.severity,message:O.message}),a.a.createElement(Pt,{open:v}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return j(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Description",variant:"outlined",value:p.name,onChange:_})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-select-small"},"Consumable"),a.a.createElement(nr.a,{labelId:"demo-select-small",id:"demo-select-small",label:"Consumable",name:"consumable",onChange:_},a.a.createElement(x.a,{value:"Yes"},"Yes "),a.a.createElement(x.a,{value:"No"},"No "))))),a.a.createElement(yt.a,{type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function Nm(){Nm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Tm=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getDescriptions,i=e.currentPage,s=e.searchQuery,f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(t),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Ln(),E=b.handleSuccess,w=b.handleError,x=b.handleCloseSnackbar,O=b.alertInfo,_=Object(n.useCallback)(function(){var e=Object(c.a)(Nm().mark(function e(n){var a,c,l;return Nm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),d(!0),a={name:y.name,consumable:y.consumable},!t){e.next=11;break}return e.next=7,un.updateDescription(y.id,a);case 7:c=e.sent,l=c.data.message||"Description updated successfully",E(l),setTimeout(function(){r(!1),o(i,s)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),w(e.t0);case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[y,i,s]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:O.open,onClose:x,severity:O.severity,message:O.message}),a.a.createElement(Pt,{open:h}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Id",variant:"outlined",value:t.id||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Description",variant:"outlined",value:y.name||"",onChange:function(e){var t=e.target,r=t.name,n=t.value;g(Object(u.a)({},y,Object(Wt.a)({},r,n)))}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Consumable",variant:"outlined",value:y.consumable||""}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function Am(){Am=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Im=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(""),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(0),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Object(n.useState)([]),G=Object(l.a)(F,2),W=G[0],B=G[1],R=Object(n.useRef)(null),z=Ln(),M=z.handleError,U=z.handleCloseSnackbar,Y=z.alertInfo,q=function(){var e=Object(c.a)(Am().mark(function e(){var t;return Am().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V();case 3:t=e.sent,B(t),setTimeout(function(){R.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(Am().mark(function e(){var t,r;return Am().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f(!0),!d){e.next=8;break}return e.next=5,un.getAllDescription("all",d);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,un.getAllDescription("all");case 10:t=e.sent;case 11:return r=t.data.map(function(e){return{id:e.id,name:e.name,consumable:e.consumable}}),f(!1),e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,f(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])}));return function(){return e.apply(this,arguments)}}(),Q=Object(n.useCallback)(Object(c.a)(Am().mark(function e(){var t;return Am().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,un.getAllDescription(C,d);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),M(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,d]);Object(n.useEffect)(function(){Q()},[C,d]);var H=r.map(function(e){return{id:e.id,name:e.name,consumable:e.consumable}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:Y.open,onClose:U,severity:Y.severity,message:Y.message}),a.a.createElement(Pt,{open:s}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(ga,{onSearch:function(e){m(e),D(1)},onReset:function(){m(""),D(1)}})),a.a.createElement(vt.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Description")),a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(yt.a,{onClick:function(){return O(!0)},variant:"contained",color:"success"},"Add"),a.a.createElement(yt.a,{variant:"contained",onClick:q},"Download CSV"),W.length>0&&a.a.createElement(fa.CSVLink,{data:W,headers:[{label:"ID",key:"id"},{label:"DESCRIPTION",key:"name"},{label:"CONSUMABLE",key:"consumable"}],ref:R,filename:"Description.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}}))),a.a.createElement(Cn,{headers:["ID","DESCRIPTION","CONSUMABLE","ACTION"],data:H,openInPopup:function(e){S(e),b(!0)}}),a.a.createElement(Zn,{totalPages:A,currentPage:C,handlePageChange:function(e,t){D(t)}}))),a.a.createElement(ut,{title:"Create Description",openPopup:x,setOpenPopup:O},a.a.createElement(Dm,{getDescriptions:Q,setOpenPopup:O,currentPage:C,searchQuery:d})),a.a.createElement(ut,{title:"Update Description",openPopup:g,setOpenPopup:b},a.a.createElement(Tm,{recordForEdit:L,setOpenPopup:b,getDescriptions:Q,currentPage:C,searchQuery:d})))};function Fm(){Fm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Gm=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getproductCodes,i=e.currentPage,s=e.searchQuery,f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)([]),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)(t),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Ln(),_=O.handleSuccess,j=O.handleError,L=O.handleCloseSnackbar,S=O.alertInfo;Object(n.useEffect)(function(){k()},[]);var k=function(){var e=Object(c.a)(Fm().mark(function e(){var t;return Fm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,un.getNoDescription();case 4:t=e.sent,g(t.data),d(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error",e.t0),d(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),P=Object(n.useCallback)(function(){var e=Object(c.a)(Fm().mark(function e(n){var a,c,l;return Fm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),d(!0),a={code:w.code,description:w.description},!t){e.next=11;break}return e.next=7,un.updateProductCode(w.id,a);case 7:c=e.sent,l=c.data.message||"Product Code updated successfully",_(l),setTimeout(function(){r(!1),o(i,s)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),j(e.t0);case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[w,i,s]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:S.open,onClose:L,severity:S.severity,message:S.message}),a.a.createElement(Pt,{open:h}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return P(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"code",size:"small",label:"Code",variant:"outlined",value:w.code||"",onChange:function(e,t){x(function(e){return Object(u.a)({},e,{code:t})})}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{disablePortal:!0,sx:{minWidth:225},size:"small",disableClearable:!0,value:w.description,onChange:function(e,t){x(function(e){return Object(u.a)({},e,{description:t})})},options:y.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Description"}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function Wm(){Wm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Bm=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getproductCodes,o=e.currentPage,i=e.searchQuery,s=Object(n.useState)(""),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)([]),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(!1),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Ln(),S=L.handleSuccess,k=L.handleError,P=L.handleCloseSnackbar,C=L.alertInfo;Object(n.useEffect)(function(){D()},[]);var D=function(){var e=Object(c.a)(Wm().mark(function e(){var t;return Wm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,un.getNoDescription();case 3:t=e.sent,y(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error No Description Fetching Data",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),N=Object(n.useCallback)(function(){var e=Object(c.a)(Wm().mark(function e(n){var a,c,l;return Wm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),j(!0),a={code:E.code,description:p},e.next=6,un.createProductCode(a);case 6:c=e.sent,l=c.data.message||"Product Code Created successfully",S(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),k(e.t0);case 15:return e.prev=15,j(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[E,p,o,i]);return console.log("description",p),a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:C.open,onClose:P,severity:C.severity,message:C.message}),a.a.createElement(Pt,{open:_}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return N(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{name:"code",fullWidth:!0,size:"small",label:"Code",variant:"outlined",value:E.code,onChange:function(e){var t=e.target,r=t.name,n=t.value;w(Object(u.a)({},E,Object(Wt.a)({},r,n)))}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){return h(t)},name:"description",options:v.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Description"}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function Rm(){Rm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var zm=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(""),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(null),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(1),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(0),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Object(n.useState)([]),G=Object(l.a)(F,2),W=G[0],B=G[1],R=Object(n.useRef)(null),z=Ln(),M=z.handleError,U=z.handleCloseSnackbar,Y=z.alertInfo,q=function(){var e=Object(c.a)(Rm().mark(function e(){var t;return Rm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V();case 3:t=e.sent,B(t),setTimeout(function(){R.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(Rm().mark(function e(){var t,r;return Rm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f(!0),!d){e.next=8;break}return e.next=5,un.getAllProductCode("all",d);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,un.getAllProductCode("all");case 10:t=e.sent;case 11:return r=t.data.map(function(e){return{id:e.id,code:e.code,description:e.description}}),f(!1),e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,f(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])}));return function(){return e.apply(this,arguments)}}(),Q=Object(n.useCallback)(Object(c.a)(Rm().mark(function e(){var t;return Rm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,un.getAllProductCode(C,d);case 4:t=e.sent,o(t.data.results),I(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),M(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[C,d]);Object(n.useEffect)(function(){Q()},[C,d]);var H=r.map(function(e){return e});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:Y.open,onClose:U,severity:Y.severity,message:Y.message}),a.a.createElement(Pt,{open:s}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(ga,{onSearch:function(e){m(e),D(1)},onReset:function(){m(""),D(1)}})),a.a.createElement(vt.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Product Code")),a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(yt.a,{onClick:function(){return O(!0)},variant:"contained",color:"success"},"Add"),a.a.createElement(yt.a,{variant:"contained",onClick:q},"Download CSV"),W.length>0&&a.a.createElement(fa.CSVLink,{data:W,headers:[{label:"ID",key:"id"},{label:"CODE",key:"code"},{label:"DESCRIPTION",key:"description"}],ref:R,filename:"Product Code.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}}))),a.a.createElement(Cn,{headers:["ID","CODE","DESCRIPTION","ACTION"],data:H,openInPopup:function(e){S(e),b(!0)}}),a.a.createElement(Zn,{totalPages:A,currentPage:C,handlePageChange:function(e,t){D(t)}}))),a.a.createElement(ut,{title:"Create Product Code",openPopup:x,setOpenPopup:O},a.a.createElement(Bm,{getproductCodes:Q,setOpenPopup:O,currentPage:C,searchQuery:d})),a.a.createElement(ut,{title:"Update Product Code",openPopup:g,setOpenPopup:b},a.a.createElement(Gm,{recordForEdit:L,setOpenPopup:b,getproductCodes:Q,currentPage:C,searchQuery:d})))},Mm=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}("Director","Accounts","Accounts Billing Department","Accounts Executive"),r=Object(n.useState)(t?0:4),o=Object(l.a)(r,2),i=o[0],c=o[1],u=[{label:"Colours",visible:t,index:0},{label:"Brand",visible:t,index:1},{label:"Basic Unit",visible:t,index:2},{label:"Unit",visible:t,index:3},{label:"Packing Unit",visible:t,index:4},{label:"Description",visible:t,index:5},{label:"Product Code",visible:t,index:6}].filter(function(e){return e.visible}),f=u.map(function(e){return e.index}),p={0:a.a.createElement(om,null),1:a.a.createElement(fm,null),2:a.a.createElement(ym,null),3:a.a.createElement(Om,null),4:a.a.createElement(Pm,null),5:a.a.createElement(Im,null),6:a.a.createElement(zm,null)};return a.a.createElement("div",null,a.a.createElement(_n,{tabs:u,activeTab:i,onTabChange:function(e){return c(f[e])}}),f.includes(i)&&a.a.createElement("div",null,p[i]))};function Um(){Um=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ym=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getPriceList,i=e.product,s=e.currentPage,f=e.filterQuery,p=e.searchQuery,h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(t),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Ln(),x=w.handleSuccess,O=w.handleError,_=w.handleCloseSnackbar,j=w.alertInfo,L=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;E(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))})},[]),S=b.slab1<b.slab2,k=Object(n.useCallback)(function(){var e=Object(c.a)(Um().mark(function e(n){var a,i,c;return Um().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),v(!0),a={product:b.product,slab1:b.slab1,slab1_price:b.slab1_price,slab2:b.slab2,slab2_price:b.slab2_price,slab3_price:b.slab3_price,validity:b.validity,discontinued:b.discontinued},!t){e.next=11;break}return e.next=7,un.updatePriceList(b.id,a);case 7:i=e.sent,c=i.data.message||"Price List Created successfully",x(c),setTimeout(function(){r(!1),o(s,f,p)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),O(e.t0);case 16:return e.prev=16,v(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[b,s,p]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:j.open,onClose:_,severity:j.severity,message:j.message}),a.a.createElement(Pt,{open:m}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return k(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{sx:{minWidth:180},size:"small",value:b.product||"",onChange:function(e,t){E(function(e){return Object(u.a)({},e,{product:t})})},options:i.map(function(e){return e.name}),getOptionLabel:function(e){return e},label:"Product Name"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"slab1",size:"small",label:"Slab 1",variant:"outlined",value:b.slab1||"",error:""===b.slab1,helperText:""===b.slab1?"this field is required.":"",onChange:L})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"slab1_price",size:"small",label:"Slab1 Price",variant:"outlined",value:b.slab1_price||"",onChange:L})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"slab2",size:"small",label:"Slab 2",variant:"outlined",value:b.slab2||"",error:!1===S||""===S,helperText:!1===S||""===b.slab2?"slab2 must be greater than slab1":" ",onChange:L})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"slab2_price",size:"small",label:"Slab2 Price",variant:"outlined",value:b.slab2_price||"",onChange:L})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"slab3_price",size:"small",label:"Slab3  Price",variant:"outlined",value:b.slab3_price||"",onChange:L})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"validity",size:"small",label:"Validity",variant:"outlined",value:b.validity||"",onChange:L,InputLabelProps:{shrink:!0}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Cr.a,{control:a.a.createElement(Xu.a,{checked:b.discontinued,onChange:function(e,t){E(function(e){return Object(u.a)({},e,{discontinued:t})})},name:"validity"}),label:"Discontinued"}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function qm(){qm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Vm=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getPriceList,o=e.product,i=e.currentPage,s=e.filterQuery,f=e.searchQuery,p=Object(n.useState)([]),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Ln(),j=_.handleSuccess,L=_.handleError,S=_.handleCloseSnackbar,k=_.alertInfo,P=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;m(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))})},[]),C=d.slab1<d.slab2,D=Object(n.useCallback)(function(){var e=Object(c.a)(qm().mark(function e(n){var a,o,c,l;return qm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),a=d.slab1<d.slab2,O(a),console.log("validate",x),o={product:d.product,slab1:d.slab1,slab1_price:d.slab1_price,slab2:d.slab2,slab2_price:d.slab2_price,slab3_price:d.slab3_price,validity:d.validity,discontinued:!1},b(!0),e.next=9,un.createPriceList(o);case 9:c=e.sent,l=c.data.message||"Price List Updated successfully",j(l),setTimeout(function(){t(!1),r(i,s,f)},300),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),L(e.t0);case 18:return e.prev=18,b(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[0,15,18,21]])}));return function(t){return e.apply(this,arguments)}}(),[d,i,f]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:k.open,onClose:S,severity:k.severity,message:k.message}),a.a.createElement(Pt,{open:g}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return D(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{sx:{minWidth:180},size:"small",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{product:t})})},value:d.product,options:o.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e||"No Options")},label:"Product"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{required:!0,fullWidth:!0,name:"slab1",size:"small",label:"Slab 1",variant:"outlined",value:d.slab1,error:""===d.slab1,helperText:""===d.slab1?"this field is required.":"",onChange:P})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"slab1_price",size:"small",label:"Slab1 Price",variant:"outlined",value:d.slab1_price,onChange:P})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{required:!0,fullWidth:!0,name:"slab2",size:"small",label:"Slab 2",type:"number",variant:"outlined",value:d.slab2,error:!1===C||""===C,helperText:!1===C||""===d.slab2?"slab2 must be greater than slab1":" ",onChange:P})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"slab2_price",size:"small",label:"Slab2 Price",variant:"outlined",value:d.slab2_price,onChange:P})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,name:"slab3_price",size:"small",label:"Slab3  Price",variant:"outlined",value:d.slab3_price,onChange:P})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,type:"date",name:"validity",size:"small",label:"Validity",variant:"outlined",value:d.validity,onChange:P,InputLabelProps:{shrink:!0}}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function Qm(){Qm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Hm=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(""),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(""),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(null),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(1),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Object(n.useState)(0),G=Object(l.a)(F,2),W=G[0],B=G[1],R=Object(n.useState)([]),z=Object(l.a)(R,2),M=z[0],U=z[1],Y=Ln(),q=Y.handleError,V=Y.handleCloseSnackbar,Q=Y.alertInfo,H=function(){var e=Object(c.a)(Qm().mark(function e(){var t;return Qm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,un.getAllProduct();case 4:t=e.sent,U(t.data),f(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error Product in pricelist",e.t0),f(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){H()},[]);var K=Object(n.useCallback)(Object(c.a)(Qm().mark(function e(){var t;return Qm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,un.getAllPriceList(A,g,d);case 4:t=e.sent,o(t.data.results),B(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),q(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[A,g,d]);Object(n.useEffect)(function(){K()},[A,g,d]);var J=r.map(function(e){return{id:e.id,product:e.product,slab1:e.slab1,slab1_price:e.slab1_price,slab2:e.slab2,slab2_price:e.slab2_price,slab3_price:e.slab3_price,validity:e.validity,discontinued:e.discontinued}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:Q.open,onClose:V,severity:Q.severity,message:Q.message}),a.a.createElement(Pt,{open:s}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{flexGrow:1,p:2}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4,lg:4},a.a.createElement(vt.a,{sx:{display:"flex",width:"100%",mt:1,alignItems:"center"}},a.a.createElement(yr,{sx:{flexGrow:1,mr:1},size:"small",value:g,onChange:function(e,t){return b(t),void I(1)},options:Km,getOptionLabel:function(e){return e},label:"Filter By Description"}),a.a.createElement(ga,{sx:{flexGrow:1},onSearch:function(e){m(e),I(1)},onReset:function(){m(""),I(1)}}))),a.a.createElement(Et.a,{item:!0,xs:12,sm:12,md:4,lg:4,sx:{textAlign:"center"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Price List")),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4,lg:4,sx:{display:"flex",justifyContent:"flex-end"}},a.a.createElement(yt.a,{onClick:function(){return S(!0)},variant:"contained",color:"success"},"Add")))),a.a.createElement(Cn,{headers:["ID","Product","Slab1","Slab1 Price","Slab2","Slab2 Price","Slab3 Price","Validity","Discontinued","Action"],data:J,openInPopup:function(e){D(e),O(!0)},openInPopup2:null,openInPopup3:null,openInPopup4:null}),a.a.createElement(Zn,{totalPages:W,currentPage:A,handlePageChange:function(e,t){I(t)}}))),a.a.createElement(ut,{title:"Create Price List",openPopup:L,setOpenPopup:S},a.a.createElement(Vm,{getPriceList:K,setOpenPopup:S,product:M,currentPage:A,filterQuery:g,searchQuery:d})),a.a.createElement(ut,{title:"Update Price List",openPopup:x,setOpenPopup:O},a.a.createElement(Ym,{recordForEdit:C,setOpenPopup:O,getPriceList:K,product:M,currentPage:A,filterQuery:g,searchQuery:d})))},Km=["valid","expired"];function Jm(){Jm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Zm(e,t,r,n){for(var a=0;a<e.length;a++)if(e[a][t]===r)return e[a][n]}var Xm=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getconsumables,o=e.descriptionOptions,i=e.currentPage,f=e.searchQuery,p=Object(n.useState)([]),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(s.c)(function(e){return e.auth}),w=E.brandAllData,x=E.unitAllData,O=Ln(),_=O.handleSuccess,j=O.handleError,L=O.handleCloseSnackbar,S=O.alertInfo,k=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;m(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))})},[]),P=Zm(w,"name",d.brand,"short_name"),C=Zm(o,"name",d.description,"auto_number"),D="".concat(d.description||"","-").concat(C||"","-").concat(P||""),N=Object(n.useCallback)(function(){var e=Object(c.a)(Jm().mark(function e(n){var a,o,c;return Jm().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),b(!0),a={name:D,description:d.description,unit:d.unit,brand:d.brand,size:d.size,additional_description:d.addDsc,shelf_life:d.shelf_life,hsn_code:d.hsn_code,gst:d.gst,cgst:T,sgst:T,type:"consumables"},e.next=6,un.createConsumable(a);case 6:o=e.sent,c=o.data.message||"Product Code Created successfully",_(c),setTimeout(function(){t(!1),r(i,f)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),j(e.t0);case 15:return e.prev=15,b(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[d,i,f]),T=d.gst/2;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:S.open,onClose:L,severity:S.severity,message:S.message}),a.a.createElement(Pt,{open:g}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return N(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"code",size:"small",label:"Name",variant:"outlined",value:D,onChange:k})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{description:t})})},options:o.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"description"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"shelf_life",label:"Shelf Life (Month)",variant:"outlined",value:d.shelf_life||"",onChange:k})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",type:"number",name:"shelfLife",label:"Shelf Life (Months)",variant:"outlined",value:d.shelf_life,onChange:k})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{unit:t})})},options:x.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Unit"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{brand:t})})},options:w.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Brand"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"size",size:"small",label:"size",variant:"outlined",value:d.size,onChange:k})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"hsn_code",size:"small",label:"Hsn Code",variant:"outlined",value:d.hsn_code,onChange:k})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"gst",type:"number",size:"small",label:"IGST %",variant:"outlined",value:d.gst,onChange:k})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"CGST",variant:"outlined",value:T?"".concat(T,"%"):""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"SGST",variant:"outlined",value:T?"".concat(T,"%"):""}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function $m(){$m=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ev=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getconsumables,i=e.currentPage,f=e.searchQuery,p=e.descriptionOptions,h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(t),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(s.c)(function(e){return e.auth}),x=w.brandAllData,O=w.unitAllData,_=Ln(),j=_.handleSuccess,L=_.handleError,S=_.handleCloseSnackbar,k=_.alertInfo,P=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;E(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))})},[]),C=function(e,t,r,n){for(var a=0;a<e.length;a++)if(e[a][t]===r)return e[a][n]}(x,"name",b.brand||"","short_name"),D=Object(n.useMemo)(function(){var e=b.name||"",t=e.indexOf("-"),r=e.indexOf("-",t+1),n=e.slice(t+1,r);return[b.description,n||"-",C||"-"].join("-")},[b,C]),N=JSON.stringify(b.gst/2),T=Object(n.useCallback)(function(){var e=Object(c.a)($m().mark(function e(n){var a,c,l,s;return $m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,v(!0),a=b.gst/2,c=Object(u.a)({},b,{name:D,cgst:a,sgst:a,type:"consumables"}),!t){e.next=12;break}return e.next=8,un.updateConsumable(b.id,c);case 8:l=e.sent,s=l.data.message||"Consumable updated successfully",j(s),setTimeout(function(){r(!1),o(i,f)},300);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),L(e.t0);case 17:return e.prev=17,v(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[1,14,17,20]])}));return function(t){return e.apply(this,arguments)}}(),[b,D,N,i,f]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:k.open,onClose:S,severity:k.severity,message:k.message}),a.a.createElement(Pt,{open:m}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return T(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Name",variant:"outlined",value:b.name||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Product Code",variant:"outlined",value:D||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"size",size:"small",label:"size",variant:"outlined",value:b.size||"",onChange:P})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:b.unit||"",onChange:function(e,t){E(function(e){return Object(u.a)({},e,{unit:t})})},options:O.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Unit"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:b.description||"",onChange:function(e,t){E(function(e){return Object(u.a)({},e,{description:t})})},options:p.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Description"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:b.brand||"",onChange:function(e,t){E(function(e){return Object(u.a)({},e,{brand:t})})},options:x.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Brand"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"additional_description",size:"small",label:"Additional Descriptionj",variant:"outlined",value:b.additional_description||"",onChange:P})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"shelf_life",label:"Shelf Life (Month)",variant:"outlined",value:b.shelf_life||"",onChange:P})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"hsn_code",size:"small",label:"Hsn Code",variant:"outlined",value:b.hsn_code||"",onChange:P})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"gst",type:"number",size:"small",label:"IGST %",variant:"outlined",value:b.gst||"",onChange:P})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"CGST",variant:"outlined",value:N?"".concat(N,"%"):""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"SGST",variant:"outlined",value:N?"".concat(N,"%"):""}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function tv(){tv=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var rv=function(){var e=Object(s.b)(),t=Object(n.useState)([]),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),p=f[0],h=f[1],d=Object(n.useState)(""),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(!1),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(null),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(1),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)(0),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useState)([]),R=Object(l.a)(W,2),M=R[0],U=R[1],Y=Object(n.useState)([]),q=Object(l.a)(Y,2),V=q[0],Q=q[1],H=Ln(),K=H.handleError,J=H.handleCloseSnackbar,Z=H.alertInfo,X=Object(n.useRef)(null),$=function(){var e=Object(c.a)(tv().mark(function e(){var t;return tv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee();case 3:t=e.sent,U(t),setTimeout(function(){X.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(c.a)(tv().mark(function e(){var t,r;return tv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h(!0),!v){e.next=8;break}return e.next=5,un.getAllConsumable("all",v);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,un.getAllConsumable("all");case 10:t=e.sent;case 11:return r=t.data.map(function(e){return{id:e.id,name:e.name,unit:e.unit,brand:e.brand,size:e.size,description:e.description,additional_description:e.additional_description,shelf_life:e.shelf_life,hsn_code:e.hsn_code,gst:e.gst,sgst:e.sgst,cgst:e.cgst,type:e.type}}),h(!1),e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,h(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])}));return function(){return e.apply(this,arguments)}}(),te=function(){var t=Object(c.a)(tv().mark(function t(){var r;return tv().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,un.getAllBrand("all");case 3:r=t.sent,e(B(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error finishGoods :>> ",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),re=function(){var t=Object(c.a)(tv().mark(function t(){var r;return tv().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,un.getAllUnit("all");case 3:r=t.sent,e(z(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error unit finishGoods",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),ne=function(){var e=Object(c.a)(tv().mark(function e(){var t;return tv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,un.getYesDescription();case 3:t=e.sent,console.log("desc res",t),Q(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error in Description Api",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){te(),re(),ne()},[]);var ae=Object(n.useCallback)(Object(c.a)(tv().mark(function e(){var t;return tv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,un.getAllConsumable(N,v);case 4:t=e.sent,i(t.data.results),G(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),K(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[N,v]);Object(n.useEffect)(function(){ae()},[N,v]);var oe=o.map(function(e){return{id:e.id,name:e.name,unit:e.unit,brand:e.brand,size:e.size,additional_description:e.additional_description,shelf_life:e.shelf_life,hsn_code:e.hsn_code,gst:e.gst}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:Z.open,onClose:J,severity:Z.severity,message:Z.message}),a.a.createElement(Pt,{open:p}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(ga,{onSearch:function(e){y(e),T(1)},onReset:function(){y(""),T(1)}})),a.a.createElement(vt.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Consumable")),a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(yt.a,{onClick:function(){return j(!0)},variant:"contained",color:"success"},"Add"),a.a.createElement(yt.a,{variant:"contained",onClick:$},"Download CSV"),M.length>0&&a.a.createElement(fa.CSVLink,{data:M,headers:[{label:"ID",key:"id"},{label:"CONSUMABLE",key:"name"},{label:"UNIT",key:"unit"},{label:"BRAND",key:"brand"},{label:"SIZE",key:"size"},{label:"DESCRIPTION",key:"description"},{label:"ADD.DESCRIPTION",key:"additional_description"},{label:"SHELF LIFE",key:"shelf_life"},{label:"HSN CODE",key:"hsn_code"},{label:"GST%",key:"gst"},{label:"SGST",key:"sgst"},{label:"CGST",key:"cgst"},{label:"TYPE",key:"type"}],ref:X,filename:"Consumable.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}}))),a.a.createElement(Cn,{headers:["ID","CONSUMABLE","UNIT","BRAND","SIZE","ADDITIONAL DESC","SHELF LIFE","HSN CODE","GST%","ACTION"],data:oe,openInPopup:function(e){var t=o.find(function(t){return t.id===e.id});P(t||{}),w(!0)}}),a.a.createElement(Zn,{totalPages:F,currentPage:N,handlePageChange:function(e,t){T(t)}}))),a.a.createElement(ut,{maxWidth:"xl",title:"Create Consumable",openPopup:_,setOpenPopup:j},a.a.createElement(Xm,{getconsumables:ae,setOpenPopup:j,descriptionOptions:V,currentPage:N,searchQuery:v})),a.a.createElement(ut,{maxWidth:"xl",title:"Update Consumable",openPopup:E,setOpenPopup:w},a.a.createElement(ev,{recordForEdit:k,setOpenPopup:w,getconsumables:ae,descriptionOptions:V,currentPage:N,searchQuery:v})))};function nv(){nv=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function av(e,t,r,n){for(var a=0;a<e.length;a++)if(e[a][t]===r)return e[a][n]}var ov=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getRawMaterials,o=e.currentPage,i=e.searchQuery,f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)([]),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(s.c)(function(e){return e.auth}),E=b.brandAllData,w=b.colourAllData,x=b.productCodeAllData,O=b.unitAllData,_=Ln(),j=_.handleSuccess,L=_.handleError,S=_.handleCloseSnackbar,k=_.alertInfo,P=av(E,"name",y.brand||null,"short_name"),C=av(x,"code",y.productcode,"description"),D="".concat(y.productcode||"","-").concat(y.color||"","-").concat(P||"","-").concat(y.size||""),N=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;g(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))})},[]),T=y.gst/2,A=Object(n.useCallback)(function(){var e=Object(c.a)(nv().mark(function e(n){var a,c,l;return nv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),d(!0),a={name:D,size:y.size,unit:y.unit,color:y.color,brand:y.brand,productcode:y.productcode,description:C,shelf_life:y.shelf_life,hsn_code:y.hsn_code,gst:y.gst,cgst:T,sgst:T,type:"raw-materials"},e.next=6,un.createRawMaterials(a);case 6:c=e.sent,l=c.data.message||"Raw Materials Created successfully",j(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),L(e.t0);case 15:return e.prev=15,d(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[y,D,T,o,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:k.open,onClose:S,severity:k.severity,message:k.message}),a.a.createElement(Pt,{open:h}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return A(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"Name",size:"small",label:"Name",variant:"outlined",value:D,onChange:N})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"size",size:"small",label:"Size",variant:"outlined",value:y.size,onChange:N})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:y.unit||"",onChange:function(e,t){g(function(e){return Object(u.a)({},e,{unit:t})})},options:O.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Unit"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:y.color||"",onChange:function(e,t){g(function(e){return Object(u.a)({},e,{color:t})})},options:w.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Colour"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:y.brand||"",onChange:function(e,t){g(function(e){return Object(u.a)({},e,{brand:t})})},options:E.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"brand"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:y.productcode||"",onChange:function(e,t){g(function(e){return Object(u.a)({},e,{productcode:t})})},options:x.map(function(e){return e.code}),getOptionLabel:function(e){return"".concat(e)},label:"Product Code"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Description",variant:"outlined",value:C||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"shelf_life",label:"Shelf Life (Month)",variant:"outlined",value:y.shelf_life||"",onChange:N})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"hsn_code",size:"small",label:"Hsn Code",variant:"outlined",value:y.hsn_code,onChange:N})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"gst",type:"number",size:"small",label:"IGST %",variant:"outlined",value:y.gst,onChange:N})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"CGST",variant:"outlined",value:T?"".concat(T,"%"):""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"SGST",variant:"outlined",value:T?"".concat(T,"%"):""}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function iv(){iv=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function cv(e,t,r,n){for(var a=0;a<e.length;a++)if(e[a][t]===r)return e[a][n]}var lv=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getRawMaterials,i=e.currentPage,f=e.searchQuery,p=Object(n.useState)(t),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(s.c)(function(e){return e.auth}),w=E.brandAllData,x=E.colourAllData,O=E.productCodeAllData,_=E.unitAllData,j=Ln(),L=j.handleSuccess,S=j.handleError,k=j.handleCloseSnackbar,P=j.alertInfo,C=cv(w,"name",d.brand,"short_name"),D="".concat(d.productcode||"","-").concat(d.color||"","-").concat(C||"","-").concat(d.size||""),N=cv(O,"code",d.productcode,"description"),T=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;m(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))})},[]),A=JSON.stringify(d.gst/2),I=Object(n.useCallback)(function(){var e=Object(c.a)(iv().mark(function e(n){var a,c,l;return iv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),b(!0),a={name:D,unit:d.unit,size:d.size,color:d.color,brand:d.brand,productcode:d.productcode,description:N,shelf_life:d.shelf_life,hsn_code:d.hsn_code,gst:d.gst,cgst:A,sgst:A,type:"raw-materials"},!t){e.next=11;break}return e.next=7,un.updateRawMaterials(d.id,a);case 7:c=e.sent,l=c.data.message||"Raw Materials updated successfully",L(l),setTimeout(function(){r(!1),o(i,f)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),S(e.t0);case 16:return e.prev=16,b(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[d,D,A,i,f]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:P.open,onClose:k,severity:P.severity,message:P.message}),a.a.createElement(Pt,{open:g}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return I(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Raw Material",variant:"outlined",value:d.name||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"name",size:"small",label:"Update Raw Material",variant:"outlined",value:D||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"size",size:"small",label:"Size",variant:"outlined",value:d.size||"",onChange:T})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:d.unit||"",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{unit:t})})},options:_.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Unit"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:d.color||"",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{color:t})})},options:x.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Colour"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:d.brand||"",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{brand:t})})},options:w.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Brand"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:d.productcode||"",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{productcode:t})})},options:O.map(function(e){return e.code}),getOptionLabel:function(e){return"".concat(e)},label:"Product Code"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Description",variant:"outlined",value:N||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"shelf_life",label:"Shelf Life (Month)",variant:"outlined",value:d.shelf_life||"",onChange:T})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"hsn_code",size:"small",label:"Hsn Code",variant:"outlined",value:d.hsn_code||"",onChange:T})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"gst",type:"number",size:"small",label:"IGST %",variant:"outlined",value:d.gst||"",onChange:T})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"CGST",variant:"outlined",value:A?"".concat(A,"%"):""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"SGST",variant:"outlined",value:A?"".concat(A,"%"):""}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function uv(){uv=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var sv=function(){var e=Object(s.b)(),t=Object(n.useState)([]),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),p=f[0],h=f[1],d=Object(n.useState)(""),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(0),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(!1),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(!1),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)(null),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Ln(),U=W.handleError,Y=W.handleCloseSnackbar,q=W.alertInfo,V=Object(n.useState)([]),Q=Object(l.a)(V,2),H=Q[0],K=Q[1],J=Object(n.useRef)(null),Z=function(){var e=Object(c.a)(uv().mark(function e(){var t;return uv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X();case 3:t=e.sent,K(t),setTimeout(function(){J.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(uv().mark(function e(){var t,r;return uv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h(!0),!v){e.next=8;break}return e.next=5,un.getAllRawMaterials("all",v);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,un.getAllRawMaterials("all");case 10:t=e.sent;case 11:return r=t.data.map(function(e){return{id:e.id,name:e.name,productcode:e.productcode,color:e.color,unit:e.unit,brand:e.brand,size:e.size,description:e.description,hsn_code:e.hsn_code,gst:e.gst,sgst:e.sgst,cgst:e.cgst,type:e.type}}),h(!1),e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,h(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])}));return function(){return e.apply(this,arguments)}}(),$=function(){var t=Object(c.a)(uv().mark(function t(){var r;return uv().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,un.getAllBrand("all");case 3:r=t.sent,e(B(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error finishGoods :>> ",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),ee=function(){var t=Object(c.a)(uv().mark(function t(){var r;return uv().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,un.getAllColour("all");case 3:r=t.sent,e(R(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("err Colour FinishGoods :>> ",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),te=function(){var t=Object(c.a)(uv().mark(function t(){var r;return uv().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,un.getAllProductCode("all");case 3:r=t.sent,e(M(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error ProductCode finishGoods",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),re=function(){var t=Object(c.a)(uv().mark(function t(){var r;return uv().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,un.getAllUnit("all");case 3:r=t.sent,e(z(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error unit finishGoods",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)(function(){$(),ee(),te(),re()},[]);var ne=Object(n.useCallback)(Object(c.a)(uv().mark(function e(){var t;return uv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,un.getAllRawMaterials(E,v);case 4:t=e.sent,i(t.data.results),j(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),U(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[E,v]);Object(n.useEffect)(function(){ne()},[E,v]);var ae=o.map(function(e){return{id:e.id,name:e.name,unit:e.unit,productcode:e.productcode,description:e.description,shelf_life:e.shelf_life,hsn_code:e.hsn_code,gst:e.gst}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:q.open,onClose:Y,severity:q.severity,message:q.message}),a.a.createElement(Pt,{open:p}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(ga,{onSearch:function(e){y(e),w(1)},onReset:function(){y(""),w(1)}})),a.a.createElement(vt.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Raw Materials")),a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(yt.a,{onClick:function(){return T(!0)},variant:"contained",color:"success"},"Add"),a.a.createElement(yt.a,{variant:"contained",onClick:Z},"Download CSV"),H.length>0&&a.a.createElement(fa.CSVLink,{data:H,headers:[{label:"ID",key:"id"},{label:"RAW MATERIAL",key:"name"},{label:"PRODUCT CODE",key:"productcode"},{label:"COLOR",key:"color"},{label:"UNIT",key:"unit"},{label:"BRAND",key:"brand"},{label:"SIZE",key:"size"},{label:"DESCRIPTION",key:"description"},{label:"HSN CODE",key:"hsn_code"},{label:"GST%",key:"gst"},{label:"SGST",key:"sgst"},{label:"CGST",key:"cgst"},{label:"TYPE",key:"type"}],ref:J,filename:"Raw Material.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}}))),a.a.createElement(Cn,{headers:["ID","RAW MATERIALS","UNIT","PRODUCT CODE","DESCRIPTION","SHELF LIFE","HSN CODE","GST%","ACTION"],data:ae,openInPopup:function(e){var t=o.find(function(t){return t.id===e.id});G(t||{}),P(!0)}}),a.a.createElement(Zn,{totalPages:_,currentPage:E,handlePageChange:function(e,t){w(t)}}))),a.a.createElement(ut,{maxWidth:"xl",title:"Create Raw Materials",openPopup:N,setOpenPopup:T},a.a.createElement(ov,{getRawMaterials:ne,setOpenPopup:T,currentPage:E,searchQuery:v})),a.a.createElement(ut,{maxWidth:"xl",title:"Update Raw Materials",openPopup:k,setOpenPopup:P},a.a.createElement(lv,{recordForEdit:F,setOpenPopup:P,getRawMaterials:ne,currentPage:E,searchQuery:v})))};function fv(){fv=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function pv(e,t,r,n){for(var a=0;a<e.length;a++)if(e[a][t]===r)return e[a][n]}var hv=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getFinishGoods,o=e.currentPage,i=e.searchQuery,f=Object(n.useState)([]),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(!1),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(s.c)(function(e){return e.auth}),E=b.brandAllData,w=b.colourAllData,x=b.packingunitAllData,O=b.productCodeAllData,_=b.basicunitAllData,j=b.unitAllData,L=Ln(),S=L.handleSuccess,k=L.handleError,P=L.handleCloseSnackbar,C=L.alertInfo,D=pv(E,"name",h.brand||"","short_name"),N=pv(O,"code",h.product_code||"","description"),T=pv(x,"name",h.packing_unit,"short_name"),A=Object(n.useMemo)(function(){var e=[h.product_code,h.color,D,h.size,h.unit_quantity,T].filter(function(e){return e}).join("-");return h.packing_unit_quantity&&e?e+=h.packing_unit_quantity:h.packing_unit_quantity&&(e=h.packing_unit_quantity),e},[h,D,T]),I=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;d(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))})},[]),F=Object(n.useCallback)(function(){var e=Object(c.a)(fv().mark(function e(n){var a,c,l;return fv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),g(!0),a={name:A,size:h.size,basic_unit:h.basic_unit,unit:h.unit,unit_quantity:h.unit_quantity,packing_unit:h.packing_unit,packing_unit_quantity:h.packing_unit_quantity,color:h.color,brand:h.brand,productcode:h.product_code,description:N,shelf_life:h.shelf_life,hsn_code:h.hsn_code,gst:h.gst,cgst:G,sgst:G,type:"finished-goods"},e.next=6,un.createFinishGoods(a);case 6:c=e.sent,l=c.data.message||"Finish Goods updated successfully",S(l),setTimeout(function(){t(!1),r(o,i)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),k(e.t0);case 15:return e.prev=15,g(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[h,A,G,o,i]),G=h.gst/2;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:C.open,onClose:P,severity:C.severity,message:C.message}),a.a.createElement(Pt,{open:y}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return F(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"Name",size:"small",label:"Name",variant:"outlined",value:A})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"size",size:"small",label:"Size",variant:"outlined",value:h.size,onChange:I})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:h.unit||"",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{unit:t})})},options:j.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Unit"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"unit_quantity",size:"small",label:"Unit Quantity",variant:"outlined",value:h.unit_quantity,onChange:I})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:h.packing_unit||"",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{packing_unit:t})})},options:x.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Packing Unit"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"packing_unit_quantity",size:"small",label:"Packing Unit Quantity",variant:"outlined",value:h.packing_unit_quantity,onChange:I})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:h.basic_unit||"",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{basic_unit:t})})},options:_.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Basic Unit"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:h.color||"",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{color:t})})},options:w.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Colour"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:h.brand||"",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{brand:t})})},options:E.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"brand"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:h.product_code||"",onChange:function(e,t){d(function(e){return Object(u.a)({},e,{product_code:t})})},options:O.map(function(e){return e.code}),getOptionLabel:function(e){return"".concat(e)},label:"Product Code"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Description",variant:"outlined",value:N||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"shelf_life",label:"Shelf Life (Month)",variant:"outlined",value:h.shelf_life||"",onChange:I})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"hsn_code",size:"small",label:"Hsn Code",variant:"outlined",value:h.hsn_code||"",onChange:I})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"gst",size:"small",type:"number",label:"IGST %",variant:"outlined",value:h.gst,onChange:I})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"CGST",variant:"outlined",value:G?"".concat(G,"%"):""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"SGST",variant:"outlined",value:G?"".concat(G,"%"):""}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function dv(){dv=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function mv(e,t,r,n){for(var a=0;a<e.length;a++)if(e[a][t]===r)return e[a][n]}var vv=Object(n.memo)(function(e){var t=e.recordForEdit,r=e.setOpenPopup,o=e.getFinishGoods,i=e.currentPage,f=e.searchQuery,p=Object(n.useState)(t),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(s.c)(function(e){return e.auth}),w=E.brandAllData,x=E.colourAllData,O=E.packingunitAllData,_=E.productCodeAllData,j=E.basicunitAllData,L=E.unitAllData,S=Ln(),k=S.handleSuccess,P=S.handleError,C=S.handleCloseSnackbar,D=S.alertInfo,N=mv(w,"name",d.brand,"short_name"),T=mv(_,"code",d.productcode,"description"),A=mv(O,"name",d.packing_unit,"short_name"),I=Object(n.useMemo)(function(){var e=[d.product_code,d.color,N,d.size,d.unit_quantity,A].filter(function(e){return e}).join("-");return d.packing_unit_quantity&&e?e+=d.packing_unit_quantity:d.packing_unit_quantity&&(e=d.packing_unit_quantity),e},[d,N,A]),F=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;m(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))})},[]),G=Object(n.useCallback)(function(){var e=Object(c.a)(dv().mark(function e(n){var a,c,l;return dv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),b(!0),a={name:I,size:d.size,basic_unit:d.basic_unit,unit:d.unit,unit_quantity:d.unit_quantity,packing_unit:d.packing_unit,packing_unit_quantity:d.packing_unit_quantity,color:d.color,brand:d.brand,productcode:d.productcode,description:T,shelf_life:d.shelf_life,hsn_code:d.hsn_code,gst:d.gst,cgst:W,sgst:W,type:"finished-goods"},!t){e.next=11;break}return e.next=7,un.updateFinishGoods(d.id,a);case 7:c=e.sent,l=c.data.message||"Finish Goods updated successfully",k(l),setTimeout(function(){r(!1),o(i,f)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),P(e.t0);case 16:return e.prev=16,b(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[d,I,W,i,f]),W=JSON.stringify(d.gst/2);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:D.open,onClose:C,severity:D.severity,message:D.message}),a.a.createElement(Pt,{open:g}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return G(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Name",variant:"outlined",value:d.name||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"Name",size:"small",label:"Update Name",variant:"outlined",value:I||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:d.basic_unit||"",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{basic_unit:t})})},options:j.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Basic Unit"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:d.unit||"",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{unit:t})})},options:L.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Unit"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:d.packing_unit||"",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{packing_unit:t})})},options:O.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:" Packing Unit"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"unit_quantity",size:"small",label:"Unit Quantity",variant:"outlined",value:d.unit_quantity||"",onChange:F})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"packing_unit_quantity",size:"small",label:"Packing Unit Quantity",variant:"outlined",value:d.packing_unit_quantity?d.packing_unit_quantity:"",onChange:F})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:d.color||"",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{color:t})})},options:x.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Colour"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:d.brand||"",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{brand:t})})},options:w.map(function(e){return e.name}),getOptionLabel:function(e){return"".concat(e)},label:"Brand"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{sx:{minWidth:220},size:"small",value:d.productcode||"",onChange:function(e,t){m(function(e){return Object(u.a)({},e,{productcode:t})})},options:_.map(function(e){return e.code}),getOptionLabel:function(e){return"".concat(e)},label:"Product Code"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Description",variant:"outlined",value:T||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"shelf_life",label:"Shelf Life (Month)",variant:"outlined",value:d.shelf_life||"",onChange:F})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"size",size:"small",label:"Size",variant:"outlined",value:d.size||"",onChange:F})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"hsn_code",size:"small",label:"Hsn Code",variant:"outlined",value:d.hsn_code||"",onChange:F})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"gst",type:"number",size:"small",label:"IGST %",variant:"outlined",value:d.gst||"",onChange:F})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"CGST",variant:"outlined",value:W?"".concat(W,"%"):""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"SGST",variant:"outlined",value:W?"".concat(W,"%"):""}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function yv(){yv=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var gv=function(){var e=Object(s.b)(),t=Object(n.useState)([]),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),p=f[0],h=f[1],d=Object(n.useState)(""),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(0),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(!1),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(!1),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)(null),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Ln(),U=W.handleError,Y=W.handleCloseSnackbar,q=W.alertInfo,V=Object(n.useState)([]),Q=Object(l.a)(V,2),H=Q[0],K=Q[1],J=Object(n.useRef)(null),Z=function(){var e=Object(c.a)(yv().mark(function e(){var t;return yv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X();case 3:t=e.sent,K(t),setTimeout(function(){J.current.link.click()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(yv().mark(function e(){var t,r;return yv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h(!0),!v){e.next=8;break}return e.next=5,un.getAllFinishGoods("all",v);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,un.getAllFinishGoods("all");case 10:t=e.sent;case 11:return r=t.data.map(function(e){return{id:e.id,name:e.name,productcode:e.productcode,color:e.color,unit:e.unit,unit_quantity:e.unit_quantity,basic_unit:e.basic_unit,brand:e.brand,size:e.size,description:e.description,shelf_life:e.shelf_life,additional_description:e.additional_description,packing_unit:e.packing_unit,packing_unit_quantity:e.packing_unit_quantity,hsn_code:e.hsn_code,gst:e.gst,sgst:e.sgst,cgst:e.cgst,type:e.type}}),h(!1),e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,h(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])}));return function(){return e.apply(this,arguments)}}(),$=function(){var t=Object(c.a)(yv().mark(function t(){var r;return yv().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,un.getAllPackingUnit("all");case 3:r=t.sent,e({type:"PACKING_UNIT",payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error PackingUnit finishGoods",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),ee=function(){var t=Object(c.a)(yv().mark(function t(){var r;return yv().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,un.getAllBrand("all");case 3:r=t.sent,e(B(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error finishGoods :>> ",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),te=function(){var t=Object(c.a)(yv().mark(function t(){var r;return yv().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,un.getAllColour("all");case 3:r=t.sent,e(R(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("err Colour FinishGoods :>> ",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),re=function(){var t=Object(c.a)(yv().mark(function t(){var r;return yv().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,un.getAllProductCode("all");case 3:r=t.sent,e(M(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error ProductCode finishGoods",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),ne=function(){var t=Object(c.a)(yv().mark(function t(){var r;return yv().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,un.getAllUnit("all");case 3:r=t.sent,e(z(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error unit finishGoods",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),ae=function(){var t=Object(c.a)(yv().mark(function t(){var r;return yv().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,un.getAllBasicUnit("all");case 3:r=t.sent,e({type:"BASIC_UNIT",payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error :>> ",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)(function(){$(),ee(),te(),re(),ne(),ae()},[]);var oe=Object(n.useCallback)(Object(c.a)(yv().mark(function e(){var t;return yv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,un.getAllFinishGoods(E,v);case 4:t=e.sent,i(t.data.results),j(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),U(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[E,v]);Object(n.useEffect)(function(){oe()},[E,v]);var ie=o.map(function(e){return{id:e.id,name:e.name,unit:e.unit,brand:e.brand,productcode:e.productcode,description:e.description,shelf_life:e.shelf_life,hsn_code:e.hsn_code,gst:e.gst}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:q.open,onClose:Y,severity:q.severity,message:q.message}),a.a.createElement(Pt,{open:p}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(ga,{onSearch:function(e){y(e),w(1)},onReset:function(){y(""),w(1)}})),a.a.createElement(vt.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Finish Goods")),a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}},a.a.createElement(yt.a,{onClick:function(){return T(!0)},variant:"contained",color:"success"},"Add"),a.a.createElement(yt.a,{variant:"contained",onClick:Z},"Download CSV"),H.length>0&&a.a.createElement(fa.CSVLink,{data:H,headers:[{label:"ID",key:"id"},{label:"FINISH GOODS",key:"name"},{label:"PRODUCT CODE",key:"productcode"},{label:"COLOR",key:"color"},{label:"UNIT",key:"unit"},{label:"UNIT QUANTITY",key:"unit_quantity"},{label:"BASIC UNIT",key:"basic_unit"},{label:"BRAND",key:"brand"},{label:"SIZE",key:"size"},{label:"DESCRIPTION",key:"description"},{label:"SHELF LIFE",key:"shelf_life"},{label:"ADD.DESCRIPTION",key:"additional_description"},{label:"PACKING UNIT",key:"packing_unit"},{label:"PACKING UNIT QUANTITY",key:"packing_unit_quantity"},{label:"HSN CODE",key:"hsn_code"},{label:"GST%",key:"gst"},{label:"SGST",key:"sgst"},{label:"CGST",key:"cgst"},{label:"TYPE",key:"type"}],ref:J,filename:"Finish Goods.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}}))),a.a.createElement(Cn,{headers:["ID","FINISH GOODS","UNIT","BRAND","PRODUCT CODE","DESCRIPTION","SHELF LIFE","HSN CODE","GST%","ACTION"],data:ie,openInPopup:function(e){var t=o.find(function(t){return t.id===e.id});G(t||{}),P(!0)}}),a.a.createElement(Zn,{totalPages:_,currentPage:E,handlePageChange:function(e,t){w(t)}}))),a.a.createElement(ut,{maxWidth:"xl",title:"Create FinishGoods",openPopup:N,setOpenPopup:T},a.a.createElement(hv,{getFinishGoods:oe,setOpenPopup:T,currentPage:E,searchQuery:v})),a.a.createElement(ut,{maxWidth:"xl",title:"Update FinishGoods",openPopup:k,setOpenPopup:P},a.a.createElement(vv,{recordForEdit:F,setOpenPopup:P,getFinishGoods:oe,currentPage:E,searchQuery:v})))},bv=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}("Director","Accounts","Accounts Billing Department","Accounts Executive"),r=Object(n.useState)(t?0:4),o=Object(l.a)(r,2),i=o[0],c=o[1],u=[{label:"Consumable",visible:t,index:0},{label:"Raw Materials",visible:t,index:1},{label:"Finish Goods",visible:t,index:2}].filter(function(e){return e.visible}),f=u.map(function(e){return e.index}),p={0:a.a.createElement(rv,null),1:a.a.createElement(sv,null),2:a.a.createElement(gv,null)};return a.a.createElement("div",null,a.a.createElement(_n,{tabs:u,activeTab:i,onTabChange:function(e){return c(f[e])}}),f.includes(i)&&a.a.createElement("div",null,p[i]))},Ev=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})},r=t("Director","Sales Manager","Accounts"),o=t("Sales Deputy Manager"),i=t("Sales Assistant Deputy Manager"),c=t("Sales Executive"),u=t("Sales Manager without Leads"),f=t("Sales Manager with Leads"),p=t("Customer Service"),h=t("Accounts Billing Department"),d=Object(n.useMemo)(function(){return[{label:"Company Details",visible:r||o||i||c||u||f||p||h,index:0,component:a.a.createElement(Ea,null)},{label:"Unassigned Customer",visible:r,index:1,component:a.a.createElement(vu,null)},{label:"Inactive Customers",visible:r,index:2,component:a.a.createElement(Lf,null)},{label:"Incomplete KYC",visible:r||o||i||c||u||f,index:3,component:a.a.createElement(cf,null)}]},[r,r,o,i,c,u,f,p,h]),m=Object(n.useMemo)(function(){return d.filter(function(e){return e.visible})},[d]),v=Object(n.useMemo)(function(){return m.map(function(e){return e.index})},[m]),y=Object(n.useState)(v[0]||0),g=Object(l.a)(y,2),b=g[0],E=g[1];return Object(n.useEffect)(function(){v.includes(b)||E(v[0]||0)},[v,b]),a.a.createElement("div",null,a.a.createElement(_n,{tabs:m,activeTab:b,onTabChange:function(e){return E(v[e])}}),v.includes(b)&&a.a.createElement("div",null,m.find(function(e){return e.index===b}).component))},wv=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})},r=t("Director","Accounts"),o=t("Sales Manager"),i=t("Sales Deputy Manager"),c=t("Sales Assistant Deputy Manager"),u=t("Sales Executive"),f=t("Sales Manager without Leads"),p=t("Sales Manager with Leads"),h=t("Customer Service"),d=t("Accounts Billing Department"),m=Object(n.useMemo)(function(){return[{label:"Approve PI",visible:r||d,index:0,component:a.a.createElement(Xs,null)},{label:"Active PI",visible:o||i||c||u||f||p||r||h,index:1,component:a.a.createElement(Vs,null)},{label:"Price Approval PI",visible:r,index:2,component:a.a.createElement(vf,null)},{label:"All PI",visible:o||i||c||u||f||p||r||d,index:3,component:a.a.createElement(Ku,null)}]},[r,o,i,c,u,f,p,h,d]),v=Object(n.useMemo)(function(){return m.filter(function(e){return e.visible})},[m]),y=Object(n.useMemo)(function(){return v.map(function(e){return e.index})},[v]),g=Object(n.useState)(y[0]||0),b=Object(l.a)(g,2),E=b[0],w=b[1];return Object(n.useEffect)(function(){y.includes(E)||w(y[0]||0)},[y,E]),a.a.createElement("div",null,a.a.createElement(_n,{tabs:v,activeTab:E,onTabChange:function(e){return w(y[e])}}),y.includes(E)&&a.a.createElement("div",null,v.find(function(e){return e.index===E}).component))};function xv(){xv=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ov=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),_v=Object(n.memo)(function(e){var t=e.selectedRow,r=e.getAllPurchaseOrderDetails,o=e.setOpenPopup,i=e.currentPage,s=e.acceptedFilter,f=e.searchQuery,p=Object(n.useState)(t),h=Object(l.a)(p,2),d=h[0],m=h[1],y=Object(n.useState)(!1),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Ln(),x=w.handleSuccess,O=w.handleError,_=w.handleCloseSnackbar,j=w.alertInfo,L=Object(n.useCallback)(function(){var e=Object(c.a)(xv().mark(function e(t){var n,a,c;return xv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),E(!0),n={created_by:d.created_by,vendor:d.vendor,vendor_type:d.vendor_type,vendor_email:d.vendor_email,vendor_contact_person:d.vendor_contact_person,vendor_contact:d.vendor_contact,seller_account:d.seller_account,payment_terms:d.payment_terms,delivery_terms:d.delivery_terms,schedule_date:d.schedule_date,currency:d.currency,po_no:d.po_no,po_date:d.po_date,close_short:d.close_short,products:d.products||[]},e.next=6,yo.updatePurchaseOrderData(d.id,n);case 6:a=e.sent,c=a.data.message||"Purchase Order updated successfully",x(c),setTimeout(function(){o(!1),r(i,s,f)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),O(e.t0);case 15:return e.prev=15,E(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[d,i,s,f]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:j.open,onClose:_,severity:j.severity,message:j.message}),a.a.createElement(Pt,{open:b}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return L(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Vendor",variant:"outlined",value:d.vendor||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Vendor Contact Person",variant:"outlined",value:d.vendor_contact_person||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Buyer Account",variant:"outlined",value:d.seller_account||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Payment Terms",variant:"outlined",value:d.payment_terms||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Delivery Terms",variant:"outlined",value:d.delivery_terms||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"po_no",label:"Purchase Order No.",variant:"outlined",value:d.po_no||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"po_date",size:"small",label:"Purchase Order Date",variant:"outlined",value:d.po_date,disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Currency",variant:"outlined",value:d.currency||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"schedule_date",size:"small",label:"Schedule Date",variant:"outlined",value:d.schedule_date,disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Issued By",variant:"outlined",value:d.created_by||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Xu.a,{checked:d.close_short,onChange:function(e){return m(Object(u.a)({},d,{close_short:e.target.checked}))},name:"close_short",inputProps:{"aria-label":"controlled"}}),a.a.createElement("span",null,"Close Short")),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Ov,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),d.products.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{key:t,item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:e.product||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:1},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Pending Quantity",variant:"outlined",value:e.pending_quantity||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"amount",size:"small",label:"Amount",variant:"outlined",value:e.amount||"",disabled:!0})))})),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))}),jv=function(e){var t=e.purchaseOrderData,r=e.AMOUNT_IN_WORDS;console.log("purchaseOrderData",t);for(var n=Math.ceil(t.products.length/6),o=[],i=0;i<n;i++){var c=6*i,l=c+6,s=t.products.slice(c,l);o.push(s)}return a.a.createElement(xu.a,null,o.map(function(e,o){return a.a.createElement(xu.c,{size:"A4",orientation:"portrait",style:{fontSize:"12pt"}},a.a.createElement(xu.f,{style:{padding:"20pt"}},a.a.createElement(xu.f,{style:Cv},a.a.createElement(Lv,{purchaseOrderData:t}),a.a.createElement(xu.f,{style:Dv},a.a.createElement(xu.f,{style:Object(u.a)({},Iv,{alignItems:"center",padding:0})},a.a.createElement(xu.e,{style:{fontWeight:"100",fontSize:12}},"Purchase Order"))),a.a.createElement(xu.f,{style:Dv},a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)}),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)}),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)}),a.a.createElement(xu.f,{style:Iv})),a.a.createElement(xu.f,{style:Dv},a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv)},"PO Date : ")),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Rv)},t.po_date)),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv)},"PO NO & Date : ")),a.a.createElement(xu.f,{style:Iv},a.a.createElement(xu.e,{style:Object(u.a)({},Rv)},t.po_no," & ",t.po_date))),a.a.createElement(xu.f,{style:Dv},a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv)},"Currency :")),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Rv)},t.symbol+" ",t.currency)),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv)},"Payment Terms :")),a.a.createElement(xu.f,{style:Iv},a.a.createElement(xu.e,{style:Object(u.a)({},Rv)},t.payment_terms))),a.a.createElement(xu.f,{style:Dv},a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv)},"Schedule Date :")),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Rv)},t.schedule_date)),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv)},"Delivery Terms :")),a.a.createElement(xu.f,{style:Iv},a.a.createElement(xu.e,{style:Object(u.a)({},Rv)},t.delivery_terms))),a.a.createElement(xu.f,{style:Object(u.a)({},Dv,Av)},a.a.createElement(xu.f,{style:Iv},a.a.createElement(xu.e,{style:Object(u.a)({},Bv,zv,{textAlign:"center"})},"Supplier Details")),a.a.createElement(xu.f,{style:Iv},a.a.createElement(xu.e,{style:Object(u.a)({},Bv,{textAlign:"center"})},"Buyer Details"))),a.a.createElement(xu.f,{style:Dv},a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv)},"Company :")),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Rv)},t.vendor)),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv)},"Company :")),a.a.createElement(xu.f,{style:Iv},a.a.createElement(xu.e,{style:Object(u.a)({},Rv)},t.seller_company))),a.a.createElement(xu.f,{style:Dv},a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv)},"Address :")),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Rv)},t.vendor_address," ,"," ",t.vendor_city," ,"," ",t.vendor_state," ,"," ",t.vendor_pincode)),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv)},"Address :")),a.a.createElement(xu.f,{style:Iv},a.a.createElement(xu.e,{style:Object(u.a)({},Rv)},t.seller_address))),a.a.createElement(xu.f,{style:Dv},a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv)},"Email")),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Rv)},t.vendor_email)),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv)},"Gst Number")),a.a.createElement(xu.f,{style:Iv},a.a.createElement(xu.e,{style:Object(u.a)({},Rv)},t.seller_gst))),a.a.createElement(xu.f,{style:Dv},a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv)},"Contact Person :")),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Rv)},t.vendor_contact_person)),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv)})),a.a.createElement(xu.f,{style:Iv},a.a.createElement(xu.e,{style:Object(u.a)({},Rv)}))),a.a.createElement(xu.f,{style:Dv},a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv)},"Contact :")),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Rv)},t.vendor_contact)),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,zv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv)})),a.a.createElement(xu.f,{style:Iv},a.a.createElement(xu.e,{style:Object(u.a)({},Rv)}))),a.a.createElement(xu.f,{className:Object(u.a)({},Dv,Av),style:Object(u.a)({},Dv,Av)},a.a.createElement(xu.f,{style:Object(u.a)({},Iv,{flex:.2,flexGrow:.2,marginLeft:"4pt",textAlign:"left"})},a.a.createElement(xu.e,null,"Sr.No")),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,{flex:.8,flexGrow:.8,textAlign:"left"})},a.a.createElement(xu.e,null,"Description of Goods")),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(xu.e,null,"Quantity")),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(xu.e,null,"Unit")),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(xu.e,null,"Rate")),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(xu.e,null,"Amount"))),e.map(function(e,t){var r=6*o+t+1;return a.a.createElement(xu.f,{style:Object(u.a)({},Dv,{paddingVertical:5}),key:t},a.a.createElement(xu.f,{style:Object(u.a)({},Iv,{flex:.2,flexGrow:.2,marginLeft:"4pt",textAlign:"left"})},a.a.createElement(xu.e,{style:Wv},r)),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,{textAlign:"left",flex:.8,flexGrow:.8,width:80})},a.a.createElement(xu.e,{style:Object(u.a)({},Wv,{color:"#000"})},e.product),a.a.createElement(xu.e,{style:Object(u.a)({},Wv,{color:"#000"})},e.description)),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(xu.e,{style:Wv},e.quantity)),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(xu.e,{style:Wv},e.unit)),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(xu.e,{style:Wv},e.rate)),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,{flex:.2,flexGrow:.2,textAlign:"center"})},a.a.createElement(xu.e,{style:Wv},e.amount)))}),"Domestic"===t.vendor_type&&a.a.createElement(xu.f,{style:Dv},a.a.createElement(xu.f,{style:Object(u.a)({},Iv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv,{textAlign:"right"})},"CGST Amount :")),a.a.createElement(xu.f,{style:Iv},a.a.createElement(xu.e,{style:Object(u.a)({},Rv,{textAlign:"center"})},t.cgst?t.cgst:"-"))),"Domestic"===t.vendor_type&&a.a.createElement(xu.f,{style:Dv},a.a.createElement(xu.f,{style:Object(u.a)({},Iv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv,{textAlign:"right"})},"SGST Amount :")),a.a.createElement(xu.f,{style:Iv},a.a.createElement(xu.e,{style:Object(u.a)({},Rv,{textAlign:"center"})},t.sgst?t.sgst:"-"))),"Domestic"===t.vendor_type&&a.a.createElement(xu.f,{style:Dv},a.a.createElement(xu.f,{style:Object(u.a)({},Iv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv,{textAlign:"right"})},"IGST Amount :")),a.a.createElement(xu.f,{style:Iv},a.a.createElement(xu.e,{style:Object(u.a)({},Rv,{textAlign:"center"})},t.igst?t.igst:"-"))),"Domestic"===t.vendor_type&&a.a.createElement(xu.f,{style:Dv},a.a.createElement(xu.f,{style:Object(u.a)({},Iv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv,{textAlign:"right"})},"Round Off :")),a.a.createElement(xu.f,{style:Iv},a.a.createElement(xu.e,{style:Object(u.a)({},Rv,{textAlign:"center"})},t.round_off))),a.a.createElement(xu.f,{style:Dv},a.a.createElement(xu.f,{style:Object(u.a)({},Iv)},a.a.createElement(xu.e,{style:Object(u.a)({},Bv,{textAlign:"right"})},"Total Amount :")),a.a.createElement(xu.f,{style:Iv},a.a.createElement(xu.e,{style:Object(u.a)({},Rv,{textAlign:"center"})},t.symbol+" ",t.round_off_total))),a.a.createElement(xu.f,{style:Dv},a.a.createElement(xu.f,{style:Object(u.a)({},Iv)}),a.a.createElement(xu.f,{style:Iv})),a.a.createElement(xu.f,{style:Object(u.a)({},Dv)},a.a.createElement(xu.f,{style:Object(u.a)({},Iv,{padding:"5pt"})},a.a.createElement(xu.e,{style:Bv},"Amount in Words :-",a.a.createElement(xu.e,{style:Rv}," \xa0",r),a.a.createElement(xu.e,{style:Object(u.a)({},Rv,{textAlign:"center"})},t.amount_in_word)))),a.a.createElement(xu.f,null,a.a.createElement(xu.e,null,"\n")),a.a.createElement(xu.f,{style:Dv},a.a.createElement(xu.f,{style:Object(u.a)({},Iv,{marginLeft:"4pt"})},a.a.createElement(xu.e,{style:{fontWeight:"bold",fontSize:8}},"Terms and Condition :-"),"Domestic"===t.vendor_type?Pv.map(function(e,t){return a.a.createElement(xu.e,{key:t,style:{color:"#777777",fontSize:6}},e.id," ",e.text)}):kv.map(function(e,t){return a.a.createElement(xu.e,{key:t,style:{color:"#777777",fontSize:6}},e.id," ",e.text)})),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,{justifyContent:"center",alignItems:"center"})},a.a.createElement(xu.e,{style:Rv},t.created_by||""),a.a.createElement(xu.e,{style:Rv},"Authorising Signatory"),a.a.createElement(xu.e,{style:Rv},"[Digitally Signed]"))),a.a.createElement(Sv,null))),a.a.createElement(xu.e,{style:Object(u.a)({},Wv,{display:"flex",justifyContent:"center",textAlign:"center"})},"This is Computer Generated Purchase Order Invoice"),a.a.createElement(xu.e,{style:Object(u.a)({},Wv,{display:"flex",justifyContent:"center",textAlign:"center"})},"Page ",o+1," of ",n))}))},Lv=function(e){var t=e.purchaseOrderData;return a.a.createElement(xu.f,{style:Nv},a.a.createElement(xu.f,{style:{marginRight:"20pt"}},a.a.createElement(xu.b,{source:$a.a,style:Fv})),a.a.createElement(xu.f,{style:Object(u.a)({},Iv,{alignItems:"center",textAlign:"center",padding:0})},a.a.createElement(xu.e,{style:{fontWeight:"bold",fontSize:12}},"Glutape India Private Limited"),a.a.createElement(xu.e,{style:{color:"#777777",fontSize:6}},t.seller_address,", ",t.seller_city,","," ","\n",t.seller_state,"-",t.seller_state_code,",",t.seller_pincode,", CIN No;-"," ",t.seller_cin,", P.No:-"," ",t.seller_contact,"\n","E: ",t.seller_email,", W: www.glutape.com")),a.a.createElement(xu.f,null,a.a.createElement(xu.b,{source:oo.a,style:Gv})),a.a.createElement(xu.f,null,a.a.createElement(xu.b,{source:Su.a,style:Gv})))},Sv=function(){return a.a.createElement(xu.f,{style:Tv},a.a.createElement(xu.b,{source:no.a,style:{width:"100%",height:"auto"}}))},kv=[{id:"1)",text:"Please send your acceptance through return mail within 24 Hrs."},{id:"2)",text:"Material should  be shipped as per the schedule dates. Any delay in supply will attract a Late delivery charges @2% on part or there of. "},{id:"3)",text:"Please do mention the correct P.O number and Part number in all invoice copies & respective delivery documents ."},{id:"4)",text:"Apart from this, schedule excess qty. will be returned to you on your account."},{id:"5)",text:"Any short reciept will be debited in multipac of the packets.."},{id:"6)",text:"On acknowledgement of wrong invoicing, Glutape India Pvt Ltd will debit 3 times of (concerned) invoice value to your account."},{id:"7)",text:"We reserve the right to reject the supply at any stage if the consignment / goods does not confirm the specification or sample or defects are revealed during processing."},{id:"8)",text:"Please ensure that proper barcoding is followed for each item mentioned in this purchase order, if barcoding is not followed, the material will be rejected and sent back on your account."}],Pv=[{id:"1)",text:"Please send your acceptance through return mail within 24 Hrs."},{id:"2)",text:"Material should  reach in Our Stores as per the schedule dates. Any delay in supply will attract a Late delivery charges @2% on part or there of. "},{id:"3)",text:"Every part needs to make on seperate invoice, cupled invoices will not inwarded."},{id:"4)",text:"Delivery should be between 09.00 AM to 06.00 PM"},{id:"5)",text:"Please do mention the correct P.O number and Part number in all invoice copies & respective delivery documents ."},{id:"6)",text:"Apart from this, schedule excess qty. will be returned to you on your account."},{id:"7)",text:"Any short reciept will be debited in multipac of the packets.."},{id:"8)",text:"On acknowledgement of wrong invoicing, Glutape India Pvt Ltd will debit 3 times of (concerned) invoice value to your account."},{id:"9)",text:"We reserve the right to reject the supply at any stage if the consignment / goods does not confirm the specification or sample or defects are revealed during processing."},{id:"10)",text:"Please ensure that proper barcoding is followed for each item mentioned in this purchase order, if barcoding is not followed, the material will be rejected and sent back on your account."}],Cv={border:"1pt solid #000000",overflow:"hidden"},Dv={display:"flex",flexDirection:"row",borderBottom:"1pt solid #ccc"},Nv={height:"40pt",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottom:"1pt solid #777777"},Tv={height:"40pt",flexDirection:"row",width:"100%",borderTop:"1pt solid #777777"},Av={backgroundColor:"#eee",fontWeight:"bold"},Iv={flex:1,flexGrow:1,fontSize:10},Fv={height:"auto",width:"80pt"},Gv={height:"auto",width:"50pt"},Wv={fontWeight:300,color:"#454545",fontSize:8},Bv={fontWeight:"bold",fontSize:8,textAlign:"left",marginLeft:"5pt"},Rv={fontWeight:300,fontSize:8,color:"#454545",marginLeft:"5pt"},zv={borderRightWidth:1,borderRightColor:"#ccc"};function Mv(){Mv=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Uv=Object(n.memo)(function(e){var t=e.selectedRow,r=e.setOpenPopup,o=e.getAllPurchaseOrderDetails;console.log("selectedRow",t);var i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],p=s[1],h=(new Date).toISOString().slice(0,10),d=Object(n.useState)(function(){return{seller_account:t.seller_account,vendor:t.vendor,purchase_order:[t.po_no],packing_list_no:"",invoice_date:h,products:t.products.map(function(e){return{product:e.product,unit:e.unit,quantity:e.pending_quantity}})}}),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Ln(),b=g.handleSuccess,E=g.handleError,w=g.handleCloseSnackbar,x=g.alertInfo;Object(n.useEffect)(function(){y({seller_account:t.seller_account,vendor:t.vendor,purchase_order:[t.po_no],packing_list_no:v.packing_list_no,invoice_date:v.invoice_date,products:t.products.map(function(e,t){return{id:e.id,product:e.product,unit:e.unit,quantity:v.products[t]&&v.products[t].quantity||e.pending_quantity}})})},[t]);var O=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;y(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))})},[]),_=Object(n.useCallback)(function(e,t){y(function(r){return Object(u.a)({},r,{products:r.products.map(function(r,n){return n===e?Object(u.a)({},r,{quantity:t}):r})})})},[]),j=function(){var e=Object(c.a)(Mv().mark(function e(t){var n;return Mv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,p(!0),n=Object(u.a)({},v,{purchase_order:v.purchase_order}),e.next=6,yo.createPackingListData(n);case 6:b("Packing list created successfully"),setTimeout(function(){r(!1)},300),o(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),E(e.t0),console.error("Creating Packing list error",e.t0);case 15:return e.prev=15,p(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,11,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:x.open,onClose:w,severity:x.severity,message:x.message}),a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:j},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"seller_account",label:"Buyer Account",variant:"outlined",value:v.seller_account,disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Purchase Order Number",variant:"outlined",value:v.purchase_order||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"packing_list_no",label:"Invoice No",variant:"outlined",value:v.packing_list_no||"",onChange:O})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,type:"date",size:"small",name:"invoice_date",label:"Invoice Date",variant:"outlined",value:v.invoice_date||"",onChange:O,InputProps:{inputProps:{max:h}}})),v.products.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:e.id||t},a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Id",variant:"outlined",value:e.id||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:e.product||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"quantity",label:"Quantity",variant:"outlined",type:"number",value:e.quantity||"",onChange:function(e){return _(t,e.target.value)}})))})),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function Yv(){Yv=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})});var qv=Object(n.memo)(function(e){var t=e.purchaseOrderData,r=void 0===t?[]:t,o=e.setOpenPopup,i=e.getAllPurchaseOrderDetails,f=Object(s.c)(function(e){return{sellerData:e.auth.sellerAccount,userData:e.auth.profile}}).sellerData,p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(null),y=Object(l.a)(v,2),g=(y[0],y[1]),b=(new Date).toISOString().slice(0,10),E=Object(n.useState)([]),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)({seller_account:"",products:[],packing_list_no:"",invoice_date:b}),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Ln(),P=k.handleSuccess,C=k.handleError,D=k.handleCloseSnackbar,N=k.alertInfo,T=Object(n.useState)([]),A=Object(l.a)(T,2),I=A[0],F=A[1],G=Object(n.useCallback)(function(e){var t=e.target,r=t.name,n=t.value;S(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))})},[]),W=Object(n.useCallback)(function(e,t){S(function(r){return Object(u.a)({},r,{products:r.products.map(function(r,n){return n===e?Object(u.a)({},r,{quantity:t}):r})})})},[]),B=function(){var e=Object(c.a)(Yv().mark(function e(t){var r;return Yv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,m(!0),r=Object(u.a)({},L,{purchase_order:x}),e.next=6,yo.createPackingListData(r);case 6:P("MergePL created successfully"),setTimeout(function(){o(!1)},300),i(),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),C(e.t0),console.error("Creating Packing list error",e.t0),g(e.t0.message||"An error occurred");case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[1,11,16,19]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:N.open,onClose:D,severity:N.severity,message:N.message}),a.a.createElement(Pt,{open:d}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:B},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(mr.a,{size:"small",disablePortal:!0,id:"buyer-account-autocomplete",onChange:function(e,t){var n=r.filter(function(e){return e.seller_account===t&&e.po_no}).map(function(e){return{label:e.po_no,value:e}});F(n),S(function(e){return Object(u.a)({},e,{seller_account:t})})},options:f.map(function(e){return e.unit}),getOptionLabel:function(e){return e},sx:{minWidth:300},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Buyer Account",variant:"outlined"}))}})),I.length>0&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(mr.a,{size:"small",multiple:!0,options:I,getOptionLabel:function(e){return e?e.label:""},onChange:function(e,t){return function(e){if(e&&e.length>0){var t=e.map(function(e){return"string"===typeof e?{label:e,value:r.find(function(t){return t.po_no===e})}:e}),n=t.flatMap(function(e){return e.value&&e.value.products?e.value.products.map(function(e){return{id:e.id,product:e.product,unit:e.unit,quantity:e.quantity}}):[]});S(function(e){return Object(u.a)({},e,{products:n})}),O(t.map(function(e){return e.label}))}else S(function(e){return Object(u.a)({},e,{products:[]})}),O([])}(t)},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Select PO Numbers",variant:"outlined"}))}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"packing_list_no",label:"Invoice No",variant:"outlined",value:L.packing_list_no||"",onChange:G})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,type:"date",size:"small",name:"invoice_date",label:"Invoice Date",variant:"outlined",InputLabelProps:{shrink:!0},value:L.invoice_date,onChange:G,InputProps:{inputProps:{max:b}}})),L.products.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:e.id||"product-".concat(t)},a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Id",variant:"outlined",value:e.id||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:e.product||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"quantity",label:"Quantity",variant:"outlined",type:"number",value:e.quantity||"",onChange:function(e){return W(t,e.target.value)}})))})),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function Vv(){Vv=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Qv=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)([]),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(1),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(""),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(0),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(!1),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(null),A=Object(l.a)(T,2),I=A[0],F=A[1],W=Object(n.useState)(!1),B=Object(l.a)(W,2),R=B[0],z=B[1],M=Object(n.useState)(!1),U=Object(l.a)(M,2),Y=U[0],q=U[1],V=Object(s.b)(),Q=Ln(),H=Q.handleSuccess,K=Q.handleError,J=Q.handleCloseSnackbar,Z=Q.alertInfo,X=function(){var e=Object(c.a)(Vv().mark(function e(t){var r,n,o;return Vv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),r=new wu.a,e.next=5,Object(xu.g)(a.a.createElement(jv,{purchaseOrderData:t}),r,{}).toBlob();case 5:n=e.sent,(o=document.createElement("a")).href=URL.createObjectURL(n),o.download="PO Number ".concat(t.po_no,".pdf"),document.body.appendChild(o),o.click(),document.body.removeChild(o),H("Downloaded successfully"),p(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),K(e.t0),console.log("error exporting pdf",e.t0);case 20:return e.prev=20,p(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[0,16,20,23]])}));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(c.a)(Vv().mark(function e(t){return Vv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{p(!0),F(t),o(!0)}catch(r){console.log(r)}finally{p(!1)}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){ee()},[]);var ee=function(){var e=Object(c.a)(Vv().mark(function e(){var t;return Vv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,ea.getAllPaginateSellerAccountData("all");case 4:t=e.sent,V(G(t.data)),p(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),p(!1);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),te=Object(n.useCallback)(function(){var e=Object(c.a)(Vv().mark(function e(t,r,n){var a;return Vv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,yo.getAllPurchaseOrderData(t,r,n);case 4:a=e.sent,v(a.data.results),k(Math.ceil(a.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),K(e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,r,n){return e.apply(this,arguments)}}(),[]);Object(n.useEffect)(function(){te(b,D,O)},[b,D,O]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:Z.open,onClose:J,severity:Z.severity,message:Z.message}),a.a.createElement(Pt,{open:f}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{sx:{flexGrow:1,mr:1},size:"small",value:Kv.find(function(e){return e.value===D.toString()}),onChange:function(e,t){return function(e){if(e){var t="true"===e.value;N(t)}else N(!1),E(0)}(t)},options:Kv,getOptionLabel:function(e){return e.label},label:"Filter By Accepted"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(ga,{onSearch:function(e){_(e),E(1)},onReset:function(){_(""),E(1)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(yt.a,{variant:"contained",color:"success",onClick:function(){q(!0)}},"Merge PL")))),a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sx:{textAlign:"center"}},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Purchase Order Book")))),a.a.createElement(Bt.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Zv,null,a.a.createElement(Jv,{align:"center"}),a.a.createElement(Jv,{align:"center"},"Purchase Order Date"),a.a.createElement(Jv,{align:"center"},"Purchase Order"),a.a.createElement(Jv,{align:"center"},"Vendor Type"),a.a.createElement(Jv,{align:"center"},"Vendor"),a.a.createElement(Jv,{align:"center"},"Buyer Account"),a.a.createElement(Jv,{align:"center"},"Buyer State"),a.a.createElement(Jv,{align:"center"},"Schedule Date"),a.a.createElement(Jv,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,Array.isArray(m)&&m.map(function(e,t){return a.a.createElement(Hv,{key:t,row:e,handleEdit:$,handleOpenCreatePLPopup:function(){return function(e){z(!0),F(e)}(e)},handleDownload:X})})))),a.a.createElement(Zn,{currentPage:b,totalPages:S,handlePageChange:function(e,t){E(t)}}))),a.a.createElement(ut,{fullScreen:!0,title:"Purchase Order Update",openPopup:r,setOpenPopup:o},a.a.createElement(_v,{setOpenPopup:o,getAllPurchaseOrderDetails:te,selectedRow:I,currentPage:b,acceptedFilter:D,searchQuery:O})),a.a.createElement(ut,{fullScreen:!0,title:"Create Packing List",openPopup:R,setOpenPopup:z},a.a.createElement(Uv,{setOpenPopup:z,selectedRow:I,getAllPurchaseOrderDetails:te})),a.a.createElement(ut,{fullScreen:!0,title:"Merge Packing List",openPopup:Y,setOpenPopup:q},a.a.createElement(qv,{setOpenPopup:q,purchaseOrderData:m,getAllPurchaseOrderDetails:te})))};function Hv(e){var t=e.row,r=e.handleEdit,o=e.handleOpenCreatePLPopup,i=e.handleDownload,c=Object(n.useState)(!1),u=Object(l.a)(c,2),s=u[0],f=u[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Zv,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(Jv,null,a.a.createElement(m.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return f(!s)}},s?a.a.createElement(ho.a,null):a.a.createElement(fo.a,null))),a.a.createElement(Jv,{align:"center"},t.po_date),a.a.createElement(Jv,{align:"center"},t.po_no),a.a.createElement(Jv,{align:"center"},t.vendor_type),a.a.createElement(Jv,{align:"center"},t.vendor),a.a.createElement(Jv,{align:"center"},t.seller_account),a.a.createElement(Jv,{align:"center"},t.seller_state),a.a.createElement(Jv,{align:"center"},t.schedule_date),a.a.createElement(Jv,{align:"center"},a.a.createElement(yt.a,{onClick:function(){return r(t)}},"Edit"),a.a.createElement(yt.a,{color:"success",onClick:o},"Create PL"),a.a.createElement(yt.a,{color:"secondary",onClick:function(){return i(t)}},"Download"))),a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(Va.a,{in:s,timeout:"auto",unmountOnExit:!0},a.a.createElement(vt.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Rt.a,{size:"small","aria-label":"purchases"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{align:"center"},"SR.NO"),a.a.createElement(Ut.a,{align:"center"},"PRODUCT"),a.a.createElement(Ut.a,{align:"center"},"UNIT"),a.a.createElement(Ut.a,{align:"center"},"QUANTITY"),a.a.createElement(Ut.a,{align:"center"}," PENDING QUANTITY"))),a.a.createElement(Mt.a,null,Array.isArray(t.products)&&t.products.map(function(e,r){return a.a.createElement(Zv,{key:r},a.a.createElement(Jv,{align:"center"},r+1),a.a.createElement(Jv,{align:"center"},e.product),a.a.createElement(Jv,{align:"center"},e.unit),a.a.createElement(Jv,{align:"center"},e.quantity),a.a.createElement(Jv,{align:"center"},!0===t.close_short?0:e.pending_quantity))}))))))))}var Kv=[{label:"Closed",value:"true"},{label:"Not Closed",value:"false"}],Jv=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),Zv=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Xv(){Xv=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var $v=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),ey=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getAllGRNDetails,o=e.idForEdit,i=e.currentPage,u=e.acceptedFilter,s=e.searchQuery,f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Ln(),y=m.handleSuccess,g=m.handleError,b=m.handleCloseSnackbar,E=m.alertInfo,w=Object(n.useState)(o.products.map(function(e){return{products:e.products,unit:e.unit,order_quantity:e.order_quantity,qa_rejected:e.qa_rejected,qa_accepted:e.qa_accepted}})),x=Object(l.a)(w,2),O=x[0],_=x[1],j=function(e,t){var r=t.target,n=r.name,a=r.value,o=Object(ln.a)(O);o[e][n]=a,""!==o[e].qa_rejected&&""!==o[e].order_quantity&&(o[e].qa_accepted=parseInt(o[e].order_quantity)-parseInt(o[e].qa_rejected)),_(o)},L=function(){var e=Object(c.a)(Xv().mark(function e(n){var a,c,l;return Xv().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),d(!0),a={packing_list:o.packing_list,vendor:o.vendor,products:O},e.next=6,yo.updateGRNData(o.grn_no,a);case 6:c=e.sent,l=c.data.message||"Purchase Invoice updated successfully",y(l),setTimeout(function(){t(!1),r(i,u,s)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),g(e.t0);case 15:return e.prev=15,d(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:E.open,onClose:b,severity:E.severity,message:E.message}),a.a.createElement(Pt,{open:h}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return L(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Vendor",variant:"outlined",value:o.vendor||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Packing List ID",variant:"outlined",value:o.packing_list||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Packing List No",variant:"outlined",value:o.packing_list_no||""})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement($v,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),O.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{key:t,item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"products",size:"small",label:"Products",variant:"outlined",value:e.products||"",onChange:function(e){return j(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"order_quantity",size:"small",label:"Quantity",variant:"outlined",value:e.order_quantity||"",onChange:function(e){return j(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"qa_rejected",size:"small",label:"QA Rejected",variant:"outlined",value:e.qa_rejected||"",onChange:function(e){return j(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"qa_accepted",size:"small",label:"QA Accepted",variant:"outlined",value:""===e.qa_rejected||""===e.order_quantity||isNaN(e.order_quantity)||isNaN(e.qa_rejected)?"":parseInt(e.order_quantity)-parseInt(e.qa_rejected),onChange:function(e){return j(t,e)}})))})),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function ty(){ty=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ry=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),ny=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.recordForEdit,o=e.getAllGRNDetails,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Ln(),h=p.handleSuccess,d=p.handleError,m=p.handleCloseSnackbar,y=p.alertInfo,g=Object(n.useState)(r.products.map(function(e){return console.log("rate",e.rate),{product:e.products,quantity:e.qa_accepted,unit:e.unit,order_date:e.order_date,po_no:e.po_no,amount:"",rate:""}})),b=Object(l.a)(g,2),E=b[0],w=b[1];console.log("products",E);var x=function(e,t){var r=t.target,n=r.name,a=r.value,o=Object(ln.a)(E);o[e][n]=a,""!==o[e].quantity&&""!==o[e].rate&&(o[e].amount=(o[e].quantity*o[e].rate).toFixed(2)),w(o)},O=function(){var e=Object(c.a)(ty().mark(function e(n){var a;return ty().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),f(!0),a={grn:r.grn_no,products_data:E},e.next=6,yo.createPurchaseInvoiceData(a);case 6:console.log("createing Packing list"),o(),h("Purchase Invoice created successfully"),setTimeout(function(){t(!1)},300),f(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),d(e.t0),console.log("createing Packing list error",e.t0),f(!1);case 18:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:y.open,onClose:m,severity:y.severity,message:y.message}),a.a.createElement(Pt,{open:s}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return O(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Vendor",variant:"outlined",value:r.vendor||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Grn No",variant:"outlined",value:r.grn_no||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Invoice No",variant:"outlined",value:r.packing_list_no||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Invoice Date",variant:"outlined",value:r.created_on||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Purchase Order No",variant:"outlined",value:r.po_no||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(ry,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),E.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{key:t,item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:e.product||"",disabled:!0})),a.a.createElement(Et.a,{key:t,item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Quantity",variant:"outlined",value:e.quantity||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"rate",size:"small",label:"Rate",variant:"outlined",value:e.rate,onChange:function(e){return x(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"amount",size:"small",label:"Amount",variant:"outlined",value:""!==e.quantity&&""!==e.rate?(e.quantity*e.rate).toFixed(2):"",onChange:function(e){return x(t,e)}})))})),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function ay(){ay=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var oy=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)([]),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(1),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(0),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(""),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(n.useState)(),A=Object(l.a)(T,2),I=A[0],F=A[1],G=Object(n.useState)(),W=Object(l.a)(G,2),B=W[0],R=W[1],z=Object(n.useState)(!1),M=Object(l.a)(z,2),U=M[0],Y=M[1],q=Object(s.c)(function(e){return e.auth.profile}),V=Ln(),Q=V.handleError,H=V.handleCloseSnackbar,K=V.alertInfo;Object(n.useEffect)(function(){J(O,U,D)},[O,U,D]);var J=Object(n.useCallback)(function(){var e=Object(c.a)(ay().mark(function e(t,r,n){var a;return ay().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,yo.getAllGRNData(t,r,n);case 4:a=e.sent,E(a.data.results),k(Math.ceil(a.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Q(e.t0);case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,r,n){return e.apply(this,arguments)}}(),[]),Z=function(e){F(e),o(!0)},X=function(e){R(e),p(!0)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:K.open,onClose:H,severity:K.severity,message:K.message}),a.a.createElement(Pt,{open:m}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{sx:{flexGrow:1,mr:1},size:"small",value:cy.find(function(e){return e.value===U.toString()}),onChange:function(e,t){return function(e){if(e){var t="true"===e.value;Y(t)}else Y(!1),_(0)}(t)},options:cy,getOptionLabel:function(e){return e.label},label:"Filter By Accepted"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(ga,{onSearch:function(e){N(e),_(1)},onReset:function(){N(""),_(1)}})))),a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6}),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement("h3",{style:{textAlign:"left",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Purchase Invoice")),a.a.createElement(Et.a,{item:!0,xs:12,sm:3}))),a.a.createElement(Bt.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(uy,null,a.a.createElement(ly,{align:"center"}),a.a.createElement(ly,{align:"center"},"GRN DATE"),a.a.createElement(ly,{align:"center"},"GRN NO"),a.a.createElement(ly,{align:"center"},"INVOICE NO"),a.a.createElement(ly,{align:"center"},"VENDOR"),a.a.createElement(ly,{align:"center"},"PACKING LIST"),a.a.createElement(ly,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,b.map(function(e,t){return a.a.createElement(iy,{key:t,row:e,openInPopup:Z,handlePurchaseInvoice:X,userData:q})}))," ")),a.a.createElement(Zn,{currentPage:O,totalPages:S,handlePageChange:function(e,t){_(t)}}))),a.a.createElement(ut,{fullScreen:!0,title:"Update GRN Details",openPopup:r,setOpenPopup:o},a.a.createElement(ey,{setOpenPopup:o,getAllGRNDetails:J,idForEdit:I,currentPage:O,acceptedFilter:U,searchQuery:D})),a.a.createElement(ut,{fullScreen:!0,title:"Purchase Invoice Create",openPopup:f,setOpenPopup:p},a.a.createElement(ny,{setOpenPopup:p,recordForEdit:B,getAllGRNDetails:J})))};function iy(e){var t=e.row,r=(e.openInPopup,e.userData),o=e.handlePurchaseInvoice,i=Object(n.useState)(!1),c=Object(l.a)(i,2),u=c[0],s=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(uy,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(ly,null,a.a.createElement(m.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return s(!u)}},u?a.a.createElement(ho.a,null):a.a.createElement(fo.a,null))),a.a.createElement(ly,{align:"center"},t.created_on),a.a.createElement(ly,{align:"center"},t.grn_no),a.a.createElement(ly,{align:"center"},t.packing_list_no),a.a.createElement(ly,{align:"center"},t.vendor),a.a.createElement(ly,{align:"center"},t.packing_list),a.a.createElement(ly,{align:"center"},(r.groups.includes("Accounts Executive")||r.groups.includes("Director")||r.groups.includes("Accounts"))&&a.a.createElement(yt.a,{onClick:function(){return o(t)}},"Create PI"))),a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(Va.a,{in:u,timeout:"auto",unmountOnExit:!0},a.a.createElement(vt.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Rt.a,{size:"small","aria-label":"purchases"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{align:"center"},"PRODUCT"),a.a.createElement(Ut.a,{align:"center"},"UNIT"),a.a.createElement(Ut.a,{align:"center"},"DESCRIPTION"),a.a.createElement(Ut.a,{align:"center"},"QUANTITY"),a.a.createElement(Ut.a,{align:"center"},"QA REJECTED"),a.a.createElement(Ut.a,{align:"center"},"QA ACCEPTED"))),a.a.createElement(Mt.a,null,t.products.map(function(e,t){return a.a.createElement(uy,{key:t},a.a.createElement(ly,{align:"center"},e.products),a.a.createElement(ly,{align:"center"},e.unit),a.a.createElement(ly,{align:"center"},e.description),a.a.createElement(ly,{align:"center"},e.order_quantity),a.a.createElement(ly,{align:"center"},e.qa_rejected),a.a.createElement(ly,{align:"center"},e.qa_accepted))}))))))))}var cy=[{label:"Accepted",value:"true"},{label:"Not Accepted",value:"false"}],ly=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),uy=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),sy=r(668);function fy(){fy=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var py=function(e){var t=e.idForEdit;console.log("idForEdit",t);var r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],s=o[1],f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)([]),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useRef)();Object(n.useEffect)(function(){t&&E()},[t]);for(var E=function(){var e=Object(c.a)(fy().mark(function e(){var r;return fy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,yo.getPurchaseInvoiceDataById(t);case 4:r=e.sent,s(r.data),g(r.data.products_data),d(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),d(!1),console.log("company data by id error",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),w=(i.amount_in_words?i.amount_in_words:"").split(" "),x=0;x<w.length;x++)w[x]=w[x].charAt(0).toUpperCase()+w[x].slice(1);var O=w.join(" "),_=Object(Za.useReactToPrint)({content:function(){return b.current},documentTitle:"PI Number ".concat(i.invoice_no," ").concat(i)});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:h}),a.a.createElement("div",{className:"container-fluid mb-4",style:{border:"1px Solid #000000"}},a.a.createElement("div",{className:"row p-4"},a.a.createElement("div",{className:"col-xs-6 "},a.a.createElement(yt.a,{variant:"contained",color:"secondary",onClick:_,startIcon:a.a.createElement(Eu.a,null)},"Print")))),a.a.createElement("div",{className:"container-fluid m-0 p-0",style:{border:"1px Solid #000000"},ref:b},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-xs-12"},a.a.createElement("div",{className:"grid invoice",style:{padding:"10px"}},a.a.createElement("div",{className:"grid-body"},a.a.createElement("div",{className:"invoice-title"},a.a.createElement("div",{className:"row",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("div",{className:"col-md-2 align-self-center logos"},a.a.createElement("img",{src:$a.a,alt:"",Height:"60",width:"150"})),a.a.createElement("div",{className:"col-md-7",style:{marginRight:"1rem"}},a.a.createElement("div",{className:"text-center address"},a.a.createElement("strong",{style:Object(u.a)({},hy)},"Glutape India Private Limited"),a.a.createElement("br",null),a.a.createElement("p",{style:{fontSize:"0.70rem"}},i.seller_address,",",i.seller_city,",",i.seller_state,"-",i.seller_state_code,",",a.a.createElement("br",null),i.seller_pincode,", CIN No ;-",i.seller_cin,", P.No :-",i.seller_contact," ",a.a.createElement("br",null),"E:",i.seller_email,",W:www.glutape.com"))),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-end msme"},a.a.createElement("img",{src:oo.a,alt:"",height:"50",width:"90"})),a.a.createElement("div",{className:"col-md-1 d-flex align-items-center justify-content-start iso"},a.a.createElement("img",{src:to.a,alt:"",height:"35",width:"90"}))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("p",{className:"text-center fs-6 fw-bold p-0 m-0"},"Purchase Invoice"))),a.a.createElement("div",{className:"row",style:{borderBottom:"1px Solid #000000"}},a.a.createElement("div",{className:"col-md-6 justify-content-end"},a.a.createElement("address",{className:"justify-content-end"},a.a.createElement("strong",{style:Object(u.a)({},hy)},"Shipped From:"),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},hy)},"Supplier :"," "),i.supplier_name,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},hy)},"Address :"," "),i.address),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},hy)},"City & State:"," "),i.city," &"," ",i.state,","),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},hy)},"Pin Code :"," "),i.pincode),""!==i.gst_number?a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},hy)},"Gst Number :"," "),i.gst_number):null,""!==i.pan_number?a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},hy)},"Pan Number :"," "),i.pan_number):null)),a.a.createElement("div",{className:"col-md-6",style:Object(u.a)({},hy,{borderLeft:"1px Solid #000000"})},a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},hy)},"Voucher No & Date. :"," "),i.invoice_no," &"," ",i.invoice_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},hy)},"Grn No & Date. :"," "),i.grn_number," &"," ",i.grn_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},hy)},"Purchase Order No & Date :"),i.po_no," &"," ",i.po_date),a.a.createElement("div",null,a.a.createElement("strong",{style:Object(u.a)({},hy)},"Supplier Invoice & Date:"," "),i.packing_list_no," &"," ",i.order_date)))),a.a.createElement("div",{className:"row",style:Object(u.a)({},hy,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-12"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",{className:"line"},a.a.createElement("td",{className:"text-start"},a.a.createElement("strong",{style:Object(u.a)({},hy)},"SR.NO")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},hy)},"DESCRIPTION OF GOODS")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},hy)},"HSN CODE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},hy)},"QUANTITY")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},hy)},"UNIT")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},hy)},"RATE")),a.a.createElement("td",{className:"text-center"},a.a.createElement("strong",{style:Object(u.a)({},hy)},"AMOUNT")))),a.a.createElement("tbody",null,y.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",{className:"text-start"},t+1),a.a.createElement("td",{className:"text-center"},e.description,a.a.createElement("br",null),e.product),a.a.createElement("td",{className:"text-center"},e.hsn),a.a.createElement("td",{className:"text-center"},e.quantity),a.a.createElement("td",{className:"text-center"},e.unit),a.a.createElement("td",{className:"text-center"},e.rate),a.a.createElement("td",{className:"text-center"},e.amount))}),a.a.createElement("tr",null,a.a.createElement("td",{colspan:"3",className:"text-start"}),a.a.createElement("td",{colspan:"2"},a.a.createElement("strong",{style:Object(u.a)({},hy)},"Taxable Amount"),i.gst>0?a.a.createElement(a.a.Fragment,null,a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},hy)},"GST Amount")):null,i.round_off>0?a.a.createElement(a.a.Fragment,null,a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},hy)},"Round Off")):null,a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},hy)},"Total Amount")),a.a.createElement("td",{colspan:"1",className:"text-right"},a.a.createElement("span",null,i.amount),i.gst>0?a.a.createElement(a.a.Fragment,null,a.a.createElement("br",null),a.a.createElement("span",null,i.gst?i.gst:"-")):null,i.round_off>0?a.a.createElement(a.a.Fragment,null,a.a.createElement("br",null),a.a.createElement("span",{style:Object(u.a)({},hy)},i.round_off)):null,a.a.createElement("br",null),a.a.createElement("strong",{style:Object(u.a)({},hy)},i.round_off_total))))))),a.a.createElement("div",{className:"row mb-4",style:Object(u.a)({},hy,{borderBottom:"1px Solid #000000"})},a.a.createElement("div",{className:"col-md-8 text-right"},a.a.createElement("strong",null,"Amount in Words :-"),"\xa0\xa0",O)),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12 "},a.a.createElement("img",{src:no.a,alt:"",height:"60",width:"100%"})))))))))},hy={fontSize:"0.80rem"};function dy(){dy=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var my=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)([]),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(null),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(0),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(0),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(""),P=Object(l.a)(k,2),C=P[0],D=P[1],N="".concat((new Date).getFullYear(),"-").concat(((new Date).getMonth()+1).toString().padStart(2,"0")),T=Object(n.useState)(N),A=Object(l.a)(T,2),I=A[0],F=A[1],G=Ln(),W=G.handleError,B=G.handleCloseSnackbar,R=G.alertInfo,z=Object(n.useCallback)(function(){var e=Object(c.a)(dy().mark(function e(t){var r,n,a,o=arguments;return dy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:I,n=o.length>2&&void 0!==o[2]?o[2]:C,e.prev=2,f(!0),e.next=6,yo.getAllPurchaseInvoiceData(r,t,n);case 6:a=e.sent,m(a.data.results),O(Math.ceil(a.data.count/25)),f(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),W(e.t0),f(!1),console.error("error",e.t0);case 17:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}(),[I,C]);Object(n.useEffect)(function(){z(L)},[L,z]);var M=function(e){b(e),o(!0)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:R.open,onClose:B,severity:R.severity,message:R.message}),a.a.createElement(Pt,{open:s}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",type:"month",label:"Filter By Month and Year",value:I,onChange:function(e){S(0),F(e.target.value),z(0,e.target.value,C)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(ga,{onSearch:function(e){D(e),S(1)},onReset:function(){D(""),S(0)}})))),a.a.createElement(vt.a,{sx:{marginBottom:2,display:"flex",alignItems:"center"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6}),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement("h3",{style:{textAlign:"left",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Purchase Register")),a.a.createElement(Et.a,{item:!0,xs:12,sm:3}))),a.a.createElement(Bt.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(gy,null,a.a.createElement(yy,{align:"center"}),a.a.createElement(yy,{align:"center"},"GRN NO"),a.a.createElement(yy,{align:"center"},"GRN Date"),a.a.createElement(yy,{align:"center"},"PURCHASE ORDER NO"),a.a.createElement(yy,{align:"center"},"VENDOR"),a.a.createElement(yy,{align:"center"},"INVOICE NO "),a.a.createElement(yy,{align:"center"},"ORDER DATE"),a.a.createElement(yy,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,d.map(function(e,t){return a.a.createElement(vy,{key:t,row:e,getAllPurchaseInvoiceDetails:z,openInPopup:M})}))," ")),a.a.createElement(sy.a,{sx:{display:"flex",justifyContent:"center",marginTop:"2em"}},a.a.createElement(Jn.a,{count:x,onChange:function(e,t){S(t)},color:"primary",variant:"outlined",shape:"circular"})))),a.a.createElement(ut,{fullScreen:!0,title:"Update Purchase Invoice Details",openPopup:r,setOpenPopup:o},a.a.createElement(py,{setOpenPopup:o,getAllPurchaseInvoiceDetails:z,idForEdit:g})))};function vy(e){var t=e.row,r=e.openInPopup,o=Object(n.useState)(!1),i=Object(l.a)(o,2),c=i[0],u=i[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(gy,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(yy,null,a.a.createElement(m.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return u(!c)}},c?a.a.createElement(ho.a,null):a.a.createElement(fo.a,null))),a.a.createElement(yy,{align:"center"},t.grn),a.a.createElement(yy,{align:"center"},t.grn_date),a.a.createElement(yy,{align:"center"},t.po_no),a.a.createElement(yy,{align:"center"},t.supplier_name),a.a.createElement(yy,{align:"center"},t.packing_list_no),a.a.createElement(yy,{align:"center"},t.order_date),a.a.createElement(yy,{align:"center"},a.a.createElement(yt.a,{onClick:function(){r(t.id)},color:"success"},"View"))),a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(Va.a,{in:c,timeout:"auto",unmountOnExit:!0},a.a.createElement(vt.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Rt.a,{size:"small","aria-label":"purchases"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{align:"center"},"SR.NO"),a.a.createElement(Ut.a,{align:"center"},"PRODUCT"),a.a.createElement(Ut.a,{align:"center"},"DESCRIPTION"),a.a.createElement(Ut.a,{align:"center"},"UNIT"),a.a.createElement(Ut.a,{align:"center"},"QUANTITY"),a.a.createElement(Ut.a,{align:"center"},"RATE"),a.a.createElement(Ut.a,{align:"center"},"AMOUNT"))),a.a.createElement(Mt.a,null,t.products_data.map(function(e,t){return a.a.createElement(gy,{key:t},a.a.createElement(yy,{align:"center"},t+1),a.a.createElement(yy,{align:"center"},e.product),a.a.createElement(yy,{align:"center"},e.description),a.a.createElement(yy,{align:"center"},e.unit),a.a.createElement(yy,{align:"center"},e.quantity),a.a.createElement(yy,{align:"center"},e.rate),a.a.createElement(yy,{align:"center"},e.amount))}))))))))}var yy=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),gy=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function by(){by=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ey=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})});function wy(e){var t=e.bomProducts;return a.a.createElement(Et.a,{container:!0,spacing:2,sx:{marginBottom:2}},t.map(function(e,t){return a.a.createElement(q.a,{key:t},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:4,sm:2},a.a.createElement(E.a,{variant:"subtitle2",sx:{fontWeight:"bold"}},"Product:")),a.a.createElement(Et.a,{item:!0,xs:8,sm:4},a.a.createElement(E.a,{variant:"body2",sx:{color:"text.secondary"}},e.product)),a.a.createElement(Et.a,{item:!0,xs:4,sm:2},a.a.createElement(E.a,{variant:"subtitle2",sx:{fontWeight:"bold"}},"Quantity:")),a.a.createElement(Et.a,{item:!0,xs:8,sm:4},a.a.createElement(E.a,{variant:"body2",sx:{color:"text.secondary"}},e.quantity))))}))}var xy=function(e){var t=e.setOpenPopup,r=e.challanNumbers,o=e.getChalanDetails,i=Object(n.useState)({challan:r.challan_no,job_worker:r.job_worker,buyer_account:r.buyer_account,service_charge:"",transport_cost:"",invoice_no:"",products:[{product:"",quantity:"",bom_id:""}]}),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)([]),d=Object(l.a)(h,2),m=d[0],y=d[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Ln(),O=x.handleSuccess,_=x.handleError,j=x.handleCloseSnackbar,L=x.alertInfo;Object(n.useEffect)(function(){(function(){var e=Object(c.a)(by().mark(function e(){var t,r,n,a;return by().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([un.getAllProduct(),yo.getAllBillofMaterialsData("all")]);case 3:t=e.sent,r=Object(l.a)(t,2),n=r[0],a=r[1],w(n.data),y(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching initial data:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}})()()},[]);var S=function(e){var t=e.target,r=t.name,n=t.value;p(function(e){return Object(u.a)({},e,Object(Wt.a)({},r,n))})},k=function(e,t,r){var n=Object(ln.a)(f.products);n[e][t]=r,p(function(e){return Object(u.a)({},e,{products:n})})},P=function(){var e=Object(c.a)(by().mark(function e(t,r){var n,a,o,i;return by().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(n=Object(ln.a)(f.products))[t].bom_id=r,(a=m.find(function(e){return e.bom_id===r}))?(o=a.products_data||[],i=o.map(function(e){return{product:e.product,quantity:e.quantity}}),n[t].bom_products=i,p(function(e){return Object(u.a)({},e,{products:n})})):console.error("Selected BOM not found in bomIdOptions");case 4:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),C=function(){var e=Object(c.a)(by().mark(function e(r){var n,a;return by().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,n=Object(u.a)({},f,{service_charge:parseInt(f.service_charge,10),transport_cost:parseInt(f.transport_cost,10),products:f.products.map(function(e){return{product:e.product,quantity:parseInt(e.quantity,10),bom_id:e.bom_id}})}),e.next=5,yo.createChalanInvoice(n);case 5:a=e.sent,console.log("Invoice Created:",a),o(),O("Chalan Invoice Created Successfully"),t(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),_(e.t0);case 15:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:L.open,onClose:j,severity:L.severity,message:L.message}),a.a.createElement("form",{onSubmit:C},a.a.createElement(Et.a,{container:!0,spacing:2},["challan","job_worker","buyer_account","service_charge","transport_cost","invoice_no"].map(function(e,t){return a.a.createElement(Et.a,{item:!0,xs:12,sm:4,key:t},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:e.replace(/_/g," "),name:e,type:"service_charge"===e||"transport_cost"===e?"number":"text",value:f[e],onChange:S}))}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Ey,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"Product"})))),f.products.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:t},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo-".concat(t),value:e.product,onChange:function(e,r){return k(t,"product",r)},options:E.map(function(e){return e.name}),getOptionLabel:function(e){return e},label:"Product"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Quantity",name:"quantity",type:"number",value:e.quantity,onChange:function(e){return k(t,"quantity",e.target.value)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(yr,{name:"bom_id",size:"small",disablePortal:!0,id:"bom-box-".concat(t),value:e.bom_id,onChange:function(e,r){return P(t,r)},options:m.map(function(e){return e.bom_id}),getOptionLabel:function(e){return e},label:"BOM ID"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},0!==t&&a.a.createElement(yt.a,{disabled:0===t,onClick:function(){return function(e){var t=f.products.filter(function(t,r){return r!==e});p(function(e){return Object(u.a)({},e,{products:t})})}(t)},variant:"contained"},"Remove")),e.bom_products&&e.bom_products.length>0&&a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(vt.a,{sx:{mt:2,mb:1}},a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"BOM Products"}))),a.a.createElement(wy,{bomProducts:e.bom_products})))}),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(yt.a,{onClick:function(){p(function(e){return Object(u.a)({},e,{products:[].concat(Object(ln.a)(e.products),[{product:"",quantity:"",bom_id:""}])})})},variant:"contained",sx:{marginRight:"1em"}},"Add More...")),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yt.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary"},"Create Invoice")))))};function Oy(){Oy=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var _y=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)(1),d=Object(l.a)(h,2),v=d[0],y=d[1],g=Object(n.useState)(0),b=Object(l.a)(g,2),w=b[0],x=b[1],O=Object(n.useState)({}),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(!1),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)([]),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Ln(),F=I.handleError,G=I.handleCloseSnackbar,W=I.alertInfo;Object(n.useEffect)(function(){B(v)},[v]);var B=function(){var e=Object(c.a)(Oy().mark(function e(t){var r,n;return Oy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,yo.getChalan(t);case 4:(r=e.sent)&&r.data.results&&p(r.data.results),n=r.data.count,x(Math.ceil(n/25)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),F(e.t0),console.error("Error fetching Chalan data",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,10,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:W.open,onClose:G,severity:W.severity,message:W.message}),a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{marginBottom:"10px"}),a.a.createElement(vt.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Challan Register"),a.a.createElement("div",null)),a.a.createElement(Bt.a,{sx:{maxHeight:400,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Ly,null,a.a.createElement(jy,{align:"center"},"Toggle"),a.a.createElement(jy,{align:"center"},"Buyer Account"),a.a.createElement(jy,{align:"center"},"Job Worker"),a.a.createElement(jy,{align:"center"},"Challan No"),a.a.createElement(jy,{align:"center"},"Total Amount"),a.a.createElement(jy,{align:"center"},"Transpotation Cost"),a.a.createElement(jy,{align:"center"},"Accepted"),a.a.createElement(jy,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,f.map(function(e){return a.a.createElement(a.a.Fragment,{key:e.id},a.a.createElement(Ly,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(jy,null,a.a.createElement(m.a,{"aria-label":"expand row",size:"small",onClick:function(){return t=e.id,void L(function(e){return Object(u.a)({},e,Object(Wt.a)({},t,!e[t]))});var t}},j[e.id]?a.a.createElement(ho.a,null):a.a.createElement(fo.a,null))),a.a.createElement(jy,{align:"center"},e.buyer_account),a.a.createElement(jy,{align:"center"},e.job_worker),a.a.createElement(jy,{align:"center"},e.challan_no),a.a.createElement(jy,{align:"center"},e.total_amount),a.a.createElement(jy,{align:"center"},e.transpotation_cost),a.a.createElement(jy,{align:"center"},a.a.createElement(Xu.a,{checked:e.is_accepted,inputProps:{"aria-label":"controlled"}})),a.a.createElement(jy,{align:"center"},!e.is_accepted&&a.a.createElement(yt.a,{variant:"text",color:"primary",onClick:function(){return function(e){C(!0),A(e)}(e)}},"Challan Create"))),a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{style:{paddingBottom:0,paddingTop:0},colSpan:8},a.a.createElement(Va.a,{in:j[e.id],timeout:"auto",unmountOnExit:!0},a.a.createElement(vt.a,{margin:1},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Rt.a,{size:"small","aria-label":"products"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,null,"GRN"),a.a.createElement(Ut.a,null,"Product"),a.a.createElement(Ut.a,null,"Unit"),a.a.createElement(Ut.a,null,"Description"),a.a.createElement(Ut.a,null,"Chalan"),a.a.createElement(Ut.a,{align:"right"},"Quantity"),a.a.createElement(Ut.a,{align:"right"},"Rate"),a.a.createElement(Ut.a,{align:"right"},"Amount"))),a.a.createElement(Mt.a,null,e.products.map(function(e){return a.a.createElement(Yt.a,{key:e.product},a.a.createElement(Ut.a,null,e.grn),a.a.createElement(Ut.a,{component:"th",scope:"row"},e.product),a.a.createElement(Ut.a,null,e.unit),a.a.createElement(Ut.a,null,e.description),a.a.createElement(Ut.a,null,e.challan),a.a.createElement(Ut.a,{align:"right"},e.quantity),a.a.createElement(Ut.a,{align:"right"},e.rate),a.a.createElement(Ut.a,{align:"right"},e.amount))}))))))))})))),a.a.createElement(Zn,{currentPage:v,totalPages:w,handlePageChange:function(e,t){y(t)}}),a.a.createElement(ut,{openPopup:P,setOpenPopup:C,title:"Create Challan Invoice",fullScreen:!0},a.a.createElement(xy,{currentPage:v,setOpenPopup:C,challanNumbers:T,getChalanDetails:B})))))},jy=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),Ly=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Sy(){Sy=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ky=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)(1),d=Object(l.a)(h,2),v=d[0],y=d[1],g=Object(n.useState)(0),b=Object(l.a)(g,2),w=b[0],x=b[1],O=Object(n.useState)({}),_=Object(l.a)(O,2),j=_[0],L=_[1];Object(n.useEffect)(function(){S(v)},[v]);var S=function(){var e=Object(c.a)(Sy().mark(function e(t){var r;return Sy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,yo.getChallanInvoice(t);case 4:(r=e.sent)&&r.data.results&&p(r.data.results),x(Math.ceil(r.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching invoice data",e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,9,12,15]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Challan Invoice")),a.a.createElement(Bt.a,{sx:{maxHeight:400,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Cy,null,a.a.createElement(Py,{align:"center"},"Toggle"),a.a.createElement(Py,{align:"center"},"Challan Number"),a.a.createElement(Py,{align:"center"},"Job Worker"),a.a.createElement(Py,{align:"center"},"Buyer Account"),a.a.createElement(Py,{align:"center"},"Invoice No"),a.a.createElement(Py,{align:"center"},"Service Charges"),a.a.createElement(Py,{align:"center"},"Service GST"),a.a.createElement(Py,{align:"center"},"Total Amount"))),a.a.createElement(Mt.a,null,f.map(function(e){return a.a.createElement(a.a.Fragment,{key:e.id},a.a.createElement(Cy,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(Py,null,a.a.createElement(m.a,{"aria-label":"expand row",size:"small",onClick:function(){return t=e.id,void L(function(e){return Object(u.a)({},e,Object(Wt.a)({},t,!e[t]))});var t}},j[e.id]?a.a.createElement(ho.a,null):a.a.createElement(fo.a,null))),a.a.createElement(Py,{align:"center"},e.challan),a.a.createElement(Py,{align:"center"},e.job_worker),a.a.createElement(Py,{align:"center"},e.buyer_account),a.a.createElement(Py,{align:"center"},e.invoice_no),a.a.createElement(Py,{align:"center"},e.service_charge),a.a.createElement(Py,{align:"center"},e.service_gst),a.a.createElement(Py,{align:"center"},e.total_amount)),a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{style:{paddingBottom:0,paddingTop:0},colSpan:8},a.a.createElement(Va.a,{in:j[e.id],timeout:"auto",unmountOnExit:!0},a.a.createElement(vt.a,{margin:1},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Rt.a,{size:"small","aria-label":"products"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,null,"Product"),a.a.createElement(Ut.a,null,"Unit"),a.a.createElement(Ut.a,null,"Description"),a.a.createElement(Ut.a,{align:"right"},"Quantity"),a.a.createElement(Ut.a,{align:"right"},"Rate"),a.a.createElement(Ut.a,{align:"right"},"Amount"))),a.a.createElement(Mt.a,null,e.products.map(function(e){return a.a.createElement(Yt.a,{key:e.product},a.a.createElement(Ut.a,{component:"th",scope:"row"},e.product),a.a.createElement(Ut.a,null,e.unit),a.a.createElement(Ut.a,null,e.description),a.a.createElement(Ut.a,{align:"right"},e.quantity),a.a.createElement(Ut.a,{align:"right"},e.rate),a.a.createElement(Ut.a,{align:"right"},e.amount))}))))))))})))),a.a.createElement(Zn,{currentPage:v,totalPages:w,handlePageChange:function(e,t){y(t)}}))))},Py=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),Cy=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Dy=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=[{label:"Purchase Order Book",roles:["Director","Purchase"],component:a.a.createElement(Qv,null)},{label:"Purchase Invoice",roles:["Director","Accounts","Accounts Executive"],component:a.a.createElement(my,null)},{label:"Purchase Register",roles:["Director","Accounts","Stores Delhi","Production Delhi","Accounts Executive"],component:a.a.createElement(oy,null)},{label:"Challan Register",roles:["Director"],component:a.a.createElement(_y,null)},{label:"Job Work Challan Invoice",roles:["Director"],component:a.a.createElement(ky,null)}].filter(function(t){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}.apply(void 0,Object(ln.a)(t.roles))}),r=Object(n.useState)(0),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(_n,{tabs:t.map(function(e){return{label:e.label,index:e.index}}),activeTab:i,onTabChange:function(e){c(e)}}),t.length>0&&t[i]?a.a.createElement("div",null,t[i].component):null)};function Ny(){Ny=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ty=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getAllMaterialRequisitionFormDetails,o=e.storesInventoryData,i=e.currentPage,u=e.searchQuery,f=Object(n.useMemo)(function(){return o.map(function(e){return{product:e.product__name,unit:e.product__unit,quantity:e.quantity}})},[o]),p=Ln(),h=p.handleSuccess,d=p.handleError,m=p.handleCloseSnackbar,y=p.alertInfo,g=ra([{product:"",unit:"",quantity:""}],f),b=g.handleAutocompleteChange,E=g.handleFormChange,w=g.addFields,x=g.removeFields,O=g.products,_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(null),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(null),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Object(s.c)(function(e){return e.auth}).profile;Object(n.useEffect)(function(){G()},[]);var G=function(){var e=Object(c.a)(Ny().mark(function e(){var t,r;return Ny().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=F.groups.includes("Production Delhi")?"Delhi":"Maharashtra",e.next=4,ea.getfilterSellerAccountData(t);case 4:r=e.sent,I(r.data.results),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),d(e.t0),console.log("err",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(Ny().mark(function e(n){var a;return Ny().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),S(!0),a={seller_account:C,user:F.email,products_data:O},e.next=6,yo.createMaterialRequisitionFormData(a);case 6:h("MRF Created Successfully"),setTimeout(function(){t(!1)},300),r(i,u),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),d(e.t0);case 14:return e.prev=14,S(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:y.open,onClose:m,severity:y.severity,message:y.message}),a.a.createElement(Pt,{open:L}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return W(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{name:"seller_account",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return D(t)},options:A&&A.map(function(e){return e.unit}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Seller Account"})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Ay,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),O.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{key:t,item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",value:e.product||"",onChange:function(e,r){return b(t,e,r)},options:o.map(function(e){return e.product__name}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"unit",size:"small",label:"Unit",variant:"outlined",value:e.unit||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity||"",onChange:function(e){return E(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:1,alignContent:"right"},0!==t&&a.a.createElement(yt.a,{disabled:0===t,onClick:function(){return x(t)},variant:"contained"},"Remove")))}),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(yt.a,{onClick:w,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))}),Ay=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})});function Iy(){Iy=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Fy=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),Gy=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getAllMaterialRequisitionFormDetails,o=e.idForEdit,i=e.storesInventoryData,u=e.currentPage,f=e.searchQuery,p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],y=Object(s.c)(function(e){return e.auth}).profile,g=Object(n.useMemo)(function(){return i.map(function(e){return{product:e.product__name,unit:e.product__unit,quantity:e.quantity}})},[i]),b=Object(n.useMemo)(function(){return o.products_data.map(function(e){return{product:e.product,unit:e.unit,quantity:e.quantity}})},[o]),E=Ln(),w=E.handleSuccess,x=E.handleError,O=E.handleCloseSnackbar,_=E.alertInfo,j=ra(b,g),L=j.handleAutocompleteChange,S=j.handleFormChange,k=j.addFields,P=j.removeFields,C=j.products,D=function(){var e=Object(c.a)(Iy().mark(function e(n){var a;return Iy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),m(!0),a={seller_account:o.seller_account,user:o.user,products_data:C},e.next=6,yo.updateMaterialRequisitionFormData(o.id,a);case 6:w("Material Requisition Form Accepted"),setTimeout(function(){t(!1)},300),r(u,f),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),x(e.t0);case 14:return e.prev=14,m(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:_.open,onClose:O,severity:_.severity,message:_.message}),a.a.createElement(Pt,{open:d}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return D(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Seller Account",variant:"outlined",value:o.seller_account||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"User",variant:"outlined",value:o.user||""})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Fy,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),C.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{key:t,item:!0,xs:12,sm:5},a.a.createElement(yr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",value:e.product||"",onChange:function(e,r){return L(t,e,r)},options:i.map(function(e){return e.product__name}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity||"",onChange:function(e){return S(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2,alignContent:"right"},0!==t&&a.a.createElement(yt.a,{disabled:0===t,onClick:function(){return P(t)},variant:"contained"},"Remove")))}),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(yt.a,{onClick:k,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),!1===o.accepted||y.groups.includes("Accounts")?a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit"):null))});function Wy(){Wy=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var By=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),f=Object(l.a)(i,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)([]),O=Object(l.a)(x,2),_=O[0],j=O[1],L=Object(n.useState)(null),S=Object(l.a)(L,2),k=S[0],P=S[1],C=Object(n.useState)(1),D=Object(l.a)(C,2),N=D[0],T=D[1],A=Object(n.useState)(0),I=Object(l.a)(A,2),F=I[0],G=I[1],W=Object(n.useState)(""),B=Object(l.a)(W,2),R=B[0],z=B[1],M=Object(n.useState)(""),U=Object(l.a)(M,2),Y=U[0],q=U[1],V=Object(n.useState)([]),Q=Object(l.a)(V,2),H=Q[0],K=Q[1],J=Ln(),Z=J.handleSuccess,X=J.handleError,$=J.handleCloseSnackbar,ee=J.alertInfo,te=Object(s.c)(function(e){return e.auth.profile}),re=Object(n.useState)([]),ne=Object(l.a)(re,2),ae=ne[0],oe=ne[1],ie=Object(n.useRef)(null),ce=function(){var e=Object(c.a)(Wy().mark(function e(){var t;return Wy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le();case 3:t=e.sent,oe(t),setTimeout(function(){ie.current.link.click()}),Z("CSV Downloaded Successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(c.a)(Wy().mark(function e(){var t,r;return Wy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,w(!0),!R){e.next=8;break}return e.next=5,yo.getAllMaterialRequisitionFormData("all",R);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,yo.getAllMaterialRequisitionFormData("all");case 10:t=e.sent;case 11:return r=t.data.reduce(function(e,t){var r=t.products_data.map(function(e){return{id:t.id,user:t.user,seller_account:t.seller_account,created_on:t.created_on,product:e.product,quantity:e.quantity,unit:e.unit}});return e.concat(r)},[]),w(!1),console.log("ArrayData",r),e.abrupt("return",r);case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:return e.prev=20,w(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[0,17,20,23]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){ue()},[]);var ue=function(){var e=Object(c.a)(Wy().mark(function e(){var t;return Wy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,yo.getAllConsStoresInventoryData();case 4:t=e.sent,K(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("err",e.t0);case 11:return e.prev=11,w(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),se=Object(n.useCallback)(function(){var e=Object(c.a)(Wy().mark(function e(t){var r,n,a=arguments;return Wy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:R,e.prev=1,w(!0),e.next=5,yo.getAllMaterialRequisitionFormData(t,r);case 5:n=e.sent,j(n.data.results),G(Math.ceil(n.data.count/25)),w(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),X(e.t0),w(!1),console.error("error",e.t0);case 16:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),[R]);Object(n.useEffect)(function(){se(N,R)},[N,R]);var fe=function(){var e=Object(c.a)(Wy().mark(function e(t){var r;return Wy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),r={seller_account:t.seller_account,user:t.user,accepted:!0,products_data:t.products_data},e.next=5,yo.updateMaterialRequisitionFormData(t.id,r);case 5:o(!1),y(!1),se(),Z("Material Requisition Form Accepted"),setTimeout(function(){w(!1)},300),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),X(e.t0),console.log("error Store Accepting",e.t0),w(!1);case 17:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),pe=function(e){q(e),o(!0)},he=function(){var e=Object(c.a)(Wy().mark(function e(t){var r,n,o;return Wy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),r=new wu.a,e.next=5,Object(xu.g)(a.a.createElement(My,{materialRequisitionDataByID:t}),r,{}).toBlob();case 5:n=e.sent,(o=document.createElement("a")).href=URL.createObjectURL(n),o.download="ID Number ".concat(t.id,".pdf"),document.body.appendChild(o),o.click(),document.body.removeChild(o),Z("Material Requisition Form Printed"),w(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),X(e.t0),console.log("error exporting pdf",e.t0);case 20:return e.prev=20,w(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[0,16,20,23]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:ee.open,onClose:$,severity:ee.severity,message:ee.message}),a.a.createElement(Pt,{open:E}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},a.a.createElement(Et.a,{item:!0,xs:12,sm:4,display:"flex",alignItems:"center"},a.a.createElement(ga,{onSearch:function(e){z(e),T(1)},onReset:function(){z(""),T(1)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Material Requisition Form")),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,display:"flex",justifyContent:"flex-end",alignItems:"center",gap:2},(te.groups.includes("Accounts")||te.groups.includes("Director"))&&a.a.createElement(a.a.Fragment,null,a.a.createElement(yt.a,{onClick:ce,variant:"contained"},"Download CSV"),ae.length>0&&a.a.createElement(fa.CSVLink,{data:Object(ln.a)(ae),headers:[{label:"ID",key:"id"},{label:"USER",key:"user"},{label:"SELLER STATE",key:"seller_account"},{label:"DATE",key:"created_on"},{label:"PRODUCT",key:"product"},{label:"UNIT",key:"unit"},{label:"QUANTITY",key:"quantity"}],ref:ie,filename:"Store Inventory.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})),(te.groups.includes("Production")||te.groups.includes("Production Delhi")||te.groups.includes("Director"))&&a.a.createElement(yt.a,{onClick:function(){return h(!0)},variant:"contained",color:"success"},"Add")))),a.a.createElement(Bt.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(qy,null,a.a.createElement(Yy,{align:"center"}),a.a.createElement(Yy,{align:"center"},"ID"),a.a.createElement(Yy,{align:"center"},"USER"),a.a.createElement(Yy,{align:"center"},"SELLER UNIT"),a.a.createElement(Yy,{align:"center"},"DATE"),a.a.createElement(Yy,{align:"center"},"ACCEPTED"),a.a.createElement(Yy,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,_.map(function(e,t){return a.a.createElement(Ry,{key:t,row:e,openInPopup:pe,users:te,setOpenPopup3:y,handlePrint:he,setMaterialRequisitionDataByID:P,updateMaterialRequisitionFormDetails:fe})}))," ")),a.a.createElement(sy.a,{sx:{display:"flex",justifyContent:"center",marginTop:"2em"}},a.a.createElement(Zn,{currentPage:N,totalPages:F,handlePageChange:function(e,t){T(t)}})))),a.a.createElement(ut,{maxWidth:"xl",title:"Create Material Requisition Details",openPopup:p,setOpenPopup:h},a.a.createElement(Ty,{currentPage:N,searchQuery:R,storesInventoryData:H,getAllMaterialRequisitionFormDetails:se,setOpenPopup:h})),a.a.createElement(ut,{maxWidth:"xl",title:"Update Material Requisition Details",openPopup:r,setOpenPopup:o},a.a.createElement(Gy,{currentPage:N,searchQuery:R,setOpenPopup:o,storesInventoryData:H,getAllMaterialRequisitionFormDetails:se,idForEdit:Y})),a.a.createElement(ut,{maxWidth:"xl",title:"View Material Transfer Note",openPopup:v,setOpenPopup:y},null!==k&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("div",{style:zy.container},a.a.createElement("div",{style:Uy.row},a.a.createElement("div",{id:"invoice"},a.a.createElement(xu.b,{style:zy.logo,src:$a.a})),a.a.createElement("div",{style:Object(u.a)({},Uy.cell,{textAlign:"left"})},a.a.createElement("strong",null,"Date")),a.a.createElement("div",{style:Uy.cell},k.created_on)),a.a.createElement("div",{style:Uy.row},a.a.createElement("div",{style:Object(u.a)({},Uy.cell,{textAlign:"left"})},a.a.createElement("strong",null,"User")),a.a.createElement("div",{style:Uy.cell},k.user)),a.a.createElement("div",{style:Uy.row},a.a.createElement("div",{style:Object(u.a)({},Uy.cell,{textAlign:"left"})},a.a.createElement("strong",null,"Seller Unit")),a.a.createElement("div",{style:Uy.cell},k.seller_account)),a.a.createElement("div",{style:Object(u.a)({},Uy.row,Uy.header)},a.a.createElement("div",{style:Uy.cell},"PRODUCT"),a.a.createElement("div",{style:Uy.cell},"UNIT"),a.a.createElement("div",{style:Uy.cell},"QUANTITY")),k&&k.products_data.map(function(e,t){return a.a.createElement("div",{style:Uy.row,key:t},a.a.createElement("div",{style:Uy.cell},e.product),a.a.createElement("div",{style:Uy.cell},e.unit),a.a.createElement("div",{style:Uy.cell},e.quantity))}))),a.a.createElement(yt.a,{onClick:function(){return fe(k)},variant:"contained",color:"success"},"Accept"))))};function Ry(e){var t=e.row,r=e.openInPopup,o=e.users,i=e.setOpenPopup3,c=e.setMaterialRequisitionDataByID,u=e.handlePrint,s=Object(n.useState)(!1),f=Object(l.a)(s,2),p=f[0],h=f[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(qy,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(Yy,null,a.a.createElement(m.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return h(!p)}},p?a.a.createElement(ho.a,null):a.a.createElement(fo.a,null))),a.a.createElement(Yy,{align:"center"},t.id),a.a.createElement(Yy,{align:"center"},t.user),a.a.createElement(Yy,{align:"center"},t.seller_account),a.a.createElement(Yy,{align:"center"},t.created_on),a.a.createElement(Yy,{align:"center"},a.a.createElement(Xu.a,{checked:t.accepted,inputProps:{"aria-label":"controlled"}})),a.a.createElement(Yy,{align:"center"},(o.groups.includes("Accounts")||o.groups.includes("Production")||o.groups.includes("Production Delhi")||o.groups.includes("Director"))&&!1===t.accepted&&a.a.createElement(yt.a,{onClick:function(){return r(t)},color:"success"},"Edit"),a.a.createElement(yt.a,{onClick:function(){u(t),c(t)}},"Download"),(o.groups.includes("Stores")||o.groups.includes("Stores Delhi")||o.groups.includes("Director"))&&!1===t.accepted&&a.a.createElement(yt.a,{onClick:function(){i(!0),c(t)},color:"success"},"View"))),a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(Va.a,{in:p,timeout:"auto",unmountOnExit:!0},a.a.createElement(vt.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Rt.a,{size:"small","aria-label":"purchases"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{align:"center"},"PRODUCT"),a.a.createElement(Ut.a,{align:"center"},"UNIT"),a.a.createElement(Ut.a,{align:"center"},"QUANTITY"))),a.a.createElement(Mt.a,null,t.products_data.map(function(e,t){return a.a.createElement(qy,{key:t},a.a.createElement(Yy,{align:"center"},e.product),a.a.createElement(Yy,{align:"center"},e.unit),a.a.createElement(Yy,{align:"center"},e.quantity))}))))))))}var zy=xu.d.create({container:{border:"1pt solid #ccc"},row:{display:"flex",flexDirection:"row",borderBottom:"1pt solid #ccc",padding:"5pt"},header:{backgroundColor:"#eee",fontWeight:"bold"},cell:{flex:1,flexGrow:1,textAlign:"center",padding:"5pt"},logo:{height:"auto",width:"100pt"},lightText:{color:"#777"}}),My=function(e){var t=e.materialRequisitionDataByID;return a.a.createElement(xu.a,null,a.a.createElement(xu.c,{style:{fontFamily:"Helvetica",fontSize:"12pt"}},a.a.createElement(xu.f,{style:{padding:"20pt"}},a.a.createElement(xu.f,{style:zy.container},a.a.createElement(xu.f,{style:zy.row},a.a.createElement(xu.f,{style:zy.cell},a.a.createElement(xu.b,{style:zy.logo,src:$a.a})),a.a.createElement(xu.f,{style:Object(u.a)({},zy.cell,{justifyContent:"center",alignItems:"flex-start"})},a.a.createElement(xu.e,{style:{fontSize:"18pt",fontWeight:"bold"}},"Material Requisition Form"))),a.a.createElement(xu.f,{style:zy.row},a.a.createElement(xu.f,{style:zy.cell},a.a.createElement(xu.e,null,"Date")),a.a.createElement(xu.f,{style:zy.cell},a.a.createElement(xu.e,{style:zy.lightText},Ur()(t.created_on).format("DD-MM-YYYY")))),a.a.createElement(xu.f,{style:zy.row},a.a.createElement(xu.f,{style:zy.cell},a.a.createElement(xu.e,null,"User")),a.a.createElement(xu.f,{style:zy.cell},a.a.createElement(xu.e,{style:zy.lightText},t.user))),a.a.createElement(xu.f,{style:zy.row},a.a.createElement(xu.f,{style:zy.cell},a.a.createElement(xu.e,null,"Accepted")),a.a.createElement(xu.f,{style:zy.cell},a.a.createElement(xu.e,{style:zy.lightText},t.accepted?"Yes":"No"))),a.a.createElement(xu.f,{style:zy.row},a.a.createElement(xu.f,{style:zy.cell},a.a.createElement(xu.e,null,"Seller Unit")),a.a.createElement(xu.f,{style:zy.cell},a.a.createElement(xu.e,{style:zy.lightText},t.seller_account))),a.a.createElement(xu.f,{style:zy.row},a.a.createElement(xu.f,{style:zy.cell}),a.a.createElement(xu.f,{style:zy.cell})),a.a.createElement(xu.f,{style:Object(u.a)({},zy.row,zy.header)},a.a.createElement(xu.f,{style:zy.cell},a.a.createElement(xu.e,null,"PRODUCT")),a.a.createElement(xu.f,{style:zy.cell},a.a.createElement(xu.e,null,"UNIT")),a.a.createElement(xu.f,{style:zy.cell},a.a.createElement(xu.e,null,"QUANTITY"))),t&&t.products_data.map(function(e,t){return a.a.createElement(xu.f,{style:zy.row,key:t},a.a.createElement(xu.f,{style:zy.cell},a.a.createElement(xu.e,{style:zy.lightText},e.product)),a.a.createElement(xu.f,{style:zy.cell},a.a.createElement(xu.e,{style:zy.lightText},e.unit)),a.a.createElement(xu.f,{style:zy.cell},a.a.createElement(xu.e,{style:zy.lightText},e.quantity)))})))))},Uy={container:{borderCollapse:"collapse",width:"100%",marginBottom:"1rem"},row:{display:"flex",borderBottom:"1px solid #dee2e6"},lastRow:{borderBottom:"none"},header:{fontWeight:"bold",backgroundColor:"#f2f2f2"},cell:{flexBasis:0,flexGrow:1,padding:"0.5rem",textAlign:"center"}},Yy=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),qy=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function Vy(){Vy=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Qy=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),Hy=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.sellerOption,o=e.getAllProductionEntryDetails,i=e.currentPage,f=e.searchQuery,p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],y=Object(n.useState)([]),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(0),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(!1),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(s.c)(function(e){return e.auth}),A=Object(n.useState)(null),I=Object(l.a)(A,2),F=I[0],G=I[1],W=T.profile,B=T.finishgoodsProduct,R=Object(n.useState)([{product:null,quantity:null,expected_quantity:null}]),z=Object(l.a)(R,2),M=z[0],U=z[1],Y=Ln(),q=Y.handleSuccess,V=Y.handleError,Q=Y.handleCloseSnackbar,H=Y.alertInfo,K=function(){var e=Object(c.a)(Vy().mark(function e(t){var r;return Vy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,yo.getAllBillofMaterialsData("all","true",t);case 4:r=e.sent,E(r.data),m(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),m(!1),console.log("err all vendor",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(Vy().mark(function e(r){var n,a;return Vy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.preventDefault(),m(!0),n=D?M.map(function(e){return{product:e.product,quantity:parseFloat(e.quantity)||0,expected_quantity:(parseFloat(e.expected_quantity)*parseFloat(S.quantity)).toFixed(4)}}):M.map(function(e){var t=parseFloat(e.quantity),r=parseFloat(S.quantity)||0;return{product:e.product,quantity:isNaN(t)||isNaN(r)?0:(t*r).toFixed(4),expected_quantity:(parseFloat(e.expected_quantity)*parseFloat(S.quantity)).toFixed(4)}}),a={seller_account:F,user:W.email,bom:O.bom_id,product:O.product,production_gnl:D,quantity:S.quantity,products_data:n},e.next=7,yo.createProductionEntryData(a);case 7:t(!1),o(i,f),q("Production Entry Created Successfully"),setTimeout(function(){m(!1)},300),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),V(e.t0);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:H.open,onClose:Q,severity:H.severity,message:H.message}),a.a.createElement(Pt,{open:d}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return J(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(yr,{name:"seller_account",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return G(t)},options:r&&r.map(function(e){return e.unit}),getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Seller Account"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return K(t)},options:B?B.map(function(e){return e.product}):[],getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"bom",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return function(e){_(e);var t=e.products_data.map(function(e){return{product:e.product,unit:e.unit,quantity:e.quantity,expected_quantity:e.quantity}});U(t)}(t)},options:b,getOptionLabel:function(e){return e.bom_id},sx:{minWidth:300},label:"Bill of Material"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Cr.a,{label:"Gain And Loss",control:a.a.createElement(Xn.a,{checked:D,onChange:function(e){return N(e.target.checked)},inputProps:{"aria-label":"controlled"}})})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:S.quantity,onChange:function(e){return function(e){var t=e.target,r=t.name,n=t.value;k(Object(u.a)({},S,Object(Wt.a)({},r,n)))}(e)}})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Qy,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),M.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{key:t,item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:e.product?e.product:""})),a.a.createElement(Et.a,{key:t,item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit?e.unit:""})),!1===D?a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:S.quantity&&e.quantity?(parseFloat(e.quantity)*parseFloat(S.quantity)).toFixed(4):e.quantity||"",InputLabelProps:{shrink:!0},disabled:!0})):a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",type:"number",value:S.quantity&&e.quantity&&!D?(parseFloat(e.quantity)*parseFloat(S.quantity)).toFixed(4):e.quantity||"",onChange:function(e){return function(e,t){var r=Object(ln.a)(M),n=t.target.value;n=isNaN(n)?0:parseFloat(n),r[e][t.target.name]=n,U(r)}(t,e)}})),D&&a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"expected_quantity",size:"small",label:"Expected Quantity",variant:"outlined",value:S.quantity&&e.expected_quantity?(parseFloat(e.expected_quantity)*parseFloat(S.quantity)).toFixed(4):""})))})),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function Ky(){Ky=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Jy=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)([]),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(1),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(0),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useState)(""),L=Object(l.a)(j,2),S=L[0],k=L[1],P=Object(n.useState)(null),C=Object(l.a)(P,2),D=C[0],N=C[1],T=Object(s.c)(function(e){return e.auth.profile}),A=Object(s.b)(),I=Ln(),F=I.handleError,G=I.handleCloseSnackbar,W=I.alertInfo;Object(n.useEffect)(function(){B(),R()},[]);var B=function(){var e=Object(c.a)(Ky().mark(function e(){var t,r;return Ky().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),t=T.groups.includes("Production Delhi")?"Delhi":"Maharashtra",e.next=5,ea.getfilterSellerAccountData(t);case 5:r=e.sent,N(r.data.results),p(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),F(e.t0);case 13:return e.prev=13,p(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(c.a)(Ky().mark(function e(){var t,r;return Ky().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,un.getAllFinishGoods("all");case 4:t=e.sent,r=t.data.map(function(e){return{product:e.name}}),A(Y(r)),p(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),F(e.t0);case 13:return e.prev=13,p(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){z(b,S)},[b,S]);var z=Object(n.useCallback)(function(){var e=Object(c.a)(Ky().mark(function e(t){var r,n,a=arguments;return Ky().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:S,e.prev=1,p(!0),e.next=5,yo.getAllProductionEntryData(t,r);case 5:n=e.sent,v(n.data.results),_(Math.ceil(n.data.count/25)),p(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),F(e.t0);case 14:return e.prev=14,p(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}));return function(t){return e.apply(this,arguments)}}(),[S]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:W.open,onClose:G,severity:W.severity,message:W.message}),a.a.createElement(Pt,{open:f}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},a.a.createElement(Et.a,{item:!0,xs:12,sm:4,display:"flex",alignItems:"center"},a.a.createElement(ga,{onSearch:function(e){k(e),E(1)},onReset:function(){k(""),E(1)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Production Entry")),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,display:"flex",justifyContent:"flex-end"},a.a.createElement(yt.a,{onClick:function(){return o(!0)},variant:"contained",color:"success"},"Add")))),a.a.createElement(Bt.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement($y,null,a.a.createElement(Xy,{align:"center"}),a.a.createElement(Xy,{align:"center"},"ID"),a.a.createElement(Xy,{align:"center"},"BOMID"),a.a.createElement(Xy,{align:"center"},"SELLER STATE"),a.a.createElement(Xy,{align:"center"},"PRODUCT"),a.a.createElement(Xy,{align:"center"},"QUANTITY"),a.a.createElement(Xy,{align:"center"},"DATE"))),a.a.createElement(Mt.a,null,m.map(function(e,t){return a.a.createElement(Zy,{key:t,row:e})}))," ")),a.a.createElement(sy.a,{sx:{display:"flex",justifyContent:"center",marginTop:"2em"}},a.a.createElement(Zn,{currentPage:b,totalPages:O,handlePageChange:function(e,t){E(t)}})))),a.a.createElement(ut,{fullScreen:!0,title:"Create Production Entry Details",openPopup:r,setOpenPopup:o},a.a.createElement(Hy,{currentPage:b,searchQuery:S,getAllProductionEntryDetails:z,setOpenPopup:o,sellerOption:D})))};function Zy(e){var t=e.row,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement($y,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(Xy,{align:"center"},a.a.createElement(m.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return c(!i)}},i?a.a.createElement(ho.a,null):a.a.createElement(fo.a,null))),a.a.createElement(Xy,{align:"center"},t.id),a.a.createElement(Xy,{align:"center"},t.bom),a.a.createElement(Xy,{align:"center"},t.seller_account),a.a.createElement(Xy,{align:"center"},t.product),a.a.createElement(Xy,{align:"center"},t.quantity),a.a.createElement(Xy,{align:"center"},t.created_on)),a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(Va.a,{in:i,timeout:"auto",unmountOnExit:!0},a.a.createElement(vt.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Rt.a,{size:"small","aria-label":"purchases"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{align:"center"},"PRODUCT"),a.a.createElement(Ut.a,{align:"center"},"UNIT"),a.a.createElement(Ut.a,{align:"center"},"QUANTITY"),a.a.createElement(Ut.a,{align:"center"},"BATCH"))),a.a.createElement(Mt.a,null,t.products_data.map(function(e,t){return a.a.createElement($y,{key:t},a.a.createElement(Xy,{align:"center"},e.product),a.a.createElement(Xy,{align:"center"},e.unit),a.a.createElement(Xy,{align:"center"},e.quantity),a.a.createElement(Xy,{align:"center"},e.batch_no))}))))))))}var Xy=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),$y=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function eg(){eg=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var tg=Object(n.memo)(function(e){var t=e.setOpenCreatePopup,r=e.sellerOption,o=e.getAllMaterialTransferNoteDetails,i=e.currentPage,f=e.searchQuery,p=e.acceptedFilter,h=Object(n.useState)(!1),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)([]),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(s.c)(function(e){return e.auth}).profile,x=Ln(),O=x.handleSuccess,_=x.handleError,j=x.handleCloseSnackbar,L=x.alertInfo,S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],D=function(e,t){var r=Object(Wt.a)({},e,t);if("product"===e){var n=b.find(function(e){return e.product__name===t});n&&(r.product__unit=n.product__unit)}C(function(e){return Object(u.a)({},e,r)})};Object(n.useEffect)(function(){N()},[]);var N=function(){var e=Object(c.a)(eg().mark(function e(){var t;return eg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,yo.getAllConsProductionInventoryData();case 4:(t=e.sent)&&t.data&&E(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),_(e.t0),console.error("error potential",e.t0);case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,8,12,15]])}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(c.a)(eg().mark(function e(r){var n;return eg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),v(!0),n={seller_account:P.seller_account,user:w.email,product:P.product,quantity:P.quantity},e.prev=3,e.next=6,yo.createMaterialTransferNoteData(n);case 6:O("Material Transfer Note created successfully"),setTimeout(function(){t(!1)},300),o(i,f,p),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),_(e.t0);case 14:return e.prev=14,v(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[3,11,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:L.open,onClose:j,severity:L.severity,message:L.message}),a.a.createElement(Pt,{open:m}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return T(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(yr,{size:"small",disablePortal:!0,id:"seller-account-combo-box",onChange:function(e,t){return D("seller_account",t)},options:r.map(function(e){return e.unit}),getOptionLabel:function(e){return e},sx:{minWidth:120},label:"Seller Account"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:6},a.a.createElement(yr,{size:"small",disablePortal:!0,id:"product-name-combo-box",onChange:function(e,t){return D("product",t)},options:b.map(function(e){return e.product__name}),getOptionLabel:function(e){return e},sx:{minWidth:120},label:"Product Name"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:3},a.a.createElement(Lt,{fullWidth:!0,name:"unit",size:"small",label:"Unit",variant:"outlined",value:P.product__unit||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:P.quantity||"",onChange:function(e){var t=e.target,r=t.name,n=t.value;C(Object(u.a)({},P,Object(Wt.a)({},r,n)))}}))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))}),rg=function(e){var t=e.materialTransferNoteByID;return a.a.createElement(xu.a,null,a.a.createElement(xu.c,{style:{fontFamily:"Helvetica",fontSize:"12pt"}},a.a.createElement(xu.f,{style:{padding:"20pt"}},a.a.createElement(xu.f,{style:ng.container},a.a.createElement(xu.f,{style:ng.row},a.a.createElement(xu.f,{style:ng.cell},a.a.createElement(xu.b,{style:ng.logo,src:$a.a})),a.a.createElement(xu.f,{style:Object(u.a)({},ng.cell,{justifyContent:"center",alignItems:"flex-start"})},a.a.createElement(xu.e,{style:{fontSize:"18pt",fontWeight:"bold"}},"Material Transfer Note"))),a.a.createElement(xu.f,{style:ng.row},a.a.createElement(xu.f,{style:ng.cell},a.a.createElement(xu.e,null,"Date")),a.a.createElement(xu.f,{style:ng.cell},a.a.createElement(xu.e,{style:ng.lightText},Ur()(t.created_on).format("DD-MM-YYYY")))),a.a.createElement(xu.f,{style:ng.row},a.a.createElement(xu.f,{style:ng.cell},a.a.createElement(xu.e,null,"User")),a.a.createElement(xu.f,{style:ng.cell},a.a.createElement(xu.e,{style:ng.lightText},t.user))),a.a.createElement(xu.f,{style:ng.row},a.a.createElement(xu.f,{style:ng.cell},a.a.createElement(xu.e,null,"Accepted")),a.a.createElement(xu.f,{style:ng.cell},a.a.createElement(xu.e,{style:ng.lightText},t.accepted?"Yes":"No"))),a.a.createElement(xu.f,{style:ng.row},a.a.createElement(xu.f,{style:ng.cell},a.a.createElement(xu.e,null,"Seller Unit")),a.a.createElement(xu.f,{style:ng.cell},a.a.createElement(xu.e,{style:ng.lightText},t.seller_account))),a.a.createElement(xu.f,{style:ng.row},a.a.createElement(xu.f,{style:ng.cell}),a.a.createElement(xu.f,{style:ng.cell})),a.a.createElement(xu.f,{style:Object(u.a)({},ng.row,ng.header)},a.a.createElement(xu.f,{style:ng.cell},a.a.createElement(xu.e,null,"PRODUCT")),a.a.createElement(xu.f,{style:ng.cell},a.a.createElement(xu.e,null,"UNIT")),a.a.createElement(xu.f,{style:ng.cell},a.a.createElement(xu.e,null,"QUANTITY"))),a.a.createElement(xu.f,{style:ng.row},a.a.createElement(xu.f,{style:ng.cell},a.a.createElement(xu.e,{style:ng.lightText},t.product)),a.a.createElement(xu.f,{style:ng.cell},a.a.createElement(xu.e,{style:ng.lightText},t.unit)),a.a.createElement(xu.f,{style:ng.cell},a.a.createElement(xu.e,{style:ng.lightText},t.quantity)))))))},ng=xu.d.create({container:{border:"1pt solid #ccc"},row:{display:"flex",flexDirection:"row",borderBottom:"1pt solid #ccc",padding:"5pt"},header:{backgroundColor:"#eee",fontWeight:"bold"},cell:{flex:1,flexGrow:1,textAlign:"center",padding:"5pt"},logo:{height:"auto",width:"100pt"},lightText:{color:"#777"}});function ag(){ag=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var og=Object(n.memo)(function(e){var t=e.materialTransferNoteByID,r=e.setOpenAcceptPopup,o=e.getAllMaterialTransferNoteDetails,i=e.currentPage,u=Object(n.useState)(!1),s=Object(l.a)(u,2),f=s[0],p=s[1],h=Ln(),d=h.handleSuccess,m=h.handleError,v=h.handleCloseSnackbar,y=h.alertInfo,g=function(){var e=Object(c.a)(ag().mark(function e(t){var n,a;return ag().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("data",t),p(!0),n={seller_account:t.seller_account,user:t.user,accepted:!0,product:t.product,quantity:t.quantity},e.next=6,yo.updateMaterialTransferNoteData(t.id,n);case 6:a=e.sent,d(a.data||"Accepted successfully"),setTimeout(function(){r(!1),o(i)},300),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),m(e.t0),console.log("Material Transfer Note error",e.t0);case 15:return e.prev=15,p(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,11,15,18]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:y.open,onClose:v,severity:y.severity,message:y.message}),a.a.createElement(Pt,{open:f}),a.a.createElement("div",{className:"my-4"},a.a.createElement("table",{className:"table table-bordered"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"Date")),a.a.createElement("td",null,t.created_on)),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"Seller Unit")),a.a.createElement("td",null,t.seller_account)),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"Product")),a.a.createElement("td",null,t.product)),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"Quantity")),a.a.createElement("td",null,t.quantity)),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"User")),a.a.createElement("td",null,t.user)),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,"Unit")),a.a.createElement("td",null,t.unit)))),a.a.createElement("div",{className:"btn btn-success",style:{display:"inline-block",padding:"6px 16px",margin:"10px",fontSize:"0.875rem",minWidth:"64px",fontWeight:500,lineHeight:1.75,borderRadius:"4px",letterSpacing:"0.02857em",textTransform:"uppercase",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2)"},onClick:function(){return g(t)}},"Accept")))});function ig(){ig=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var cg=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),v=d[0],y=d[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(1),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)(0),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Object(n.useState)(""),F=Object(l.a)(I,2),G=F[0],W=F[1],B=Object(n.useState)(""),R=Object(l.a)(B,2),z=R[0],M=R[1],U=Object(n.useState)(null),Y=Object(l.a)(U,2),q=Y[0],V=Y[1],Q=Object(s.c)(function(e){return e.auth.profile}),H=Object(n.useState)([]),K=Object(l.a)(H,2),J=K[0],Z=K[1],X=Object(n.useRef)(null),$=Ln(),ee=$.handleSuccess,te=$.handleError,re=$.handleCloseSnackbar,ne=$.alertInfo,ae=function(){var e=Object(c.a)(ig().mark(function e(){var t;return ig().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe();case 3:t=e.sent,Z(t),setTimeout(function(){X.current.link.click()}),ee("CSV file downloaded successfully"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),te(e.t0),console.log("CSVLink Download error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(c.a)(ig().mark(function e(){var t,r;return ig().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,yo.getAllMaterialTransferNoteData("all",z,G);case 4:return t=e.sent,r=t.data.map(function(e){return{user:e.user,seller_account:e.seller_account,date:e.created_on,product:e.product,unit:e.unit,quantity:e.quantity,accepted:e.accepted}}),y(!1),ee("Exported successfully"),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),te(e.t0);case 14:return e.prev=14,y(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(c.a)(ig().mark(function e(t){var r,n,o;return ig().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),r=new wu.a,e.next=5,Object(xu.g)(a.a.createElement(rg,{materialTransferNoteByID:t}),r,{}).toBlob();case 5:n=e.sent,(o=document.createElement("a")).href=URL.createObjectURL(n),o.download="ID Number ".concat(t.id,".pdf"),document.body.appendChild(o),o.click(),document.body.removeChild(o),ee("Exported successfully"),y(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),te(e.t0),console.log("error exporting pdf",e.t0);case 20:return e.prev=20,y(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[0,16,20,23]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){ce()},[]);var ce=function(){var e=Object(c.a)(ig().mark(function e(){var t,r;return ig().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),t=Q.groups.includes("Production Delhi")?"Delhi":"Maharashtra",e.next=5,ea.getfilterSellerAccountData(t);case 5:r=e.sent,V(r.data.results),y(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),te(e.t0);case 13:return e.prev=13,y(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),le=Object(n.useCallback)(function(){var e=Object(c.a)(ig().mark(function e(t){var r,n,a,o=arguments;return ig().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:z,n=o.length>2&&void 0!==o[2]?o[2]:G,e.prev=2,y(!0),e.next=6,yo.getAllMaterialTransferNoteData(t,r,n);case 6:a=e.sent,w(a.data.results),A(Math.ceil(a.data.count/25)),y(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),te(e.t0);case 15:return e.prev=15,y(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[z,G]);Object(n.useEffect)(function(){le(P)},[P,G,le]);var ue=Q.groups.includes("Director")||Q.groups.includes("Stores")||Q.groups.includes("Stores Delhi");return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:ne.open,onClose:re,severity:ne.severity,message:ne.message}),a.a.createElement(Pt,{open:v}),a.a.createElement("div",{style:{padding:"16px",margin:"16px",boxShadow:"0px 3px 6px #00000029",borderRadius:"4px",display:"flex",flexDirection:"column",backgroundColor:"rgb(255, 255, 255)"}},a.a.createElement(vt.a,{sx:{marginBottom:2}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,display:"flex",alignItems:"center"},a.a.createElement(tr.a,{fullWidth:!0,size:"small",sx:{marginRight:2}},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Filter By Accepted"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"status",label:"Filter By Accepted",value:z,onChange:function(e){var t=e.target.value;M(t),le(P,t,G)}},lg.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})),z&&a.a.createElement(m.a,{size:"small",onClick:function(){M(""),le(1,"",G)},sx:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)"}},a.a.createElement(ya.a,null))),a.a.createElement(ga,{onSearch:function(e){W(e),C(1)},onReset:function(){W(""),C(1)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Material Transfer Note")),a.a.createElement(Et.a,{item:!0,xs:12,sm:3,display:"flex",justifyContent:"flex-end",alignItems:"center",gap:2},(Q.groups.includes("Production")||Q.groups.includes("Director")||Q.groups.includes("Production Delhi"))&&a.a.createElement(yt.a,{variant:"contained",onClick:function(){return o(!0)}},"Add"),a.a.createElement(yt.a,{variant:"contained",onClick:ae},"Download CSV"),J.length>0&&a.a.createElement(fa.CSVLink,{data:J,headers:[{label:"USER",key:"user"},{label:"SELLER UNIT",key:"seller_account"},{label:"DATE",key:"date"},{label:"PRODUCT",key:"product"},{label:"UNIT",key:"unit"},{label:"QUANTITY",key:"quantity"},{label:"ACCEPTED",key:"accepted"}],ref:X,filename:"Material Transfer Note.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})))),a.a.createElement(Bt.a,{sx:{maxHeight:400,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(sg,null,a.a.createElement(ug,{align:"center"},"User"),a.a.createElement(ug,{align:"center"},"Seller Account"),a.a.createElement(ug,{align:"center"},"Product"),a.a.createElement(ug,{align:"center"},"Unit"),a.a.createElement(ug,{align:"center"},"Quantity"),a.a.createElement(ug,{align:"center"},"Date"),a.a.createElement(ug,{align:"center"},"Accepted"),a.a.createElement(ug,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,E.map(function(e){return a.a.createElement(a.a.Fragment,{key:e.id},a.a.createElement(sg,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(ug,{align:"center"},e.user),a.a.createElement(ug,{align:"center"},e.seller_account),a.a.createElement(ug,{align:"center"},e.product),a.a.createElement(ug,{align:"center"},e.unit),a.a.createElement(ug,{align:"center"},e.quantity),a.a.createElement(ug,{align:"center"},e.created_on),a.a.createElement(ug,{align:"center"},a.a.createElement(Xu.a,{checked:e.accepted,inputProps:{"aria-label":"controlled"}})),a.a.createElement(ug,{align:"center"},ue&&!1===e.accepted&&a.a.createElement(yt.a,{color:"success",onClick:function(){return t=e,p(!0),void L(t);var t}},"Accept"),a.a.createElement(yt.a,{color:"primary",onClick:function(){return ie(t=e),void L(t);var t}},"Downlaod"))))})))),a.a.createElement(Zn,{currentPage:P,totalPages:T,handlePageChange:function(e,t){C(t)}})),a.a.createElement(ut,{maxWidth:"xl",title:"Create Material Transfer Note",openPopup:r,setOpenPopup:o},a.a.createElement(tg,{currentPage:P,searchQuery:G,acceptedFilter:z,getAllMaterialTransferNoteDetails:le,setOpenCreatePopup:o,sellerOption:q})),a.a.createElement(ut,{maxWidth:"xl",title:"View Material Transfer Note",openPopup:f,setOpenPopup:p},a.a.createElement(og,{currentPage:P,materialTransferNoteByID:j,setOpenAcceptPopup:p,getAllMaterialTransferNoteDetails:le})))},lg=[{label:"Accepted",value:"true"},{label:"Not Accepted",value:"false"}],ug=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),sg=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function fg(){fg=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var pg=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),hg=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getAllBillofMaterialsDetails,o=e.currentPage,i=e.searchQuery,f=e.filterApproved,p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],y=Object(n.useState)([]),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(s.c)(function(e){return e.auth}),x=w.finishgoodsProduct,O=w.consumableProduct,_=w.rawMaterialProduct,j=[].concat(Object(ln.a)(O||[]),Object(ln.a)(_||[])),L=Object(n.useMemo)(function(){return j.map(function(e){return{product:e.product,unit:e.unit,quantity:e.quantity}})},[j]),S=Ln(),k=S.handleSuccess,P=S.handleError,C=S.handleCloseSnackbar,D=S.alertInfo,N=ra([{product:"",unit:"",quantity:""}],L),T=N.handleAutocompleteChange,A=N.handleFormChange,I=N.addFields,F=N.removeFields,G=N.products,W=function(e,t){E(Object(u.a)({},b,Object(Wt.a)({},e,t)))},B=function(){var e=Object(c.a)(fg().mark(function e(n){var a;return fg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),m(!0),a={product:b.product,bom_type:b.bom_type,products_data:G},e.next=6,yo.createBillofMaterialsData(a);case 6:k("BOM Created Successfully"),setTimeout(function(){t(!1)},300),r(o,i,f),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),P(e.t0);case 14:return e.prev=14,m(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:D.open,onClose:C,severity:D.severity,message:D.message}),a.a.createElement(Pt,{open:d}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return B(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return W("product",t)},options:x?x.map(function(e){return e.product}):[],getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(yr,{size:"small",disablePortal:!0,id:"combo-box-demo",onChange:function(e,t){return W("bom_type",t)},options:dg,getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Bom Type"})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(pg,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),G.map(function(e,t){return console.log("input",e),a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{key:t,item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",value:e.product||"",onChange:function(e,r){return T(t,e,r)},options:j?j.map(function(e){return e.product}):[],getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"unit",size:"small",label:"Unit",variant:"outlined",value:e.unit||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity||"",onChange:function(e){return A(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:1,alignContent:"right"},0!==t&&a.a.createElement(yt.a,{disabled:0===t,onClick:function(){return F(t)},variant:"contained"},"Remove")))}),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(yt.a,{onClick:I,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))}),dg=["production","job_worker"];function mg(){mg=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var vg=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),yg=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.getAllBillofMaterialsDetails,o=e.idForEdit,i=e.currentPage,u=e.searchQuery,f=e.filterApproved,p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],y=Object(s.c)(function(e){return e.auth}),g=y.consumableProduct,b=y.rawMaterialProduct,E=Object(n.useMemo)(function(){return[].concat(Object(ln.a)(g||[]),Object(ln.a)(b||[]))},[g,b]),w=Object(n.useMemo)(function(){return E.map(function(e){return{product:e.product,unit:e.unit,quantity:e.quantity}})},[E]),x=Object(n.useMemo)(function(){return o.products_data.map(function(e){return{product:e.product,unit:e.unit,quantity:e.quantity}})},[o]),O=Ln(),_=O.handleSuccess,j=O.handleError,L=O.handleCloseSnackbar,S=O.alertInfo,k=ra(x,w),P=k.handleAutocompleteChange,C=k.handleFormChange,D=k.addFields,N=k.removeFields,T=k.products,A=function(){var e=Object(c.a)(mg().mark(function e(n){var a;return mg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),m(!0),a={product:o.product,approved:o.approved,products_data:T},e.next=6,yo.updateBillofMaterialsData(o.id,a);case 6:_("BOM Updated Successfully"),setTimeout(function(){t(!1)},300),r(i,u,f),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),j(e.t0);case 14:return e.prev=14,m(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:S.open,onClose:L,severity:S.severity,message:S.message}),a.a.createElement(Pt,{open:d}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return A(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:o.product||""})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(vg,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),T.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{key:t,item:!0,xs:12,sm:4},a.a.createElement(yr,{name:"product",size:"small",disablePortal:!0,id:"combo-box-demo",value:e.product||"",onChange:function(e,r){return P(t,e,r)},options:E?E.map(function(e){return e.product}):[],getOptionLabel:function(e){return e},sx:{minWidth:300},label:"Product Name"})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"unit",size:"small",label:"Unit",variant:"outlined",value:e.unit||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,name:"quantity",size:"small",label:"Quantity",variant:"outlined",value:e.quantity||"",onChange:function(e){return C(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:1,alignContent:"right"},0!==t&&a.a.createElement(yt.a,{disabled:0===t,onClick:function(){return N(t)},variant:"contained"},"Remove")))}),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,alignContent:"right"},a.a.createElement(yt.a,{onClick:D,variant:"contained",sx:{marginRight:"1em"}},"Add More..."))),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function gg(){gg=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var bg=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),v=d[0],y=d[1],g=Object(n.useState)([]),b=Object(l.a)(g,2),E=b[0],w=b[1],O=Object(n.useState)(1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(0),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)(""),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Object(n.useState)(""),F=Object(l.a)(I,2),G=F[0],W=F[1],B=Object(s.b)(),R=Object(n.useState)(null),z=Object(l.a)(R,2),M=z[0],U=z[1],q=Object(s.c)(function(e){return e.auth.profile}),V=Ln(),Q=V.handleSuccess,H=V.handleError,K=V.handleCloseSnackbar,J=V.alertInfo;Object(n.useEffect)(function(){Z(),X(),$()},[]);var Z=function(){var e=Object(c.a)(gg().mark(function e(){var t,r;return gg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,un.getAllFinishGoods("all");case 4:t=e.sent,r=t.data.map(function(e){return{product:e.name,unit:e.unit}}),B(Y(r)),y(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),H(e.t0),y(!1),console.log("err",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(gg().mark(function e(){var t,r;return gg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,un.getAllRawMaterials("all");case 4:t=e.sent,console.log("raw material",t.data),r=t.data.map(function(e){return{product:e.name,unit:e.unit}}),B({type:"RAWMATERIAL_PRODUCT",payload:r}),y(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),H(e.t0),y(!1),console.log("err",e.t0);case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(c.a)(gg().mark(function e(){var t,r;return gg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,un.getAllConsumable("all");case 4:t=e.sent,console.log("consumable",t.data),r=t.data.map(function(e){return{product:e.name,unit:e.unit}}),B({type:"CONSUMABLE_PRODUCT",payload:r}),y(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),H(e.t0),y(!1),console.log("err",e.t0);case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){ee(j)},[j,T]);var ee=Object(n.useCallback)(function(){var e=Object(c.a)(gg().mark(function e(t){var r,n,a,o=arguments;return gg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:M,n=o.length>2&&void 0!==o[2]?o[2]:T,e.prev=2,y(!0),e.next=6,yo.getAllBillofMaterialsData(t,r,n);case 6:a=e.sent,w(a.data.results),C(Math.ceil(a.data.count/25)),y(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),H(e.t0),y(!1),console.error("error",e.t0);case 17:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}(),[M,T]),te=function(){var e=Object(c.a)(gg().mark(function e(t){var r;return gg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),r={approved:!0,product:t.product},e.next=5,yo.updateBillofMaterialsData(t.id,r);case 5:Q("BOM Accepted Successfully"),setTimeout(function(){o(!1)},300),ee(j,M,T),y(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),H(e.t0),console.log("error Store Accepting",e.t0),y(!1);case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),re=function(e){W(e),o(!0)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:J.open,onClose:K,severity:J.severity,message:J.message}),a.a.createElement(Pt,{open:v}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4,display:"flex",alignItems:"center"},a.a.createElement(tr.a,{fullWidth:!0,size:"small",sx:{marginRight:2}},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Filter By Approved"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"status",label:"Filter By Approved",value:M,onChange:function(e){var t=e.target.value;U(t),ee(j,t,T)}},wg.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.label)})),M&&a.a.createElement(m.a,{size:"small",onClick:function(){U(""),ee(1,!1,T)},sx:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)"}},a.a.createElement(nt.a,null))),a.a.createElement(ga,{onSearch:function(e){A(e),L(1)},onReset:function(){A(""),L(1)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Bill of Materials")),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4,display:"flex",justifyContent:"flex-end"},a.a.createElement(yt.a,{onClick:function(){return p(!0)},variant:"contained",color:"success"},"Add")))),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Og,null,a.a.createElement(xg,{align:"center"}),a.a.createElement(xg,{align:"center"},"ID"),a.a.createElement(xg,{align:"center"},"BOM TYPE"),a.a.createElement(xg,{align:"center"},"PRODUCT"),a.a.createElement(xg,{align:"center"},"QUANTITY"),a.a.createElement(xg,{align:"center"},"DATE"),a.a.createElement(xg,{align:"center"},"APPROVED"),a.a.createElement(xg,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,E.map(function(e,t){return a.a.createElement(Eg,{key:t,row:e,openInPopup:re,users:q,updateBillofMaterialsDetails:te})}))," ")),a.a.createElement(sy.a,{sx:{display:"flex",justifyContent:"center",marginTop:"2em"}},a.a.createElement(Zn,{currentPage:j,totalPages:P,handlePageChange:function(e,t){L(t)}})))),a.a.createElement(ut,{fullScreen:!0,title:"Create Bill of Materials Details",openPopup:f,setOpenPopup:p},a.a.createElement(hg,{currentPage:j,filterApproved:M,searchQuery:T,getAllBillofMaterialsDetails:ee,setOpenPopup:p})),a.a.createElement(ut,{fullScreen:!0,title:"Update Bill of Materials Details",openPopup:r,setOpenPopup:o},a.a.createElement(yg,{currentPage:j,filterApproved:M,searchQuery:T,setOpenPopup:o,getAllBillofMaterialsDetails:ee,idForEdit:G})))};function Eg(e){var t=e.row,r=e.openInPopup,o=e.users,i=e.updateBillofMaterialsDetails,c=Object(n.useState)(!1),u=Object(l.a)(c,2),s=u[0],f=u[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Og,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(xg,{align:"center"},a.a.createElement(m.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return f(!s)}},s?a.a.createElement(ho.a,null):a.a.createElement(fo.a,null))),a.a.createElement(xg,{align:"center"},t.bom_id),a.a.createElement(xg,{align:"center"},t.bom_type),a.a.createElement(xg,{align:"center"},t.product),a.a.createElement(xg,{align:"center"},t.quantity),a.a.createElement(xg,{align:"center"},t.created_on),a.a.createElement(xg,{align:"center"},a.a.createElement(Xu.a,{checked:t.approved,inputProps:{"aria-label":"controlled"}})),a.a.createElement(xg,{align:"center"},(o.groups.includes("Accounts")||o.groups.includes("Director"))&&!1===t.approved?a.a.createElement(yt.a,{onClick:function(){return i(t)},color:"success"},"Accept"):null,(o.groups.includes("Production")||o.groups.includes("Director"))&&!1===t.approved?a.a.createElement(yt.a,{onClick:function(){return r(t)}},"Edit"):null)),a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(Va.a,{in:s,timeout:"auto",unmountOnExit:!0},a.a.createElement(vt.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Rt.a,{size:"small","aria-label":"purchases"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{align:"center"},"SR.NO"),a.a.createElement(Ut.a,{align:"center"},"PRODUCT"),a.a.createElement(Ut.a,{align:"center"},"UNIT"),a.a.createElement(Ut.a,{align:"center"},"QUANTITY"))),a.a.createElement(Mt.a,null,t.products_data.map(function(e,t){return a.a.createElement(Og,{key:t},a.a.createElement(xg,{align:"center"},t+1),a.a.createElement(xg,{align:"center"},e.product),a.a.createElement(xg,{align:"center"},e.unit),a.a.createElement(xg,{align:"center"},e.quantity))}))))))))}var wg=[{label:"approved",value:"true"},{label:"Not approved",value:"false"}],xg=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),Og=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function _g(){_g=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var jg=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(0),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useRef)(null),P=Ln(),C=P.handleSuccess,D=P.handleError,N=P.handleCloseSnackbar,T=P.alertInfo,A=function(){var e=Object(c.a)(_g().mark(function e(){var t;return _g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I();case 3:t=e.sent,S(t),setTimeout(function(){k.current.link.click()}),C("CSV Downloaded Successfully"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),D(e.t0),console.log("CSVLink Download error",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(c.a)(_g().mark(function e(){var t,r;return _g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o(!0),!x){e.next=8;break}return e.next=5,yo.getProductionGAndLInventoryPaginateData("all",x);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,yo.getProductionGAndLInventoryPaginateData("all");case 10:t=e.sent;case 11:return r=t.data.map(function(e){return{seller_account:e.seller_account,production_entry:e.production_entry,product:e.product,gnl:e.gnl,date:e.created_on,unit:e.unit,expected_quantity:e.expected_quantity,actual_quantity:e.actual_quantity}}),o(!1),e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(0),D(e.t0);case 19:return e.prev=19,o(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])}));return function(){return e.apply(this,arguments)}}(),F=Object(n.useCallback)(function(){var e=Object(c.a)(_g().mark(function e(t){var r,n,a=arguments;return _g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:x,e.prev=1,o(!0),e.next=5,yo.getAllProductionGAndLInventoryData(t,r);case 5:n=e.sent,f(n.data.results),b(Math.ceil(n.data.count/25)),o(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),D(e.t0),o(!1),console.error("error",e.t0);case 16:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),[x]);Object(n.useEffect)(function(){F(d)},[d,x,F]);var G=s.map(function(e,t){return{seller_account:e.seller_account,production_entry:e.production_entry,product:e.product,gnl:e.gnl,date:e.created_on,unit:e.unit,expected_quantity:e.expected_quantity,actual_quantity:e.actual_quantity}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:T.open,onClose:N,severity:T.severity,message:T.message}),a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},a.a.createElement(Et.a,{item:!0,xs:12,sm:4,display:"flex",alignItems:"center"},a.a.createElement(ga,{onSearch:function(e){O(e),m(1)},onReset:function(){O(""),m(1)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Production Gain And Loss")),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,display:"flex",justifyContent:"flex-end",alignItems:"center",gap:2},a.a.createElement(yt.a,{onClick:A,variant:"contained"},"Download CSV"),L.length>0&&a.a.createElement(fa.CSVLink,{data:Object(ln.a)(L),headers:[{label:"SELLER ACCOUNT",key:"seller_account"},{label:"PRODUCTION ENTRY",key:"production_entry"},{label:"PRODUCT",key:"product"},{label:"GAIN/LOSS",key:"gnl"},{label:"DATE",key:"date"},{label:"UNIT",key:"unit"},{label:"EXPECTED QUANTITY",key:"expected_quantity"},{label:"ACTUAL QUANTITY",key:"actual_quantity"}],ref:k,filename:"Store Inventory.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})))),a.a.createElement(Cn,{headers:["SELLER ACCOUNT","PRODUCTION ENTRY","PRODUCT","GAIN/LOSS","DATE","UNIT","EXPECTED QUANTITY","ACTUAL QUANTITY"],data:G,openInPopup:null,openInPopup2:null}),a.a.createElement(Zn,{currentPage:d,totalPages:g,handlePageChange:function(e,t){m(t)}}))))};function Lg(){Lg=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Sg=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(""),h=Object(l.a)(p,2),d=h[0],v=h[1],y=Ln(),g=y.handleError,b=y.handleCloseSnackbar,E=y.alertInfo;Object(n.useEffect)(function(){w()},[]);var w=function(){var e=Object(c.a)(Lg().mark(function e(){var t;return Lg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,yo.getAllProductionShortFallData();case 4:t=e.sent,f(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g(e.t0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),x=s.filter(function(e){return e.product.toLowerCase().includes(d.toLowerCase())});s.forEach(function(e){e.type=e.type.split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")});var O=s.map(function(e){return{state:e.state,type:e.type,product:e.product,description:e.description,quantity:e.quantity,unit:e.unit}}),_=x.map(function(e){return{seller_account:e.state,type:e.type,product:e.product,description:e.description,quantity:e.quantity,unit:e.unit}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:E.open,onClose:b,severity:E.severity,message:E.message}),a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:.9}," ",a.a.createElement(Lt,{label:"Search By Product",variant:"outlined",size:"small",value:d,onChange:function(e){v(e.target.value)},InputProps:{endAdornment:a.a.createElement(ha.a,{position:"end"},d&&a.a.createElement(m.a,{onClick:function(){v("")}},a.a.createElement(ya.a,null)))},sx:{mb:2}})),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Shortfall Inventory")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"},a.a.createElement(fa.CSVLink,{data:O,headers:kg,filename:"my-file.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}},a.a.createElement(yt.a,{color:"success",variant:"contained"},"Export to Excel")))),a.a.createElement(Cn,{headers:["STATE","TYPE","PRODUCT","DESCRIPTION","QUANTITY","UNIT"],data:_}))))},kg=[{label:"State",key:"state"},{label:"Type",key:"type"},{label:"Product",key:"product"},{label:"Description",key:"description"},{label:"Quantity",key:"quantity"},{label:"Unit",key:"unit"}];function Pg(){Pg=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Cg=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(0),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)([]),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)([]),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(new Date),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Object(n.useState)(new Date),T=Object(l.a)(N,2),A=T[0],I=T[1],F=(new Date).toISOString().split("T")[0],G=new Date("2030-12-31").toISOString().split("T")[0],W=Object(n.useRef)(null),B=Ln(),R=B.handleError,z=B.handleCloseSnackbar,M=B.alertInfo,U=function(){var e=Object(c.a)(Pg().mark(function e(){var t,r;return Pg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,yo.getAllDailyProductionReport(A.toISOString().split("T")[0],C.toISOString().split("T")[0],"all",x);case 4:t=e.sent,r=t.data.map(function(e){return{created_on:e.created_on,seller_account:e.seller_account,bom:e.bom,product:e.product,description:e.description,brand:e.brand,unit:e.unit,quantity:e.quantity,rate:e.rate.toFixed(2),amount:e.amount}}),S(r),setTimeout(function(){return W.current.link.click()},0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),R(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),Y=Object(n.useCallback)(Object(c.a)(Pg().mark(function e(){var t,r,n,a=arguments;return Pg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:s,r=a.length>1&&void 0!==a[1]?a[1]:x,o(!0),e.prev=3,e.next=6,yo.getAllDailyProductionReport(A.toISOString().split("T")[0],C.toISOString().split("T")[0],t,r);case 6:n=e.sent,b(n.data.results),m(Math.ceil(n.data.count/25)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),R(e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[3,11,14,17]])})),[x,A,C,s]);Object(n.useEffect)(function(){Y(s,x)},[A,C,s,x]);var q=g.map(function(e){return{created_on:e.created_on,seller_account:e.seller_account,bom:e.bom,product:e.product,description:e.description,brand:e.brand,unit:e.unit,quantity:e.quantity,rate:e.rate.toFixed(2),amount:e.amount}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:M.open,onClose:z,severity:M.severity,message:M.message}),a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2,width:"100%"}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,display:"flex",alignItems:"center",gap:2},a.a.createElement(Et.a,{item:!0},a.a.createElement(Lt,{label:"Start Date",variant:"outlined",size:"small",type:"date",id:"start-date",value:A?A.toISOString().split("T")[0]:"",min:F,max:G,onChange:function(e){return I(new Date(e.target.value))},sx:{width:"120px"}})),a.a.createElement(Et.a,{item:!0},a.a.createElement(Lt,{label:"End Date",variant:"outlined",size:"small",type:"date",id:"end-date",value:C?C.toISOString().split("T")[0]:"",min:A?A.toISOString().split("T")[0]:F,max:G,onChange:function(e){return D(new Date(e.target.value))},disabled:!A,sx:{width:"120px"}})),a.a.createElement(Et.a,{item:!0},a.a.createElement(ga,{onSearch:function(e){O(e),f(1)},onReset:function(){O(""),f(1)}}))),a.a.createElement(Et.a,{item:!0,xs:12,sm:3,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center"}},"Daily Production Report")),a.a.createElement(Et.a,{item:!0,xs:12,sm:3,display:"flex",justifyContent:"flex-end",alignItems:"center"},a.a.createElement(yt.a,{variant:"contained",onClick:function(){return U()}},"Download CSV"),L.length>0&&a.a.createElement(fa.CSVLink,{data:L,headers:[{label:"Date",key:"created_on"},{label:"Seller Account",key:"seller_account"},{label:"BOM",key:"bom"},{label:"Product",key:"product"},{label:"Description",key:"description"},{label:"Brand",key:"brand"},{label:"Unit",key:"unit"},{label:"Quantity",key:"quantity"},{label:"Rate",key:"rate"},{label:"Amount",key:"amount"}],ref:W,filename:"Daily Production Report.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}})))),a.a.createElement(Cn,{headers:["Date","Seller Account","BOM","Product","Description","Brand","Unit","Quantity","Rate","Amount"],data:q,openInPopup:null,openInPopup2:null,openInPopup3:null,openInPopup4:null}),a.a.createElement(Zn,{currentPage:s,totalPages:d,handlePageChange:function(e,t){return f(t)}}))))};function Dg(){Dg=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ng=new Date,Tg=Ng.getFullYear(),Ag=Ng.getMonth()+1,Ig=Ag<10?"0".concat(Ag):Ag,Fg="".concat(Tg,"-").concat(Ig),Gg=Ur()().startOf("month").format("YYYY-MM"),Wg=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useRef)(),u=Object(n.useState)(""),s=Object(l.a)(u,2),f=s[0],p=s[1],h=Object(n.useState)([]),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(Fg),g=Object(l.a)(y,2),b=g[0],E=g[1];Object(n.useEffect)(function(){w()},[b]);var w=function(){var e=Object(c.a)(Dg().mark(function e(){var t,r,n,a;return Dg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),t=b.split("-"),r=t[0],n=t[1],e.next=8,yo.getWeeklyProductionReportFilterData(n,r);case 8:a=e.sent,v(a.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),x(e.t0);case 15:return e.prev=15,o(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(){return e.apply(this,arguments)}}(),x=function(e){e.response?400===e.response.status?p(e.response.data.errors.name||e.response.data.errors.non_field_errors):401===e.response.status?p(e.response.data.errors.code):404!==e.response.status&&e.response.data?p("Server Error"):p("Data not found or request was null/empty"):p("\u201cSorry, You Are Not Allowed to Access This Page\u201d Please contact to admin")},O=b.split("-"),_=Object(l.a)(O,2),j=function(e,t){for(var r=new Date(e,t-1,1),n=new Date(e,t,0),a=[],o=1;r<=n;){var i="Week ".concat(o);a.push(i),r.setDate(r.getDate()+7),o++}return a}(_[0],_[1]),L=[{label:"Seller Unit",key:"seller_account__unit"},{label:"Description",key:"product__description__name"},{label:"Brand",key:"product__brand__name"},{label:"Product",key:"product__name"},{label:"Unit",key:"product__unit__name"}];[1,2,3,4,5].forEach(function(e){L.push({label:"Week ".concat(e),key:"week".concat(e)})}),L.push({label:"Total",key:"total"});var S=m.flatMap(function(e){var t=e.data.filter(function(e){return null!==e.index_position&&0===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),r=e.data.filter(function(e){return null!==e.index_position&&1===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),n=e.data.filter(function(e){return null!==e.index_position&&2===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),a=e.data.filter(function(e){return null!==e.index_position&&3===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),o=e.data.filter(function(e){return null!==e.index_position&&4===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),i=t+r+n+a+o;return{seller_account__unit:e.seller_account__unit,product__description__name:e.product__description__name,product__brand__name:e.product__brand__name,product__name:e.product__name,product__unit__name:e.product__unit__name,week1:t,week2:r,week3:n,week4:a,week5:o,total:i}}),k=["Seller Unit","Description","Brand","Product","Unit"].concat(Object(ln.a)(j),["Total"]),P=m.flatMap(function(e){var t=e.data.filter(function(e){return null!==e.index_position&&0===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),r=e.data.filter(function(e){return null!==e.index_position&&1===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),n=e.data.filter(function(e){return null!==e.index_position&&2===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),a=e.data.filter(function(e){return null!==e.index_position&&3===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),o=e.data.filter(function(e){return null!==e.index_position&&4===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0),i=t+r+n+a+o;return{seller_account__unit:e.seller_account__unit,product__description__name:e.product__description__name,product__brand__name:e.product__brand__name,product__name:e.product__name,product__unit__name:e.product__unit__name,week1:t,week2:r,week3:n,week4:a,week5:o,total:i}}),C={seller_account__unit:"Total",product__description__name:"-",product__brand__name:"-",product__name:"-",product__unit__name:"-",week1:m.reduce(function(e,t){return e+t.data.filter(function(e){return null!==e.index_position&&0===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0)},0),week2:m.reduce(function(e,t){return e+t.data.filter(function(e){return null!==e.index_position&&1===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0)},0),week3:m.reduce(function(e,t){return e+t.data.filter(function(e){return null!==e.index_position&&2===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0)},0),week4:m.reduce(function(e,t){return e+t.data.filter(function(e){return null!==e.index_position&&3===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0)},0),week5:m.reduce(function(e,t){return e+t.data.filter(function(e){return null!==e.index_position&&4===e.index_position}).reduce(function(e,t){return e+Number(t.total_quantity)},0)},0),get total(){return this.week1+this.week2+this.week3+this.week4+this.week5}},D=[].concat(Object(ln.a)(S),[C]),N=[].concat(Object(ln.a)(P),[C]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Sa,{errRef:i,errMsg:f}),a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:.9},a.a.createElement(Lt,{label:"Search",type:"month",variant:"outlined",size:"small",value:b,onChange:function(e){return E(e.target.value)},inputProps:{max:Gg},sx:{mb:2}})),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Weekly Production Report")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"},a.a.createElement(fa.CSVLink,{data:D,headers:L,filename:"Weekly Production Report.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}},a.a.createElement(yt.a,{color:"success",variant:"contained"},"Export to Excel")))),a.a.createElement(Cn,{headers:k,data:N,isLastRow:!!C}))))},Bg=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=[{label:"Material Requisition Form",roles:["Director","Accounts","Stores","Stores Delhi","Production Delhi","Production"],component:a.a.createElement(By,null)},{label:"Production Entry",roles:["Director","Accounts","Stores Delhi","Production Delhi","Production"],component:a.a.createElement(Jy,null)},{label:"Material Transfer Note",roles:["Director","Accounts","Stores","Stores Delhi","Production","Production Delhi","Accounts Executive"],component:a.a.createElement(cg,null)},{label:"Bill of Materials",roles:["Director","Accounts","Stores Delhi","Production Delhi","Production","Accounts Executive"],component:a.a.createElement(bg,null)},{label:"Production Inventory (G&L)",roles:["Director","Accounts","Accounts Executive"],component:a.a.createElement(jg,null)},{label:"Production ShortFall",roles:["Director","Accounts","Purchase","Stores","Stores Delhi","Production Delhi","Production"],component:a.a.createElement(Sg,null)},{label:"Daily Production Report",roles:["Director","Accounts","Accounts Executive"],component:a.a.createElement(Cg,null)},{label:"Weekly Production Report",roles:["Director","Accounts","Accounts Executive"],component:a.a.createElement(Wg,null)}].filter(function(t){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}.apply(void 0,Object(ln.a)(t.roles))}),r=Object(n.useState)(0),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(_n,{tabs:t.map(function(e){return{label:e.label,index:e.index}}),activeTab:i,onTabChange:function(e){c(e)}}),t.length>0&&t[i]?a.a.createElement("div",null,t[i].component):null)};function Rg(){Rg=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var zg=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),Mg=function(e){var t=e.setOpenPopup,r=e.getAllPackingListDetails,o=e.idForEdit,i=Object(n.useState)(!1),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)(null),d=Object(l.a)(h,2),y=d[0],g=d[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1];Object(n.useEffect)(function(){if(o&&o.products){var e=o.products.map(function(e){return Object(u.a)({},e,{quantity:e.quantity||0})});x(e)}},[o]);var O=function(){var e=Object(c.a)(Rg().mark(function e(n){var a;return Rg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,p(!0),a={purchase_order:o.purchase_order||null,packing_list_no:o.packing_list_no||null,invoice_date:o.invoice_date,seller_account:o.seller_account||null,products:w||[]},e.next=6,yo.updatePackingListData(o.id,a);case 6:t(!1),r(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Updating Packing List Error:",e.t0),g(e.t0.message||"An error occurred");case 14:return e.prev=14,p(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,10,14,17]])}));return function(t){return e.apply(this,arguments)}}(),_=function(){g(null)};return a.a.createElement("div",null,a.a.createElement(Pt,{open:f}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:O},a.a.createElement(Lr.a,{open:Boolean(y),onClose:_,message:y,anchorOrigin:{vertical:"top",horizontal:"center"},action:a.a.createElement(m.a,{"aria-label":"close",color:"inherit",sx:{p:.5},onClick:_},a.a.createElement(nt.a,null))}),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"seller_account",label:"Buyer Account",variant:"outlined",value:o.seller_account||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Purchase Order Number",variant:"outlined",value:o.purchase_order||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,size:"small",name:"packing_list_no",label:"Invoice No",variant:"outlined",value:o.packing_list_no||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,disabled:!0,size:"small",name:"invoice_date",label:"Invoice Date",variant:"outlined",InputLabelProps:{shrink:!0},value:o.invoice_date})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(zg,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),w.map(function(e,t){return a.a.createElement(a.a.Fragment,{key:e.id||t},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Product",variant:"outlined",value:e.product||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||"",disabled:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:3},a.a.createElement(Lt,{fullWidth:!0,size:"small",name:"quantity",label:"Quantity",variant:"outlined",type:"number",value:e.quantity||"",onChange:function(e){return function(e,t){var r=w.map(function(r,n){return n===e?Object(u.a)({},r,{quantity:t}):r});x(r)}(t,e.target.value)}})))})),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))};function Ug(){Ug=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Yg=Object(L.a)("div")(function(e){var t=e.theme;return Object(u.a)({width:"100%"},t.typography.body2,{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}),qg=Object(n.memo)(function(e){var t=e.setOpenPopup,r=e.idForEdit,o=e.getAllPackingListDetails,i=e.currentPage,s=e.acceptedFilter,f=e.searchQuery,p=Object(n.useState)(!1),h=Object(l.a)(p,2),d=h[0],m=h[1],y=Object(n.useState)(r.products.map(function(e){return{products:e.product,unit:e.unit,order_quantity:e.quantity,qa_rejected:"",qa_accepted:""}})),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Ln(),x=w.handleSuccess,O=w.handleError,_=w.handleCloseSnackbar,j=w.alertInfo,L=function(e,t){var r=t.target,n=r.name,a=r.value;console.log("name",n),console.log("value",a);var o=b.map(function(t,r){var o,i,c;return r===e?Object(u.a)({},t,(o={},Object(Wt.a)(o,n,a),Object(Wt.a)(o,"qa_accepted","qa_rejected"===n?(i=t.order_quantity,c=a,isNaN(i)||isNaN(c)?"":parseInt(i,10)-parseInt(c,10)):t.qa_accepted),o)):t});console.log("updatedProducts",o),E(o)};console.log("products",b);var S=Object(n.useCallback)(function(){var e=Object(c.a)(Ug().mark(function e(n){var a,c,l;return Ug().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),m(!0),a={packing_list:r.id,grn_source:"Purchase",products:b.map(function(e){return{order_quantity:e.order_quantity,products:e.products,qa_accepted:e.qa_accepted,qa_rejected:e.qa_rejected,unit:e.unit}})},e.prev=3,e.next=6,yo.createGRNData(a);case 6:c=e.sent,l=c.data.message||"GRN Created successfully",x(l),setTimeout(function(){t(!1),o(i,s,f)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),O(e.t0);case 15:return e.prev=15,m(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[3,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),[b,r,x,O,o,i,s,f,m,t]);return a.a.createElement("div",null,a.a.createElement(Sn,{open:j.open,onClose:_,severity:j.severity,message:j.message}),a.a.createElement(Pt,{open:d}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return S(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Vendor",variant:"outlined",value:r.vendor||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Packing List ID",variant:"outlined",value:r.id||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Invoice No",variant:"outlined",value:r.packing_list_no||""})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Yg,null,a.a.createElement(v.a,null,a.a.createElement(vr.a,{label:"PRODUCT"})))),b.map(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{key:t,item:!0,xs:12,sm:4},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Products",variant:"outlined",value:e.products||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Unit",variant:"outlined",value:e.unit||""})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"order_quantity",size:"small",label:"Quantity",variant:"outlined",value:e.order_quantity||"",onChange:function(e){return L(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"qa_rejected",size:"small",label:"QA Rejected",variant:"outlined",value:e.qa_rejected,onChange:function(e){return L(t,e)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:2},a.a.createElement(Lt,{fullWidth:!0,name:"qa_accepted",size:"small",label:"QA Accepted",variant:"outlined",value:""===e.qa_rejected||""===e.order_quantity||isNaN(e.order_quantity)||isNaN(e.qa_rejected)?"":parseInt(e.order_quantity)-parseInt(e.qa_rejected)})))})),a.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Submit")))});function Vg(){Vg=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Qg=function(){var e=Object(s.b)(),t=Object(s.c)(function(e){return e.auth.profile}),r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(!1),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(1),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)(0),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)(""),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Object(n.useState)(!1),F=Object(l.a)(I,2),W=F[0],B=F[1],R=Object(n.useState)(""),z=Object(l.a)(R,2),M=z[0],U=z[1],Y=Ln(),q=Y.handleError,V=Y.handleCloseSnackbar,Q=Y.alertInfo;Object(n.useEffect)(function(){H()},[]);var H=function(){var t=Object(c.a)(Vg().mark(function t(){var r;return Vg().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,g(!0),t.next=4,ea.getAllPaginateSellerAccountData("all");case 4:r=t.sent,e(G(r.data)),g(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),g(!1);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)(function(){K(j,W,T)},[j,W,T]);var K=Object(n.useCallback)(function(){var e=Object(c.a)(Vg().mark(function e(t,r,n){var a;return Vg().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,yo.getAllPackingListData(t,r,n);case 4:a=e.sent,x(a.data.results),C(Math.ceil(a.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),q(e.t0);case 12:return e.prev=12,g(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,r,n){return e.apply(this,arguments)}}(),[]),J=function(e){U(e),u(!0)},Z=function(e){U(e),d(!0)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:Q.open,onClose:V,severity:Q.severity,message:Q.message}),a.a.createElement(Pt,{open:y}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4,display:"flex",alignItems:"center",gap:2},a.a.createElement(yr,{sx:{width:"200px"},size:"small",value:Kg.find(function(e){return e.value===W.toString()}),onChange:function(e,t){return function(e){if(e){var t="true"===e.value;B(t)}else B(!1),L(0)}(t)},options:Kg,getOptionLabel:function(e){return e.label},label:"Filter By Accepted"}),a.a.createElement(ga,{onSearch:function(e){A(e),L(1)},onReset:function(){A(""),L(1)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,md:4,display:"flex",justifyContent:"center"},a.a.createElement("h3",{style:{textAlign:"center",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Pending GRN")),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,md:4,display:"flex",justifyContent:"flex-end"}))),a.a.createElement(Bt.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Zg,null,a.a.createElement(Jg,{align:"center"}),a.a.createElement(Jg,{align:"center"},"INVOICE DATE"),a.a.createElement(Jg,{align:"center"},"INVOICE NO"),a.a.createElement(Jg,{align:"center"},"PURCHASE ORDER"),a.a.createElement(Jg,{align:"center"},"VENDOR"),a.a.createElement(Jg,{align:"center"},"BUYER STATE"),a.a.createElement(Jg,{align:"center"},"Action"))),a.a.createElement(Mt.a,null,w.map(function(e,r){return a.a.createElement(Hg,{key:r,row:e,openInPopup:J,handleCreateGrn:Z,userData:t})})))),a.a.createElement(sy.a,{sx:{display:"flex",justifyContent:"center",marginTop:"2em"}},a.a.createElement(Zn,{currentPage:j,totalPages:P,handlePageChange:function(e,t){L(t)}})))),a.a.createElement(ut,{fullScreen:!0,title:"PackingList Update",openPopup:i,setOpenPopup:u},a.a.createElement(Mg,{setOpenPopup:u,getAllPackingListDetails:K,idForEdit:M})),a.a.createElement(ut,{fullScreen:!0,title:"GRN Create",openPopup:h,setOpenPopup:d},a.a.createElement(qg,{currentPage:j,searchQuery:T,acceptedFilter:W,setOpenPopup:d,idForEdit:M,getAllPackingListDetails:K})))};function Hg(e){var t=e.row,r=(e.openInPopup,e.handleCreateGrn),o=e.userData,i=Object(n.useState)(!1),c=Object(l.a)(i,2),u=c[0],s=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Zg,{sx:{"& > *":{borderBottom:"unset"}}},a.a.createElement(Jg,null,a.a.createElement(m.a,{"aria-label":"expand row",size:"small",align:"center",onClick:function(){return s(!u)}},u?a.a.createElement(ho.a,null):a.a.createElement(fo.a,null))),a.a.createElement(Jg,{align:"center"},t.invoice_date),a.a.createElement(Jg,{align:"center"},t.packing_list_no),a.a.createElement(Jg,{align:"center"},t.purchase_order.join(", ")),a.a.createElement(Jg,{align:"center"},t.vendor),a.a.createElement(Jg,{align:"center"},t.seller_account),a.a.createElement(Jg,{align:"center"},(o.groups.includes("Stores Delhi")||o.groups.includes("Accounts")||o.groups.includes("Production Delhi")||o.groups.includes("Stores")||o.groups.includes("Director"))&&a.a.createElement(yt.a,{onClick:function(){return r(t)}},"Create GRN"))),a.a.createElement(Zg,null,a.a.createElement(Ut.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(Va.a,{in:u,timeout:"auto",unmountOnExit:!0},a.a.createElement(vt.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),a.a.createElement(Rt.a,{size:"small","aria-label":"purchases"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{align:"center"},"SR.NO"),a.a.createElement(Ut.a,{align:"center"},"PRODUCT"),a.a.createElement(Ut.a,{align:"center"},"UNIT"),a.a.createElement(Ut.a,{align:"center"},"QUANTITY"))),a.a.createElement(Mt.a,null,t.products.map(function(e,t){return a.a.createElement(Zg,{key:t},a.a.createElement(Jg,{align:"center"},t+1),a.a.createElement(Jg,{align:"center"},e.product),a.a.createElement(Jg,{align:"center"},e.unit),a.a.createElement(Jg,{align:"center"},e.quantity))}))))))))}var Kg=[{label:"Accepted",value:"true"},{label:"Not Accepted",value:"false"}],Jg=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),Zg=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Xg=xu.d.create({page:{flexDirection:"column",padding:24,fontFamily:"Helvetica"},Container:{borderWidth:1,borderColor:"#000"},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:12,borderBottomWidth:1,borderColor:"#000"},logo:{width:100,height:30},title:{fontSize:14,fontWeight:"bold",flex:1,marginRight:100},grnInfoContainer:{flexDirection:"column",justifyContent:"flex-end",fontSize:12,alignItems:"flex-end"},grnInfo:{marginLeft:4,marginBottom:4},table:{borderWidth:1,borderColor:"#000",marginBottom:12},tableHeader:{flexDirection:"row",backgroundColor:"#CCCCCC"},tableHeaderCell:{fontSize:12,fontWeight:"bold",padding:4,borderRightWidth:1,borderColor:"#000"},tableRow:{flexDirection:"row",borderBottomWidth:1,borderColor:"#000"},tableCell:{fontSize:12,padding:4,borderRightWidth:1,borderColor:"#000"},footer:{flexDirection:"row",justifyContent:"space-between"},signatureBlock:{flexDirection:"column",alignItems:"flex-start",marginTop:12},signatureLabel:{fontSize:12},signatureLine:{borderBottomWidth:1,borderColor:"#000",marginTop:4},divider:{borderBottomWidth:1,borderColor:"#000",marginTop:8,marginBottom:8}}),$g=function(e){var t=e.grnRegisterPDFData;return a.a.createElement(xu.a,null,a.a.createElement(xu.c,{size:"A4",style:Xg.page},a.a.createElement(xu.f,{style:Xg.Container},a.a.createElement(xu.f,{style:Xg.header},a.a.createElement(xu.b,{source:$a.a,style:Xg.logo})),a.a.createElement(xu.f,{style:Xg.header},a.a.createElement(xu.e,{style:Xg.title},"GOODS RECEIVED NOTE"),a.a.createElement(xu.f,{style:Xg.grnInfoContainer},a.a.createElement(xu.e,{style:Xg.grnInfo},"GRN No: ",t.grn_number))),a.a.createElement(xu.f,{style:{flexDirection:"row",justifyContent:"space-between"}},a.a.createElement(xu.e,{style:{flex:1,fontSize:12,marginLeft:24}},"Supplier Name: ",t.vendor),a.a.createElement(xu.f,{style:{flex:1,alignItems:"flex-end",marginRight:24}},a.a.createElement(xu.e,{style:{fontSize:12}},"GRN Date: ",t.created_on),a.a.createElement(xu.e,{style:{fontSize:12}},"Invoice No: ",t.packing_list_no),a.a.createElement(xu.e,{style:{fontSize:12}},"Supplier Invoice Date: ",t.pl_date))),a.a.createElement(xu.f,{style:Xg.table},a.a.createElement(xu.f,{style:Xg.tableHeader},a.a.createElement(xu.e,{style:[Xg.tableHeaderCell,{flex:1}]},"Sr. No."),a.a.createElement(xu.e,{style:[Xg.tableHeaderCell,{flex:4}]},"Item Code"),a.a.createElement(xu.e,{style:[Xg.tableHeaderCell,{flex:2}]},"Item Description"),a.a.createElement(xu.e,{style:[Xg.tableHeaderCell,{flex:1}]},"Order Qty"),a.a.createElement(xu.e,{style:[Xg.tableHeaderCell,{flex:1}]},"QA Rejection"),a.a.createElement(xu.e,{style:[Xg.tableHeaderCell,{flex:1,borderRightWidth:0}]},"Received Qty")),t.products.map(function(e,t){return a.a.createElement(xu.f,{style:Xg.tableRow,key:t},a.a.createElement(xu.e,{style:[Xg.tableCell,{flex:1}]},t+1),a.a.createElement(xu.e,{style:[Xg.tableCell,{flex:4}]},e.products),a.a.createElement(xu.e,{style:[Xg.tableCell,{flex:2}]},e.description),a.a.createElement(xu.e,{style:[Xg.tableCell,{flex:1}]},e.order_quantity),a.a.createElement(xu.e,{style:[Xg.tableCell,{flex:1}]},e.qa_rejected),a.a.createElement(xu.e,{style:[Xg.tableCell,{flex:1,borderRightWidth:0}]},e.qa_accepted))})),a.a.createElement(xu.f,{style:Xg.footer},a.a.createElement(xu.f,{style:{flexDirection:"row"}},a.a.createElement(xu.f,{style:Xg.signatureBlock},a.a.createElement(xu.e,{style:Xg.signatureLabel},"Stores Supervisor's Name:")),a.a.createElement(xu.f,{style:[Xg.signatureBlock,{marginLeft:100}]},a.a.createElement(xu.e,{style:Xg.signatureLabel},"Signature:")),a.a.createElement(xu.f,{style:[Xg.signatureBlock,{marginLeft:100}]},a.a.createElement(xu.e,{style:Xg.signatureLabel},"Date:")))),a.a.createElement(xu.f,{style:Xg.divider}),a.a.createElement(xu.f,{style:Xg.footer},a.a.createElement(xu.f,{style:{flexDirection:"row"}},a.a.createElement(xu.f,{style:Xg.signatureBlock},a.a.createElement(xu.e,{style:Xg.signatureLabel},"Quality Supervisor's Name:")),a.a.createElement(xu.f,{style:[Xg.signatureBlock,{marginLeft:100}]},a.a.createElement(xu.e,{style:Xg.signatureLabel},"Signature:")),a.a.createElement(xu.f,{style:[Xg.signatureBlock,{marginLeft:100}]},a.a.createElement(xu.e,{style:Xg.signatureLabel},"Date:"))))),a.a.createElement(xu.e,{style:{marginTop:"10px",fontSize:12,textAlign:"right"}},"GIPL/STR/R/03")))};function eb(){eb=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var tb=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(0),y=Object(l.a)(v,2),g=y[0],b=y[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),O=x[0],_=x[1],j=Object(n.useRef)(null),L="".concat((new Date).getFullYear(),"-").concat(((new Date).getMonth()+1).toString().padStart(2,"0")),S=Object(n.useState)(L),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Ln(),N=D.handleSuccess,T=D.handleError,A=D.handleCloseSnackbar,I=D.alertInfo,F=function(){var e=Object(c.a)(eb().mark(function e(){var t;return eb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G();case 3:t=e.sent,_(t),setTimeout(function(){j.current.link.click()}),N("CSV file downloaded successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("CSVLink Download error",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(c.a)(eb().mark(function e(){var t,r;return eb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,yo.getAllGRNRegisterDetails(P,"all");case 4:return t=e.sent,r=t.data.map(function(e){return{invoice_date:e.invoice_date,vendor:e.vendor,invoice_no:e.invoice_no,description:e.description,products:e.products,invoice_quantity:e.invoice_quantity,qa_rejected:e.qa_rejected,qa_recieved:e.qa_recieved}}),console.log("formattedData",r),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error("CSVLink Download error",e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(eb().mark(function e(t){var r;return eb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,yo.getGRNDataById(t.grn_no);case 4:r=e.sent,B(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching GRN data",e.t0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(eb().mark(function e(t){var r,n,i;return eb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),r=new wu.a,e.next=5,Object(xu.g)(a.a.createElement($g,{grnRegisterPDFData:t}),r,{}).toBlob();case 5:n=e.sent,(i=document.createElement("a")).href=URL.createObjectURL(n),i.download="".concat(t.vendor," - ").concat(t.grn_no,".pdf"),document.body.appendChild(i),i.click(),document.body.removeChild(i),o(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("error exporting pdf",e.t0);case 18:return e.prev=18,o(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[0,15,18,21]])}));return function(t){return e.apply(this,arguments)}}(),R=Object(n.useCallback)(function(){var e=Object(c.a)(eb().mark(function e(t){var r,n,a=arguments;return eb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:P,e.prev=1,o(!0),e.next=5,yo.getAllGRNRegisterDetails(r,t);case 5:n=e.sent,f(n.data.results),b(Math.ceil(n.data.count/25)),o(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),T(e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}));return function(t){return e.apply(this,arguments)}}(),[P]);Object(n.useEffect)(function(){R(d)},[d,R]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:I.open,onClose:A,severity:I.severity,message:I.message}),a.a.createElement(Pt,{open:r}),a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",marginBottom:"10px"},a.a.createElement(Et.a,{container:!0,alignItems:"center",spacing:2,sx:{mb:2,mx:3}},a.a.createElement(Et.a,{item:!0,xs:12,sm:4,md:4},a.a.createElement(Lt,{size:"small",type:"month",label:"Filter By Month and Year",value:P,onChange:function(e){m(0),C(e.target.value),R(0,e.target.value)},fullWidth:!0})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,md:4},a.a.createElement(E.a,{variant:"h5",sx:{fontWeight:800,color:"rgb(34, 34, 34)",textAlign:"center"}},"GRN Registers")),a.a.createElement(Et.a,{item:!0,xs:12,sm:4,md:4,sx:{display:"flex",justifyContent:"flex-end"}},a.a.createElement(yt.a,{onClick:F,variant:"contained"},"Download CSV")),O.length>0&&a.a.createElement(fa.CSVLink,{data:O,headers:[{label:"Date",key:"invoice_date"},{label:"Vendor",key:"vendor"},{label:"Invoice No",key:"invoice_no"},{label:"Description",key:"description"},{label:"Product",key:"products"},{label:"Order Quantity",key:"invoice_quantity"},{label:"QA Rejected Quantity",key:"qa_rejected"},{label:"Received Quantity",key:"qa_recieved"}],ref:j,filename:"GRN Register.csv",target:"_blank",style:{textDecoration:"none",outline:"none",width:"100%"}}))),a.a.createElement(Bt.a,{sx:{maxHeight:440}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(nb,null,["Grn NO","Date","Vendor","Invoce No","Description","Product","Order Quantity","QA Rejected Quantity","Received Quantity","Action"].map(function(e){return a.a.createElement(rb,{key:e,align:"center"},e)}))),a.a.createElement(Mt.a,null,s.map(function(e,t){return a.a.createElement(nb,{key:t},a.a.createElement(rb,{align:"center"},e.grn_number),a.a.createElement(rb,{align:"center"},e.invoice_date),a.a.createElement(rb,{align:"center"},e.vendor),a.a.createElement(rb,{align:"center"},e.invoice_no),a.a.createElement(rb,{align:"center"},e.description),a.a.createElement(rb,{align:"center"},e.products),a.a.createElement(rb,{align:"center"},e.invoice_quantity),a.a.createElement(rb,{align:"center"},e.qa_rejected),a.a.createElement(rb,{align:"center"},e.qa_recieved),a.a.createElement(rb,{align:"center"},a.a.createElement(yt.a,{onClick:function(){W(e)}},"Download")))})))),a.a.createElement(Zn,{currentPage:d,totalPages:g,handlePageChange:function(e,t){m(t)}})))},rb=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),nb=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function ab(){ab=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ob=function(e){var t=e.idForEdit,r=e.selectedRow;console.log("idforedit",t);var o=Object(n.useState)([]),i=Object(l.a)(o,2),u=i[0],s=i[1],f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Ln(),v=m.handleError,y=m.handleCloseSnackbar,g=m.alertInfo;Object(n.useEffect)(function(){b()},[t]);var b=function(){var e=Object(c.a)(ab().mark(function e(){var n,a;return ab().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),n={description:t.description,seller_account:t.unit,product:r.product},e.next=5,yo.getAllProductStoresInventoryDetails(n);case 5:a=e.sent,s(a.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),v(e.t0);case 12:return e.prev=12,d(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:g.open,onClose:y,severity:g.severity,message:g.message}),a.a.createElement(Pt,{open:h}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,display:"flex",flexDirection:"column"}},a.a.createElement(Bt.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(cb,null,a.a.createElement(ib,{align:"center"},"PRODUCT"),a.a.createElement(ib,{align:"center"},"PRODUCT"),a.a.createElement(ib,{align:"center"},"QUANTITY"),a.a.createElement(ib,{align:"center"},"RATE"),a.a.createElement(ib,{align:"center"},"TOTAL AMOUNT"))),a.a.createElement(Mt.a,null,u.map(function(e,t){return a.a.createElement(cb,null,a.a.createElement(ib,{align:"center"},e.source_key),a.a.createElement(ib,{align:"center"},e.product),a.a.createElement(ib,{align:"center"},e.pending_quantity),a.a.createElement(ib,{align:"center"},e.rate),a.a.createElement(ib,{align:"center"},e.total_amount))}))," ")))))},ib=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),cb=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function lb(){lb=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ub=function(e){var t=e.idForEdit;console.log("idforedit",t);var r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)(!1),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),v=m[0],y=m[1],g=Object(n.useState)(null),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Ln(),O=x.handleError,_=x.handleCloseSnackbar,j=x.alertInfo;Object(n.useEffect)(function(){L()},[t]);var L=function(){var e=Object(c.a)(lb().mark(function e(){var r,n;return lb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),r={description:t.description,seller_account:t.unit},e.next=5,yo.getProductCodeStoresInventoryDetails(r);case 5:n=e.sent,u(n.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),O(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:j.open,onClose:_,severity:j.severity,message:j.message}),a.a.createElement(Pt,{open:p}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,display:"flex",flexDirection:"column"}},a.a.createElement(Bt.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(fb,null,a.a.createElement(sb,{align:"center"},"PRODUCT"),a.a.createElement(sb,{align:"center"},"QUANTITY"),a.a.createElement(sb,{align:"center"},"RATE"),a.a.createElement(sb,{align:"center"},"TOTAL AMOUNT"),a.a.createElement(sb,{align:"center"},"ACTION"))),a.a.createElement(Mt.a,null,i.map(function(e,t){return a.a.createElement(fb,null,a.a.createElement(sb,{align:"center"},e.product),a.a.createElement(sb,{align:"center"},e.pending_quantity),a.a.createElement(sb,{align:"center"},e.rate),a.a.createElement(sb,{align:"center"},e.total_amount),a.a.createElement(sb,{align:"center"},a.a.createElement(yt.a,{onClick:function(){return t=e,console.log("seus"),w(t),void y(!0);var t}},"Product")))}))," ")))),a.a.createElement(ut,{openPopup:v,setOpenPopup:y,maxWidth:"xl",title:"Consolidate Product"},a.a.createElement(ob,{idForEdit:t,selectedRow:E,setOpenCreatePopup:y})))},sb=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),fb=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function pb(){pb=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var hb=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)([]),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(""),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(null),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(""),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Ln(),P=k.handleError,C=k.handleCloseSnackbar,D=k.alertInfo,N=Object(n.useState)(null),T=Object(l.a)(N,2),A=T[0],I=T[1],F=Object(n.useCallback)(Object(c.a)(pb().mark(function e(){var t;return pb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,yo.getDescriptionStoresInventoryDetails(A,L);case 4:t=e.sent,m(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),P(e.t0);case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])})),[]);Object(n.useEffect)(function(){F()},[A,L]);var G=function(){var e=Object(c.a)(pb().mark(function e(){var t;return pb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,ea.getAllPaginateSellerAccountData("all");case 4:t=e.sent,O(t.data),f(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),f(!1),console.log("err",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){G()},[]);return console.log("seller option",x),a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:D.open,onClose:C,severity:D.severity,message:D.message}),a.a.createElement(Pt,{open:s}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-start"},a.a.createElement(Et.a,{item:!0,xs:12,md:3},a.a.createElement(yr,{value:A,onChange:function(e,t){I(t)},options:x&&x.map(function(e){return e.unit}),renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Unit Filter",fullWidth:!0,size:"small"}))}})),a.a.createElement(Et.a,{item:!0,xs:12,md:3},a.a.createElement(ga,{onSearch:function(e){S(e)},onReset:function(){S("")}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement("h3",{style:{textAlign:"center",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Description Store Inventory")))),a.a.createElement(Bt.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(mb,null,a.a.createElement(db,{align:"center"},"DESCRIPTION"),a.a.createElement(db,{align:"center"},"QUANTITY"),a.a.createElement(db,{align:"center"},"RATE"),a.a.createElement(db,{align:"center"},"TOTAL AMOUNT"),a.a.createElement(db,{align:"center"},"UNIT"),a.a.createElement(db,{align:"center"},"ACTION"))),a.a.createElement(Mt.a,null,d.map(function(e,t){return a.a.createElement(mb,null,a.a.createElement(db,{align:"center"},e.description),a.a.createElement(db,{align:"center"},e.pending_quantity),a.a.createElement(db,{align:"center"},e.rate),a.a.createElement(db,{align:"center"},e.total_amount),a.a.createElement(db,{align:"center"},e.unit),a.a.createElement(db,{align:"center"},a.a.createElement(yt.a,{onClick:function(){return b(e),o(!0),void console.log("seus")}},"Product Code")))}))," ")))),a.a.createElement(ut,{openPopup:r,setOpenPopup:o,maxWidth:"xl",title:"Consolidate product code"},a.a.createElement(ub,{idForEdit:g,setOpenCreatePopup:o})))},db=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),mb=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function vb(){vb=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var yb=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Ln(),h=p.handleError,d=p.handleCloseSnackbar,m=p.alertInfo,v=Object(n.useCallback)(Object(c.a)(vb().mark(function e(){var t;return vb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),console.log("before api"),e.next=5,yo.getJobWorkerInventoryData();case 5:t=e.sent,console.log("after api"),f(t.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),h(e.t0),console.log("error",e.t0);case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])})),[]);return Object(n.useEffect)(function(){v()},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:m.open,onClose:d,severity:m.severity,message:m.message}),a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{marginBottom:2}},a.a.createElement(Et.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-start"},a.a.createElement(Et.a,{item:!0,xs:12,md:3}),a.a.createElement(Et.a,{item:!0,xs:12,md:3}),a.a.createElement(Et.a,{item:!0,xs:12,sm:4},a.a.createElement("h3",{style:{textAlign:"center",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Job Worker Store Inventory")))),a.a.createElement(Bt.a,{sx:{maxHeight:360,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:700},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(bb,null,a.a.createElement(gb,{align:"center"},"PRODUCT"),a.a.createElement(gb,{align:"center"},"DESCRIPTION"),a.a.createElement(gb,{align:"center"},"QUANTITY"),a.a.createElement(gb,{align:"center"},"PENDING QUANTITY"),a.a.createElement(gb,{align:"center"},"RATE"),a.a.createElement(gb,{align:"center"},"TOTAL AMOUNT"),a.a.createElement(gb,{align:"center"},"UNIT"))),a.a.createElement(Mt.a,null,s.map(function(e,t){return a.a.createElement(bb,null,a.a.createElement(gb,{align:"center"},e.product),a.a.createElement(gb,{align:"center"},e.description),a.a.createElement(gb,{align:"center"},e.quantity),a.a.createElement(gb,{align:"center"},e.pending_quantity),a.a.createElement(gb,{align:"center"},e.rate),a.a.createElement(gb,{align:"center"},e.total_amount),a.a.createElement(gb,{align:"center"},e.unit))}))," ")))))},gb=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white,padding:0}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14,padding:0}),t}),bb=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),Eb=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=[{label:"Pending GRN",roles:["Director","Accounts","Stores","Stores Delhi","Production Delhi","Production"],component:a.a.createElement(Qg,null)},{label:"Safety Stock Level",roles:["Director","Purchase","Stores"],component:a.a.createElement(Ph,null)},{label:"GRN Register",roles:["Director","Accounts","Purchase","Stores","Stores Delhi","Production Delhi","Accounts Executive"],component:a.a.createElement(tb,null)},{label:"Stores Inventory",roles:["Director","Accounts","Production","Accounts Executive"],component:a.a.createElement(Ol,null)},{label:"Stores Inventory (Cons)",roles:["Director","Accounts","Purchase","Stores","Stores Delhi","Production Delhi","Accounts Executive"],component:a.a.createElement(Pl,null)},{label:"Description Stores Inventory",roles:["Director","Accounts","Production","Accounts Executive"],component:a.a.createElement(hb,null)},{label:"Job Worker Stores Inventory",roles:["Director","Accounts","Production","Accounts Executive"],component:a.a.createElement(yb,null)},{label:"Production Inventory",roles:["Director","Accounts","Accounts Executive"],component:a.a.createElement(jl,null)},{label:"Production Inventory (Cons)",roles:["Director","Accounts","Purchase","Stores Delhi","Production Delhi","Production","Accounts Executive"],component:a.a.createElement(Sl,null)}].filter(function(t){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}.apply(void 0,Object(ln.a)(t.roles))}),r=Object(n.useState)(0),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(_n,{tabs:t.map(function(e){return{label:e.label,index:e.index}}),activeTab:i,onTabChange:function(e){c(e)}}),t.length>0&&t[i]?a.a.createElement("div",null,t[i].component):null)},wb=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}("Director","HR"),r=Object(n.useState)(t?0:4),o=Object(l.a)(r,2),i=o[0],c=o[1],u=[{label:"Designation",visible:t,index:0},{label:"Department",visible:t,index:1},{label:"Source",visible:t,index:2}].filter(function(e){return e.visible}),f=u.map(function(e){return e.index}),p={0:a.a.createElement(nh,null),1:a.a.createElement(uh,null),2:a.a.createElement(mh,null)};return a.a.createElement("div",null,a.a.createElement(_n,{tabs:u,activeTab:i,onTabChange:function(e){return c(f[e])}}),f.includes(i)&&a.a.createElement("div",null,p[i]))},xb=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})},r=t("Director"),o=t("Customer Service"),i=Object(n.useState)(r?0:4),c=Object(l.a)(i,2),u=c[0],f=c[1],p=[{label:"Customer Not In Group",visible:r||o,index:0},{label:"Sales Person Not In Group",visible:r||o,index:1},{label:"Customer Not Having Group",visible:r||o,index:2},{label:"Bulk Message",visible:r||o,index:3},{label:"Group Info",visible:r,index:4},{label:"Scheduler Log",visible:r,index:5}].filter(function(e){return e.visible}),h=p.map(function(e){return e.index}),d={0:a.a.createElement(Yh,null),1:a.a.createElement(Vh,null),2:a.a.createElement(Mh,null),3:a.a.createElement(Rh,null),4:a.a.createElement(Fh,null),5:a.a.createElement(Hh,null)};return a.a.createElement("div",null,a.a.createElement(_n,{tabs:p,activeTab:u,onTabChange:function(e){return f(h[e])}}),h.includes(u)&&a.a.createElement("div",null,d[u]))},Ob=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})},r=t("Director","Factory-Delhi-Orderbook","Factory-Mumbai-Orderbook","Stores Delhi","Production Delhi","Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Sales Manager without Leads","Sales Manager with Lead","Accounts","Accounts Billing Department","Production"),o=t("Customer Service"),i=Object(n.useState)(r?0:4),c=Object(l.a)(i,2),u=c[0],f=c[1],p=[{label:"Customer Wise Orderbook",visible:r||o,index:0},{label:"Product Wise Orderbook",visible:r||o,index:1},{label:"PI Wise Orderbook",visible:r,index:2}].filter(function(e){return e.visible}),h=p.map(function(e){return e.index}),d={0:a.a.createElement(Ia,null),1:a.a.createElement(Ma,null),2:a.a.createElement(Ac,null)};return a.a.createElement("div",null,a.a.createElement(_n,{tabs:p,activeTab:u,onTabChange:function(e){return f(h[e])}}),h.includes(u)&&a.a.createElement("div",null,d[u]))},_b=function(e){var t=e.orderBookSummary,r=function(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)},n=t.reduce(function(e,t){return e+t.total_amount},0),o=["Total",r(n.toFixed(2))],i=t.map(function(e){return{seller_state:e.orderbook__proforma_invoice__seller_account__unit,amount:r(e.total_amount)}}),c=[].concat(Object(ln.a)(i),[o]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:2}),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"View Order Book Summary")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"})),a.a.createElement(Cn,{headers:["SELLER UNIT","AMOUNT"],data:c,openInPopup:null}))))},jb=function(e){var t=e.currentOrderBookSummaryFM,r=function(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)},n=t.reduce(function(e,t){return e+t.total_amount},0),o=["Total","","",r(n.toFixed(2))],i=t.map(function(e){return{product_desc:e.product__description__name,quantity:e.total_quantity,unit:e.product__unit__name,amount:r(e.total_amount)}}),c=[].concat(Object(ln.a)(i),[o]);return a.a.createElement(a.a.Fragment,null," ",a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:2}),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Current Order Book(Finish Goods)")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"})),a.a.createElement(Cn,{headers:["PRODUCT DESC.","QTY","UNIT","TOTAL AMOUNT"],data:c,openInPopup:null}))))},Lb=function(e){var t=e.currentOrderBookSummaryRM,r=function(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)},n=t.reduce(function(e,t){return e+t.total_amount},0),o=["Total","","",r(n.toFixed(2))],i=t.map(function(e){return{product_desc:e.product__description__name,quantity:e.total_quantity,unit:e.product__unit__name,amount:r(e.total_amount)}}),c=[].concat(Object(ln.a)(i),[o]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:2}),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Current Order Book(Raw Material)")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"})),a.a.createElement(Cn,{headers:["PRODUCT DESC.","QTY","UNIT","TOTAL AMOUNT"],data:c,openInPopup:null}))))},Sb=function(e){var t=e.currentSalesSummaryFM,r=function(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)},n=t.reduce(function(e,t){return e+t.total_amount},0),o=["Total","","",r(n.toFixed(2))],i=t.map(function(e){return{product_desc:e.product__description__name,quantity:e.total_quantity,unit:e.product__unit__name,amount:r(e.total_amount)}}),c=[].concat(Object(ln.a)(i),[o]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:2}),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Current Month Sales(Finish Goods)")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"})),a.a.createElement(Cn,{headers:["PRODUCT DESC.","QTY","UNIT","TOTAL AMOUNT"],data:c,openInPopup:null}))))},kb=function(e){var t=e.currentSalesSummaryRM,r=function(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)},n=t.reduce(function(e,t){return e+t.total_amount},0),o=["Total","","",r(n.toFixed(2))],i=t.map(function(e){return{product_desc:e.product__description__name,quantity:e.total_quantity,unit:e.product__unit__name,amount:r(e.total_amount)}}),c=[].concat(Object(ln.a)(i),[o]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:2}),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Current Month Sales(Raw Material)")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"})),a.a.createElement(Cn,{headers:["PRODUCT DESC.","QTY","UNIT","TOTAL AMOUNT"],data:c,openInPopup:null}))))},Pb=function(e){var t=e.salesPersonSummary,r=function(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)},n={sales_person_name:"Total",new_customer:t.reduce(function(e,t){return e+t.new_customer},0),pi_raised:t.reduce(function(e,t){return e+t.pi_raised},0),pi_dropped:t.reduce(function(e,t){return e+t.pi_dropped},0),pi_unpaid:t.reduce(function(e,t){return e+t.pi_unpaid},0),forecast_achieved:"-",unpaid_pi_value:r(t.reduce(function(e,t){return e+t.unpaid_pi_value},0).toFixed(2)),order_book_value:r(t.reduce(function(e,t){return e+t.order_book_value},0).toFixed(2)),sales_invoice_value:r(t.reduce(function(e,t){return e+t.sales_invoice_value},0).toFixed(2))},o=t.map(function(e){return{sales_person_name:"".concat(e.first_name," ").concat(e.last_name),new_customer:e.new_customer,pi_raised:e.pi_raised,pi_dropped:e.pi_dropped,pi_unpaid:e.pi_unpaid,forecast_achieved:e.forecast_achieved.toString().substring(0,2),unpaid_pi_value:r(e.unpaid_pi_value),order_book_value:r(e.order_book_value),sales_invoice_value:r(e.sales_invoice_value)}}),i=[].concat(Object(ln.a)(o),[n]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:3,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:2}),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Sales Person Summary")),a.a.createElement(vt.a,{flexGrow:.5,align:"right"})),a.a.createElement(Cn,{headers:["Sales Person Name","New Customer","PI Raised","PI Dropped","PI Unpaid","Forecast Achieved %","Unpaid PI Value","Order Book Value","Sales Invoice Value"],data:i,openInPopup:null,isLastRow:!!n}))))};function Cb(){Cb=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Db=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useRef)(),u=Object(n.useState)(""),s=Object(l.a)(u,2),f=s[0],p=s[1],h=Object(n.useState)(0),d=Object(l.a)(h,2),v=(d[0],d[1]),y=Object(n.useState)(0),g=Object(l.a)(y,2),b=(g[0],g[1],Object(n.useState)("")),E=Object(l.a)(b,2),w=(E[0],E[1]),O=Object(n.useState)(""),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)([]),N=Object(l.a)(D,2),T=N[0],A=N[1],I=new Date,F=I.getMonth(),G=I.getFullYear(),W=(F+1)%12,B=(F+2)%12,R=(F+3)%12,z=["January","February","March","April","May","June","July","August","September","October","November","December"];Object(n.useEffect)(function(){M(),U()},[]);for(var M=function(){var e=Object(c.a)(Cb().mark(function e(t){var r;return Cb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Nr.getAllAssignedUser();case 4:r=e.sent,C(r.data),o(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error",e.t0),o(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(c.a)(Cb().mark(function e(){var t,r;return Cb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Cl.getProductWiseTurnoverForecast();case 4:t=e.sent,A(t.data),r=t.data.count,v(Math.ceil(r/25)),o(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Y(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),Y=function(e){e.response?400===e.response.status?p(e.response.data.errors.name||e.response.data.errors.non_field_errors):401===e.response.status?p(e.response.data.errors.code):404!==e.response.status&&e.response.data?p("Server Error"):p("Data not found or request was null/empty"):p("\u201cSorry, You Are Not Allowed to Access This Page\u201d Please contact to admin")},q=function(){var e=Object(c.a)(Cb().mark(function e(t){var r,n,a;return Cb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),r=t,e.next=5,Cl.getAllSearchProductWiseTurnoverForecast("sales_person__email",r);case 5:(n=e.sent)?(A(n.data),a=n.data.count,v(Math.ceil(a/25))):(U(),w("")),o(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error Search leads",e.t0),o(!1);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),V=T.map(function(e){var t={sales_person:e.first_name+" "+e.last_name,description:e.product__description__name,brand:e.product__brand__name};return e.total_turnover_monthly.forEach(function(e,r){t["total_turnover_monthly_".concat(r)]=e.total_turnover_monthly}),t}),Q={sales_person:"Total",description:"-",brand:"-"},H=function(){var e,t="total_turnover_monthly_".concat(K),r=V.reduce(function(e,r){return e+(r[t]||0)},0);Q[t]=(e=r,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e))},K=0;K<4;K++)H();V.push(Q);var J=["Sales Person","Description","Brand","".concat(z[F]," -- ").concat(G," Total TurnOver"),"".concat(z[W]," - ").concat(W>F?G:G+1," Total TurnOver"),"".concat(z[B]," - ").concat(B>F?G:G+1," Total TurnOver"),"".concat(z[R]," - ").concat(R>F?G:G+1," Total TurnOver")];return a.a.createElement("div",null,a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Sa,{errRef:i,errMsg:f}),a.a.createElement(Tr.a,{sx:{p:2,m:2,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex"},a.a.createElement(vt.a,{flexGrow:1},a.a.createElement(tr.a,{sx:{minWidth:"200px",marginLeft:"1em"},size:"small"},a.a.createElement(rr.a,{id:"demo-simple-select-label"},"Filter By State"),a.a.createElement(nr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"values",label:"Filter By State",value:j,onChange:function(e){return function(e){L(e.target.value),q(e.target.value)}(e)},sx:{"& .MuiSelect-iconOutlined":{display:j?"none":""},"&.Mui-focused .MuiIconButton-root":{color:"primary.main"}},endAdornment:a.a.createElement(m.a,{sx:{visibility:j?"visible":"hidden"},onClick:function(){w(""),L(""),U()}},a.a.createElement(ya.a,null))},P.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.email},e.first_name+" "+e.last_name)})))),a.a.createElement(vt.a,{flexGrow:2},a.a.createElement("h3",{style:{textAlign:"left",marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Forecast Turnover")),a.a.createElement(vt.a,{flexGrow:.5})),a.a.createElement(Cn,{headers:J,data:V,Styles:{paddingLeft:"10px",paddingRight:"10px"},isLastRow:!!Q,openInPopup:null,openInPopup2:null,openInPopup3:null,openInPopup4:null}))))},Nb={getLastThreeMonthForecastData:function(){return Ze.get("/api/dashboard/last-three-months-forecast/")},getLastThreeMonthForecastDataByFilter:function(e){return Ze.get("/api/dashboard/last-three-months-forecast/?email=".concat(e))},getNewCustomerData:function(){return Ze.get("/api/dashboard/new-customer-month-on-month/")},getNewCustomerDataByFilter:function(e){return Ze.get("/api/dashboard/new-customer-month-on-month/?email=".concat(e))},getPendingTaskData:function(){return Ze.get("/api/dashboard/pending-tasks/")},getPendingTaskDataByFilter:function(e){return Ze.get("/api/dashboard/pending-tasks/?email=".concat(e))},getPendingFollowupData:function(){return Ze.get("/api/dashboard/pending-followups/")},getPendingFollowupDataByFilter:function(e){return Ze.get("/api/dashboard/pending-followups/?email=".concat(e))},getPIData:function(){return Ze.get("/api/dashboard/list-pi-data/")},getPIDataByFilter:function(e){return Ze.get("/api/dashboard/list-pi-data/?email=".concat(e))},getIndiaMartLeadData:function(){return Ze.get("/api/dashboard/india-mart-lead/")},getIndiaMartLeadDataByFilter:function(e){return Ze.get("/api/dashboard/india-mart-lead/?date=".concat(e))},getCustomerDashboard:function(){return Ze.get("/api/dashboard/customer-dashboard/")},getLeadDashboard:function(){return Ze.get("/api/dashboard/lead-dashboard")},getCustomerDataByFilter:function(e){return Ze.get("/api/dashboard/customer-dashboard/?email=".concat(e))},getLeadDataByFilter:function(e){return Ze.get("/api/dashboard/lead-dashboard/?email=".concat(e))},getDescriptionWisePendingQuantityData:function(){return Ze.get("/api/dashboard/list-pending-order-description-wise/")},getDescriptionWisePendingQuantityDataByFilter:function(e){return Ze.get("/api/dashboard/list-pending-order-description-wise/?email=".concat(e))},getMonthlyCallStatusData:function(){return Ze.get("/api/dashboard/monthly-call-status/")},getMonthlyCallStatusDataByFilter:function(e){return Ze.get("/api/dashboard/monthly-call-status/?email=".concat(e))},getWeeklyCallStatusData:function(){return Ze.get("/api/dashboard/weekly-call-status/")},getWeeklyCallStatusDataByFilter:function(e){return Ze.get("/api/dashboard/weekly-call-status/?email=".concat(e))},getDailyCallStatusData:function(){return Ze.get("/api/dashboard/daily-call-status/")},getDailyCallStatusDataByFilter:function(e){return Ze.get("/api/dashboard/daily-call-status/?email=".concat(e))},getDescriptionWiseQuantityData:function(){return Ze.get("/api/dashboard/list-current-month-orders-description-wise/")},getDescriptionWiseQuantityDataByFilter:function(e){return Ze.get("/api/dashboard/list-current-month-orders-description-wise/?email=".concat(e))},getCallPerformanceData:function(e,t){return Ze.get("/api/dashboard/call-performance/?start_date=".concat(e,"&end_date=").concat(t))},getCallPerformanceDataByFilter:function(e,t,r){return Ze.get("/api/dashboard/call-performance/?email=".concat(e,"&start_date=").concat(t,"&end_date=").concat(r))},getDailyProfitableReportsData:function(){return Ze.get("/api/dashboard/daily-profitablity-report/")},getDailyProfitableReportsDataByFilter:function(e,t){return Ze.get("/api/dashboard/daily-profitablity-report/?date_range_after=".concat(e,"&date_range_before=").concat(t))},getDescriptionWiseTurnoverDataByFilter:function(e,t){return Ze.get("/api/dashboard/description-wise-turnover/?start_date=".concat(e,"&end_date=").concat(t))},getDailyProfitableSalesReportsDataByFilter:function(e,t,r){return Ze.get("/api/dashboard/daily-profitablity-report-sales-invoice-wise/?date_range_after=".concat(e,"&date_range_before=").concat(t,"&sales_invoice__order_book__proforma_invoice__seller_account__unit=").concat(r))},getDailyInvoiceQuantityData:function(){return Ze.get("/api/dashboard/daily-invoice-quantity/")},getDailyInvoiceQuantityDataByFilter:function(e){return Ze.get("/api/dashboard/daily-invoice-quantity/?email=".concat(e))},getDailyOrderBookQuantityData:function(){return Ze.get("/api/dashboard/daily-order-book-quantity/")},getDailyOrderBookQuantityDataByFilter:function(e){return Ze.get("/api/dashboard/daily-order-book-quantity/?email=".concat(e))},getConsLastThreeMonthForecastData:function(){return Ze.get("/api/dashboard/consolidated-last-three-month-forecast/")},getConsLastThreeMonthForecastDataByFilter:function(e){return Ze.get("/api/dashboard/consolidated-last-three-months-forecast/?email=".concat(e))},getConsNewCustomerData:function(){return Ze.get("/api/dashboard/consolidated-new-customer-month-on-month/")},getConsNewCustomerDataByFilter:function(e){return Ze.get("/api/dashboard/consolidated-new-customer-month-on-month/?email=".concat(e))},getConsPendingTaskData:function(){return Ze.get("/api/dashboard/consolidated-pending-tasks/")},getConsPendingTaskDataByFilter:function(e){return Ze.get("/api/dashboard/pending-tasks/?email=".concat(e))},getConsPendingFollowupData:function(){return Ze.get("/api/dashboard/consolidated-pending-followups/")},getConsPendingFollowupDataByFilter:function(e){return Ze.get("/api/dashboard/consolidated-pending-followups/?email=".concat(e))},getConsPIData:function(){return Ze.get("/api/dashboard/consolidated-list-pi-data/")},getConsPIDataByFilter:function(e){return Ze.get("/api/dashboard/consolidated-list-pi-data/?email=".concat(e))},getConsCustomerDashboard:function(){return Ze.get("/api/dashboard/consolidated-customer-dashboard/")},getConsLeadDashboard:function(){return Ze.get("/api/dashboard/consolidated-lead-dashboard")},getConsCustomerDataByFilter:function(e){return Ze.get("/api/dashboard/consolidated-customer-dashboard/?email=".concat(e))},getConsLeadDataByFilter:function(e){return Ze.get("/api/dashboard/consolidated-lead-dashboard/?email=".concat(e))},getConsDescriptionWisePendingQuantityData:function(){return Ze.get("/api/dashboard/consolidated-list-pending-order-description-wise/")},getConsDescriptionWisePendingQuantityDataByFilter:function(e){return Ze.get("/api/dashboard/consolidated-list-pending-order-description-wise/?email=".concat(e))},getConsMonthlyCallStatusData:function(){return Ze.get("/api/dashboard/consolidated-monthly-call-status/")},getConsMonthlyCallStatusDataByFilter:function(e){return Ze.get("/api/dashboard/consolidated-monthly-call-status/?email=".concat(e))},getConsWeeklyCallStatusData:function(){return Ze.get("/api/dashboard/consolidated-weekly-call-status/")},getConsWeeklyCallStatusDataByFilter:function(e){return Ze.get("/api/dashboard/consolidated-weekly-call-status/?email=".concat(e))},getConsDailyCallStatusData:function(){return Ze.get("/api/dashboard/consolidated-daily-call-status/")},getConsDailyCallStatusDataByFilter:function(e){return Ze.get("/api/dashboard/consolidated-daily-call-status/?email=".concat(e))},getConsDescriptionWiseQuantityData:function(){return Ze.get("/api/dashboard/consolidated-list-current-month-orders-description-wise/")},getConsDescriptionWiseQuantityDataByFilter:function(e){return Ze.get("/api/dashboard/consolidated-list-current-month-orders-description-wise/?email=".concat(e))},getConsCallPerformanceData:function(e,t){return Ze.get("/api/dashboard/consolidated-call-performance/?start_date=".concat(e,"&end_date=").concat(t))},getConsCallPerformanceDataByFilter:function(e,t,r){return Ze.get("/api/dashboard/consolidated-call-performance/?email=".concat(e,"&start_date=").concat(t,"&end_date=").concat(r))},getConsDailyProfitableReportsData:function(){return Ze.get("/api/dashboard/consolidated-daily-profitablity-report/")},getConsDailyProfitableReportsDataByFilter:function(e,t){return Ze.get("/api/dashboard/consolidated-daily-profitablity-report/?date_range_after=".concat(e,"&date_range_before=").concat(t))},getConsDescriptionWiseTurnoverDataByFilter:function(e,t){return Ze.get("/api/dashboard/consolidated-description-wise-turnover/?start_date=".concat(e,"&end_date=").concat(t))},getConsDailyProfitableSalesReportsDataByFilter:function(e,t,r){return Ze.get("/api/dashboard/consolidated-daily-profitablity-report-sales-invoice-wise/?date_range_after=".concat(e,"&date_range_before=").concat(t,"&sales_invoice__order_book__proforma_invoice__seller_account__unit=").concat(r))},getConsDailyInvoiceQuantityData:function(){return Ze.get("/api/dashboard/consolidated-daily-invoice-quantity/")},getConsDailyInvoiceQuantityDataByFilter:function(e){return Ze.get("/api/dashboard/consolidated-daily-invoice-quantity/?email=".concat(e))},getConsDailyOrderBookQuantityData:function(){return Ze.get("/api/dashboard/consolidated-daily-order-book-quantity/")},getConsDailyOrderBookQuantityDataByFilter:function(e){return Ze.get("/api/dashboard/consolidated-daily-order-book-quantity/?email=".concat(e))},getRetailerCustomerData:function(){return Ze.get("/api/customer/customer-summary/")},getLeadRetailData:function(){return Ze.get("/api/lead/lead-summary/")}};function Tb(){Tb=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ab=function(e){var t=e.idForEdit,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)([]),f=Object(l.a)(s,2),p=f[0],h=f[1],d=Object(n.useRef)(),m=Object(n.useState)(""),v=Object(l.a)(m,2),y=v[0],g=v[1];Object(n.useEffect)(function(){b()},[]);var b=function(){var e=Object(c.a)(Tb().mark(function e(){var r;return Tb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Nb.getDailyProfitableSalesReportsDataByFilter(t.date_range_before,t.date_range_after,t.unit);case 4:r=e.sent,h(r.data),u(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),E(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),E=function(e){e.response?400===e.response.status?g(e.response.data.errors.name||e.response.data.errors.non_field_errors):401===e.response.status?g(e.response.data.errors.code):404!==e.response.status&&e.response.data?g("Server Error"):g("Data not found or request was null/empty"):g("\u201cSorry, You Are Not Allowed to Access This Page\u201d Please contact to admin")},w=p.map(function(e,t){return{unit:e.sales_invoice__order_book__proforma_invoice__seller_account__unit,date:e.sales_invoice__generation_date,invoice_no:e.sales_invoice,product:e.product__name,company:e.sales_invoice__order_book__company__name,quantity:e.quantity,rate:e.rate,amount:e.amount,cost:e.cost,cost_value:e.cost_value,total:e.total}});return a.a.createElement("div",null,a.a.createElement(Pt,{open:i}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Sa,{errRef:d,errMsg:y}),a.a.createElement(vt.a,{display:"flex",justifyContent:"flex-end",marginBottom:5},a.a.createElement(fa.CSVLink,{data:w,headers:[{label:"Unit",key:"unit"},{label:"Date",key:"date"},{label:"Invoice No",key:"invoice_no"},{label:"Product",key:"product"},{label:"Company",key:"company"},{label:"Quantity",key:"quantity"},{label:"Rate",key:"rate"},{label:"Amount",key:"amount"},{label:"Cost",key:"cost"},{label:"Cost Value",key:"cost_value"},{label:"Total",key:"total"}],filename:"Daily Profitability Sales Report.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}},a.a.createElement("div",{className:"btn btn-primary",style:{display:"inline-block",padding:"6px 16px",margin:"10px",fontSize:"0.875rem",minWidth:"64px",fontWeight:500,lineHeight:1.75,borderRadius:"4px",letterSpacing:"0.02857em",textTransform:"uppercase",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2)"}},"Download CSV"))),a.a.createElement(Cn,{headers:["Unit","Date","Invoice No","Product","Company","Quantity","Rate","Amount","Cost","Cost Value","Total"],data:w,openInPopup:null,openInPopup2:null,openInPopup3:null,openInPopup4:null,Styles:{paddingLeft:"10px",paddingRight:"10px"}})))},Ib=function(e){var t=e.dailyProfitableReportsFilterData,r=Object(n.useState)(null),o=Object(l.a)(r,2),i=o[0],c=o[1],u=Object(n.useState)(!1),s=Object(l.a)(u,2),f=s[0],p=s[1],h=t.map(function(e,t){return{date_range_before:e.date_range_before,date_range_after:e.date_range_after,unit:e.sales_invoice__order_book__proforma_invoice__seller_account__unit,total:e.total}});return a.a.createElement("div",null,a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:2,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement("h3",{style:{marginBottom:"1em",fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"DAILY PROFITABILITY REPORTS")),a.a.createElement(Cn,{headers:["Date Range Before","Date Range After","Unit","Total","Action"],data:h,openInPopup:function(e){console.log(e),c(e),p(!0)},openInPopup2:null,openInPopup3:null,openInPopup4:null}))),a.a.createElement(ut,{maxWidth:"xl",title:"View Daily Profitability Sales Reports",openPopup:f,setOpenPopup:p},a.a.createElement(Ab,{idForEdit:i,setOpenPopup:p})))},Fb=function(e){var t=e.descriptionWiseTurnoverFilterData,r=e.salesData,n=r.length>0&&r.map(function(e,t){return{state:e.state,date:e.date,customer_name:e.customer_name,invoice_no:e.invoice_no,sku:e.sku,description:e.description,quantity:e.quantity,amount:e.amount}}),o=t.length>0&&t.map(function(e,t){return{description:e.description_name,brand:e.brand_name,turnover:e.turnover}});return a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:2,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{display:"flex",justifyContent:"space-between",alignItems:"center"},a.a.createElement("h3",{style:{fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800,textAlign:"center",flex:1}},"DESCRIPTION WISE TURNOVER"),n.length>0&&a.a.createElement(fa.CSVLink,{data:n,headers:[{label:"State",key:"state"},{label:"Date",key:"date"},{label:"Customer",key:"customer_name"},{label:"Invoice No",key:"invoice_no"},{label:"Product",key:"sku"},{label:"Description",key:"description"},{label:"Quantity",key:"quantity"},{label:"Amount",key:"amount"}],filename:"Description Wise Turnover.csv",target:"_blank",style:{textDecoration:"none",outline:"none",height:"5vh"}},a.a.createElement(yt.a,{variant:"contained",color:"success"},"Download CSV"))),t.length>0&&a.a.createElement(Cn,{headers:["Description","Brand","Turnover"],data:o,openInPopup:null,openInPopup2:null,openInPopup3:null,openInPopup4:null})))};function Gb(){Gb=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Wb(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),f=u[0],p=u[1],h=Object(n.useState)(0),d=Object(l.a)(h,2),m=d[0],v=d[1],y=Object(n.useState)(new Date),g=Object(l.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(new Date),O=Object(l.a)(w,2),_=O[0],j=O[1],L=(new Date).toISOString().split("T")[0],S=new Date("2030-12-31").toISOString().split("T")[0],k=Object(s.c)(function(e){return e.auth}).profile,P=Object(n.useReducer)(zb,Rb),C=Object(l.a)(P,2),D=C[0],N=C[1],T=D.orderBookSummary,A=D.currentOrderBookSummaryFM,I=D.currentOrderBookSummaryRM,F=D.currentSalesSummaryFM,G=D.currentSalesSummaryRM,W=D.salesPersonSummary,B=D.dailyProfitableReportsFilterData,R=D.descriptionWiseTurnoverFilterData,z=D.salesData,M=new Set(["devannsh@glutape.com","mahesh@glutaoe.com"]).has(k.email)||k.groups.some(function(e){return["Accounts","Accounts Executive","Director"].includes(e)}),U=[{label:"OrderBook Summary"},{label:"OrderBook FG"},{label:"OrderBook RM"},{label:"Sales FG"},{label:"Sales RM"},{label:"Sales P. Summary"},{label:"Forecast T."},{label:"Description T."}].concat(Object(ln.a)(M?[{label:"Profit Report"}]:[]));Object(n.useEffect)(function(){Q()},[]),Object(n.useEffect)(function(){Y(),q(),V()},[_,b]);var Y=function(){var e=Object(c.a)(Gb().mark(function e(){var t,r,n;return Gb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),t=_?_.toISOString().split("T")[0]:"",r=b?b.toISOString().split("T")[0]:"",e.next=6,ea.getFilterDashboardData(t,r);case 6:n=e.sent,N({type:"SET_ORDER_BOOK_SUMMARY",payload:n.data.Order_Book_Summary}),N({type:"SET_CURRENT_ORDER_BOOK_SUMMARY_FM",payload:n.data.Order_Book_FG}),N({type:"SET_CURRENT_ORDER_BOOK_SUMMARY_RM",payload:n.data.Order_Book_RM}),N({type:"SET_CURRENT_SALES_SUMMARY_FM",payload:n.data.Sales_Invoice_FG}),N({type:"SET_CURRENT_SALES_SUMMARY_RM",payload:n.data.Sales_Invoice_RM}),o(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),o(!1),console.log("Dashboard Filter By error",e.t0);case 19:case"end":return e.stop()}},e,null,[[0,15]])}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(c.a)(Gb().mark(function e(){var t,r,n;return Gb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),t=_?_.toISOString().split("T")[0]:"",r=b?b.toISOString().split("T")[0]:"",e.next=6,Nb.getDailyProfitableReportsDataByFilter(t,r);case 6:n=e.sent,N({type:"SET_DAILY_PROFITABLE_REPORTS_FILTER_DATA",payload:n.data}),o(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),o(!1),console.log("Dashboard Filter By error",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(Gb().mark(function e(){var t,r,n;return Gb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),t=_?_.toISOString().split("T")[0]:"",r=b?b.toISOString().split("T")[0]:"",e.next=6,Nb.getDescriptionWiseTurnoverDataByFilter(t,r);case 6:n=e.sent,N({type:"SET_DESCRIPTION_WISE_TURNOVER_FILTER_DATA",payload:n.data.description_wise_turnover}),N({type:"SET_SALES_DATA",payload:n.data.sales_data}),o(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),o(!1),console.log("Description wise turnover Filter By error",e.t0);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(Gb().mark(function e(){var t;return Gb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,ea.getAllDashboardData();case 4:t=e.sent,N({type:"SET_ORDER_BOOK_SUMMARY",payload:t.data.Order_Book_Summary}),N({type:"SET_CURRENT_ORDER_BOOK_SUMMARY_FM",payload:t.data.Order_Book_FG}),N({type:"SET_CURRENT_ORDER_BOOK_SUMMARY_RM",payload:t.data.Order_Book_RM}),N({type:"SET_CURRENT_SALES_SUMMARY_FM",payload:t.data.Sales_Invoice_FG}),N({type:"SET_CURRENT_SALES_SUMMARY_RM",payload:t.data.Sales_Invoice_RM}),N({type:"SET_SALES_PERSON_SUMMARY",payload:t.data.sales_summary}),o(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),o(!1),console.log("Dashboard error",e.t0);case 18:case"end":return e.stop()}},e,null,[[0,14]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(Pt,{open:r}),a.a.createElement("div",null,a.a.createElement(_n,{tabs:U,activeTab:m,onTabChange:function(e){v(e)}}),a.a.createElement(vt.a,{sx:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",margin:"10px",padding:"20px"}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:5,sm:5,md:5,lg:5},a.a.createElement(tr.a,{fullWidth:!0,size:"small"},a.a.createElement(rr.a,{id:"demo-select-small"},"Date"),a.a.createElement(nr.a,{labelId:"demo-select-small",id:"demo-select-small",label:"Date",onChange:function(e){return function(e){var t=e.target.value;if("Today"===t){var r=new Date;E(r),j(r)}else if("Yesterday"===t){var n=new Date;n.setDate(n.getDate()-1),E(n),j(n)}else if("Last 7 Days"===t){var a=new Date,o=new Date;o.setDate(o.getDate()-7),E(a),j(o)}else if("Last 30 Days"===t){var i=new Date,c=new Date;c.setDate(c.getDate()-30),E(i),j(c)}else if("This Month"===t){var l=new Date,u=new Date(l.getFullYear(),l.getMonth(),1);E(l),j(u)}else if("Last Month"===t){var s=new Date;s.setDate(0);var f=new Date(s.getFullYear(),s.getMonth(),1);E(s),j(f)}else"Custom Date"===t&&(j(new Date),E(new Date),p(!0))}(e)}},Bb.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.value)})))))),a.a.createElement("div",null,0===m&&a.a.createElement("div",null," ",a.a.createElement(_b,{orderBookSummary:T})),1===m&&a.a.createElement("div",null,a.a.createElement(jb,{currentOrderBookSummaryFM:A})),2===m&&a.a.createElement("div",null,a.a.createElement(Lb,{currentOrderBookSummaryRM:I})),3===m&&a.a.createElement("div",null,a.a.createElement(Sb,{currentSalesSummaryFM:F})),4===m&&a.a.createElement("div",null,a.a.createElement(kb,{currentSalesSummaryRM:G})),5===m&&a.a.createElement("div",null,a.a.createElement(Pb,{salesPersonSummary:W})),6===m&&a.a.createElement("div",null,a.a.createElement(Db,null)),7===m&&a.a.createElement("div",null,a.a.createElement(Fb,{descriptionWiseTurnoverFilterData:R,salesData:z})),8===m&&a.a.createElement("div",null,a.a.createElement(Ib,{dailyProfitableReportsFilterData:B})))),a.a.createElement(ut,{openPopup:f,setOpenPopup:p,title:"Date Filter",maxWidth:"md"},a.a.createElement(vt.a,{sx:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",margin:"10px",padding:"20px"}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:5,sm:5,md:5,lg:5},a.a.createElement(Lt,{fullWidth:!0,label:"Start Date",variant:"outlined",size:"small",type:"date",id:"start-date",value:_?_.toISOString().split("T")[0]:"",min:L,max:S,onChange:function(e){var t=new Date(e.target.value);j(t),E(new Date)}})),a.a.createElement(Et.a,{item:!0,xs:5,sm:5,md:5,lg:5},a.a.createElement(Lt,{fullWidth:!0,label:"End Date",variant:"outlined",size:"small",type:"date",id:"end-date",value:b?b.toISOString().split("T")[0]:"",min:_?_.toISOString().split("T")[0]:L,max:S,onChange:function(e){var t=new Date(e.target.value);E(t)},disabled:!_})),a.a.createElement(Et.a,{item:!0,xs:2,sm:2,md:2,lg:2},a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:function(){j(new Date),E(new Date)}},"Reset"))))))}var Bb=[{value:"Today"},{value:"Yesterday"},{value:"Last 7 Days"},{value:"Last 30 Days"},{value:"This Month"},{value:"Last Month"},{value:"Custom Date"}],Rb={orderBookSummary:[],currentOrderBookSummaryFM:[],currentOrderBookSummaryRM:[],currentSalesSummaryFM:[],currentSalesSummaryRM:[],salesPersonSummary:[],dailyProfitableReportsFilterData:[],descriptionWiseTurnoverFilterData:[],salesData:[]},zb=function(e,t){switch(t.type){case"SET_ORDER_BOOK_SUMMARY":return Object(u.a)({},e,{orderBookSummary:t.payload});case"SET_CURRENT_ORDER_BOOK_SUMMARY_FM":return Object(u.a)({},e,{currentOrderBookSummaryFM:t.payload});case"SET_CURRENT_ORDER_BOOK_SUMMARY_RM":return Object(u.a)({},e,{currentOrderBookSummaryRM:t.payload});case"SET_CURRENT_SALES_SUMMARY_FM":return Object(u.a)({},e,{currentSalesSummaryFM:t.payload});case"SET_CURRENT_SALES_SUMMARY_RM":return Object(u.a)({},e,{currentSalesSummaryRM:t.payload});case"SET_SALES_PERSON_SUMMARY":return Object(u.a)({},e,{salesPersonSummary:t.payload});case"SET_DAILY_PROFITABLE_REPORTS_FILTER_DATA":return Object(u.a)({},e,{dailyProfitableReportsFilterData:t.payload});case"SET_DESCRIPTION_WISE_TURNOVER_FILTER_DATA":return Object(u.a)({},e,{descriptionWiseTurnoverFilterData:t.payload});case"SET_SALES_DATA":return Object(u.a)({},e,{salesData:t.payload});default:return e}},Mb=function(e){var t=e.barChartData,r=e.pieChartData,o=e.newCustomerData,i=e.pendingTask,c=e.pendingFollowup,u=e.pendingDescription,f=e.monthlyStatus,p=e.weeklyStatus,h=e.dailyStatus,d=e.handleSegmentHover,m=e.handleAutocompleteChange,y=e.assign,g=e.total,b=e.piData,w=e.indiaMartLeadData,O=e.funnelData,_=e.hoveredSegment,j=e.handleRowClick,L=e.descriptionQuantity,S=e.callPerformance,k=e.dailyInvoiceQuantity,P=e.dailyOrderBookQuantity,C=e.handleChange,D=e.selectedDate,N=e.handleStartDateChange,T=e.handleEndDateChange,A=e.startDate,I=e.endDate,F=e.maxDate,G=e.minDate,W=e.getResetDate,B=e.team,R=e.selectedWeek,z=e.handleDateChange,M=Object(s.c)(function(e){return e.auth.profile}),U=Object(n.useState)([]),Y=Object(l.a)(U,2),q=Y[0],V=Y[1],Q=Object(n.useState)(null),H=Object(l.a)(Q,2),K=H[0],J=H[1],Z=Object(n.useState)([]),X=Object(l.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)(null),re=Object(l.a)(te,2),ne=re[0],ae=re[1],oe=Object(n.useState)("monthly"),ie=Object(l.a)(oe,2),ce=ie[0],le=ie[1],ue=M.sales_users||[],se=Object(n.useState)(!M.groups.includes("Director")&&!M.groups.includes("Sales Manager")&&!M.groups.includes("Sales Deputy Manager")&&!M.groups.includes("Sales Assistant Deputy Manager")&&!M.groups.includes("Sales Executive")&&!M.groups.includes("Sales Manager without Leads")),fe=Object(l.a)(se,1)[0],pe=ue;B&&(pe=ue.filter(function(e){return["Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Director"].includes(e.groups__name)}));var he=pe.map(function(e){return{email:e.email,primaryGroup:B?e.groups__name:null}}),de=he.find(function(e){return e.email===y});he.sort(function(e,t){var r=["Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Director"],n=r.indexOf(e.primaryGroup),a=r.indexOf(t.primaryGroup);if(n<a)return-1;if(n>a)return 1;var o=e.email||"",i=t.email||"";return o.localeCompare(i)});var me=function(e){le(e)};Object(n.useEffect)(function(){if(k.length){var e=Object.keys(k[0])[0];J(e),V(k[0][e])}if(P.length){var t=Object.keys(P[0])[0];ae(t),ee(P[0][t])}},[k,P]);var ve=k.map(function(e){return Object.keys(e)[0]}),ye=P.map(function(e){return Object.keys(e)[0]}),ge=["#f14c14","#f39c35","#68BC00","#1d7b63","#4e97a8","#4466a3"],be=["#8884d8","#83a6ed","#8dd1e1","#82ca9d","#ffbb00","#ff7f50","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#adff2f","#008080"],Ee={color:"#fff",fontWeight:"bold"};return a.a.createElement(vt.a,{sx:{margin:"20px"}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:4,sx:{marginTop:"20px"}},a.a.createElement(Cr.a,{control:a.a.createElement(Xu.a,{checked:fe,disabled:!0}),label:"Privacy"}))),fe?a.a.createElement("div",{style:{filter:"blur(4px)"}},a.a.createElement(Et.a,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},sx:{margin:"20px"}},r.map(function(e,t){var r=0;return 0!==g&&(r=e.value/g*100),a.a.createElement(Et.a,{item:!0,xs:1,sm:2,md:3,lg:3,key:t,sx:{marginTop:"20px"}},a.a.createElement(vt.a,{sx:{backgroundColor:be[t%be.length],textAlign:"center"}},a.a.createElement(vt.a,{display:"flex",flexDirection:"row",justifyContent:"space-around"},a.a.createElement(vt.a,{sx:{marginTop:"10px"}},a.a.createElement(Ub,{variant:"determinate",value:r})),a.a.createElement(vt.a,{sx:{marginTop:"10px"}},a.a.createElement(E.a,{variant:"subtitle1",sx:{color:"white",fontWeight:"bold"}},e.label),a.a.createElement(E.a,{variant:"h6",sx:{color:"white",fontWeight:"bold"}},e.value)))))})),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,lg:6},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Actual vs Forecast(Quantity)"),a.a.createElement(v.a,null),a.a.createElement(Tp,{chartType:"ColumnChart",data:[["Combination","Actual","Forecast"]].concat(Object(ln.a)(t.map(function(e){return[e.combination,e.actual,e.forecast]}))),options:{width:"100%",height:"300px"},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Et.a,{item:!0,xs:12,lg:6},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"New Customer Data"),a.a.createElement(v.a,null),a.a.createElement(Tp,{chartType:"LineChart",data:[["Combination","Count"]].concat(Object(ln.a)(o.map(function(e){return[e.combination,e.count]}))),options:{width:"100%",height:"300px"},widthStyle:"100%",heightStyle:"300px"})))))):a.a.createElement("div",null,a.a.createElement(Et.a,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},sx:{margin:"20px"}},r.map(function(e,t){var r=0;return 0!==g&&(r=e.value/g*100),a.a.createElement(Et.a,{item:!0,xs:1,sm:2,md:3,lg:3,key:t,sx:{marginTop:"20px"}},a.a.createElement(vt.a,{sx:{backgroundColor:be[t%be.length],textAlign:"center"}},a.a.createElement(vt.a,{display:"flex",flexDirection:"row",justifyContent:"space-around"},a.a.createElement(vt.a,{sx:{marginTop:"10px"}},a.a.createElement(Ub,{variant:"determinate",value:r})),a.a.createElement(vt.a,{sx:{marginTop:"10px"}},a.a.createElement(E.a,{variant:"subtitle1",sx:{color:"white",fontWeight:"bold"}},e.label),a.a.createElement(E.a,{variant:"h6",sx:{color:"white",fontWeight:"bold"}},e.value)))))})),a.a.createElement(Et.a,{container:!0,spacing:1,sx:{my:"20px"}},!M.groups.includes("Sales Executive")&&a.a.createElement(Tr.a,{sx:{width:"100%",padding:"20px"}},a.a.createElement(Et.a,{container:!0,alignItems:"center",spacing:1},a.a.createElement(Et.a,{item:!0,xs:9,sm:9,md:9,lg:9},a.a.createElement(yr,{size:"small",value:de,onChange:function(e,t){return m(t)},options:he,groupBy:function(e){return e.primaryGroup||""},getOptionLabel:function(e){return e.email},label:"Filter By Sales Person"}))))),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,lg:6},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Actual vs Forecast(Quantity)"),a.a.createElement(v.a,null),a.a.createElement(Tp,{chartType:"ColumnChart",data:[["Combination","Actual","Forecast"]].concat(Object(ln.a)(t.map(function(e){return[e.combination,e.actual,e.forecast]}))),options:{width:"100%",height:"300px"},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Et.a,{item:!0,xs:12,lg:6},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"New Customer Data"),a.a.createElement(v.a,null),a.a.createElement(Tp,{chartType:"LineChart",data:[["Combination","Count"]].concat(Object(ln.a)(o.map(function(e){return[e.combination,e.count]}))),options:{width:"100%",height:"300px"},widthStyle:"100%",heightStyle:"300px"}))))),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Pending Task Data"),a.a.createElement(v.a,null),a.a.createElement(Tp,{chartType:"PieChart",data:[["Label","Value"]].concat(Object(ln.a)(i.map(function(e){return[e.label,e.value]}))),options:{width:"100%",height:"300px",pieHole:.4},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Pending Follow-Up Data"),a.a.createElement(v.a,null),a.a.createElement(Tp,{chartType:"BarChart",data:[["Label","Value"]].concat(Object(ln.a)(c.map(function(e){return[e.label,e.value]}))),options:{width:"100%",height:"300px",legend:{position:"none"}},widthStyle:"100%",heightStyle:"300px"}))))),(!M.groups.includes("Sales Executive")||!M.groups.includes("Sales Assistant Deputy Manager"))&&a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"IndiaMart Leads"),a.a.createElement(v.a,null),a.a.createElement(Lt,{id:"date",size:"small",label:"Date",type:"date",value:R,onChange:z,InputLabelProps:{shrink:!0},sx:{width:"300px",marginTop:"10px"}}),a.a.createElement(Tp,{chartType:"ColumnChart",data:[["Day","Total Leads"]].concat(Object(ln.a)(w.map(function(e){return[e.day,e.totalLeads]}))),options:{width:"100%",height:"300px"},widthStyle:"100%",heightStyle:"300px"}))))),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"PI Data"),a.a.createElement(v.a,null),a.a.createElement(Tp,{chartType:"PieChart",data:[["Label","Value"]].concat(Object(ln.a)(b.map(function(e){return[e.label,e.value]}))),options:{width:"100%",height:"300px",pieHole:.4}})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Sales Funnel"),a.a.createElement(v.a,null),a.a.createElement("div",{className:"funnelChart",style:{width:"100%",minHeight:"1px",fontSize:"12px",padding:"10px 0",margin:"2px 0",color:"black",clipPath:"polygon(0 0, 100% 0, 60% 78%, 60% 90%, 40% 100%, 40% 78%)",WebkitClipPath:"polygon(0 0, 100% 0, 60% 78%, 60% 90%, 40% 100%, 40% 78%)",textAlign:"center"}},O.map(function(e,t){return a.a.createElement("div",{key:t,className:"chartSegment",style:{backgroundColor:ge[t%ge.length],opacity:_===e?.7:1},onMouseEnter:function(){return d(e)},onClick:function(){return j(e)}},a.a.createElement("span",{style:Ee},e.label),"\xa0",a.a.createElement("span",{style:Ee},e.value))})))))),a.a.createElement(Et.a,{item:!0,xs:12,sm:12,sx:{marginTop:"20px"}},a.a.createElement(yt.a,{variant:"monthly"===ce?"contained":"outlined",sx:{margin:"0 10px 10px 0"},color:"primary",onClick:function(){return me("monthly")}},"Monthly Call Status"),a.a.createElement(yt.a,{variant:"weekly"===ce?"contained":"outlined",sx:{margin:"0 10px 10px 0"},color:"primary",onClick:function(){return me("weekly")}},"Weekly Call Status"),a.a.createElement(yt.a,{variant:"daily"===ce?"contained":"outlined",sx:{margin:"0 10px 10px 0"},color:"primary",onClick:function(){return me("daily")}},"Daily Call Status"),"monthly"===ce&&a.a.createElement(Tp,{chartType:"ColumnChart",data:[["Month","Existing Lead","New Lead","Customer"]].concat(Object(ln.a)(f.map(function(e){return[e.combination,e.existing_lead,e.new_lead,e.customer]}))),options:{title:"Monthly Call Status",width:"100%",height:"400px",isStacked:!0,legend:{position:"top"}},widthStyle:"100%",heightStyle:"300px"}),"weekly"===ce&&a.a.createElement(Tp,{chartType:"ColumnChart",data:[["Week","Existing Lead","New Lead","Customer"]].concat(Object(ln.a)(p.map(function(e){return[e.combination,e.existing_lead,e.new_lead,e.customer]}))),options:{title:"Weekly Call Status",width:"100%",height:"400px",curveType:"function",legend:{position:"top"}},widthStyle:"100%",heightStyle:"300px"}),"daily"===ce&&a.a.createElement(Tp,{chartType:"ColumnChart",data:[["Day","Existing Lead","New Lead","Customer"]].concat(Object(ln.a)(h.map(function(e){return[e.combination,e.existing_lead,e.new_lead,e.customer]}))),options:{title:"Daily Call Status",width:"100%",height:"400px",legend:{position:"top"}},widthStyle:"100%",heightStyle:"300px"})),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"OrderBook Pending Quantity by Description"),a.a.createElement(v.a,null),a.a.createElement(Tp,{chartType:"BarChart",data:[["Product Description","Pending Quantity"]].concat(Object(ln.a)(u.map(function(e){return[e.name,e.value]}))),options:{width:"100%",height:"400px",legend:{position:"none"}},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Description"),a.a.createElement(v.a,null),a.a.createElement(Tp,{chartType:"PieChart",data:[["Product Description","Quantity"]].concat(Object(ln.a)(L.map(function(e){return[e.name,e.value]}))),options:{width:"100%",height:"400px"},widthStyle:"100%",heightStyle:"300px"}))))),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:12,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Call Performance"),a.a.createElement(v.a,null),a.a.createElement(vt.a,{display:"flex",alignItems:"center",justifyContent:"start",sx:{marginTop:"20px"}},a.a.createElement(tr.a,{sx:{minWidth:120,marginRight:2}},a.a.createElement(rr.a,{id:"date-select-label"},"Date"),a.a.createElement(nr.a,{labelId:"date-select-label",id:"date-select",label:"Date",value:D||"",onChange:C,size:"small"},Yb.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.value)}))),"Custom Date"===D&&a.a.createElement(a.a.Fragment,null,a.a.createElement(tr.a,{sx:{marginRight:2}},a.a.createElement(Lt,{fullWidth:!0,label:"Start Date",variant:"outlined",size:"small",type:"date",id:"start-date",value:A?A.toISOString().split("T")[0]:"",min:G,max:F,onChange:N})),a.a.createElement(tr.a,null,a.a.createElement(Lt,{fullWidth:!0,label:"End Date",variant:"outlined",size:"small",type:"date",id:"end-date",value:I?I.toISOString().split("T")[0]:"",min:A?A.toISOString().split("T")[0]:G,max:F,onChange:T,disabled:!A})),a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:W,sx:{marginLeft:2}},"Reset"))),a.a.createElement(Tp,{chartType:"BarChart",data:[["Call Category","Value"]].concat(Object(ln.a)(S.map(function(e){return[e.name,e.value]}))),options:{width:"100%",height:"400px"},widthStyle:"100%",heightStyle:"300px"}))))),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Daily Sales Invoice Quantity"),a.a.createElement(v.a,null),a.a.createElement(yr,{sx:{marginTop:"10px"},size:"small",value:K,onChange:function(e){J(e);var t=k.find(function(t){return t.hasOwnProperty(e)});t&&t[e]&&V(t[e])},options:ve,getOptionLabel:function(e){return e},label:"Filter By Description"}),a.a.createElement(Tp,{chartType:"LineChart",data:[["Date","Total"]].concat(Object(ln.a)(q.map(function(e){return[e.sales_invoice__generation_date,e.total]}))),options:{width:"100%",height:"400px"},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Daily Sales OrderBook Quantity"),a.a.createElement(v.a,null),a.a.createElement(yr,{sx:{marginTop:"10px"},size:"small",value:ne,onChange:function(e){ae(e);var t=P.find(function(t){return t.hasOwnProperty(e)});t&&t[e]&&ee(t[e])},options:ye,getOptionLabel:function(e){return e},label:"Filter By Description"}),a.a.createElement(Tp,{chartType:"LineChart",data:[["Date","Total"]].concat(Object(ln.a)($&&$.map(function(e){return[e.orderbook__proforma_invoice__generation_date,e.total]})||[])),options:{width:"100%",height:"400px"},widthStyle:"100%",heightStyle:"300px"})))))))};function Ub(e){return a.a.createElement(vt.a,{sx:{position:"relative",display:"inline-flex"}},a.a.createElement(kt.a,Object.assign({variant:"indeterminate"},e,{size:60})),a.a.createElement(vt.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},a.a.createElement(E.a,{variant:"caption",component:"div",color:"#ffffff"},"".concat(Math.round(e.value),"%"))))}var Yb=[{value:"Today"},{value:"Yesterday"},{value:"Last 3 Days"},{value:"Last 7 Days"},{value:"Last 14 Days"},{value:"Last 30 Days"},{value:"Last 90 Days"},{value:"Last 180 Days"},{value:"Last 365 Days"},{value:"This Month"},{value:"Last Month"},{value:"Custom Date"}];function qb(){qb=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Vb=function(){var e=Object(f.n)(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)([]),p=Object(l.a)(u,2),h=p[0],d=p[1],m=Object(n.useState)([]),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)([]),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Object(n.useState)([]),F=Object(l.a)(I,2),G=F[0],W=F[1],B=Object(n.useState)([]),R=Object(l.a)(B,2),z=R[0],M=R[1],U=Object(n.useState)([]),Y=Object(l.a)(U,2),q=Y[0],V=Y[1],Q=Object(n.useState)([]),H=Object(l.a)(Q,2),K=H[0],J=H[1],Z=Object(n.useState)([]),X=Object(l.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)([]),re=Object(l.a)(te,2),ne=re[0],ae=re[1],oe=Object(n.useState)([]),ie=Object(l.a)(oe,2),ce=ie[0],le=ie[1],ue=Object(n.useState)([]),se=Object(l.a)(ue,2),fe=se[0],pe=se[1],he=Object(n.useState)([]),de=Object(l.a)(he,2),me=de[0],ve=de[1],ye=Object(n.useState)([]),ge=Object(l.a)(ye,2),be=ge[0],Ee=ge[1],we=Object(n.useState)([]),xe=Object(l.a)(we,2),Oe=xe[0],_e=xe[1],je=Object(n.useState)(!1),Le=Object(l.a)(je,2),Se=Le[0],ke=Le[1],Pe=Object(n.useState)(null),Ce=Object(l.a)(Pe,2),De=Ce[0],Ne=Ce[1],Te=Object(n.useState)(null),Ae=Object(l.a)(Te,2),Ie=Ae[0],Fe=Ae[1],Ge=Object(n.useState)(0),We=Object(l.a)(Ge,2),Be=We[0],Re=We[1],ze=Object(n.useState)(null),Me=Object(l.a)(ze,2),Ue=Me[0],Ye=Me[1],qe=Object(s.c)(function(e){return e.auth.profile}),Ve=new Date,Qe=new Date(Ve.getFullYear(),Ve.getMonth(),1),He=new Date(Ve.getFullYear(),Ve.getMonth()+1,0),Ke=Object(n.useState)("This Month"),Je=Object(l.a)(Ke,2),Ze=Je[0],Xe=Je[1],$e=Object(n.useState)(He),et=Object(l.a)($e,2),tt=et[0],rt=et[1],nt=Object(n.useState)(Qe),at=Object(l.a)(nt,2),ot=at[0],it=at[1],ct=(new Date).toISOString().split("T")[0],lt=new Date("2030-12-31").toISOString().split("T")[0],ut=Ve.toISOString().split("T")[0],st=Object(n.useState)(ut),ft=Object(l.a)(st,2),pt=ft[0],ht=ft[1];Object(n.useEffect)(function(){dt(),mt(),yt(),gt(),bt(),Et(),wt(),xt(),Ot(),_t(),jt(),Lt(),kt(),Dt(),Nt()},[]),Object(n.useEffect)(function(){vt()},[qe]),Object(n.useEffect)(function(){Ue?Vt(Ue,ot,tt):Ct()},[ot,tt]);var dt=function(){var e=Object(c.a)(qb().mark(function e(){var t,r;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getLeadDashboard();case 4:t=e.sent,r=[{name:"new",label:"New",value:t.data.new},{name:"open",label:"Open",value:t.data.open},{name:"opportunity",label:"Opportunity",value:t.data.opportunity},{name:"potential",label:"Potential",value:t.data.potential},{name:"not_interested",label:"Not Interested",value:t.data.not_interested},{name:"converted",label:"Converted",value:t.data.converted}],d(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),mt=function(){var e=Object(c.a)(qb().mark(function e(){var t,r,n;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getCustomerDashboard();case 4:t=e.sent,r=t.data.active_customers+t.data.dead_customers+t.data.new_customers,Re(r),n=[{label:"Active Customers",value:t.data.active_customers},{label:"Dead Customers",value:t.data.dead_customers},{label:"New Customers",value:t.data.new_customers},{label:"Total",value:r}],x(n),i(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}(),vt=function(){var e=Object(c.a)(qb().mark(function e(){var t,r,n,a;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getLastThreeMonthForecastData();case 4:t=e.sent,r=Object.keys(t.data),n=r.every(function(e){return 0===t.data[e].length}),a=[],n||(a=r.flatMap(function(e){return t.data[e].map(function(e){return{combination:"".concat(Qb[e.month-1],"-").concat(e.year),actual:e.actual||0,forecast:e.total_forecast||0}})})).forEach(function(e){e.combination=String(e.combination)}),g(a),i(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}(),yt=function(){var e=Object(c.a)(qb().mark(function e(){var t,r;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,ea.getDispatchDashboardData();case 4:t=e.sent,r=[{name:"LR-M1",value:t.data.LR_M1,unit:"M1",type:"LR"},{name:"LR-M2",value:t.data.LR_M2,unit:"M2",type:"LR"},{name:"LR-D1",value:t.data.LR_D1,unit:"D1",type:"LR"},{name:"POD-M1",value:t.data.POD_M1,unit:"M1",type:"POD"},{name:"POD-M2",value:t.data.POD_M2,unit:"M2",type:"POD"},{name:"POD-D1",value:t.data.POD_D1,unit:"D1",type:"POD"}],L(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),gt=function(){var e=Object(c.a)(qb().mark(function e(){var t,r;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getNewCustomerData();case 4:t=e.sent,r=t.data.map(function(e){return{combination:"".concat(Qb[e.month-1],"-").concat(e.year),count:e.count}}),C(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.error("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),bt=function(){var e=Object(c.a)(qb().mark(function e(){var t,r;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getPendingTaskData();case 4:t=e.sent,r=[{label:"Activity",value:t.data.atleast_one_activity},{label:"No Activity",value:t.data.no_activity},{label:"Overdue Tasks",value:t.data.overdue_tasks}],A(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),Et=function(){var e=Object(c.a)(qb().mark(function e(){var t,r;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getPendingFollowupData();case 4:t=e.sent,r=[{label:"Upcoming FollowUp",value:t.data.upcoming_followups},{label:"Today FollowUp",value:t.data.todays_follow_ups},{label:"Overdue FollowUp",value:t.data.overdue_follow_ups}],W(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),wt=function(){var e=Object(c.a)(qb().mark(function e(){var t,r;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getPIData();case 4:t=e.sent,r=[{label:"Paid PI",value:t.data.paid_pi},{label:"Unpaid PI",value:t.data.unpaid_pi},{label:"Dropped PI",value:t.data.dropped_pi}],J(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),xt=function(){var e=Object(c.a)(qb().mark(function e(){var t,r;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getIndiaMartLeadData();case 4:t=e.sent,r=t.data.map(function(e){return{day:e.day,totalLeads:e.total_leads}}),ee(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.error("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(c.a)(qb().mark(function e(){var t,r;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getDescriptionWisePendingQuantityData();case 4:t=e.sent,r=t.data.map(function(e){return{name:e.product__description__name,value:e.total_pending_quantity}}),M(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),_t=function(){var e=Object(c.a)(qb().mark(function e(){var t,r;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getMonthlyCallStatusData();case 4:t=e.sent,r=Object.keys(t.data).flatMap(function(e){return t.data[e].map(function(e){return{combination:"".concat(Qb[e.month-1],"-").concat(e.year),existing_lead:e.existing_lead,new_lead:e.new_lead,customer:e.customer}})}),ae(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),jt=function(){var e=Object(c.a)(qb().mark(function e(){var t,r;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getWeeklyCallStatusData();case 4:t=e.sent,r=t.data.map(function(e){var t=Object.keys(e)[0],r=e[t][0];return{combination:t,existing_lead:r.existing_lead,new_lead:r.new_lead,customer:r.customer}}),le(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),Lt=function(){var e=Object(c.a)(qb().mark(function e(){var t,r;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getDailyCallStatusData();case 4:t=e.sent,r=t.data.map(function(e){var t=Object.keys(e)[0],r=e[t][0];return{combination:St(t),existing_lead:r.existing_lead,new_lead:r.new_lead,customer:r.customer}}),pe(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),St=function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].indexOf(e);return-1!==t?["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t]:e},kt=function(){var e=Object(c.a)(qb().mark(function e(){var t,r;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getDescriptionWiseQuantityData();case 4:t=e.sent,r=t.data.map(function(e){return{name:e.product__description__name,value:e.total_quantity}}),V(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),Ct=function(){var e=Object(c.a)(qb().mark(function e(){var t,r,n,a,o,c,l;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),t=6e4*ot.getTimezoneOffset(),r=new Date(ot.getTime()-t),n=new Date(tt.getTime()-t),a=r.toISOString().split("T")[0],o=n.toISOString().split("T")[0],e.next=9,Nb.getCallPerformanceData(a,o);case 9:c=e.sent,l=[{name:"Order",value:c.data.order},{name:"Followup",value:c.data.followup},{name:"Credit",value:c.data.credit},{name:"Issue",value:c.data.issue},{name:"Not Connect",value:c.data.not_connect},{name:"OEM",value:c.data.oem},{name:"One Time",value:c.data.one_time},{name:"Passed",value:c.data.passed},{name:"Potential",value:c.data.potential},{name:"Sample",value:c.data.sample},{name:"Dropped",value:c.data.dropped}],ve(l),i(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 19:case"end":return e.stop()}},e,null,[[0,15]])}));return function(){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(c.a)(qb().mark(function e(){var t;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getDailyInvoiceQuantityData();case 4:t=e.sent,Ee(t.data),i(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(c.a)(qb().mark(function e(){var t;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getDailyOrderBookQuantityData();case 4:t=e.sent,_e(t.data),i(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(c.a)(qb().mark(function e(t){var r,n,a,o,c;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getLastThreeMonthForecastDataByFilter(r);case 5:n=e.sent,a=Object.keys(n.data),o=a.every(function(e){return 0===n.data[e].length}),c=[],o||(c=a.flatMap(function(e){return n.data[e].map(function(e){return{combination:"".concat(Qb[e.month-1],"-").concat(e.year),actual:e.actual||0,forecast:e.total_forecast||0}})})).forEach(function(e){e.combination=String(e.combination)}),g(c),i(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 18:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t){return e.apply(this,arguments)}}(),At=function(){var e=Object(c.a)(qb().mark(function e(t){var r,n,a;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getNewCustomerDataByFilter(r);case 5:n=e.sent,a=n.data.map(function(e){return{combination:"".concat(Qb[e.month-1],"-").concat(e.year),count:e.count}}),C(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),It=function(){var e=Object(c.a)(qb().mark(function e(t){var r,n,a;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getPendingTaskDataByFilter(r);case 5:n=e.sent,a=[{label:"Activity",value:n.data.atleast_one_activity},{label:"No Activity",value:n.data.no_activity},{label:"Overdue Tasks",value:n.data.overdue_tasks}],A(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(c.a)(qb().mark(function e(t){var r,n,a;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getPendingFollowupDataByFilter(r);case 5:n=e.sent,a=[{label:"Upcoming FollowUp",value:n.data.upcoming_followups},{label:"Today FollowUp",value:n.data.todays_follow_ups},{label:"Overdue FollowUp",value:n.data.overdue_follow_ups}],W(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(c.a)(qb().mark(function e(t){var r,n,a;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getPIDataByFilter(r);case 5:n=e.sent,a=[{label:"Paid PI",value:n.data.paid_pi},{label:"Unpaid PI",value:n.data.unpaid_pi},{label:"Dropped PI",value:n.data.dropped_pi}],J(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),Wt=function(){var e=Object(c.a)(qb().mark(function e(t){var r,n,a;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),r=t.target.value,e.next=5,Nb.getIndiaMartLeadDataByFilter(r);case 5:n=e.sent,a=n.data.map(function(e){return{day:e.day,totalLeads:e.total_leads}}),ee(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(c.a)(qb().mark(function e(t){var r,n,a,o;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getCustomerDataByFilter(r);case 5:n=e.sent,a=n.data.active_customers+n.data.dead_customers+n.data.new_customers,Re(a),o=[{label:"Active Customers",value:n.data.active_customers},{label:"Dead Customers",value:n.data.dead_customers},{label:"New Customers",value:n.data.new_customers},{label:"Total",value:a}],x(o),i(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(c.a)(qb().mark(function e(t){var r,n,a;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getLeadDataByFilter(r);case 5:n=e.sent,a=[{name:"new",label:"New",value:n.data.new},{name:"open",label:"Open",value:n.data.open},{name:"opportunity",label:"Opportunity",value:n.data.opportunity},{name:"potential",label:"Potential",value:n.data.potential},{name:"not_interested",label:"Not Interested",value:n.data.not_interested},{name:"converted",label:"Converted",value:n.data.converted}],d(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),zt=function(){var e=Object(c.a)(qb().mark(function e(t){var r,n,a;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getDescriptionWisePendingQuantityDataByFilter(r);case 5:n=e.sent,a=n.data.map(function(e){return{name:e.product__description__name,value:e.total_pending_quantity}}),M(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(c.a)(qb().mark(function e(t){var r,n,a;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getMonthlyCallStatusDataByFilter(r);case 5:n=e.sent,a=Object.keys(n.data).flatMap(function(e){return n.data[e].map(function(e){return{combination:"".concat(Qb[e.month-1],"-").concat(e.year),existing_lead:e.existing_lead,new_lead:e.new_lead,customer:e.customer}})}),ae(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),Ut=function(){var e=Object(c.a)(qb().mark(function e(t){var r,n,a;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getWeeklyCallStatusDataByFilter(r);case 5:n=e.sent,a=n.data.map(function(e){var t=Object.keys(e)[0],r=e[t][0];return{combination:t,existing_lead:r.existing_lead,new_lead:r.new_lead,customer:r.customer}}),le(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),Yt=function(){var e=Object(c.a)(qb().mark(function e(t){var r,n,a;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getDailyCallStatusDataByFilter(r);case 5:n=e.sent,a=n.data.map(function(e){var t=Object.keys(e)[0],r=e[t][0];return{combination:St(t),existing_lead:r.existing_lead,new_lead:r.new_lead,customer:r.customer}}),pe(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),qt=function(){var e=Object(c.a)(qb().mark(function e(t){var r,n,a;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getDescriptionWiseQuantityDataByFilter(r);case 5:n=e.sent,a=n.data.map(function(e){return{name:e.product__description__name,value:e.total_quantity}}),V(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),Vt=function(){var e=Object(c.a)(qb().mark(function e(t,r,n){var a,o,c,l,u;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),a=t,o=r?r.toISOString().split("T")[0]:"",c=n?n.toISOString().split("T")[0]:"",e.next=7,Nb.getCallPerformanceDataByFilter(a,o,c);case 7:l=e.sent,u=[{name:"Order",value:l.data.order},{name:"Followup",value:l.data.followup},{name:"Credit",value:l.data.credit},{name:"Issue",value:l.data.issue},{name:"Not Connect",value:l.data.not_connect},{name:"OEM",value:l.data.oem},{name:"One Time",value:l.data.one_time},{name:"Passed",value:l.data.passed},{name:"Potential",value:l.data.potential},{name:"Sample",value:l.data.sample},{name:"Dropped",value:l.data.dropped}],ve(u),i(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t,r,n){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(c.a)(qb().mark(function e(t){var r,n;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),r=t,e.next=5,Nb.getDailyInvoiceQuantityDataByFilter(r);case 5:n=e.sent,Ee(n.data),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),Ht=function(){var e=Object(c.a)(qb().mark(function e(t){var r,n;return qb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),r=t,e.next=5,Nb.getDailyOrderBookQuantityDataByFilter(r);case 5:n=e.sent,_e(n.data),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:o}),a.a.createElement(Mb,{barChartData:y,pieChartData:w,horizontalBarData:j,newCustomerData:P,pendingTask:T,pendingFollowup:G,pendingDescription:z,piData:K,indiaMartLeadData:$,monthlyStatus:ne,weeklyStatus:ce,dailyStatus:fe,handleSegmentHover:function(e){Ne(e)},handleAutocompleteChange:function(e){e?(Ye(e.email),Fe(e.email),Tt(e.email),At(e.email),It(e.email),Ft(e.email),Gt(e.email),Bt(e.email),Rt(e.email),zt(e.email),Mt(e.email),Ut(e.email),Yt(e.email),qt(e.email),Vt(e.email,ot,tt),Qt(e.email),Ht(e.email)):(vt(),gt(),bt(),Et(),mt(),wt(),dt(),Fe(null),Ot(),Ye(null),_t(),jt(),Lt(),kt(),Ct(),Dt(),Nt())},assign:Ie,total:Be,getResetDate:function(){it(Qe),rt(He),Xe("This Month")},funnelData:h,hoveredSegment:De,handleRowClick:function(t){"New"===t.label&&e("/leads/all-lead"),"Open"===t.label&&e("/leads/all-lead")},descriptionQuantity:q,callPerformance:me,dailyInvoiceQuantity:be,dailyOrderBookQuantity:Oe,handleChange:function(e){var t=e.target.value;Xe(t);var r,n,a=new Date;switch(t){case"Today":r=new Date(a),n=new Date(a.getTime()+864e5);break;case"Yesterday":r=new Date(a.setDate(a.getDate()-1)),n=new Date;break;case"Last 3 Days":r=new Date(a.setDate(a.getDate()-2)),n=new Date;break;case"Last 7 Days":r=new Date(a.setDate(a.getDate()-6)),n=new Date;break;case"Last 14 Days":r=new Date(a.setDate(a.getDate()-13)),n=new Date;break;case"Last 30 Days":r=new Date(a.setDate(a.getDate()-29)),n=new Date;break;case"Last 90 Days":r=new Date(a.setDate(a.getDate()-89)),n=new Date;break;case"Last 180 Days":r=new Date(a.setDate(a.getDate()-179)),n=new Date;break;case"Last 365 Days":r=new Date(a.setDate(a.getDate()-364)),n=new Date;break;case"This Month":r=new Date(a.getFullYear(),a.getMonth(),1),n=new Date(a.getFullYear(),a.getMonth()+1,0);break;case"Last Month":n=new Date(a.getFullYear(),a.getMonth(),0),r=new Date(n.getFullYear(),n.getMonth(),1),n=new Date(n.getFullYear(),n.getMonth()+1,0);break;case"Custom Date":r=new Date,(n=new Date).setDate(r.getDate()+1)}r&&n&&(it(r),rt(n))},selectedDate:Ze,handleStartDateChange:function(e){var t=new Date(e.target.value);it(t),rt(new Date)},handleEndDateChange:function(e){var t=new Date(e.target.value);rt(t)},startDate:ot,endDate:tt,maxDate:lt,minDate:ct,openPopup3:Se,setOpenPopup3:ke,team:!1,selectedWeek:pt,handleDateChange:function(e){ht(e.target.value),Wt(e)}}))},Qb=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Hb=function(e){var t=e.barChartData,r=e.pieChartData,o=e.newCustomerData,i=e.pendingTask,c=e.pendingFollowup,u=e.pendingDescription,f=e.monthlyStatus,p=e.weeklyStatus,h=e.dailyStatus,d=e.handleSegmentHover,m=e.handleAutocompleteChange,y=e.assign,g=e.total,b=e.piData,w=e.funnelData,O=e.hoveredSegment,_=e.handleRowClick,j=e.descriptionQuantity,L=e.callPerformance,S=e.dailyInvoiceQuantity,k=e.dailyOrderBookQuantity,P=e.handleChange,C=e.selectedDate,D=e.handleStartDateChange,N=e.handleEndDateChange,T=e.startDate,A=e.endDate,I=e.maxDate,F=e.minDate,G=e.getResetDate,W=e.team,B=Object(s.c)(function(e){return e.auth.profile}),R=Object(n.useState)([]),z=Object(l.a)(R,2),M=z[0],U=z[1],Y=Object(n.useState)(null),q=Object(l.a)(Y,2),V=q[0],Q=q[1],H=Object(n.useState)([]),K=Object(l.a)(H,2),J=K[0],Z=K[1],X=Object(n.useState)(null),$=Object(l.a)(X,2),ee=$[0],te=$[1],re=Object(n.useState)("monthly"),ne=Object(l.a)(re,2),ae=ne[0],oe=ne[1],ie=B.sales_users||[],ce=ie;W&&(ce=ie.filter(function(e){return["Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Director"].includes(e.groups__name)}));var le=ce.map(function(e){return{email:e.email,primaryGroup:W?e.groups__name:null}}),ue=le.find(function(e){return e.email===y});le.sort(function(e,t){var r=["Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Director"],n=r.indexOf(e.primaryGroup),a=r.indexOf(t.primaryGroup);if(n<a)return-1;if(n>a)return 1;var o=e.email||"",i=t.email||"";return o.localeCompare(i)});var se=function(e){oe(e)};Object(n.useEffect)(function(){if(S.length){var e=Object.keys(S[0])[0];Q(e),U(S[0][e])}if(k.length){var t=Object.keys(k[0])[0];te(t),Z(k[0][t])}},[S,k]);var fe=S.map(function(e){return Object.keys(e)[0]}),pe=k.map(function(e){return Object.keys(e)[0]}),he=["#f14c14","#f39c35","#68BC00","#1d7b63","#4e97a8","#4466a3"],de=["#8884d8","#83a6ed","#8dd1e1","#82ca9d","#ffbb00","#ff7f50","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#adff2f","#008080"],me={color:"#fff",fontWeight:"bold"};return a.a.createElement(vt.a,{sx:{margin:"20px"}},a.a.createElement("div",null,a.a.createElement(Et.a,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},sx:{margin:"20px"}},r.map(function(e,t){var r=0;return 0!==g&&(r=e.value/g*100),a.a.createElement(Et.a,{item:!0,xs:1,sm:2,md:3,lg:3,key:t,sx:{marginTop:"20px"}},a.a.createElement(vt.a,{sx:{backgroundColor:de[t%de.length],textAlign:"center"}},a.a.createElement(vt.a,{display:"flex",flexDirection:"row",justifyContent:"space-around"},a.a.createElement(vt.a,{sx:{marginTop:"10px"}},a.a.createElement(Kb,{variant:"determinate",value:r})),a.a.createElement(vt.a,{sx:{marginTop:"10px"}},a.a.createElement(E.a,{variant:"subtitle1",sx:{color:"white",fontWeight:"bold"}},e.label),a.a.createElement(E.a,{variant:"h6",sx:{color:"white",fontWeight:"bold"}},e.value)))))})),a.a.createElement(Et.a,{container:!0,spacing:1,sx:{my:"20px"}},!B.groups.includes("Sales Executive")&&a.a.createElement(Tr.a,{sx:{width:"100%",padding:"20px"}},a.a.createElement(Et.a,{container:!0,alignItems:"center",spacing:1},a.a.createElement(Et.a,{item:!0,xs:9,sm:9,md:9,lg:9},a.a.createElement(yr,{size:"small",value:ue,onChange:function(e,t){return m(t)},options:le,groupBy:function(e){return e.primaryGroup||""},getOptionLabel:function(e){return e.email},label:"Filter By Sales Person"}))))),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Actual vs Forecast(Quantity)"),a.a.createElement(v.a,null),a.a.createElement(Tp,{chartType:"ColumnChart",data:[["Combination","Actual","Forecast"]].concat(Object(ln.a)(t.map(function(e){return[e.combination,e.actual,e.forecast]}))),options:{width:"100%",height:"300px"},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"New Customer Data"),a.a.createElement(v.a,null),a.a.createElement(Tp,{chartType:"LineChart",data:[["Combination","Count"]].concat(Object(ln.a)(o.map(function(e){return[e.combination,e.count]}))),options:{width:"100%",height:"300px"},widthStyle:"100%",heightStyle:"300px"}))))),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Pending Task Data"),a.a.createElement(v.a,null),a.a.createElement(Tp,{chartType:"PieChart",data:[["Label","Value"]].concat(Object(ln.a)(i.map(function(e){return[e.label,e.value]}))),options:{width:"100%",height:"300px",pieHole:.4},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Pending Follow-Up Data"),a.a.createElement(v.a,null),a.a.createElement(Tp,{chartType:"BarChart",data:[["Label","Value"]].concat(Object(ln.a)(c.map(function(e){return[e.label,e.value]}))),options:{width:"100%",height:"300px",legend:{position:"none"}},widthStyle:"100%",heightStyle:"300px"}))))),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"PI Data"),a.a.createElement(v.a,null),a.a.createElement(Tp,{chartType:"PieChart",data:[["Label","Value"]].concat(Object(ln.a)(b.map(function(e){return[e.label,e.value]}))),options:{width:"100%",height:"300px",pieHole:.4}})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Sales Funnel"),a.a.createElement(v.a,null),a.a.createElement("div",{className:"funnelChart",style:{width:"100%",minHeight:"1px",fontSize:"12px",padding:"10px 0",margin:"2px 0",color:"black",clipPath:"polygon(0 0, 100% 0, 60% 78%, 60% 90%, 40% 100%, 40% 78%)",WebkitClipPath:"polygon(0 0, 100% 0, 60% 78%, 60% 90%, 40% 100%, 40% 78%)",textAlign:"center"}},w.map(function(e,t){return a.a.createElement("div",{key:t,className:"chartSegment",style:{backgroundColor:he[t%he.length],opacity:O===e?.7:1},onMouseEnter:function(){return d(e)},onClick:function(){return _(e)}},a.a.createElement("span",{style:me},e.label),"\xa0",a.a.createElement("span",{style:me},e.value))})))))),a.a.createElement(Et.a,{item:!0,xs:12,sm:12,sx:{marginTop:"20px"}},a.a.createElement(yt.a,{variant:"monthly"===ae?"contained":"outlined",sx:{margin:"0 10px 10px 0"},color:"primary",onClick:function(){return se("monthly")}},"Monthly Call Status"),a.a.createElement(yt.a,{variant:"weekly"===ae?"contained":"outlined",sx:{margin:"0 10px 10px 0"},color:"primary",onClick:function(){return se("weekly")}},"Weekly Call Status"),a.a.createElement(yt.a,{variant:"daily"===ae?"contained":"outlined",sx:{margin:"0 10px 10px 0"},color:"primary",onClick:function(){return se("daily")}},"Daily Call Status"),"monthly"===ae&&a.a.createElement(Tp,{chartType:"ColumnChart",data:[["Month","Existing Lead","New Lead","Customer"]].concat(Object(ln.a)(f.map(function(e){return[e.combination,e.existing_lead,e.new_lead,e.customer]}))),options:{title:"Monthly Call Status",width:"100%",height:"400px",isStacked:!0,legend:{position:"top"}},widthStyle:"100%",heightStyle:"300px"}),"weekly"===ae&&a.a.createElement(Tp,{chartType:"ColumnChart",data:[["Week","Existing Lead","New Lead","Customer"]].concat(Object(ln.a)(p.map(function(e){return[e.combination,e.existing_lead,e.new_lead,e.customer]}))),options:{title:"Weekly Call Status",width:"100%",height:"400px",curveType:"function",legend:{position:"top"}},widthStyle:"100%",heightStyle:"300px"}),"daily"===ae&&a.a.createElement(Tp,{chartType:"ColumnChart",data:[["Day","Existing Lead","New Lead","Customer"]].concat(Object(ln.a)(h.map(function(e){return[e.combination,e.existing_lead,e.new_lead,e.customer]}))),options:{title:"Daily Call Status",width:"100%",height:"400px",legend:{position:"top"}},widthStyle:"100%",heightStyle:"300px"})),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"OrderBook Pending Quantity by Description"),a.a.createElement(v.a,null),a.a.createElement(Tp,{chartType:"BarChart",data:[["Product Description","Pending Quantity"]].concat(Object(ln.a)(u.map(function(e){return[e.name,e.value]}))),options:{width:"100%",height:"400px",legend:{position:"none"}},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Description"),a.a.createElement(v.a,null),a.a.createElement(Tp,{chartType:"PieChart",data:[["Product Description","Quantity"]].concat(Object(ln.a)(j.map(function(e){return[e.name,e.value]}))),options:{width:"100%",height:"400px"},widthStyle:"100%",heightStyle:"300px"}))))),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:12,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Call Performance"),a.a.createElement(v.a,null),a.a.createElement(vt.a,{display:"flex",alignItems:"center",justifyContent:"start",sx:{marginTop:"20px"}},a.a.createElement(tr.a,{sx:{minWidth:120,marginRight:2}},a.a.createElement(rr.a,{id:"date-select-label"},"Date"),a.a.createElement(nr.a,{labelId:"date-select-label",id:"date-select",label:"Date",value:C||"",onChange:P,size:"small"},Jb.map(function(e,t){return a.a.createElement(x.a,{key:t,value:e.value},e.value)}))),"Custom Date"===C&&a.a.createElement(a.a.Fragment,null,a.a.createElement(tr.a,{sx:{marginRight:2}},a.a.createElement(Lt,{fullWidth:!0,label:"Start Date",variant:"outlined",size:"small",type:"date",id:"start-date",value:T?T.toISOString().split("T")[0]:"",min:F,max:I,onChange:D})),a.a.createElement(tr.a,null,a.a.createElement(Lt,{fullWidth:!0,label:"End Date",variant:"outlined",size:"small",type:"date",id:"end-date",value:A?A.toISOString().split("T")[0]:"",min:T?T.toISOString().split("T")[0]:F,max:I,onChange:N,disabled:!T})),a.a.createElement(yt.a,{variant:"contained",color:"primary",onClick:G,sx:{marginLeft:2}},"Reset"))),a.a.createElement(Tp,{chartType:"BarChart",data:[["Call Category","Value"]].concat(Object(ln.a)(L.map(function(e){return[e.name,e.value]}))),options:{width:"100%",height:"400px"},widthStyle:"100%",heightStyle:"300px"}))))),a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Daily Sales Invoice Quantity"),a.a.createElement(v.a,null),a.a.createElement(yr,{sx:{marginTop:"10px"},size:"small",value:V,onChange:function(e){Q(e);var t=S.find(function(t){return t.hasOwnProperty(e)});t&&t[e]&&U(t[e])},options:fe,getOptionLabel:function(e){return e},label:"Filter By Description"}),a.a.createElement(Tp,{chartType:"LineChart",data:[["Date","Total"]].concat(Object(ln.a)(M.map(function(e){return[e.sales_invoice__generation_date,e.total]}))),options:{width:"100%",height:"400px"},widthStyle:"100%",heightStyle:"300px"})))),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,sx:{marginTop:"20px"}},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h6",color:"primary"},"Daily Sales OrderBook Quantity"),a.a.createElement(v.a,null),a.a.createElement(yr,{sx:{marginTop:"10px"},size:"small",value:ee,onChange:function(e){te(e);var t=k.find(function(t){return t.hasOwnProperty(e)});t&&t[e]&&Z(t[e])},options:pe,getOptionLabel:function(e){return e},label:"Filter By Description"}),a.a.createElement(Tp,{chartType:"LineChart",data:[["Date","Total"]].concat(Object(ln.a)(J&&J.map(function(e){return[e.orderbook__proforma_invoice__generation_date,e.total]})||[])),options:{width:"100%",height:"400px"},widthStyle:"100%",heightStyle:"300px"})))))))};function Kb(e){return a.a.createElement(vt.a,{sx:{position:"relative",display:"inline-flex"}},a.a.createElement(kt.a,Object.assign({variant:"indeterminate"},e,{size:60})),a.a.createElement(vt.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},a.a.createElement(E.a,{variant:"caption",component:"div",color:"#ffffff"},"".concat(Math.round(e.value),"%"))))}var Jb=[{value:"Today"},{value:"Yesterday"},{value:"Last 3 Days"},{value:"Last 7 Days"},{value:"Last 14 Days"},{value:"Last 30 Days"},{value:"Last 90 Days"},{value:"Last 180 Days"},{value:"Last 365 Days"},{value:"This Month"},{value:"Last Month"},{value:"Custom Date"}];function Zb(){Zb=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Xb=function(){var e=Object(f.n)(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],u=Object(n.useState)([]),p=Object(l.a)(u,2),h=p[0],d=p[1],m=Object(n.useState)([]),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),j=_[0],L=_[1],S=Object(n.useState)([]),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(n.useState)([]),N=Object(l.a)(D,2),T=N[0],A=N[1],I=Object(n.useState)([]),F=Object(l.a)(I,2),G=F[0],W=F[1],B=Object(n.useState)([]),R=Object(l.a)(B,2),z=R[0],M=R[1],U=Object(n.useState)([]),Y=Object(l.a)(U,2),q=Y[0],V=Y[1],Q=Object(n.useState)([]),H=Object(l.a)(Q,2),K=H[0],J=H[1],Z=Object(n.useState)([]),X=Object(l.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)([]),re=Object(l.a)(te,2),ne=re[0],ae=re[1],oe=Object(n.useState)([]),ie=Object(l.a)(oe,2),ce=ie[0],le=ie[1],ue=Object(n.useState)([]),se=Object(l.a)(ue,2),fe=se[0],pe=se[1],he=Object(n.useState)([]),de=Object(l.a)(he,2),me=de[0],ve=de[1],ye=Object(n.useState)([]),ge=Object(l.a)(ye,2),be=ge[0],Ee=ge[1],we=Object(n.useState)(!1),xe=Object(l.a)(we,2),Oe=xe[0],_e=xe[1],je=Object(n.useState)(null),Le=Object(l.a)(je,2),Se=Le[0],ke=Le[1],Pe=Object(n.useState)(null),Ce=Object(l.a)(Pe,2),De=Ce[0],Ne=Ce[1],Te=Object(n.useState)(0),Ae=Object(l.a)(Te,2),Ie=Ae[0],Fe=Ae[1],Ge=Object(n.useState)(null),We=Object(l.a)(Ge,2),Be=We[0],Re=We[1],ze=Object(s.c)(function(e){return e.auth.profile}),Me=new Date,Ue=new Date(Me.getFullYear(),Me.getMonth(),1),Ye=new Date(Me.getFullYear(),Me.getMonth()+1,0),qe=Object(n.useState)("This Month"),Ve=Object(l.a)(qe,2),Qe=Ve[0],He=Ve[1],Ke=Object(n.useState)(Ye),Je=Object(l.a)(Ke,2),Ze=Je[0],Xe=Je[1],$e=Object(n.useState)(Ue),et=Object(l.a)($e,2),tt=et[0],rt=et[1],nt=(new Date).toISOString().split("T")[0],at=new Date("2030-12-31").toISOString().split("T")[0];Object(n.useEffect)(function(){ot(),it(),lt(),ut(),st(),ft(),pt(),ht(),dt(),mt(),vt(),gt(),Et(),wt()},[]),Object(n.useEffect)(function(){ct()},[ze]),Object(n.useEffect)(function(){Be?It(Be,tt,Ze):bt()},[tt,Ze]);var ot=function(){var e=Object(c.a)(Zb().mark(function e(){var t,r;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getConsLeadDashboard();case 4:t=e.sent,r=[{name:"new",label:"New",value:t.data.new},{name:"open",label:"Open",value:t.data.open},{name:"opportunity",label:"Opportunity",value:t.data.opportunity},{name:"potential",label:"Potential",value:t.data.potential},{name:"not_interested",label:"Not Interested",value:t.data.not_interested},{name:"converted",label:"Converted",value:t.data.converted}],d(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),it=function(){var e=Object(c.a)(Zb().mark(function e(){var t,r,n;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getConsCustomerDashboard();case 4:t=e.sent,r=t.data.active_customers+t.data.dead_customers+t.data.new_customers,Fe(r),n=[{label:"Active Customers",value:t.data.active_customers},{label:"Dead Customers",value:t.data.dead_customers},{label:"New Customers",value:t.data.new_customers},{label:"Total",value:r}],x(n),i(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=Object(c.a)(Zb().mark(function e(){var t,r,n,a;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getConsLastThreeMonthForecastData();case 4:t=e.sent,r=Object.keys(t.data),n=r.every(function(e){return 0===t.data[e].length}),a=[],n||(a=r.flatMap(function(e){return t.data[e].map(function(e){return{combination:"".concat($b[e.month-1],"-").concat(e.year),actual:e.actual||0,forecast:e.total_forecast||0}})})).forEach(function(e){e.combination=String(e.combination)}),g(a),i(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}(),lt=function(){var e=Object(c.a)(Zb().mark(function e(){var t,r;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,ea.getConsDispatchDashboardData();case 4:t=e.sent,r=[{name:"LR-M1",value:t.data.LR_M1,unit:"M1",type:"LR"},{name:"LR-M2",value:t.data.LR_M2,unit:"M2",type:"LR"},{name:"LR-D1",value:t.data.LR_D1,unit:"D1",type:"LR"},{name:"POD-M1",value:t.data.POD_M1,unit:"M1",type:"POD"},{name:"POD-M2",value:t.data.POD_M2,unit:"M2",type:"POD"},{name:"POD-D1",value:t.data.POD_D1,unit:"D1",type:"POD"}],L(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=Object(c.a)(Zb().mark(function e(){var t,r;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getConsConsNewCustomerData();case 4:t=e.sent,r=Object.keys(t.data).flatMap(function(e){return t.data[e].map(function(e){return{combination:"".concat($b[e.month-1],"-").concat(e.year),count:e.count}})}),C(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),st=function(){var e=Object(c.a)(Zb().mark(function e(){var t,r;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getConsPendingTaskData();case 4:t=e.sent,r=[{label:"Activity",value:t.data.atleast_one_activity},{label:"No Activity",value:t.data.no_activity},{label:"Overdue Tasks",value:t.data.overdue_tasks}],A(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=Object(c.a)(Zb().mark(function e(){var t,r;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getConsPendingFollowupData();case 4:t=e.sent,r=[{label:"Upcoming FollowUp",value:t.data.upcoming_followups},{label:"Today FollowUp",value:t.data.todays_follow_ups},{label:"Overdue FollowUp",value:t.data.overdue_follow_ups}],W(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=Object(c.a)(Zb().mark(function e(){var t,r;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getConsPIData();case 4:t=e.sent,r=[{label:"Paid PI",value:t.data.paid_pi},{label:"Unpaid PI",value:t.data.unpaid_pi},{label:"Dropped PI",value:t.data.dropped_pi}],J(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),ht=function(){var e=Object(c.a)(Zb().mark(function e(){var t,r;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getConsDescriptionWisePendingQuantityData();case 4:t=e.sent,r=t.data.map(function(e){return{name:e.product__description__name,value:e.total_pending_quantity}}),M(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),dt=function(){var e=Object(c.a)(Zb().mark(function e(){var t,r;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getConsMonthlyCallStatusData();case 4:t=e.sent,r=Object.keys(t.data).flatMap(function(e){return t.data[e].map(function(e){return{combination:"".concat($b[e.month-1],"-").concat(e.year),existing_lead:e.existing_lead,new_lead:e.new_lead,customer:e.customer}})}),ee(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),mt=function(){var e=Object(c.a)(Zb().mark(function e(){var t,r;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getConsWeeklyCallStatusData();case 4:t=e.sent,r=t.data.map(function(e){var t=Object.keys(e)[0],r=e[t][0];return{combination:t,existing_lead:r.existing_lead,new_lead:r.new_lead,customer:r.customer}}),ae(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),vt=function(){var e=Object(c.a)(Zb().mark(function e(){var t,r;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getConsDailyCallStatusData();case 4:t=e.sent,r=t.data.map(function(e){var t=Object.keys(e)[0],r=e[t][0];return{combination:yt(t),existing_lead:r.existing_lead,new_lead:r.new_lead,customer:r.customer}}),le(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),yt=function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].indexOf(e);return-1!==t?["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t]:e},gt=function(){var e=Object(c.a)(Zb().mark(function e(){var t,r;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getConsDescriptionWiseQuantityData();case 4:t=e.sent,r=t.data.map(function(e){return{name:e.product__description__name,value:e.total_quantity}}),V(r),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),bt=function(){var e=Object(c.a)(Zb().mark(function e(){var t,r,n,a,o,c,l;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),t=6e4*tt.getTimezoneOffset(),r=new Date(tt.getTime()-t),n=new Date(Ze.getTime()-t),a=r.toISOString().split("T")[0],o=n.toISOString().split("T")[0],e.next=9,Nb.getConsCallPerformanceData(a,o);case 9:c=e.sent,l=[{name:"Order",value:c.data.order},{name:"Followup",value:c.data.followup},{name:"Credit",value:c.data.credit},{name:"Issue",value:c.data.issue},{name:"Not Connect",value:c.data.not_connect},{name:"OEM",value:c.data.oem},{name:"One Time",value:c.data.one_time},{name:"Passed",value:c.data.passed},{name:"Potential",value:c.data.potential},{name:"Sample",value:c.data.sample},{name:"Dropped",value:c.data.dropped}],pe(l),i(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),i(!1),console.log("err",e.t0);case 19:case"end":return e.stop()}},e,null,[[0,15]])}));return function(){return e.apply(this,arguments)}}(),Et=function(){var e=Object(c.a)(Zb().mark(function e(){var t;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getConsDailyInvoiceQuantityData();case 4:t=e.sent,ve(t.data),i(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),wt=function(){var e=Object(c.a)(Zb().mark(function e(){var t;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Nb.getConsDailyOrderBookQuantityData();case 4:t=e.sent,Ee(t.data),i(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),xt=function(){var e=Object(c.a)(Zb().mark(function e(t){var r,n,a,o,c;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getConsLastThreeMonthForecastDataByFilter(r);case 5:n=e.sent,a=Object.keys(n.data),o=a.every(function(e){return 0===n.data[e].length}),c=[],o||(c=a.flatMap(function(e){return n.data[e].map(function(e){return{combination:"".concat($b[e.month-1],"-").concat(e.year),actual:e.actual||0,forecast:e.total_forecast||0}})})).forEach(function(e){e.combination=String(e.combination)}),g(c),i(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 18:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(c.a)(Zb().mark(function e(t){var r,n,a;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getConsNewCustomerDataByFilter(r);case 5:n=e.sent,a=n.data.map(function(e){return{combination:"".concat($b[e.month-1],"-").concat(e.year),count:e.count}}),C(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),_t=function(){var e=Object(c.a)(Zb().mark(function e(t){var r,n,a;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getConsPendingTaskDataByFilter(r);case 5:n=e.sent,a=[{label:"Activity",value:n.data.atleast_one_activity},{label:"No Activity",value:n.data.no_activity},{label:"Overdue Tasks",value:n.data.overdue_tasks}],A(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=Object(c.a)(Zb().mark(function e(t){var r,n,a;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getConsPendingFollowupDataByFilter(r);case 5:n=e.sent,a=[{label:"Upcoming FollowUp",value:n.data.upcoming_followups},{label:"Today FollowUp",value:n.data.todays_follow_ups},{label:"Overdue FollowUp",value:n.data.overdue_follow_ups}],W(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),Lt=function(){var e=Object(c.a)(Zb().mark(function e(t){var r,n,a;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getConsPIDataByFilter(r);case 5:n=e.sent,a=[{label:"Paid PI",value:n.data.paid_pi},{label:"Unpaid PI",value:n.data.unpaid_pi},{label:"Dropped PI",value:n.data.dropped_pi}],J(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),St=function(){var e=Object(c.a)(Zb().mark(function e(t){var r,n,a,o;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getConsCustomerDataByFilter(r);case 5:n=e.sent,a=n.data.active_customers+n.data.dead_customers+n.data.new_customers,Fe(a),o=[{label:"Active Customers",value:n.data.active_customers},{label:"Dead Customers",value:n.data.dead_customers},{label:"New Customers",value:n.data.new_customers},{label:"Total",value:a}],x(o),i(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}(),kt=function(){var e=Object(c.a)(Zb().mark(function e(t){var r,n,a;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getConsLeadDataByFilter(r);case 5:n=e.sent,a=[{name:"new",label:"New",value:n.data.new},{name:"open",label:"Open",value:n.data.open},{name:"opportunity",label:"Opportunity",value:n.data.opportunity},{name:"potential",label:"Potential",value:n.data.potential},{name:"not_interested",label:"Not Interested",value:n.data.not_interested},{name:"converted",label:"Converted",value:n.data.converted}],d(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),Ct=function(){var e=Object(c.a)(Zb().mark(function e(t){var r,n,a;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getConsDescriptionWisePendingQuantityDataByFilter(r);case 5:n=e.sent,a=n.data.map(function(e){return{name:e.product__description__name,value:e.total_pending_quantity}}),M(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(c.a)(Zb().mark(function e(t){var r,n,a;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getConsMonthlyCallStatusDataByFilter(r);case 5:n=e.sent,a=Object.keys(n.data).flatMap(function(e){return n.data[e].map(function(e){return{combination:"".concat($b[e.month-1],"-").concat(e.year),existing_lead:e.existing_lead,new_lead:e.new_lead,customer:e.customer}})}),ee(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(c.a)(Zb().mark(function e(t){var r,n,a;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getConsWeeklyCallStatusDataByFilter(r);case 5:n=e.sent,a=n.data.map(function(e){var t=Object.keys(e)[0],r=e[t][0];return{combination:t,existing_lead:r.existing_lead,new_lead:r.new_lead,customer:r.customer}}),ae(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(c.a)(Zb().mark(function e(t){var r,n,a;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getConsDailyCallStatusDataByFilter(r);case 5:n=e.sent,a=n.data.map(function(e){var t=Object.keys(e)[0],r=e[t][0];return{combination:yt(t),existing_lead:r.existing_lead,new_lead:r.new_lead,customer:r.customer}}),le(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),At=function(){var e=Object(c.a)(Zb().mark(function e(t){var r,n,a;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,i(!0),e.next=5,Nb.getConsDescriptionWiseQuantityDataByFilter(r);case 5:n=e.sent,a=n.data.map(function(e){return{name:e.product__description__name,value:e.total_quantity}}),V(a),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),It=function(){var e=Object(c.a)(Zb().mark(function e(t,r,n){var a,o,c,l,u;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),a=t,o=r?r.toISOString().split("T")[0]:"",c=n?n.toISOString().split("T")[0]:"",e.next=7,Nb.getConsCallPerformanceDataByFilter(a,o,c);case 7:l=e.sent,u=[{name:"Order",value:l.data.order},{name:"Followup",value:l.data.followup},{name:"Credit",value:l.data.credit},{name:"Issue",value:l.data.issue},{name:"Not Connect",value:l.data.not_connect},{name:"OEM",value:l.data.oem},{name:"One Time",value:l.data.one_time},{name:"Passed",value:l.data.passed},{name:"Potential",value:l.data.potential},{name:"Sample",value:l.data.sample},{name:"Dropped",value:l.data.dropped}],pe(u),i(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error",e.t0),i(!1);case 17:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t,r,n){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(c.a)(Zb().mark(function e(t){var r,n;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),r=t,e.next=5,Nb.getConsDailyInvoiceQuantityDataByFilter(r);case 5:n=e.sent,ve(n.data),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(c.a)(Zb().mark(function e(t){var r,n;return Zb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),r=t,e.next=5,Nb.getConsDailyOrderBookQuantityDataByFilter(r);case 5:n=e.sent,Ee(n.data),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),console.log("Error:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt,{open:o}),a.a.createElement(Hb,{barChartData:y,pieChartData:w,horizontalBarData:j,newCustomerData:P,pendingTask:T,pendingFollowup:G,pendingDescription:z,piData:K,monthlyStatus:$,weeklyStatus:ne,dailyStatus:ce,handleSegmentHover:function(e){ke(e)},handleAutocompleteChange:function(e){e?(Re(e.email),Ne(e.email),xt(e.email),Ot(e.email),_t(e.email),jt(e.email),Lt(e.email),St(e.email),kt(e.email),Ct(e.email),Dt(e.email),Nt(e.email),Tt(e.email),At(e.email),It(e.email,tt,Ze),Ft(e.email),Gt(e.email)):(ct(),ut(),st(),ft(),it(),pt(),ot(),Ne(null),ht(),Re(null),dt(),mt(),vt(),gt(),bt(),Et(),wt())},assign:De,total:Ie,getResetDate:function(){rt(Ue),Xe(Ye),He("This Month")},funnelData:h,hoveredSegment:Se,handleRowClick:function(t){"New"===t.label&&e("/leads/all-lead"),"Open"===t.label&&e("/leads/all-lead")},descriptionQuantity:q,callPerformance:fe,dailyInvoiceQuantity:me,dailyOrderBookQuantity:be,handleChange:function(e){var t=e.target.value;He(t);var r,n,a=new Date;switch(t){case"Today":r=new Date(a),n=new Date(a.getTime()+864e5);break;case"Yesterday":r=new Date(a.setDate(a.getDate()-1)),n=new Date;break;case"Last 3 Days":r=new Date(a.setDate(a.getDate()-2)),n=new Date;break;case"Last 7 Days":r=new Date(a.setDate(a.getDate()-6)),n=new Date;break;case"Last 14 Days":r=new Date(a.setDate(a.getDate()-13)),n=new Date;break;case"Last 30 Days":r=new Date(a.setDate(a.getDate()-29)),n=new Date;break;case"Last 90 Days":r=new Date(a.setDate(a.getDate()-89)),n=new Date;break;case"Last 180 Days":r=new Date(a.setDate(a.getDate()-179)),n=new Date;break;case"Last 365 Days":r=new Date(a.setDate(a.getDate()-364)),n=new Date;break;case"This Month":r=new Date(a.getFullYear(),a.getMonth(),1),n=new Date(a.getFullYear(),a.getMonth()+1,0);break;case"Last Month":n=new Date(a.getFullYear(),a.getMonth(),0),r=new Date(n.getFullYear(),n.getMonth(),1),n=new Date(n.getFullYear(),n.getMonth()+1,0);break;case"Custom Date":r=new Date,(n=new Date).setDate(r.getDate()+1)}r&&n&&(rt(r),Xe(n))},selectedDate:Qe,handleStartDateChange:function(e){var t=new Date(e.target.value);rt(t),Xe(new Date)},handleEndDateChange:function(e){var t=new Date(e.target.value);Xe(t)},startDate:tt,endDate:Ze,maxDate:at,minDate:nt,openPopup3:Oe,setOpenPopup3:_e,team:!0}))},$b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function eE(){eE=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var tE=[{id:1,value:"All",label:"All States"},{id:1,value:"Andhra Pradesh",label:"Andhra Pradesh"},{id:2,value:"Arunachal Pradesh",label:"Arunachal Pradesh"},{id:3,value:"Assam",label:"Assam"},{id:4,value:"Bihar",label:"Bihar"},{id:5,value:"Chhattisgarh",label:"Chhattisgarh"},{id:6,value:"Goa",label:"Goa"},{id:7,value:"Gujarat",label:"Gujarat"},{id:8,value:"Haryana",label:"Haryana"},{id:9,value:"Himachal Pradesh",label:"Himachal Pradesh"},{id:10,value:"Jharkhand",label:"Jharkhand"},{id:11,value:"Karnataka",label:"Karnataka"},{id:12,value:"Kerala",label:"Kerala"},{id:13,value:"Madhya Pradesh",label:"Madhya Pradesh"},{id:14,value:"Maharashtra",label:"Maharashtra"},{id:15,value:"Manipur",label:"Manipur"},{id:16,value:"Meghalaya",label:"Meghalaya"},{id:17,value:"Mizoram",label:"Mizoram"},{id:18,value:"Nagaland",label:"Nagaland"},{id:19,value:"Odisha",label:"Odisha"},{id:20,value:"Punjab",label:"Punjab"},{id:21,value:"Rajasthan",label:"Rajasthan"},{id:22,value:"Sikkim",label:"Sikkim"},{id:23,value:"Tamil Nadu",label:"Tamil Nadu"},{id:24,value:"Telangana",label:"Telangana"},{id:25,value:"Tripura",label:"Tripura"},{id:26,value:"Uttar Pradesh",label:"Uttar Pradesh"},{id:27,value:"Uttarakhand",label:"Uttarakhand"},{id:28,value:"West Bengal",label:"West Bengal"},{id:28,value:"New Delhi",label:"New Delhi"},{id:29,value:"Jammu & Kashmir",label:"Jammu & Kashmir"},{id:30,value:"Ladakh",label:"Ladakh"}],rE=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(tE[0]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(null),h=Object(l.a)(p,2),d=(h[0],h[1]),m=Object(n.useState)(0),v=Object(l.a)(m,2),y=v[0],g=v[1];Object(n.useEffect)(function(){(function(){var e=Object(c.a)(eE().mark(function e(){var t;return eE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d(null),e.prev=1,e.next=4,Nb.getRetailerCustomerData(s.value);case 4:t=e.sent,o(t.data.state_based_count||[]),g(t.data.retailer_customer_count),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),d(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(){return e.apply(this,arguments)}})()()},[s]);var b=r.filter(function(e){return!(!s||"All"!==s.value)||s&&e.state===s.value});return a.a.createElement(gt.a,null,a.a.createElement(Tr.a,{elevation:3,sx:{padding:2,marginBottom:2}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(yr,{size:"small",value:s,onChange:function(e,t){f(t||tE[0])},options:tE,getOptionLabel:function(e){return e.label||""},fullWidth:!0,renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Select State",variant:"outlined",margin:"normal"}))},isOptionEqualToValue:function(e,t){return e.value===(t&&t.value)}})),a.a.createElement(Et.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(E.a,{variant:"h6",style:{fontWeight:"bold",fontSize:"1.25rem",fontFamily:"Arial, sans-serif",color:"#333",margin:"20px 0"}},"Distribution Customer Count: ",y))),a.a.createElement(Et.a,{container:!0,spacing:4,marginTop:2},b.map(function(e,t){return a.a.createElement(Et.a,{item:!0,key:t,xs:12,sm:6,md:4},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{color:"textSecondary"},"Count: ",e.count),a.a.createElement(E.a,{color:"textSecondary"},"State: ",e.state),a.a.createElement(E.a,{variant:"body2"},"Status: ",e.count>0?"Active":"Inactive"))))}))))};function nE(){nE=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var aE=function(){var e=Object(n.useState)({stage_based_leads:[],source_based_leads:[]}),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),f=s[0],p=s[1],h=Object(n.useState)(0),d=Object(l.a)(h,2),m=d[0],v=d[1];Object(n.useEffect)(function(){y()},[]);var y=function(){var e=Object(c.a)(nE().mark(function e(){var t,r,n,a,i,c;return nE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={new:"New",open:"Open",close:"Closed",opportunity:"Opportunity",potential:"Potential",interested:"Interested",converted:"Converted","not interested":"Not Interested"},e.prev=1,e.next=4,Nb.getLeadRetailData();case 4:r=e.sent,n=r.data,a=n.stage_based_leads.map(function(e){return Object(u.a)({},e,{updated_stage_name:t[e.stage]||"Unknown Stage",type:"stage"})}),i=n.source_based_leads.map(function(e){return Object(u.a)({},e,{type:"source",references__source:e.references__source||"Unknown Source"})}),c=[].concat(Object(ln.a)(a),Object(ln.a)(i)),o(n),v(n.total_leads),p(c),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Error fetching lead data:",e.t0);case 17:case"end":return e.stop()}},e,null,[[1,14]])}));return function(){return e.apply(this,arguments)}}(),g=function(e,t,n){if("stage"===n&&t)p(r.stage_based_leads.filter(function(e){return e.stage===t.stage}).map(function(e){return Object(u.a)({},e,{type:"stage"})}));else if("source"===n&&t)p(r.source_based_leads.filter(function(e){return e.references__source===t.references__source}).map(function(e){return Object(u.a)({},e,{type:"source"})}));else{var a=r.stage_based_leads.map(function(e){return Object(u.a)({},e,{type:"stage"})}),o=r.source_based_leads.map(function(e){return Object(u.a)({},e,{type:"source",references__source:e.references__source||"Unknown Source"})});p([].concat(Object(ln.a)(a),Object(ln.a)(o)))}};return a.a.createElement(Tr.a,{elevation:3,style:{padding:"20px",margin:"20px"}},a.a.createElement(Et.a,{container:!0,spacing:3,alignItems:"center"},a.a.createElement(Et.a,{item:!0,xs:12,md:3},a.a.createElement(yr,{options:r.stage_based_leads,getOptionLabel:function(e){return e.updated_stage_name},onChange:function(e,t){return g(0,t,"stage")},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Filter by Stage",variant:"outlined"}))},style:{width:"100%"}})),a.a.createElement(Et.a,{item:!0,xs:12,md:3},a.a.createElement(yr,{options:r.source_based_leads,getOptionLabel:function(e){return e.references__source||"Unknown Source"},onChange:function(e,t){return g(0,t,"source")},renderInput:function(e){return a.a.createElement(Lt,Object.assign({},e,{label:"Filter by Source",variant:"outlined"}))},style:{width:"100%"}})),a.a.createElement(Et.a,{item:!0,xs:12,md:6,style:{textAlign:"center"}},a.a.createElement(E.a,{variant:"h6",style:{fontWeight:"bold",fontSize:"1.25rem",fontFamily:"Arial, sans-serif",color:"#333",margin:"10px 0"}},"Total Leads: ",m)),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Et.a,{container:!0,spacing:2},f.map(function(e,t){return a.a.createElement(Et.a,{item:!0,xs:12,sm:4,key:t},a.a.createElement(Zf.a,null,a.a.createElement(Xf.a,null,a.a.createElement(E.a,{variant:"h5",component:"div"},"stage"===e.type?e.updated_stage_name:e.references__source||"Unknown Source"),a.a.createElement(E.a,{color:"text.secondary"},"Total Leads: ",e.total_leads),"source"===e.type&&a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,{color:"text.secondary"},"New: ",e.new),a.a.createElement(E.a,{color:"text.secondary"},"Open : ",e.open),a.a.createElement(E.a,{color:"text.secondary"},"Opportunity : ",e.opportunity),a.a.createElement(E.a,{color:"text.secondary"},"Potential : ",e.potential),a.a.createElement(E.a,{color:"text.secondary"},"Interested : ",e.interested),a.a.createElement(E.a,{color:"text.secondary"},"Converted : ",e.converted),a.a.createElement(E.a,{color:"text.secondary"},"Not-Interested : ",e.not_interested),a.a.createElement(E.a,{color:"text.secondary"},"Closed : ",e.close)))))})))))},oE=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=[{label:"Sales Person Analytics",roles:["Director","Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Sales Manager without Leads","Sales Manager with Lead","HR","Factory-Mumbai-OrderBook","Factory-Delhi-OrderBook","Factory-Delhi-Dispatch","Factory-Mumbai-Dispatch","Customer Service","Purchase","Stores","Production Delhi","Stores Delhi","Production","Accounts","Accounts Billing Department","Accounts Executive"],component:a.a.createElement(Vb,null)},{label:"Sales Team Analytics",roles:["Director","Sales Manager","Sales Deputy Manager","Sales Assistant Deputy Manager","Sales Executive","Sales Manager without Leads","Sales Manager with Lead"],component:a.a.createElement(Xb,null)},{label:"Distribution Customer",roles:["Director"],component:a.a.createElement(rE,null)},{label:"Lead",roles:["Director"],component:a.a.createElement(aE,null)}].filter(function(t){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}.apply(void 0,Object(ln.a)(t.roles))}),r=Object(n.useState)(0),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(_n,{tabs:t.map(function(e){return{label:e.label,index:e.index}}),activeTab:i,onTabChange:function(e){c(e)}}),t.length>0&&t[i]?a.a.createElement("div",null,t[i].component):null)},iE=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})},r=t("Director","Accounts"),o=t("Factory-Delhi-Dispatch","Factory-Mumbai-Dispatch","Stores Delhi","Production Delhi"),i=t("Customer Service"),c=Object(n.useState)(r?0:4),u=Object(l.a)(c,2),f=u[0],p=u[1],h=[{label:"Dispatched",visible:r||o||i,index:0},{label:"Pending Dispatch",visible:r||o,index:1},{label:"Sales Register",visible:r||i,index:2}].filter(function(e){return e.visible}),d=h.map(function(e){return e.index}),m={0:a.a.createElement(xc,null),1:a.a.createElement(pc,null),2:a.a.createElement(kc,null)};return a.a.createElement("div",null,a.a.createElement(_n,{tabs:h,activeTab:f,onTabChange:function(e){return p(d[e])}}),d.includes(f)&&a.a.createElement("div",null,m[f]))},cE=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}("Director","HR"),r=Object(n.useState)(t?0:4),o=Object(l.a)(r,2),i=o[0],c=o[1],u=[{label:"Active Users",visible:t,index:0},{label:"InActive Users",visible:t,index:1},{label:"Personal Profiles",visible:t,index:2}].filter(function(e){return e.visible}),f=u.map(function(e){return e.index}),p={0:a.a.createElement(rf,null),1:a.a.createElement(af,null),2:a.a.createElement(Of,null)};return a.a.createElement("div",null,a.a.createElement(_n,{tabs:u,activeTab:i,onTabChange:function(e){return c(f[e])}}),f.includes(i)&&a.a.createElement("div",null,p[i]))};function lE(){lE=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var uE=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(0),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Ln(),j=_.handleError,L=_.handleCloseSnackbar,S=_.alertInfo,k=Object(n.useCallback)(Object(c.a)(lE().mark(function e(){var t;return lE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,yo.getSalesReturnData(d,x);case 4:t=e.sent,f(t.data.results),b(Math.ceil(t.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),j(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])})),[d,x]);Object(n.useEffect)(function(){k()},[d,x]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:S.open,onClose:L,severity:S.severity,message:S.message}),a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(ga,{onSearch:function(e){O(e),m(1)},onReset:function(){O(""),m(1)}})),a.a.createElement(vt.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Sales Return")),a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}})),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(fE,null),a.a.createElement(fE,{align:"center"},"DATE"),a.a.createElement(fE,{align:"center"},"INVOICE TYPE"),a.a.createElement(fE,{align:"center"},"INVOICE NO"),a.a.createElement(fE,{align:"center"},"COMPANY"),a.a.createElement(fE,{align:"center"},"TOTAL"))),a.a.createElement(Mt.a,null,s.map(function(e){return a.a.createElement(sE,{key:e.id,row:e})})))),a.a.createElement(Zn,{totalPages:g,currentPage:d,handlePageChange:function(e,t){m(t)}}))))};function sE(e){var t=e.row,r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(pE,{sx:{"& > *":{borderBottom:"unset"},textDecoration:t.cancelled?"line-through":"none"}},a.a.createElement(fE,null,a.a.createElement(m.a,{"aria-label":"expand row",size:"small",onClick:function(){return c(!i)}},i?a.a.createElement(ho.a,null):a.a.createElement(fo.a,null))),a.a.createElement(fE,{align:"center"},t.invoice_date),a.a.createElement(fE,{align:"center"},t.invoice_type),a.a.createElement(fE,{align:"center"},t.invoice_no),a.a.createElement(fE,{align:"center"},t.supplier_name),a.a.createElement(fE,{align:"center"},t.total)),a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},a.a.createElement(Va.a,{in:i,timeout:"auto",unmountOnExit:!0},a.a.createElement(vt.a,{sx:{margin:1}},a.a.createElement(E.a,{variant:"h6",gutterBottom:!0,component:"div"},"Product"),a.a.createElement(Rt.a,{size:"small","aria-label":"purchases"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(Ut.a,{align:"center"},"PRODUCT CODE"),a.a.createElement(Ut.a,{align:"center"},"QUANTITY"),a.a.createElement(Ut.a,{align:"center"},"AMOUNT"))),a.a.createElement(Mt.a,null,t.products_data.map(function(e){return a.a.createElement(Yt.a,{key:e.date},a.a.createElement(Ut.a,{component:"th",scope:"row",align:"center"},e.product),a.a.createElement(Ut.a,{align:"center"},e.quantity),a.a.createElement(Ut.a,{align:"center"},e.amount))}))))))))}var fE=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14}),t}),pE=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function hE(){hE=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var dE=["Fix","Supplier","Scrap"],mE=Object(n.memo)(function(e){var t=e.selectedRow,r=e.setOpenPopup,o=e.getSalesReturnInventoryDetails,i=e.currentPage,s=e.searchQuery,f=Object(n.useState)(!1),p=Object(l.a)(f,2),h=p[0],d=p[1],m=Object(n.useState)(t),v=Object(l.a)(m,2),y=v[0],g=v[1],b=Ln(),E=b.handleSuccess,w=b.handleError,x=b.handleCloseSnackbar,O=b.alertInfo,_=Object(n.useCallback)(function(){var e=Object(c.a)(hE().mark(function e(t){var n,a,c;return hE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),d(!0),n={inv_type:y.inv_type},!y.id){e.next=11;break}return e.next=7,yo.updateSalesReturnInventoryData(y.id,n);case 7:a=e.sent,c=a.data.message||"Sales Return Inventory updated successfully",E(c),setTimeout(function(){r(!1),o(i,s)},300);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),w(e.t0);case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),[y,i,s]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:O.open,onClose:x,severity:O.severity,message:O.message}),a.a.createElement(Pt,{open:h}),a.a.createElement(vt.a,{component:"form",noValidate:!0,onSubmit:function(e){return _(e)}},a.a.createElement(Et.a,{container:!0,spacing:2},a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Lt,{fullWidth:!0,size:"small",label:"Id",variant:"outlined",value:y.id||""})),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(yr,{size:"small",value:y.inv_type||"",onChange:function(e,t){return function(e,t){g(function(r){return Object(u.a)({},r,Object(Wt.a)({},e,t))})}("inv_type",t)},options:dE,getOptionLabel:function(e){return e},label:"Invoice Type"}))),a.a.createElement(yt.a,{fullWidth:!0,type:"submit",size:"small",variant:"contained",sx:{mt:3,mb:2}},"Update")))});function vE(){vE=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var yE=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],p=Object(n.useState)(1),h=Object(l.a)(p,2),d=h[0],m=h[1],v=Object(n.useState)(0),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(""),w=Object(l.a)(E,2),x=w[0],O=w[1],_=Object(n.useState)(!1),j=Object(l.a)(_,2),L=j[0],S=j[1],k=Object(n.useState)(null),P=Object(l.a)(k,2),C=P[0],D=P[1],N=Ln(),T=N.handleError,A=N.handleCloseSnackbar,I=N.alertInfo,F=Object(n.useCallback)(function(){var e=Object(c.a)(vE().mark(function e(t,r){var n;return vE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,yo.getSalesReturnInventoryData(t,r);case 4:n=e.sent,f(n.data.results),b(Math.ceil(n.data.count/25)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),T(e.t0);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,r){return e.apply(this,arguments)}}(),[]);Object(n.useEffect)(function(){F(d,x)},[d,x]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,{open:I.open,onClose:A,severity:I.severity,message:I.message}),a.a.createElement(Pt,{open:r}),a.a.createElement(Et.a,{item:!0,xs:12},a.a.createElement(Tr.a,{sx:{p:2,m:4,display:"flex",flexDirection:"column"}},a.a.createElement(vt.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",p:2}},a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",minWidth:"300px"}},a.a.createElement(ga,{onSearch:function(e){O(e),m(1)},onReset:function(){O(""),m(1)}})),a.a.createElement(vt.a,{sx:{flexGrow:2,textAlign:"center",minWidth:"150px"}},a.a.createElement("h3",{style:{margin:0,fontSize:"24px",color:"rgb(34, 34, 34)",fontWeight:800}},"Sales Return Inventory")),a.a.createElement(vt.a,{sx:{flexGrow:1,flexBasis:"40%",display:"flex",justifyContent:"flex-end",minWidth:"300px"}})),a.a.createElement(Bt.a,{sx:{maxHeight:440,"&::-webkit-scrollbar":{width:15},"&::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa9ac"}}},a.a.createElement(Rt.a,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(zt.a,null,a.a.createElement(Yt.a,null,a.a.createElement(gE,{align:"center"},"UNIT"),a.a.createElement(gE,{align:"center"},"BATCH_NO"),a.a.createElement(gE,{align:"center"},"INVOICE TYPE"),a.a.createElement(gE,{align:"center"},"PRODUCT"),a.a.createElement(gE,{align:"center"},"QUANTITY"),a.a.createElement(gE,{align:"center"},"RATE"),a.a.createElement(gE,{align:"center"},"AMOUNT"),a.a.createElement(gE,{align:"center"},"ACTION"))),a.a.createElement(Mt.a,null,s.map(function(e){return a.a.createElement(bE,null,a.a.createElement(gE,{align:"center"},e.unit),a.a.createElement(gE,{align:"center"},e.batch_no),a.a.createElement(gE,{align:"center"},e.inv_type),a.a.createElement(gE,{align:"center"},e.product),a.a.createElement(gE,{align:"center"},e.quantity),a.a.createElement(gE,{align:"center"},e.rate),a.a.createElement(gE,{align:"center"},e.amount),a.a.createElement(gE,{align:"center"},a.a.createElement(yt.a,{onClick:function(){return D(e),void S(!0)}},"View")))})))),a.a.createElement(Zn,{totalPages:g,currentPage:d,handlePageChange:function(e,t){m(t)}}))),a.a.createElement(ut,{title:"Update Sales Return Inventory",openPopup:L,setOpenPopup:S},a.a.createElement(mE,{selectedRow:C,setOpenPopup:S,getSalesReturnInventoryDetails:F,currentPage:d,searchQuery:x})))},gE=Object(L.a)(Ut.a)(function(e){var t,r=e.theme;return t={},Object(Wt.a)(t,"&.".concat(qt.a.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),Object(Wt.a)(t,"&.".concat(qt.a.body),{fontSize:14}),t}),bE=Object(L.a)(Yt.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),EE=function(){var e=Object(s.c)(function(e){return e.auth.profile}),t=[{label:"Sales Return",roles:["Director","Accounts"],component:a.a.createElement(uE,null)},{label:"Sales Return Inventory",roles:["Director","Accounts"],component:a.a.createElement(yE,null)}].filter(function(t){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.groups.includes(t)})}.apply(void 0,Object(ln.a)(t.roles))}),r=Object(n.useState)(0),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(_n,{tabs:t.map(function(e){return{label:e.label,index:e.index}}),activeTab:i,onTabChange:function(e){c(e)}}),t.length>0&&t[i]?a.a.createElement("div",null,t[i].component):null)},wE=function(e){var t=e.children,r=e.redirectTo,n=void 0===r?"/":r;return Object(s.c)(function(e){return e.auth}).user?t:a.a.createElement(f.a,{to:n,replace:!0})},xE=function(){var e=Object(s.c)(function(e){return e.auth}).user;return a.a.createElement(f.d,null,e?a.a.createElement(a.a.Fragment,null,a.a.createElement(f.b,{path:"/user/analytics",exact:!0,element:a.a.createElement(wE,null,a.a.createElement(oE,null))}),a.a.createElement(f.b,{path:"/user/report",element:a.a.createElement(wE,null,a.a.createElement(Wb,null))}),a.a.createElement(f.b,{path:"/user/profile",exact:!0,element:a.a.createElement(wE,null,a.a.createElement(oc,null))}),a.a.createElement(f.b,{path:"/user/profile-tab",exact:!0,element:a.a.createElement(wE,null,a.a.createElement(cE,null))}),a.a.createElement(f.b,{path:"/user/personal-profile",exact:!0,element:a.a.createElement(wE,null,a.a.createElement(Of,null))}),"// Additional Private Routes",a.a.createElement(f.b,{path:"/leads/all-lead",element:a.a.createElement(wE,null,a.a.createElement($d,null))}),a.a.createElement(f.b,{path:"/products/all-product",element:a.a.createElement(wE,null,a.a.createElement(Mm,null))}),a.a.createElement(f.b,{path:"/products/all-sku-codes",element:a.a.createElement(wE,null,a.a.createElement(bv,null))}),a.a.createElement(f.b,{path:"/products/view-price-list",element:a.a.createElement(wE,null,a.a.createElement(Hm,null))}),a.a.createElement(f.b,{path:"/customers/all-customer",element:a.a.createElement(wE,null,a.a.createElement(Ev,null))}),a.a.createElement(f.b,{path:"/customers/company-details",element:a.a.createElement(wE,null,a.a.createElement(Ea,null))}),a.a.createElement(f.b,{path:"/customers/incomplete-kyc-details",element:a.a.createElement(wE,null,a.a.createElement(cf,null))}),a.a.createElement(f.b,{path:"/customers/unassigned-company-details",element:a.a.createElement(wE,null,a.a.createElement(vu,null))}),a.a.createElement(f.b,{path:"/customers/inactive-company-details",element:a.a.createElement(wE,null,a.a.createElement(Lf,null))}),a.a.createElement(f.b,{path:"/followp/view-followup",element:a.a.createElement(wE,null,a.a.createElement(xs,null))}),a.a.createElement(f.b,{path:"/invoice/seller-account",element:a.a.createElement(wE,null,a.a.createElement(Pa,null))}),a.a.createElement(f.b,{path:"/invoice/performa-invoice-tab",element:a.a.createElement(wE,null,a.a.createElement(wv,null))}),a.a.createElement(f.b,{path:"/invoice/approve-pi",element:a.a.createElement(wE,null,a.a.createElement(Xs,null))}),a.a.createElement(f.b,{path:"/invoice/active-pi",element:a.a.createElement(wE,null,a.a.createElement(Vs,null))}),a.a.createElement(f.b,{path:"/invoice/price-approval-pi",element:a.a.createElement(wE,null,a.a.createElement(vf,null))}),a.a.createElement(f.b,{path:"/invoice/all-performa-invoice",element:a.a.createElement(wE,null,a.a.createElement(Ku,null))}),a.a.createElement(f.b,{path:"/invoice/sales-invoice",element:a.a.createElement(wE,null,a.a.createElement(Co,null))}),a.a.createElement(f.b,{path:"/invoice/orderbook-tab",element:a.a.createElement(wE,null,a.a.createElement(Ob,null))}),a.a.createElement(f.b,{path:"/invoice/customer-order-book",element:a.a.createElement(wE,null,a.a.createElement(Ia,null))}),a.a.createElement(f.b,{path:"/invoice/product-order-book",element:a.a.createElement(wE,null,a.a.createElement(Ma,null))}),a.a.createElement(f.b,{path:"/invoice/pi-order-book",element:a.a.createElement(wE,null,a.a.createElement(Ac,null))}),a.a.createElement(f.b,{path:"/dispatch/tab-view",element:a.a.createElement(wE,null,a.a.createElement(iE,null))}),a.a.createElement(f.b,{path:"/dispatch/view-dispatch",element:a.a.createElement(wE,null,a.a.createElement(pc,null))}),a.a.createElement(f.b,{path:"/dispatch/view-dispatched",element:a.a.createElement(wE,null,a.a.createElement(xc,null))}),a.a.createElement(f.b,{path:"/dispatch/view-sales-register",element:a.a.createElement(wE,null,a.a.createElement(kc,null))}),a.a.createElement(f.b,{path:"/inventory/view-purchase",element:a.a.createElement(wE,null,a.a.createElement(Dy,null))}),a.a.createElement(f.b,{path:"/inventory/view-production",element:a.a.createElement(wE,null,a.a.createElement(Bg,null))}),a.a.createElement(f.b,{path:"/inventory/view-inventory",element:a.a.createElement(wE,null,a.a.createElement(Eb,null))}),a.a.createElement(f.b,{path:"/inventory/view-vendor",element:a.a.createElement(wE,null,a.a.createElement(bl,null))}),a.a.createElement(f.b,{path:"/inventory/view-stores-inventory",element:a.a.createElement(wE,null,a.a.createElement(Ol,null))}),a.a.createElement(f.b,{path:"/inventory/view-stores-inventory-cons",element:a.a.createElement(wE,null,a.a.createElement(Pl,null))}),a.a.createElement(f.b,{path:"/inventory/view-production-inventory",element:a.a.createElement(wE,null,a.a.createElement(jl,null))}),a.a.createElement(f.b,{path:"/inventory/view-production-inventory-cons",element:a.a.createElement(wE,null,a.a.createElement(Sl,null))}),a.a.createElement(f.b,{path:"/inventory/view-currency",element:a.a.createElement(wE,null,a.a.createElement(wh,null))}),a.a.createElement(f.b,{path:"/inventory/view-safety-stock",element:a.a.createElement(wE,null,a.a.createElement(Ph,null))}),a.a.createElement(f.b,{path:"/inventory/physical",element:a.a.createElement(wE,null,a.a.createElement(rd,null))}),a.a.createElement(f.b,{path:"/inventory/sales-return",element:a.a.createElement(wE,null,a.a.createElement(EE,null))}),a.a.createElement(f.b,{path:"/forecast/view-product-forecast",element:a.a.createElement(wE,null,a.a.createElement(ou,null))}),a.a.createElement(f.b,{path:"/task/view-task",element:a.a.createElement(wE,null,a.a.createElement(du,null))}),a.a.createElement(f.b,{path:"/user/active-user",element:a.a.createElement(wE,null,a.a.createElement(rf,null))}),a.a.createElement(f.b,{path:"/user/inactive-user",element:a.a.createElement(wE,null,a.a.createElement(af,null))}),a.a.createElement(f.b,{path:"/market-analysis/competitor",element:a.a.createElement(wE,null,a.a.createElement(df,null))}),a.a.createElement(f.b,{path:"/user/faq",element:a.a.createElement(wE,null,a.a.createElement(Hf,null))}),a.a.createElement(f.b,{path:"/user/sale-review",element:a.a.createElement(wE,null,a.a.createElement(pp,null))}),a.a.createElement(f.b,{path:"/hr-model",element:a.a.createElement(wE,null,a.a.createElement(Zp,null))}),a.a.createElement(f.b,{path:"/hr-model/hr-master",element:a.a.createElement(wE,null,a.a.createElement(wb,null))}),a.a.createElement(f.b,{path:"/hr-model/designation",element:a.a.createElement(wE,null,a.a.createElement(nh,null))}),a.a.createElement(f.b,{path:"/hr-model/department",element:a.a.createElement(wE,null,a.a.createElement(uh,null))}),a.a.createElement(f.b,{path:"/hr-model/source",element:a.a.createElement(wE,null,a.a.createElement(mh,null))}),a.a.createElement(f.b,{path:"/customers/whatsapp-tabs",element:a.a.createElement(wE,null,a.a.createElement(xb,null))}),a.a.createElement(f.b,{path:"/customers/whatsapp-group",element:a.a.createElement(wE,null,a.a.createElement(Fh,null))}),a.a.createElement(f.b,{path:"/customers/not-in-whatsapp-group",element:a.a.createElement(wE,null,a.a.createElement(Yh,null))}),a.a.createElement(f.b,{path:"/customers/no-sales-person-group",element:a.a.createElement(wE,null,a.a.createElement(Vh,null))}),a.a.createElement(f.b,{path:"/customers/no-whatsapp-group",element:a.a.createElement(wE,null,a.a.createElement(Mh,null))}),a.a.createElement(f.b,{path:"/customers/whatsapp",element:a.a.createElement(wE,null,a.a.createElement(Rh,null))}),a.a.createElement(f.b,{path:"/customers/automation",element:a.a.createElement(wE,null,a.a.createElement(Hh,null))})):a.a.createElement(a.a.Fragment,null,a.a.createElement(f.b,{path:"/",exact:!0,element:a.a.createElement(Ai,null)}),a.a.createElement(f.b,{path:"/forgot-password",element:a.a.createElement(Gt,null)}),a.a.createElement(f.b,{path:"/change-password/:id/:token",element:a.a.createElement(Tt,null)})),a.a.createElement(f.b,{path:"*",element:e?a.a.createElement(wE,null,a.a.createElement(oE,null)):a.a.createElement(Ai,null)}))};var OE=function(){return a.a.createElement(p.a,{basename:"/crm-frontend"},a.a.createElement(pt,null),a.a.createElement("main",{id:"app"},a.a.createElement(xE,null)))},_E=r(336),jE=r(87),LE={user:null,loading:!0,error:!1},SE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_START":return Object(u.a)({},e,{loading:!0});case"LOGIN_SUCCESS":return Object(u.a)({},e,{loading:!1,user:t.payload});case"LOGIN_FAIL":return Object(u.a)({},e,{loading:!1,error:t.payload});case"LOGOUT_USER":return{user:null,profile:null,allProfile:null,companyName:null,brandAllData:null,colourAllData:null,unitAllData:null,basicunitAllData:null,packingunitAllData:null,productCodeAllData:null,sellerAccount:null,customerOrderBookData:null,vendorName:null,finishgoodsProduct:null,rawMaterialProduct:null,consumableProduct:null,packingList:null};case"REFRESH_TOKEN":return Object(u.a)({},e,{loading:!1,user:t.payload});case"PROFILE_USER":return Object(u.a)({},e,{loading:!1,profile:t.payload});case"ALL_PROFILE_USER":return Object(u.a)({},e,{loading:!1,allProfile:t.payload});case"SELLER_ACCOUNT":return Object(u.a)({},e,{loading:!1,sellerAccount:t.payload});case"COMPANY_NAME":return Object(u.a)({},e,{loading:!1,companyName:t.payload});case"BRAND":return Object(u.a)({},e,{loading:!1,brandAllData:t.payload});case"COLOUR":return Object(u.a)({},e,{loading:!1,colourAllData:t.payload});case"UNIT":return Object(u.a)({},e,{loading:!1,unitAllData:t.payload});case"BASIC_UNIT":return Object(u.a)({},e,{loading:!1,basicunitAllData:t.payload});case"PACKING_UNIT":return Object(u.a)({},e,{loading:!1,packingunitAllData:t.payload});case"PRODUCT_CODE":return Object(u.a)({},e,{loading:!1,productCodeAllData:t.payload});case"CUSTOMER_ORDERBOOK_DATA":return Object(u.a)({},e,{loading:!1,customerOrderBookData:t.payload});case"VENDOR_NAME":return Object(u.a)({},e,{loading:!1,vendorName:t.payload});case"FINISHGOODS_PRODUCT":return Object(u.a)({},e,{loading:!1,finishgoodsProduct:t.payload});case"RAWMATERIAL_PRODUCT":return Object(u.a)({},e,{loading:!1,rawMaterialProduct:t.payload});case"CONSUMABLE_PRODUCT":return Object(u.a)({},e,{loading:!1,consumableProduct:t.payload});default:return e}},kE=r(209),PE=r(337),CE={key:"root",storage:r.n(PE).a,whitelist:["auth"]},DE=Object(jE.combineReducers)({auth:SE}),NE=Object(kE.a)(CE,DE),TE=r(338),AE=r.n(TE),IE=r(340),FE=r(339),GE=[IE.a];GE.push(AE.a);var WE=Object(jE.legacy_createStore)(NE,Object(FE.composeWithDevTools)(jE.applyMiddleware.apply(void 0,GE))),BE=Object(kE.b)(WE);function RE(){RE=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),l(g,c,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var zE=function(e){var t;e({type:"LOGOUT_USER"}),localStorage.removeItem("user"),t&&t("/")},ME=function(e){var t=e.dispatch;Ze.interceptors.request.use(function(e){var t=function(){var e=JSON.parse(localStorage.getItem("user"));return e?e.access:null}();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},function(e){return Promise.reject(e)}),Ze.interceptors.response.use(function(e){return e},function(){var e=Object(c.a)(RE().mark(function e(r){var n,a,o,i;return RE().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.config,r.response&&401===r.response.status){e.next=3;break}return e.abrupt("return",Promise.reject(r));case 3:if(!(r.response&&r.response.data&&r.response.data.errors&&"token_not_valid"===r.response.data.errors.code)||n._retry){e.next=24;break}if(n._retry=!0,a=Ro()){e.next=9;break}return zE(t),e.abrupt("return",Promise.reject(new Error("No refresh token available")));case 9:return e.prev=9,e.next=12,Ze.post("/api/token/refresh/",{refresh:a});case 12:return o=e.sent,i=o.data,t({type:"REFRESH_TOKEN",payload:i.access}),zo(i.access),n.headers.Authorization="Bearer ".concat(i.access),e.abrupt("return",Ze(n));case 20:return e.prev=20,e.t0=e.catch(9),zE(t),e.abrupt("return",Promise.reject(e.t0));case 24:if(!n._retry){e.next=27;break}return zE(t),e.abrupt("return",Promise.reject(r));case 27:return e.abrupt("return",Promise.reject(r));case 28:case"end":return e.stop()}},e,null,[[9,20]])}));return function(t){return e.apply(this,arguments)}}())};i.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,{store:WE},a.a.createElement(_E.a,{loading:null,persistor:BE},a.a.createElement(OE,null))))),ME(WE)},74:function(e,t,r){e.exports=r.p+"static/media/allLogo.cc6c4577.jpg"},75:function(e,t,r){e.exports=r.p+"static/media/MSME.185e3428.jpeg"}},[[365,1,2]]]);
//# sourceMappingURL=main.ea73a72b.chunk.js.map